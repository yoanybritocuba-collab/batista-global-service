function lN(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in r)){const l=Object.getOwnPropertyDescriptor(n,a);l&&Object.defineProperty(r,a,l.get?l:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function vv(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Dm={exports:{}},El={},Mm={exports:{}},De={};var vx;function cN(){if(vx)return De;vx=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),w=Symbol.iterator;function b(U){return U===null||typeof U!="object"?null:(U=w&&U[w]||U["@@iterator"],typeof U=="function"?U:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,M={};function D(U,te,_e){this.props=U,this.context=te,this.refs=M,this.updater=_e||j}D.prototype.isReactComponent={},D.prototype.setState=function(U,te){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,te,"setState")},D.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function ee(){}ee.prototype=D.prototype;function K(U,te,_e){this.props=U,this.context=te,this.refs=M,this.updater=_e||j}var Z=K.prototype=new ee;Z.constructor=K,k(Z,D.prototype),Z.isPureReactComponent=!0;var $=Array.isArray,G=Object.prototype.hasOwnProperty,se={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function R(U,te,_e){var Pe,Re={},Ve=null,qe=null;if(te!=null)for(Pe in te.ref!==void 0&&(qe=te.ref),te.key!==void 0&&(Ve=""+te.key),te)G.call(te,Pe)&&!L.hasOwnProperty(Pe)&&(Re[Pe]=te[Pe]);var He=arguments.length-2;if(He===1)Re.children=_e;else if(1<He){for(var Xe=Array(He),St=0;St<He;St++)Xe[St]=arguments[St+2];Re.children=Xe}if(U&&U.defaultProps)for(Pe in He=U.defaultProps,He)Re[Pe]===void 0&&(Re[Pe]=He[Pe]);return{$$typeof:r,type:U,key:Ve,ref:qe,props:Re,_owner:se.current}}function E(U,te){return{$$typeof:r,type:U.type,key:te,ref:U.ref,props:U.props,_owner:U._owner}}function S(U){return typeof U=="object"&&U!==null&&U.$$typeof===r}function T(U){var te={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(_e){return te[_e]})}var C=/\/+/g;function A(U,te){return typeof U=="object"&&U!==null&&U.key!=null?T(""+U.key):te.toString(36)}function ue(U,te,_e,Pe,Re){var Ve=typeof U;(Ve==="undefined"||Ve==="boolean")&&(U=null);var qe=!1;if(U===null)qe=!0;else switch(Ve){case"string":case"number":qe=!0;break;case"object":switch(U.$$typeof){case r:case e:qe=!0}}if(qe)return qe=U,Re=Re(qe),U=Pe===""?"."+A(qe,0):Pe,$(Re)?(_e="",U!=null&&(_e=U.replace(C,"$&/")+"/"),ue(Re,te,_e,"",function(St){return St})):Re!=null&&(S(Re)&&(Re=E(Re,_e+(!Re.key||qe&&qe.key===Re.key?"":(""+Re.key).replace(C,"$&/")+"/")+U)),te.push(Re)),1;if(qe=0,Pe=Pe===""?".":Pe+":",$(U))for(var He=0;He<U.length;He++){Ve=U[He];var Xe=Pe+A(Ve,He);qe+=ue(Ve,te,_e,Xe,Re)}else if(Xe=b(U),typeof Xe=="function")for(U=Xe.call(U),He=0;!(Ve=U.next()).done;)Ve=Ve.value,Xe=Pe+A(Ve,He++),qe+=ue(Ve,te,_e,Xe,Re);else if(Ve==="object")throw te=String(U),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.");return qe}function X(U,te,_e){if(U==null)return U;var Pe=[],Re=0;return ue(U,Pe,"","",function(Ve){return te.call(_e,Ve,Re++)}),Pe}function W(U){if(U._status===-1){var te=U._result;te=te(),te.then(function(_e){(U._status===0||U._status===-1)&&(U._status=1,U._result=_e)},function(_e){(U._status===0||U._status===-1)&&(U._status=2,U._result=_e)}),U._status===-1&&(U._status=0,U._result=te)}if(U._status===1)return U._result.default;throw U._result}var B={current:null},Q={transition:null},de={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:Q,ReactCurrentOwner:se};function oe(){throw Error("act(...) is not supported in production builds of React.")}return De.Children={map:X,forEach:function(U,te,_e){X(U,function(){te.apply(this,arguments)},_e)},count:function(U){var te=0;return X(U,function(){te++}),te},toArray:function(U){return X(U,function(te){return te})||[]},only:function(U){if(!S(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},De.Component=D,De.Fragment=t,De.Profiler=a,De.PureComponent=K,De.StrictMode=n,De.Suspense=p,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,De.act=oe,De.cloneElement=function(U,te,_e){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var Pe=k({},U.props),Re=U.key,Ve=U.ref,qe=U._owner;if(te!=null){if(te.ref!==void 0&&(Ve=te.ref,qe=se.current),te.key!==void 0&&(Re=""+te.key),U.type&&U.type.defaultProps)var He=U.type.defaultProps;for(Xe in te)G.call(te,Xe)&&!L.hasOwnProperty(Xe)&&(Pe[Xe]=te[Xe]===void 0&&He!==void 0?He[Xe]:te[Xe])}var Xe=arguments.length-2;if(Xe===1)Pe.children=_e;else if(1<Xe){He=Array(Xe);for(var St=0;St<Xe;St++)He[St]=arguments[St+2];Pe.children=He}return{$$typeof:r,type:U.type,key:Re,ref:Ve,props:Pe,_owner:qe}},De.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:l,_context:U},U.Consumer=U},De.createElement=R,De.createFactory=function(U){var te=R.bind(null,U);return te.type=U,te},De.createRef=function(){return{current:null}},De.forwardRef=function(U){return{$$typeof:m,render:U}},De.isValidElement=S,De.lazy=function(U){return{$$typeof:g,_payload:{_status:-1,_result:U},_init:W}},De.memo=function(U,te){return{$$typeof:x,type:U,compare:te===void 0?null:te}},De.startTransition=function(U){var te=Q.transition;Q.transition={};try{U()}finally{Q.transition=te}},De.unstable_act=oe,De.useCallback=function(U,te){return B.current.useCallback(U,te)},De.useContext=function(U){return B.current.useContext(U)},De.useDebugValue=function(){},De.useDeferredValue=function(U){return B.current.useDeferredValue(U)},De.useEffect=function(U,te){return B.current.useEffect(U,te)},De.useId=function(){return B.current.useId()},De.useImperativeHandle=function(U,te,_e){return B.current.useImperativeHandle(U,te,_e)},De.useInsertionEffect=function(U,te){return B.current.useInsertionEffect(U,te)},De.useLayoutEffect=function(U,te){return B.current.useLayoutEffect(U,te)},De.useMemo=function(U,te){return B.current.useMemo(U,te)},De.useReducer=function(U,te,_e){return B.current.useReducer(U,te,_e)},De.useRef=function(U){return B.current.useRef(U)},De.useState=function(U){return B.current.useState(U)},De.useSyncExternalStore=function(U,te,_e){return B.current.useSyncExternalStore(U,te,_e)},De.useTransition=function(){return B.current.useTransition()},De.version="18.3.1",De}var bx;function Hp(){return bx||(bx=1,Mm.exports=cN()),Mm.exports}var wx;function uN(){if(wx)return El;wx=1;var r=Hp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(m,p,x){var g,w={},b=null,j=null;x!==void 0&&(b=""+x),p.key!==void 0&&(b=""+p.key),p.ref!==void 0&&(j=p.ref);for(g in p)n.call(p,g)&&!l.hasOwnProperty(g)&&(w[g]=p[g]);if(m&&m.defaultProps)for(g in p=m.defaultProps,p)w[g]===void 0&&(w[g]=p[g]);return{$$typeof:e,type:m,key:b,ref:j,props:w,_owner:a.current}}return El.Fragment=t,El.jsx=u,El.jsxs=u,El}var _x;function dN(){return _x||(_x=1,Dm.exports=uN()),Dm.exports}var s=dN(),P=Hp();const id=vv(P),hN=lN({__proto__:null,default:id},[P]);var Fu={},Om={exports:{}},fr={},Lm={exports:{}},Vm={};var Nx;function mN(){return Nx||(Nx=1,(function(r){function e(Q,de){var oe=Q.length;Q.push(de);e:for(;0<oe;){var U=oe-1>>>1,te=Q[U];if(0<a(te,de))Q[U]=de,Q[oe]=te,oe=U;else break e}}function t(Q){return Q.length===0?null:Q[0]}function n(Q){if(Q.length===0)return null;var de=Q[0],oe=Q.pop();if(oe!==de){Q[0]=oe;e:for(var U=0,te=Q.length,_e=te>>>1;U<_e;){var Pe=2*(U+1)-1,Re=Q[Pe],Ve=Pe+1,qe=Q[Ve];if(0>a(Re,oe))Ve<te&&0>a(qe,Re)?(Q[U]=qe,Q[Ve]=oe,U=Ve):(Q[U]=Re,Q[Pe]=oe,U=Pe);else if(Ve<te&&0>a(qe,oe))Q[U]=qe,Q[Ve]=oe,U=Ve;else break e}}return de}function a(Q,de){var oe=Q.sortIndex-de.sortIndex;return oe!==0?oe:Q.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var u=Date,m=u.now();r.unstable_now=function(){return u.now()-m}}var p=[],x=[],g=1,w=null,b=3,j=!1,k=!1,M=!1,D=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Z(Q){for(var de=t(x);de!==null;){if(de.callback===null)n(x);else if(de.startTime<=Q)n(x),de.sortIndex=de.expirationTime,e(p,de);else break;de=t(x)}}function $(Q){if(M=!1,Z(Q),!k)if(t(p)!==null)k=!0,W(G);else{var de=t(x);de!==null&&B($,de.startTime-Q)}}function G(Q,de){k=!1,M&&(M=!1,ee(R),R=-1),j=!0;var oe=b;try{for(Z(de),w=t(p);w!==null&&(!(w.expirationTime>de)||Q&&!T());){var U=w.callback;if(typeof U=="function"){w.callback=null,b=w.priorityLevel;var te=U(w.expirationTime<=de);de=r.unstable_now(),typeof te=="function"?w.callback=te:w===t(p)&&n(p),Z(de)}else n(p);w=t(p)}if(w!==null)var _e=!0;else{var Pe=t(x);Pe!==null&&B($,Pe.startTime-de),_e=!1}return _e}finally{w=null,b=oe,j=!1}}var se=!1,L=null,R=-1,E=5,S=-1;function T(){return!(r.unstable_now()-S<E)}function C(){if(L!==null){var Q=r.unstable_now();S=Q;var de=!0;try{de=L(!0,Q)}finally{de?A():(se=!1,L=null)}}else se=!1}var A;if(typeof K=="function")A=function(){K(C)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,X=ue.port2;ue.port1.onmessage=C,A=function(){X.postMessage(null)}}else A=function(){D(C,0)};function W(Q){L=Q,se||(se=!0,A())}function B(Q,de){R=D(function(){Q(r.unstable_now())},de)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_continueExecution=function(){k||j||(k=!0,W(G))},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_getFirstCallbackNode=function(){return t(p)},r.unstable_next=function(Q){switch(b){case 1:case 2:case 3:var de=3;break;default:de=b}var oe=b;b=de;try{return Q()}finally{b=oe}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(Q,de){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var oe=b;b=Q;try{return de()}finally{b=oe}},r.unstable_scheduleCallback=function(Q,de,oe){var U=r.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?U+oe:U):oe=U,Q){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=oe+te,Q={id:g++,callback:de,priorityLevel:Q,startTime:oe,expirationTime:te,sortIndex:-1},oe>U?(Q.sortIndex=oe,e(x,Q),t(p)===null&&Q===t(x)&&(M?(ee(R),R=-1):M=!0,B($,oe-U))):(Q.sortIndex=te,e(p,Q),k||j||(k=!0,W(G))),Q},r.unstable_shouldYield=T,r.unstable_wrapCallback=function(Q){var de=b;return function(){var oe=b;b=de;try{return Q.apply(this,arguments)}finally{b=oe}}}})(Vm)),Vm}var jx;function pN(){return jx||(jx=1,Lm.exports=mN()),Lm.exports}var Ex;function fN(){if(Ex)return fr;Ex=1;var r=Hp(),e=pN();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function l(i,o){u(i,o),u(i+"Capture",o)}function u(i,o){for(a[i]=o,i=0;i<o.length;i++)n.add(o[i])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,x=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},w={};function b(i){return p.call(w,i)?!0:p.call(g,i)?!1:x.test(i)?w[i]=!0:(g[i]=!0,!1)}function j(i,o,c,h){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:c!==null?!c.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function k(i,o,c,h){if(o===null||typeof o>"u"||j(i,o,c,h))return!0;if(h)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function M(i,o,c,h,f,v,N){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=f,this.mustUseProperty=c,this.propertyName=i,this.type=o,this.sanitizeURL=v,this.removeEmptyString=N}var D={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){D[i]=new M(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];D[o]=new M(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){D[i]=new M(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){D[i]=new M(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){D[i]=new M(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){D[i]=new M(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){D[i]=new M(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){D[i]=new M(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){D[i]=new M(i,5,!1,i.toLowerCase(),null,!1,!1)});var ee=/[\-:]([a-z])/g;function K(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(ee,K);D[o]=new M(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(ee,K);D[o]=new M(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(ee,K);D[o]=new M(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){D[i]=new M(i,1,!1,i.toLowerCase(),null,!1,!1)}),D.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){D[i]=new M(i,1,!1,i.toLowerCase(),null,!0,!0)});function Z(i,o,c,h){var f=D.hasOwnProperty(o)?D[o]:null;(f!==null?f.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(k(o,c,f,h)&&(c=null),h||f===null?b(o)&&(c===null?i.removeAttribute(o):i.setAttribute(o,""+c)):f.mustUseProperty?i[f.propertyName]=c===null?f.type===3?!1:"":c:(o=f.attributeName,h=f.attributeNamespace,c===null?i.removeAttribute(o):(f=f.type,c=f===3||f===4&&c===!0?"":""+c,h?i.setAttributeNS(h,o,c):i.setAttribute(o,c))))}var $=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,G=Symbol.for("react.element"),se=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),B=Symbol.for("react.offscreen"),Q=Symbol.iterator;function de(i){return i===null||typeof i!="object"?null:(i=Q&&i[Q]||i["@@iterator"],typeof i=="function"?i:null)}var oe=Object.assign,U;function te(i){if(U===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);U=o&&o[1]||""}return`
`+U+i}var _e=!1;function Pe(i,o){if(!i||_e)return"";_e=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Y){var h=Y}Reflect.construct(i,[],o)}else{try{o.call()}catch(Y){h=Y}i.call(o.prototype)}else{try{throw Error()}catch(Y){h=Y}i()}}catch(Y){if(Y&&h&&typeof Y.stack=="string"){for(var f=Y.stack.split(`
`),v=h.stack.split(`
`),N=f.length-1,O=v.length-1;1<=N&&0<=O&&f[N]!==v[O];)O--;for(;1<=N&&0<=O;N--,O--)if(f[N]!==v[O]){if(N!==1||O!==1)do if(N--,O--,0>O||f[N]!==v[O]){var V=`
`+f[N].replace(" at new "," at ");return i.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",i.displayName)),V}while(1<=N&&0<=O);break}}}finally{_e=!1,Error.prepareStackTrace=c}return(i=i?i.displayName||i.name:"")?te(i):""}function Re(i){switch(i.tag){case 5:return te(i.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 2:case 15:return i=Pe(i.type,!1),i;case 11:return i=Pe(i.type.render,!1),i;case 1:return i=Pe(i.type,!0),i;default:return""}}function Ve(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case L:return"Fragment";case se:return"Portal";case E:return"Profiler";case R:return"StrictMode";case A:return"Suspense";case ue:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case T:return(i.displayName||"Context")+".Consumer";case S:return(i._context.displayName||"Context")+".Provider";case C:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case X:return o=i.displayName||null,o!==null?o:Ve(i.type)||"Memo";case W:o=i._payload,i=i._init;try{return Ve(i(o))}catch{}}return null}function qe(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ve(o);case 8:return o===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function He(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Xe(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function St(i){var o=Xe(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),h=""+i[o];if(!i.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,v=c.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return f.call(this)},set:function(N){h=""+N,v.call(this,N)}}),Object.defineProperty(i,o,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(N){h=""+N},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Rs(i){i._valueTracker||(i._valueTracker=St(i))}function la(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var c=o.getValue(),h="";return i&&(h=Xe(i)?i.checked?"true":"false":i.value),i=h,i!==c?(o.setValue(i),!0):!1}function gn(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function hi(i,o){var c=o.checked;return oe({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??i._wrapperState.initialChecked})}function ca(i,o){var c=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;c=He(o.value!=null?o.value:c),i._wrapperState={initialChecked:h,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Ao(i,o){o=o.checked,o!=null&&Z(i,"checked",o,!1)}function Po(i,o){Ao(i,o);var c=He(o.value),h=o.type;if(c!=null)h==="number"?(c===0&&i.value===""||i.value!=c)&&(i.value=""+c):i.value!==""+c&&(i.value=""+c);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?ua(i,o.type,c):o.hasOwnProperty("defaultValue")&&ua(i,o.type,He(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function jc(i,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,c||o===i.value||(i.value=o),i.defaultValue=o}c=i.name,c!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,c!==""&&(i.name=c)}function ua(i,o,c){(o!=="number"||gn(i.ownerDocument)!==i)&&(c==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+c&&(i.defaultValue=""+c))}var Ds=Array.isArray;function Ms(i,o,c,h){if(i=i.options,o){o={};for(var f=0;f<c.length;f++)o["$"+c[f]]=!0;for(c=0;c<i.length;c++)f=o.hasOwnProperty("$"+i[c].value),i[c].selected!==f&&(i[c].selected=f),f&&h&&(i[c].defaultSelected=!0)}else{for(c=""+He(c),o=null,f=0;f<i.length;f++){if(i[f].value===c){i[f].selected=!0,h&&(i[f].defaultSelected=!0);return}o!==null||i[f].disabled||(o=i[f])}o!==null&&(o.selected=!0)}}function Ro(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function da(i,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(t(92));if(Ds(c)){if(1<c.length)throw Error(t(93));c=c[0]}o=c}o==null&&(o=""),c=o}i._wrapperState={initialValue:He(c)}}function ha(i,o){var c=He(o.value),h=He(o.defaultValue);c!=null&&(c=""+c,c!==i.value&&(i.value=c),o.defaultValue==null&&i.defaultValue!==c&&(i.defaultValue=c)),h!=null&&(i.defaultValue=""+h)}function Do(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function _t(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nt(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?_t(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Os,Mo=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,h,f){MSApp.execUnsafeLocalFunction(function(){return i(o,c,h,f)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Os=Os||document.createElement("div"),Os.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Os.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function xn(i,o){if(o){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=o;return}}i.textContent=o}var mi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pi=["Webkit","ms","Moz","O"];Object.keys(mi).forEach(function(i){pi.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),mi[o]=mi[i]})});function Oo(i,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||mi.hasOwnProperty(i)&&mi[i]?(""+o).trim():o+"px"}function Lo(i,o){i=i.style;for(var c in o)if(o.hasOwnProperty(c)){var h=c.indexOf("--")===0,f=Oo(c,o[c],h);c==="float"&&(c="cssFloat"),h?i.setProperty(c,f):i[c]=f}}var Vo=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fo(i,o){if(o){if(Vo[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Uo(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fi=null;function ma(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var pa=null,Ar=null,cs=null;function fa(i){if(i=ul(i)){if(typeof pa!="function")throw Error(t(280));var o=i.stateNode;o&&(o=eu(o),pa(i.stateNode,i.type,o))}}function us(i){Ar?cs?cs.push(i):cs=[i]:Ar=i}function $o(){if(Ar){var i=Ar,o=cs;if(cs=Ar=null,fa(i),o)for(i=0;i<o.length;i++)fa(o[i])}}function gi(i,o){return i(o)}function Bo(){}var Ls=!1;function zo(i,o,c){if(Ls)return i(o,c);Ls=!0;try{return gi(i,o,c)}finally{Ls=!1,(Ar!==null||cs!==null)&&(Bo(),$o())}}function pt(i,o){var c=i.stateNode;if(c===null)return null;var h=eu(c);if(h===null)return null;c=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(t(231,o,typeof c));return c}var ga=!1;if(m)try{var qr={};Object.defineProperty(qr,"passive",{get:function(){ga=!0}}),window.addEventListener("test",qr,qr),window.removeEventListener("test",qr,qr)}catch{ga=!1}function xi(i,o,c,h,f,v,N,O,V){var Y=Array.prototype.slice.call(arguments,3);try{o.apply(c,Y)}catch(ie){this.onError(ie)}}var yi=!1,xa=null,Hr=!1,qo=null,lh={onError:function(i){yi=!0,xa=i}};function ya(i,o,c,h,f,v,N,O,V){yi=!1,xa=null,xi.apply(lh,arguments)}function Ec(i,o,c,h,f,v,N,O,V){if(ya.apply(this,arguments),yi){if(yi){var Y=xa;yi=!1,xa=null}else throw Error(t(198));Hr||(Hr=!0,qo=Y)}}function Wr(i){var o=i,c=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(c=o.return),i=o.return;while(i)}return o.tag===3?c:null}function vi(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Gr(i){if(Wr(i)!==i)throw Error(t(188))}function kc(i){var o=i.alternate;if(!o){if(o=Wr(i),o===null)throw Error(t(188));return o!==i?null:i}for(var c=i,h=o;;){var f=c.return;if(f===null)break;var v=f.alternate;if(v===null){if(h=f.return,h!==null){c=h;continue}break}if(f.child===v.child){for(v=f.child;v;){if(v===c)return Gr(f),i;if(v===h)return Gr(f),o;v=v.sibling}throw Error(t(188))}if(c.return!==h.return)c=f,h=v;else{for(var N=!1,O=f.child;O;){if(O===c){N=!0,c=f,h=v;break}if(O===h){N=!0,h=f,c=v;break}O=O.sibling}if(!N){for(O=v.child;O;){if(O===c){N=!0,c=v,h=f;break}if(O===h){N=!0,h=v,c=f;break}O=O.sibling}if(!N)throw Error(t(189))}}if(c.alternate!==h)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?i:o}function Ho(i){return i=kc(i),i!==null?va(i):null}function va(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=va(i);if(o!==null)return o;i=i.sibling}return null}var ba=e.unstable_scheduleCallback,Wo=e.unstable_cancelCallback,Tc=e.unstable_shouldYield,ch=e.unstable_requestPaint,Je=e.unstable_now,Sc=e.unstable_getCurrentPriorityLevel,bi=e.unstable_ImmediatePriority,yn=e.unstable_UserBlockingPriority,Pr=e.unstable_NormalPriority,Go=e.unstable_LowPriority,Ic=e.unstable_IdlePriority,wi=null,br=null;function Cc(i){if(br&&typeof br.onCommitFiberRoot=="function")try{br.onCommitFiberRoot(wi,i,void 0,(i.current.flags&128)===128)}catch{}}var rr=Math.clz32?Math.clz32:Pc,Ko=Math.log,Ac=Math.LN2;function Pc(i){return i>>>=0,i===0?32:31-(Ko(i)/Ac|0)|0}var wa=64,_a=4194304;function vn(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function _i(i,o){var c=i.pendingLanes;if(c===0)return 0;var h=0,f=i.suspendedLanes,v=i.pingedLanes,N=c&268435455;if(N!==0){var O=N&~f;O!==0?h=vn(O):(v&=N,v!==0&&(h=vn(v)))}else N=c&~f,N!==0?h=vn(N):v!==0&&(h=vn(v));if(h===0)return 0;if(o!==0&&o!==h&&(o&f)===0&&(f=h&-h,v=o&-o,f>=v||f===16&&(v&4194240)!==0))return o;if((h&4)!==0&&(h|=c&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=h;0<o;)c=31-rr(o),f=1<<c,h|=i[c],o&=~f;return h}function uh(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vs(i,o){for(var c=i.suspendedLanes,h=i.pingedLanes,f=i.expirationTimes,v=i.pendingLanes;0<v;){var N=31-rr(v),O=1<<N,V=f[N];V===-1?((O&c)===0||(O&h)!==0)&&(f[N]=uh(O,o)):V<=o&&(i.expiredLanes|=O),v&=~O}}function wr(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Ni(){var i=wa;return wa<<=1,(wa&4194240)===0&&(wa=64),i}function bn(i){for(var o=[],c=0;31>c;c++)o.push(i);return o}function wn(i,o,c){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-rr(o),i[o]=c}function Ke(i,o){var c=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<c;){var f=31-rr(c),v=1<<f;o[f]=0,h[f]=-1,i[f]=-1,c&=~v}}function _n(i,o){var c=i.entangledLanes|=o;for(i=i.entanglements;c;){var h=31-rr(c),f=1<<h;f&o|i[h]&o&&(i[h]|=o),c&=~f}}var Oe=0;function Nn(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Rc,Na,Dc,Mc,Oc,Qo=!1,ds=[],Ot=null,Kr=null,Qr=null,jn=new Map,Rr=new Map,hs=[],dh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lc(i,o){switch(i){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":jn.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rr.delete(o.pointerId)}}function lr(i,o,c,h,f,v){return i===null||i.nativeEvent!==v?(i={blockedOn:o,domEventName:c,eventSystemFlags:h,nativeEvent:v,targetContainers:[f]},o!==null&&(o=ul(o),o!==null&&Na(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,f!==null&&o.indexOf(f)===-1&&o.push(f),i)}function hh(i,o,c,h,f){switch(o){case"focusin":return Ot=lr(Ot,i,o,c,h,f),!0;case"dragenter":return Kr=lr(Kr,i,o,c,h,f),!0;case"mouseover":return Qr=lr(Qr,i,o,c,h,f),!0;case"pointerover":var v=f.pointerId;return jn.set(v,lr(jn.get(v)||null,i,o,c,h,f)),!0;case"gotpointercapture":return v=f.pointerId,Rr.set(v,lr(Rr.get(v)||null,i,o,c,h,f)),!0}return!1}function Vc(i){var o=Si(i.target);if(o!==null){var c=Wr(o);if(c!==null){if(o=c.tag,o===13){if(o=vi(c),o!==null){i.blockedOn=o,Oc(i.priority,function(){Dc(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Fs(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var c=ja(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(c===null){c=i.nativeEvent;var h=new c.constructor(c.type,c);fi=h,c.target.dispatchEvent(h),fi=null}else return o=ul(c),o!==null&&Na(o),i.blockedOn=c,!1;o.shift()}return!0}function ji(i,o,c){Fs(i)&&c.delete(o)}function Fc(){Qo=!1,Ot!==null&&Fs(Ot)&&(Ot=null),Kr!==null&&Fs(Kr)&&(Kr=null),Qr!==null&&Fs(Qr)&&(Qr=null),jn.forEach(ji),Rr.forEach(ji)}function Yr(i,o){i.blockedOn===o&&(i.blockedOn=null,Qo||(Qo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Fc)))}function Xr(i){function o(f){return Yr(f,i)}if(0<ds.length){Yr(ds[0],i);for(var c=1;c<ds.length;c++){var h=ds[c];h.blockedOn===i&&(h.blockedOn=null)}}for(Ot!==null&&Yr(Ot,i),Kr!==null&&Yr(Kr,i),Qr!==null&&Yr(Qr,i),jn.forEach(o),Rr.forEach(o),c=0;c<hs.length;c++)h=hs[c],h.blockedOn===i&&(h.blockedOn=null);for(;0<hs.length&&(c=hs[0],c.blockedOn===null);)Vc(c),c.blockedOn===null&&hs.shift()}var Us=$.ReactCurrentBatchConfig,En=!0;function nt(i,o,c,h){var f=Oe,v=Us.transition;Us.transition=null;try{Oe=1,Yo(i,o,c,h)}finally{Oe=f,Us.transition=v}}function mh(i,o,c,h){var f=Oe,v=Us.transition;Us.transition=null;try{Oe=4,Yo(i,o,c,h)}finally{Oe=f,Us.transition=v}}function Yo(i,o,c,h){if(En){var f=ja(i,o,c,h);if(f===null)jh(i,o,h,Ei,c),Lc(i,h);else if(hh(f,i,o,c,h))h.stopPropagation();else if(Lc(i,h),o&4&&-1<dh.indexOf(i)){for(;f!==null;){var v=ul(f);if(v!==null&&Rc(v),v=ja(i,o,c,h),v===null&&jh(i,o,h,Ei,c),v===f)break;f=v}f!==null&&h.stopPropagation()}else jh(i,o,h,null,c)}}var Ei=null;function ja(i,o,c,h){if(Ei=null,i=ma(h),i=Si(i),i!==null)if(o=Wr(i),o===null)i=null;else if(c=o.tag,c===13){if(i=vi(o),i!==null)return i;i=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Ei=i,null}function Xo(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sc()){case bi:return 1;case yn:return 4;case Pr:case Go:return 16;case Ic:return 536870912;default:return 16}default:return 16}}var _r=null,Ea=null,cr=null;function Jo(){if(cr)return cr;var i,o=Ea,c=o.length,h,f="value"in _r?_r.value:_r.textContent,v=f.length;for(i=0;i<c&&o[i]===f[i];i++);var N=c-i;for(h=1;h<=N&&o[c-h]===f[v-h];h++);return cr=f.slice(i,1<h?1-h:void 0)}function ka(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function ms(){return!0}function Zo(){return!1}function Lt(i){function o(c,h,f,v,N){this._reactName=c,this._targetInst=f,this.type=h,this.nativeEvent=v,this.target=N,this.currentTarget=null;for(var O in i)i.hasOwnProperty(O)&&(c=i[O],this[O]=c?c(v):v[O]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?ms:Zo,this.isPropagationStopped=Zo,this}return oe(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ms)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ms)},persist:function(){},isPersistent:ms}),o}var Jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ta=Lt(Jr),ps=oe({},Jr,{view:0,detail:0}),ph=Lt(ps),Sa,$s,kn,ki=oe({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==kn&&(kn&&i.type==="mousemove"?(Sa=i.screenX-kn.screenX,$s=i.screenY-kn.screenY):$s=Sa=0,kn=i),Sa)},movementY:function(i){return"movementY"in i?i.movementY:$s}}),Ia=Lt(ki),el=oe({},ki,{dataTransfer:0}),Uc=Lt(el),Ca=oe({},ps,{relatedTarget:0}),Aa=Lt(Ca),$c=oe({},Jr,{animationName:0,elapsedTime:0,pseudoElement:0}),Bs=Lt($c),Bc=oe({},Jr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),zc=Lt(Bc),qc=oe({},Jr,{data:0}),tl=Lt(qc),Pa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wc(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Hc[i])?!!o[i]:!1}function fs(){return Wc}var d=oe({},ps,{key:function(i){if(i.key){var o=Pa[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=ka(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?sr[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fs,charCode:function(i){return i.type==="keypress"?ka(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ka(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),y=Lt(d),_=oe({},ki,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=Lt(_),z=oe({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fs}),J=Lt(z),he=oe({},Jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),We=Lt(he),jt=oe({},ki,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Fe=Lt(jt),It=[9,13,27,32],yt=m&&"CompositionEvent"in window,Dr=null;m&&"documentMode"in document&&(Dr=document.documentMode);var Nr=m&&"TextEvent"in window&&!Dr,Ti=m&&(!yt||Dr&&8<Dr&&11>=Dr),Ra=" ",mg=!1;function pg(i,o){switch(i){case"keyup":return It.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Da=!1;function i1(i,o){switch(i){case"compositionend":return fg(o);case"keypress":return o.which!==32?null:(mg=!0,Ra);case"textInput":return i=o.data,i===Ra&&mg?null:i;default:return null}}function a1(i,o){if(Da)return i==="compositionend"||!yt&&pg(i,o)?(i=Jo(),cr=Ea=_r=null,Da=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ti&&o.locale!=="ko"?null:o.data;default:return null}}var o1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gg(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!o1[i.type]:o==="textarea"}function xg(i,o,c,h){us(h),o=Xc(o,"onChange"),0<o.length&&(c=new Ta("onChange","change",null,c,h),i.push({event:c,listeners:o}))}var rl=null,sl=null;function l1(i){Mg(i,0)}function Gc(i){var o=Fa(i);if(la(o))return i}function c1(i,o){if(i==="change")return o}var yg=!1;if(m){var fh;if(m){var gh="oninput"in document;if(!gh){var vg=document.createElement("div");vg.setAttribute("oninput","return;"),gh=typeof vg.oninput=="function"}fh=gh}else fh=!1;yg=fh&&(!document.documentMode||9<document.documentMode)}function bg(){rl&&(rl.detachEvent("onpropertychange",wg),sl=rl=null)}function wg(i){if(i.propertyName==="value"&&Gc(sl)){var o=[];xg(o,sl,i,ma(i)),zo(l1,o)}}function u1(i,o,c){i==="focusin"?(bg(),rl=o,sl=c,rl.attachEvent("onpropertychange",wg)):i==="focusout"&&bg()}function d1(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Gc(sl)}function h1(i,o){if(i==="click")return Gc(o)}function m1(i,o){if(i==="input"||i==="change")return Gc(o)}function p1(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Zr=typeof Object.is=="function"?Object.is:p1;function nl(i,o){if(Zr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var c=Object.keys(i),h=Object.keys(o);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var f=c[h];if(!p.call(o,f)||!Zr(i[f],o[f]))return!1}return!0}function _g(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ng(i,o){var c=_g(i);i=0;for(var h;c;){if(c.nodeType===3){if(h=i+c.textContent.length,i<=o&&h>=o)return{node:c,offset:o-i};i=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=_g(c)}}function jg(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?jg(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Eg(){for(var i=window,o=gn();o instanceof i.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)i=o.contentWindow;else break;o=gn(i.document)}return o}function xh(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function f1(i){var o=Eg(),c=i.focusedElem,h=i.selectionRange;if(o!==c&&c&&c.ownerDocument&&jg(c.ownerDocument.documentElement,c)){if(h!==null&&xh(c)){if(o=h.start,i=h.end,i===void 0&&(i=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(i,c.value.length);else if(i=(o=c.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var f=c.textContent.length,v=Math.min(h.start,f);h=h.end===void 0?v:Math.min(h.end,f),!i.extend&&v>h&&(f=h,h=v,v=f),f=Ng(c,v);var N=Ng(c,h);f&&N&&(i.rangeCount!==1||i.anchorNode!==f.node||i.anchorOffset!==f.offset||i.focusNode!==N.node||i.focusOffset!==N.offset)&&(o=o.createRange(),o.setStart(f.node,f.offset),i.removeAllRanges(),v>h?(i.addRange(o),i.extend(N.node,N.offset)):(o.setEnd(N.node,N.offset),i.addRange(o)))}}for(o=[],i=c;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)i=o[c],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var g1=m&&"documentMode"in document&&11>=document.documentMode,Ma=null,yh=null,il=null,vh=!1;function kg(i,o,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;vh||Ma==null||Ma!==gn(h)||(h=Ma,"selectionStart"in h&&xh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),il&&nl(il,h)||(il=h,h=Xc(yh,"onSelect"),0<h.length&&(o=new Ta("onSelect","select",null,o,c),i.push({event:o,listeners:h}),o.target=Ma)))}function Kc(i,o){var c={};return c[i.toLowerCase()]=o.toLowerCase(),c["Webkit"+i]="webkit"+o,c["Moz"+i]="moz"+o,c}var Oa={animationend:Kc("Animation","AnimationEnd"),animationiteration:Kc("Animation","AnimationIteration"),animationstart:Kc("Animation","AnimationStart"),transitionend:Kc("Transition","TransitionEnd")},bh={},Tg={};m&&(Tg=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function Qc(i){if(bh[i])return bh[i];if(!Oa[i])return i;var o=Oa[i],c;for(c in o)if(o.hasOwnProperty(c)&&c in Tg)return bh[i]=o[c];return i}var Sg=Qc("animationend"),Ig=Qc("animationiteration"),Cg=Qc("animationstart"),Ag=Qc("transitionend"),Pg=new Map,Rg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tn(i,o){Pg.set(i,o),l(o,[i])}for(var wh=0;wh<Rg.length;wh++){var _h=Rg[wh],x1=_h.toLowerCase(),y1=_h[0].toUpperCase()+_h.slice(1);Tn(x1,"on"+y1)}Tn(Sg,"onAnimationEnd"),Tn(Ig,"onAnimationIteration"),Tn(Cg,"onAnimationStart"),Tn("dblclick","onDoubleClick"),Tn("focusin","onFocus"),Tn("focusout","onBlur"),Tn(Ag,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v1=new Set("cancel close invalid load scroll toggle".split(" ").concat(al));function Dg(i,o,c){var h=i.type||"unknown-event";i.currentTarget=c,Ec(h,o,void 0,i),i.currentTarget=null}function Mg(i,o){o=(o&4)!==0;for(var c=0;c<i.length;c++){var h=i[c],f=h.event;h=h.listeners;e:{var v=void 0;if(o)for(var N=h.length-1;0<=N;N--){var O=h[N],V=O.instance,Y=O.currentTarget;if(O=O.listener,V!==v&&f.isPropagationStopped())break e;Dg(f,O,Y),v=V}else for(N=0;N<h.length;N++){if(O=h[N],V=O.instance,Y=O.currentTarget,O=O.listener,V!==v&&f.isPropagationStopped())break e;Dg(f,O,Y),v=V}}}if(Hr)throw i=qo,Hr=!1,qo=null,i}function et(i,o){var c=o[Ch];c===void 0&&(c=o[Ch]=new Set);var h=i+"__bubble";c.has(h)||(Og(o,i,2,!1),c.add(h))}function Nh(i,o,c){var h=0;o&&(h|=4),Og(c,i,h,o)}var Yc="_reactListening"+Math.random().toString(36).slice(2);function ol(i){if(!i[Yc]){i[Yc]=!0,n.forEach(function(c){c!=="selectionchange"&&(v1.has(c)||Nh(c,!1,i),Nh(c,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Yc]||(o[Yc]=!0,Nh("selectionchange",!1,o))}}function Og(i,o,c,h){switch(Xo(o)){case 1:var f=nt;break;case 4:f=mh;break;default:f=Yo}c=f.bind(null,o,c,i),f=void 0,!ga||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(f=!0),h?f!==void 0?i.addEventListener(o,c,{capture:!0,passive:f}):i.addEventListener(o,c,!0):f!==void 0?i.addEventListener(o,c,{passive:f}):i.addEventListener(o,c,!1)}function jh(i,o,c,h,f){var v=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var N=h.tag;if(N===3||N===4){var O=h.stateNode.containerInfo;if(O===f||O.nodeType===8&&O.parentNode===f)break;if(N===4)for(N=h.return;N!==null;){var V=N.tag;if((V===3||V===4)&&(V=N.stateNode.containerInfo,V===f||V.nodeType===8&&V.parentNode===f))return;N=N.return}for(;O!==null;){if(N=Si(O),N===null)return;if(V=N.tag,V===5||V===6){h=v=N;continue e}O=O.parentNode}}h=h.return}zo(function(){var Y=v,ie=ma(c),le=[];e:{var ne=Pg.get(i);if(ne!==void 0){var fe=Ta,ye=i;switch(i){case"keypress":if(ka(c)===0)break e;case"keydown":case"keyup":fe=y;break;case"focusin":ye="focus",fe=Aa;break;case"focusout":ye="blur",fe=Aa;break;case"beforeblur":case"afterblur":fe=Aa;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=Ia;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=Uc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=J;break;case Sg:case Ig:case Cg:fe=Bs;break;case Ag:fe=We;break;case"scroll":fe=ph;break;case"wheel":fe=Fe;break;case"copy":case"cut":case"paste":fe=zc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=I}var ve=(o&4)!==0,ft=!ve&&i==="scroll",q=ve?ne!==null?ne+"Capture":null:ne;ve=[];for(var F=Y,H;F!==null;){H=F;var ce=H.stateNode;if(H.tag===5&&ce!==null&&(H=ce,q!==null&&(ce=pt(F,q),ce!=null&&ve.push(ll(F,ce,H)))),ft)break;F=F.return}0<ve.length&&(ne=new fe(ne,ye,null,c,ie),le.push({event:ne,listeners:ve}))}}if((o&7)===0){e:{if(ne=i==="mouseover"||i==="pointerover",fe=i==="mouseout"||i==="pointerout",ne&&c!==fi&&(ye=c.relatedTarget||c.fromElement)&&(Si(ye)||ye[zs]))break e;if((fe||ne)&&(ne=ie.window===ie?ie:(ne=ie.ownerDocument)?ne.defaultView||ne.parentWindow:window,fe?(ye=c.relatedTarget||c.toElement,fe=Y,ye=ye?Si(ye):null,ye!==null&&(ft=Wr(ye),ye!==ft||ye.tag!==5&&ye.tag!==6)&&(ye=null)):(fe=null,ye=Y),fe!==ye)){if(ve=Ia,ce="onMouseLeave",q="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(ve=I,ce="onPointerLeave",q="onPointerEnter",F="pointer"),ft=fe==null?ne:Fa(fe),H=ye==null?ne:Fa(ye),ne=new ve(ce,F+"leave",fe,c,ie),ne.target=ft,ne.relatedTarget=H,ce=null,Si(ie)===Y&&(ve=new ve(q,F+"enter",ye,c,ie),ve.target=H,ve.relatedTarget=ft,ce=ve),ft=ce,fe&&ye)t:{for(ve=fe,q=ye,F=0,H=ve;H;H=La(H))F++;for(H=0,ce=q;ce;ce=La(ce))H++;for(;0<F-H;)ve=La(ve),F--;for(;0<H-F;)q=La(q),H--;for(;F--;){if(ve===q||q!==null&&ve===q.alternate)break t;ve=La(ve),q=La(q)}ve=null}else ve=null;fe!==null&&Lg(le,ne,fe,ve,!1),ye!==null&&ft!==null&&Lg(le,ft,ye,ve,!0)}}e:{if(ne=Y?Fa(Y):window,fe=ne.nodeName&&ne.nodeName.toLowerCase(),fe==="select"||fe==="input"&&ne.type==="file")var we=c1;else if(gg(ne))if(yg)we=m1;else{we=d1;var je=u1}else(fe=ne.nodeName)&&fe.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(we=h1);if(we&&(we=we(i,Y))){xg(le,we,c,ie);break e}je&&je(i,ne,Y),i==="focusout"&&(je=ne._wrapperState)&&je.controlled&&ne.type==="number"&&ua(ne,"number",ne.value)}switch(je=Y?Fa(Y):window,i){case"focusin":(gg(je)||je.contentEditable==="true")&&(Ma=je,yh=Y,il=null);break;case"focusout":il=yh=Ma=null;break;case"mousedown":vh=!0;break;case"contextmenu":case"mouseup":case"dragend":vh=!1,kg(le,c,ie);break;case"selectionchange":if(g1)break;case"keydown":case"keyup":kg(le,c,ie)}var Ee;if(yt)e:{switch(i){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Da?pg(i,c)&&(Se="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Se="onCompositionStart");Se&&(Ti&&c.locale!=="ko"&&(Da||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Da&&(Ee=Jo()):(_r=ie,Ea="value"in _r?_r.value:_r.textContent,Da=!0)),je=Xc(Y,Se),0<je.length&&(Se=new tl(Se,i,null,c,ie),le.push({event:Se,listeners:je}),Ee?Se.data=Ee:(Ee=fg(c),Ee!==null&&(Se.data=Ee)))),(Ee=Nr?i1(i,c):a1(i,c))&&(Y=Xc(Y,"onBeforeInput"),0<Y.length&&(ie=new tl("onBeforeInput","beforeinput",null,c,ie),le.push({event:ie,listeners:Y}),ie.data=Ee))}Mg(le,o)})}function ll(i,o,c){return{instance:i,listener:o,currentTarget:c}}function Xc(i,o){for(var c=o+"Capture",h=[];i!==null;){var f=i,v=f.stateNode;f.tag===5&&v!==null&&(f=v,v=pt(i,c),v!=null&&h.unshift(ll(i,v,f)),v=pt(i,o),v!=null&&h.push(ll(i,v,f))),i=i.return}return h}function La(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Lg(i,o,c,h,f){for(var v=o._reactName,N=[];c!==null&&c!==h;){var O=c,V=O.alternate,Y=O.stateNode;if(V!==null&&V===h)break;O.tag===5&&Y!==null&&(O=Y,f?(V=pt(c,v),V!=null&&N.unshift(ll(c,V,O))):f||(V=pt(c,v),V!=null&&N.push(ll(c,V,O)))),c=c.return}N.length!==0&&i.push({event:o,listeners:N})}var b1=/\r\n?/g,w1=/\u0000|\uFFFD/g;function Vg(i){return(typeof i=="string"?i:""+i).replace(b1,`
`).replace(w1,"")}function Jc(i,o,c){if(o=Vg(o),Vg(i)!==o&&c)throw Error(t(425))}function Zc(){}var Eh=null,kh=null;function Th(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Sh=typeof setTimeout=="function"?setTimeout:void 0,_1=typeof clearTimeout=="function"?clearTimeout:void 0,Fg=typeof Promise=="function"?Promise:void 0,N1=typeof queueMicrotask=="function"?queueMicrotask:typeof Fg<"u"?function(i){return Fg.resolve(null).then(i).catch(j1)}:Sh;function j1(i){setTimeout(function(){throw i})}function Ih(i,o){var c=o,h=0;do{var f=c.nextSibling;if(i.removeChild(c),f&&f.nodeType===8)if(c=f.data,c==="/$"){if(h===0){i.removeChild(f),Xr(o);return}h--}else c!=="$"&&c!=="$?"&&c!=="$!"||h++;c=f}while(c);Xr(o)}function Sn(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Ug(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return i;o--}else c==="/$"&&o++}i=i.previousSibling}return null}var Va=Math.random().toString(36).slice(2),gs="__reactFiber$"+Va,cl="__reactProps$"+Va,zs="__reactContainer$"+Va,Ch="__reactEvents$"+Va,E1="__reactListeners$"+Va,k1="__reactHandles$"+Va;function Si(i){var o=i[gs];if(o)return o;for(var c=i.parentNode;c;){if(o=c[zs]||c[gs]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(i=Ug(i);i!==null;){if(c=i[gs])return c;i=Ug(i)}return o}i=c,c=i.parentNode}return null}function ul(i){return i=i[gs]||i[zs],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Fa(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function eu(i){return i[cl]||null}var Ah=[],Ua=-1;function In(i){return{current:i}}function tt(i){0>Ua||(i.current=Ah[Ua],Ah[Ua]=null,Ua--)}function Ze(i,o){Ua++,Ah[Ua]=i.current,i.current=o}var Cn={},Gt=In(Cn),ur=In(!1),Ii=Cn;function $a(i,o){var c=i.type.contextTypes;if(!c)return Cn;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var f={},v;for(v in c)f[v]=o[v];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=f),f}function dr(i){return i=i.childContextTypes,i!=null}function tu(){tt(ur),tt(Gt)}function $g(i,o,c){if(Gt.current!==Cn)throw Error(t(168));Ze(Gt,o),Ze(ur,c)}function Bg(i,o,c){var h=i.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return c;h=h.getChildContext();for(var f in h)if(!(f in o))throw Error(t(108,qe(i)||"Unknown",f));return oe({},c,h)}function ru(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Cn,Ii=Gt.current,Ze(Gt,i),Ze(ur,ur.current),!0}function zg(i,o,c){var h=i.stateNode;if(!h)throw Error(t(169));c?(i=Bg(i,o,Ii),h.__reactInternalMemoizedMergedChildContext=i,tt(ur),tt(Gt),Ze(Gt,i)):tt(ur),Ze(ur,c)}var qs=null,su=!1,Ph=!1;function qg(i){qs===null?qs=[i]:qs.push(i)}function T1(i){su=!0,qg(i)}function An(){if(!Ph&&qs!==null){Ph=!0;var i=0,o=Oe;try{var c=qs;for(Oe=1;i<c.length;i++){var h=c[i];do h=h(!0);while(h!==null)}qs=null,su=!1}catch(f){throw qs!==null&&(qs=qs.slice(i+1)),ba(bi,An),f}finally{Oe=o,Ph=!1}}return null}var Ba=[],za=0,nu=null,iu=0,Mr=[],Or=0,Ci=null,Hs=1,Ws="";function Ai(i,o){Ba[za++]=iu,Ba[za++]=nu,nu=i,iu=o}function Hg(i,o,c){Mr[Or++]=Hs,Mr[Or++]=Ws,Mr[Or++]=Ci,Ci=i;var h=Hs;i=Ws;var f=32-rr(h)-1;h&=~(1<<f),c+=1;var v=32-rr(o)+f;if(30<v){var N=f-f%5;v=(h&(1<<N)-1).toString(32),h>>=N,f-=N,Hs=1<<32-rr(o)+f|c<<f|h,Ws=v+i}else Hs=1<<v|c<<f|h,Ws=i}function Rh(i){i.return!==null&&(Ai(i,1),Hg(i,1,0))}function Dh(i){for(;i===nu;)nu=Ba[--za],Ba[za]=null,iu=Ba[--za],Ba[za]=null;for(;i===Ci;)Ci=Mr[--Or],Mr[Or]=null,Ws=Mr[--Or],Mr[Or]=null,Hs=Mr[--Or],Mr[Or]=null}var jr=null,Er=null,it=!1,es=null;function Wg(i,o){var c=Ur(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=i,o=i.deletions,o===null?(i.deletions=[c],i.flags|=16):o.push(c)}function Gg(i,o){switch(i.tag){case 5:var c=i.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,jr=i,Er=Sn(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,jr=i,Er=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=Ci!==null?{id:Hs,overflow:Ws}:null,i.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=Ur(18,null,null,0),c.stateNode=o,c.return=i,i.child=c,jr=i,Er=null,!0):!1;default:return!1}}function Mh(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Oh(i){if(it){var o=Er;if(o){var c=o;if(!Gg(i,o)){if(Mh(i))throw Error(t(418));o=Sn(c.nextSibling);var h=jr;o&&Gg(i,o)?Wg(h,c):(i.flags=i.flags&-4097|2,it=!1,jr=i)}}else{if(Mh(i))throw Error(t(418));i.flags=i.flags&-4097|2,it=!1,jr=i}}}function Kg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;jr=i}function au(i){if(i!==jr)return!1;if(!it)return Kg(i),it=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Th(i.type,i.memoizedProps)),o&&(o=Er)){if(Mh(i))throw Qg(),Error(t(418));for(;o;)Wg(i,o),o=Sn(o.nextSibling)}if(Kg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"){if(o===0){Er=Sn(i.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}i=i.nextSibling}Er=null}}else Er=jr?Sn(i.stateNode.nextSibling):null;return!0}function Qg(){for(var i=Er;i;)i=Sn(i.nextSibling)}function qa(){Er=jr=null,it=!1}function Lh(i){es===null?es=[i]:es.push(i)}var S1=$.ReactCurrentBatchConfig;function dl(i,o,c){if(i=c.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var h=c.stateNode}if(!h)throw Error(t(147,i));var f=h,v=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(N){var O=f.refs;N===null?delete O[v]:O[v]=N},o._stringRef=v,o)}if(typeof i!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,i))}return i}function ou(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Yg(i){var o=i._init;return o(i._payload)}function Xg(i){function o(q,F){if(i){var H=q.deletions;H===null?(q.deletions=[F],q.flags|=16):H.push(F)}}function c(q,F){if(!i)return null;for(;F!==null;)o(q,F),F=F.sibling;return null}function h(q,F){for(q=new Map;F!==null;)F.key!==null?q.set(F.key,F):q.set(F.index,F),F=F.sibling;return q}function f(q,F){return q=Fn(q,F),q.index=0,q.sibling=null,q}function v(q,F,H){return q.index=H,i?(H=q.alternate,H!==null?(H=H.index,H<F?(q.flags|=2,F):H):(q.flags|=2,F)):(q.flags|=1048576,F)}function N(q){return i&&q.alternate===null&&(q.flags|=2),q}function O(q,F,H,ce){return F===null||F.tag!==6?(F=Sm(H,q.mode,ce),F.return=q,F):(F=f(F,H),F.return=q,F)}function V(q,F,H,ce){var we=H.type;return we===L?ie(q,F,H.props.children,ce,H.key):F!==null&&(F.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===W&&Yg(we)===F.type)?(ce=f(F,H.props),ce.ref=dl(q,F,H),ce.return=q,ce):(ce=Au(H.type,H.key,H.props,null,q.mode,ce),ce.ref=dl(q,F,H),ce.return=q,ce)}function Y(q,F,H,ce){return F===null||F.tag!==4||F.stateNode.containerInfo!==H.containerInfo||F.stateNode.implementation!==H.implementation?(F=Im(H,q.mode,ce),F.return=q,F):(F=f(F,H.children||[]),F.return=q,F)}function ie(q,F,H,ce,we){return F===null||F.tag!==7?(F=Fi(H,q.mode,ce,we),F.return=q,F):(F=f(F,H),F.return=q,F)}function le(q,F,H){if(typeof F=="string"&&F!==""||typeof F=="number")return F=Sm(""+F,q.mode,H),F.return=q,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case G:return H=Au(F.type,F.key,F.props,null,q.mode,H),H.ref=dl(q,null,F),H.return=q,H;case se:return F=Im(F,q.mode,H),F.return=q,F;case W:var ce=F._init;return le(q,ce(F._payload),H)}if(Ds(F)||de(F))return F=Fi(F,q.mode,H,null),F.return=q,F;ou(q,F)}return null}function ne(q,F,H,ce){var we=F!==null?F.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return we!==null?null:O(q,F,""+H,ce);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case G:return H.key===we?V(q,F,H,ce):null;case se:return H.key===we?Y(q,F,H,ce):null;case W:return we=H._init,ne(q,F,we(H._payload),ce)}if(Ds(H)||de(H))return we!==null?null:ie(q,F,H,ce,null);ou(q,H)}return null}function fe(q,F,H,ce,we){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return q=q.get(H)||null,O(F,q,""+ce,we);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case G:return q=q.get(ce.key===null?H:ce.key)||null,V(F,q,ce,we);case se:return q=q.get(ce.key===null?H:ce.key)||null,Y(F,q,ce,we);case W:var je=ce._init;return fe(q,F,H,je(ce._payload),we)}if(Ds(ce)||de(ce))return q=q.get(H)||null,ie(F,q,ce,we,null);ou(F,ce)}return null}function ye(q,F,H,ce){for(var we=null,je=null,Ee=F,Se=F=0,Pt=null;Ee!==null&&Se<H.length;Se++){Ee.index>Se?(Pt=Ee,Ee=null):Pt=Ee.sibling;var Be=ne(q,Ee,H[Se],ce);if(Be===null){Ee===null&&(Ee=Pt);break}i&&Ee&&Be.alternate===null&&o(q,Ee),F=v(Be,F,Se),je===null?we=Be:je.sibling=Be,je=Be,Ee=Pt}if(Se===H.length)return c(q,Ee),it&&Ai(q,Se),we;if(Ee===null){for(;Se<H.length;Se++)Ee=le(q,H[Se],ce),Ee!==null&&(F=v(Ee,F,Se),je===null?we=Ee:je.sibling=Ee,je=Ee);return it&&Ai(q,Se),we}for(Ee=h(q,Ee);Se<H.length;Se++)Pt=fe(Ee,q,Se,H[Se],ce),Pt!==null&&(i&&Pt.alternate!==null&&Ee.delete(Pt.key===null?Se:Pt.key),F=v(Pt,F,Se),je===null?we=Pt:je.sibling=Pt,je=Pt);return i&&Ee.forEach(function(Un){return o(q,Un)}),it&&Ai(q,Se),we}function ve(q,F,H,ce){var we=de(H);if(typeof we!="function")throw Error(t(150));if(H=we.call(H),H==null)throw Error(t(151));for(var je=we=null,Ee=F,Se=F=0,Pt=null,Be=H.next();Ee!==null&&!Be.done;Se++,Be=H.next()){Ee.index>Se?(Pt=Ee,Ee=null):Pt=Ee.sibling;var Un=ne(q,Ee,Be.value,ce);if(Un===null){Ee===null&&(Ee=Pt);break}i&&Ee&&Un.alternate===null&&o(q,Ee),F=v(Un,F,Se),je===null?we=Un:je.sibling=Un,je=Un,Ee=Pt}if(Be.done)return c(q,Ee),it&&Ai(q,Se),we;if(Ee===null){for(;!Be.done;Se++,Be=H.next())Be=le(q,Be.value,ce),Be!==null&&(F=v(Be,F,Se),je===null?we=Be:je.sibling=Be,je=Be);return it&&Ai(q,Se),we}for(Ee=h(q,Ee);!Be.done;Se++,Be=H.next())Be=fe(Ee,q,Se,Be.value,ce),Be!==null&&(i&&Be.alternate!==null&&Ee.delete(Be.key===null?Se:Be.key),F=v(Be,F,Se),je===null?we=Be:je.sibling=Be,je=Be);return i&&Ee.forEach(function(oN){return o(q,oN)}),it&&Ai(q,Se),we}function ft(q,F,H,ce){if(typeof H=="object"&&H!==null&&H.type===L&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case G:e:{for(var we=H.key,je=F;je!==null;){if(je.key===we){if(we=H.type,we===L){if(je.tag===7){c(q,je.sibling),F=f(je,H.props.children),F.return=q,q=F;break e}}else if(je.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===W&&Yg(we)===je.type){c(q,je.sibling),F=f(je,H.props),F.ref=dl(q,je,H),F.return=q,q=F;break e}c(q,je);break}else o(q,je);je=je.sibling}H.type===L?(F=Fi(H.props.children,q.mode,ce,H.key),F.return=q,q=F):(ce=Au(H.type,H.key,H.props,null,q.mode,ce),ce.ref=dl(q,F,H),ce.return=q,q=ce)}return N(q);case se:e:{for(je=H.key;F!==null;){if(F.key===je)if(F.tag===4&&F.stateNode.containerInfo===H.containerInfo&&F.stateNode.implementation===H.implementation){c(q,F.sibling),F=f(F,H.children||[]),F.return=q,q=F;break e}else{c(q,F);break}else o(q,F);F=F.sibling}F=Im(H,q.mode,ce),F.return=q,q=F}return N(q);case W:return je=H._init,ft(q,F,je(H._payload),ce)}if(Ds(H))return ye(q,F,H,ce);if(de(H))return ve(q,F,H,ce);ou(q,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,F!==null&&F.tag===6?(c(q,F.sibling),F=f(F,H),F.return=q,q=F):(c(q,F),F=Sm(H,q.mode,ce),F.return=q,q=F),N(q)):c(q,F)}return ft}var Ha=Xg(!0),Jg=Xg(!1),lu=In(null),cu=null,Wa=null,Vh=null;function Fh(){Vh=Wa=cu=null}function Uh(i){var o=lu.current;tt(lu),i._currentValue=o}function $h(i,o,c){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===c)break;i=i.return}}function Ga(i,o){cu=i,Vh=Wa=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(hr=!0),i.firstContext=null)}function Lr(i){var o=i._currentValue;if(Vh!==i)if(i={context:i,memoizedValue:o,next:null},Wa===null){if(cu===null)throw Error(t(308));Wa=i,cu.dependencies={lanes:0,firstContext:i}}else Wa=Wa.next=i;return o}var Pi=null;function Bh(i){Pi===null?Pi=[i]:Pi.push(i)}function Zg(i,o,c,h){var f=o.interleaved;return f===null?(c.next=c,Bh(o)):(c.next=f.next,f.next=c),o.interleaved=c,Gs(i,h)}function Gs(i,o){i.lanes|=o;var c=i.alternate;for(c!==null&&(c.lanes|=o),c=i,i=i.return;i!==null;)i.childLanes|=o,c=i.alternate,c!==null&&(c.childLanes|=o),c=i,i=i.return;return c.tag===3?c.stateNode:null}var Pn=!1;function zh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function e0(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Ks(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Rn(i,o,c){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,($e&2)!==0){var f=h.pending;return f===null?o.next=o:(o.next=f.next,f.next=o),h.pending=o,Gs(i,c)}return f=h.interleaved,f===null?(o.next=o,Bh(h)):(o.next=f.next,f.next=o),h.interleaved=o,Gs(i,c)}function uu(i,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var h=o.lanes;h&=i.pendingLanes,c|=h,o.lanes=c,_n(i,c)}}function t0(i,o){var c=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var f=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var N={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};v===null?f=v=N:v=v.next=N,c=c.next}while(c!==null);v===null?f=v=o:v=v.next=o}else f=v=o;c={baseState:h.baseState,firstBaseUpdate:f,lastBaseUpdate:v,shared:h.shared,effects:h.effects},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=o:i.next=o,c.lastBaseUpdate=o}function du(i,o,c,h){var f=i.updateQueue;Pn=!1;var v=f.firstBaseUpdate,N=f.lastBaseUpdate,O=f.shared.pending;if(O!==null){f.shared.pending=null;var V=O,Y=V.next;V.next=null,N===null?v=Y:N.next=Y,N=V;var ie=i.alternate;ie!==null&&(ie=ie.updateQueue,O=ie.lastBaseUpdate,O!==N&&(O===null?ie.firstBaseUpdate=Y:O.next=Y,ie.lastBaseUpdate=V))}if(v!==null){var le=f.baseState;N=0,ie=Y=V=null,O=v;do{var ne=O.lane,fe=O.eventTime;if((h&ne)===ne){ie!==null&&(ie=ie.next={eventTime:fe,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var ye=i,ve=O;switch(ne=o,fe=c,ve.tag){case 1:if(ye=ve.payload,typeof ye=="function"){le=ye.call(fe,le,ne);break e}le=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=ve.payload,ne=typeof ye=="function"?ye.call(fe,le,ne):ye,ne==null)break e;le=oe({},le,ne);break e;case 2:Pn=!0}}O.callback!==null&&O.lane!==0&&(i.flags|=64,ne=f.effects,ne===null?f.effects=[O]:ne.push(O))}else fe={eventTime:fe,lane:ne,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ie===null?(Y=ie=fe,V=le):ie=ie.next=fe,N|=ne;if(O=O.next,O===null){if(O=f.shared.pending,O===null)break;ne=O,O=ne.next,ne.next=null,f.lastBaseUpdate=ne,f.shared.pending=null}}while(!0);if(ie===null&&(V=le),f.baseState=V,f.firstBaseUpdate=Y,f.lastBaseUpdate=ie,o=f.shared.interleaved,o!==null){f=o;do N|=f.lane,f=f.next;while(f!==o)}else v===null&&(f.shared.lanes=0);Mi|=N,i.lanes=N,i.memoizedState=le}}function r0(i,o,c){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var h=i[o],f=h.callback;if(f!==null){if(h.callback=null,h=c,typeof f!="function")throw Error(t(191,f));f.call(h)}}}var hl={},xs=In(hl),ml=In(hl),pl=In(hl);function Ri(i){if(i===hl)throw Error(t(174));return i}function qh(i,o){switch(Ze(pl,o),Ze(ml,i),Ze(xs,hl),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Nt(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=Nt(o,i)}tt(xs),Ze(xs,o)}function Ka(){tt(xs),tt(ml),tt(pl)}function s0(i){Ri(pl.current);var o=Ri(xs.current),c=Nt(o,i.type);o!==c&&(Ze(ml,i),Ze(xs,c))}function Hh(i){ml.current===i&&(tt(xs),tt(ml))}var ot=In(0);function hu(i){for(var o=i;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Wh=[];function Gh(){for(var i=0;i<Wh.length;i++)Wh[i]._workInProgressVersionPrimary=null;Wh.length=0}var mu=$.ReactCurrentDispatcher,Kh=$.ReactCurrentBatchConfig,Di=0,lt=null,Et=null,Ct=null,pu=!1,fl=!1,gl=0,I1=0;function Kt(){throw Error(t(321))}function Qh(i,o){if(o===null)return!1;for(var c=0;c<o.length&&c<i.length;c++)if(!Zr(i[c],o[c]))return!1;return!0}function Yh(i,o,c,h,f,v){if(Di=v,lt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,mu.current=i===null||i.memoizedState===null?R1:D1,i=c(h,f),fl){v=0;do{if(fl=!1,gl=0,25<=v)throw Error(t(301));v+=1,Ct=Et=null,o.updateQueue=null,mu.current=M1,i=c(h,f)}while(fl)}if(mu.current=xu,o=Et!==null&&Et.next!==null,Di=0,Ct=Et=lt=null,pu=!1,o)throw Error(t(300));return i}function Xh(){var i=gl!==0;return gl=0,i}function ys(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?lt.memoizedState=Ct=i:Ct=Ct.next=i,Ct}function Vr(){if(Et===null){var i=lt.alternate;i=i!==null?i.memoizedState:null}else i=Et.next;var o=Ct===null?lt.memoizedState:Ct.next;if(o!==null)Ct=o,Et=i;else{if(i===null)throw Error(t(310));Et=i,i={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},Ct===null?lt.memoizedState=Ct=i:Ct=Ct.next=i}return Ct}function xl(i,o){return typeof o=="function"?o(i):o}function Jh(i){var o=Vr(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=i;var h=Et,f=h.baseQueue,v=c.pending;if(v!==null){if(f!==null){var N=f.next;f.next=v.next,v.next=N}h.baseQueue=f=v,c.pending=null}if(f!==null){v=f.next,h=h.baseState;var O=N=null,V=null,Y=v;do{var ie=Y.lane;if((Di&ie)===ie)V!==null&&(V=V.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),h=Y.hasEagerState?Y.eagerState:i(h,Y.action);else{var le={lane:ie,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};V===null?(O=V=le,N=h):V=V.next=le,lt.lanes|=ie,Mi|=ie}Y=Y.next}while(Y!==null&&Y!==v);V===null?N=h:V.next=O,Zr(h,o.memoizedState)||(hr=!0),o.memoizedState=h,o.baseState=N,o.baseQueue=V,c.lastRenderedState=h}if(i=c.interleaved,i!==null){f=i;do v=f.lane,lt.lanes|=v,Mi|=v,f=f.next;while(f!==i)}else f===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function Zh(i){var o=Vr(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=i;var h=c.dispatch,f=c.pending,v=o.memoizedState;if(f!==null){c.pending=null;var N=f=f.next;do v=i(v,N.action),N=N.next;while(N!==f);Zr(v,o.memoizedState)||(hr=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),c.lastRenderedState=v}return[v,h]}function n0(){}function i0(i,o){var c=lt,h=Vr(),f=o(),v=!Zr(h.memoizedState,f);if(v&&(h.memoizedState=f,hr=!0),h=h.queue,em(l0.bind(null,c,h,i),[i]),h.getSnapshot!==o||v||Ct!==null&&Ct.memoizedState.tag&1){if(c.flags|=2048,yl(9,o0.bind(null,c,h,f,o),void 0,null),At===null)throw Error(t(349));(Di&30)!==0||a0(c,o,f)}return f}function a0(i,o,c){i.flags|=16384,i={getSnapshot:o,value:c},o=lt.updateQueue,o===null?(o={lastEffect:null,stores:null},lt.updateQueue=o,o.stores=[i]):(c=o.stores,c===null?o.stores=[i]:c.push(i))}function o0(i,o,c,h){o.value=c,o.getSnapshot=h,c0(o)&&u0(i)}function l0(i,o,c){return c(function(){c0(o)&&u0(i)})}function c0(i){var o=i.getSnapshot;i=i.value;try{var c=o();return!Zr(i,c)}catch{return!0}}function u0(i){var o=Gs(i,1);o!==null&&ns(o,i,1,-1)}function d0(i){var o=ys();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:i},o.queue=i,i=i.dispatch=P1.bind(null,lt,i),[o.memoizedState,i]}function yl(i,o,c,h){return i={tag:i,create:o,destroy:c,deps:h,next:null},o=lt.updateQueue,o===null?(o={lastEffect:null,stores:null},lt.updateQueue=o,o.lastEffect=i.next=i):(c=o.lastEffect,c===null?o.lastEffect=i.next=i:(h=c.next,c.next=i,i.next=h,o.lastEffect=i)),i}function h0(){return Vr().memoizedState}function fu(i,o,c,h){var f=ys();lt.flags|=i,f.memoizedState=yl(1|o,c,void 0,h===void 0?null:h)}function gu(i,o,c,h){var f=Vr();h=h===void 0?null:h;var v=void 0;if(Et!==null){var N=Et.memoizedState;if(v=N.destroy,h!==null&&Qh(h,N.deps)){f.memoizedState=yl(o,c,v,h);return}}lt.flags|=i,f.memoizedState=yl(1|o,c,v,h)}function m0(i,o){return fu(8390656,8,i,o)}function em(i,o){return gu(2048,8,i,o)}function p0(i,o){return gu(4,2,i,o)}function f0(i,o){return gu(4,4,i,o)}function g0(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function x0(i,o,c){return c=c!=null?c.concat([i]):null,gu(4,4,g0.bind(null,o,i),c)}function tm(){}function y0(i,o){var c=Vr();o=o===void 0?null:o;var h=c.memoizedState;return h!==null&&o!==null&&Qh(o,h[1])?h[0]:(c.memoizedState=[i,o],i)}function v0(i,o){var c=Vr();o=o===void 0?null:o;var h=c.memoizedState;return h!==null&&o!==null&&Qh(o,h[1])?h[0]:(i=i(),c.memoizedState=[i,o],i)}function b0(i,o,c){return(Di&21)===0?(i.baseState&&(i.baseState=!1,hr=!0),i.memoizedState=c):(Zr(c,o)||(c=Ni(),lt.lanes|=c,Mi|=c,i.baseState=!0),o)}function C1(i,o){var c=Oe;Oe=c!==0&&4>c?c:4,i(!0);var h=Kh.transition;Kh.transition={};try{i(!1),o()}finally{Oe=c,Kh.transition=h}}function w0(){return Vr().memoizedState}function A1(i,o,c){var h=Ln(i);if(c={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null},_0(i))N0(o,c);else if(c=Zg(i,o,c,h),c!==null){var f=ir();ns(c,i,h,f),j0(c,o,h)}}function P1(i,o,c){var h=Ln(i),f={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null};if(_0(i))N0(o,f);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var N=o.lastRenderedState,O=v(N,c);if(f.hasEagerState=!0,f.eagerState=O,Zr(O,N)){var V=o.interleaved;V===null?(f.next=f,Bh(o)):(f.next=V.next,V.next=f),o.interleaved=f;return}}catch{}c=Zg(i,o,f,h),c!==null&&(f=ir(),ns(c,i,h,f),j0(c,o,h))}}function _0(i){var o=i.alternate;return i===lt||o!==null&&o===lt}function N0(i,o){fl=pu=!0;var c=i.pending;c===null?o.next=o:(o.next=c.next,c.next=o),i.pending=o}function j0(i,o,c){if((c&4194240)!==0){var h=o.lanes;h&=i.pendingLanes,c|=h,o.lanes=c,_n(i,c)}}var xu={readContext:Lr,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},R1={readContext:Lr,useCallback:function(i,o){return ys().memoizedState=[i,o===void 0?null:o],i},useContext:Lr,useEffect:m0,useImperativeHandle:function(i,o,c){return c=c!=null?c.concat([i]):null,fu(4194308,4,g0.bind(null,o,i),c)},useLayoutEffect:function(i,o){return fu(4194308,4,i,o)},useInsertionEffect:function(i,o){return fu(4,2,i,o)},useMemo:function(i,o){var c=ys();return o=o===void 0?null:o,i=i(),c.memoizedState=[i,o],i},useReducer:function(i,o,c){var h=ys();return o=c!==void 0?c(o):o,h.memoizedState=h.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},h.queue=i,i=i.dispatch=A1.bind(null,lt,i),[h.memoizedState,i]},useRef:function(i){var o=ys();return i={current:i},o.memoizedState=i},useState:d0,useDebugValue:tm,useDeferredValue:function(i){return ys().memoizedState=i},useTransition:function(){var i=d0(!1),o=i[0];return i=C1.bind(null,i[1]),ys().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,c){var h=lt,f=ys();if(it){if(c===void 0)throw Error(t(407));c=c()}else{if(c=o(),At===null)throw Error(t(349));(Di&30)!==0||a0(h,o,c)}f.memoizedState=c;var v={value:c,getSnapshot:o};return f.queue=v,m0(l0.bind(null,h,v,i),[i]),h.flags|=2048,yl(9,o0.bind(null,h,v,c,o),void 0,null),c},useId:function(){var i=ys(),o=At.identifierPrefix;if(it){var c=Ws,h=Hs;c=(h&~(1<<32-rr(h)-1)).toString(32)+c,o=":"+o+"R"+c,c=gl++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=I1++,o=":"+o+"r"+c.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},D1={readContext:Lr,useCallback:y0,useContext:Lr,useEffect:em,useImperativeHandle:x0,useInsertionEffect:p0,useLayoutEffect:f0,useMemo:v0,useReducer:Jh,useRef:h0,useState:function(){return Jh(xl)},useDebugValue:tm,useDeferredValue:function(i){var o=Vr();return b0(o,Et.memoizedState,i)},useTransition:function(){var i=Jh(xl)[0],o=Vr().memoizedState;return[i,o]},useMutableSource:n0,useSyncExternalStore:i0,useId:w0,unstable_isNewReconciler:!1},M1={readContext:Lr,useCallback:y0,useContext:Lr,useEffect:em,useImperativeHandle:x0,useInsertionEffect:p0,useLayoutEffect:f0,useMemo:v0,useReducer:Zh,useRef:h0,useState:function(){return Zh(xl)},useDebugValue:tm,useDeferredValue:function(i){var o=Vr();return Et===null?o.memoizedState=i:b0(o,Et.memoizedState,i)},useTransition:function(){var i=Zh(xl)[0],o=Vr().memoizedState;return[i,o]},useMutableSource:n0,useSyncExternalStore:i0,useId:w0,unstable_isNewReconciler:!1};function ts(i,o){if(i&&i.defaultProps){o=oe({},o),i=i.defaultProps;for(var c in i)o[c]===void 0&&(o[c]=i[c]);return o}return o}function rm(i,o,c,h){o=i.memoizedState,c=c(h,o),c=c==null?o:oe({},o,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var yu={isMounted:function(i){return(i=i._reactInternals)?Wr(i)===i:!1},enqueueSetState:function(i,o,c){i=i._reactInternals;var h=ir(),f=Ln(i),v=Ks(h,f);v.payload=o,c!=null&&(v.callback=c),o=Rn(i,v,f),o!==null&&(ns(o,i,f,h),uu(o,i,f))},enqueueReplaceState:function(i,o,c){i=i._reactInternals;var h=ir(),f=Ln(i),v=Ks(h,f);v.tag=1,v.payload=o,c!=null&&(v.callback=c),o=Rn(i,v,f),o!==null&&(ns(o,i,f,h),uu(o,i,f))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var c=ir(),h=Ln(i),f=Ks(c,h);f.tag=2,o!=null&&(f.callback=o),o=Rn(i,f,h),o!==null&&(ns(o,i,h,c),uu(o,i,h))}};function E0(i,o,c,h,f,v,N){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,v,N):o.prototype&&o.prototype.isPureReactComponent?!nl(c,h)||!nl(f,v):!0}function k0(i,o,c){var h=!1,f=Cn,v=o.contextType;return typeof v=="object"&&v!==null?v=Lr(v):(f=dr(o)?Ii:Gt.current,h=o.contextTypes,v=(h=h!=null)?$a(i,f):Cn),o=new o(c,v),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=yu,i.stateNode=o,o._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=f,i.__reactInternalMemoizedMaskedChildContext=v),o}function T0(i,o,c,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,h),o.state!==i&&yu.enqueueReplaceState(o,o.state,null)}function sm(i,o,c,h){var f=i.stateNode;f.props=c,f.state=i.memoizedState,f.refs={},zh(i);var v=o.contextType;typeof v=="object"&&v!==null?f.context=Lr(v):(v=dr(o)?Ii:Gt.current,f.context=$a(i,v)),f.state=i.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(rm(i,o,v,c),f.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(o=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),o!==f.state&&yu.enqueueReplaceState(f,f.state,null),du(i,c,f,h),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308)}function Qa(i,o){try{var c="",h=o;do c+=Re(h),h=h.return;while(h);var f=c}catch(v){f=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:o,stack:f,digest:null}}function nm(i,o,c){return{value:i,source:null,stack:c??null,digest:o??null}}function im(i,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var O1=typeof WeakMap=="function"?WeakMap:Map;function S0(i,o,c){c=Ks(-1,c),c.tag=3,c.payload={element:null};var h=o.value;return c.callback=function(){Eu||(Eu=!0,bm=h),im(i,o)},c}function I0(i,o,c){c=Ks(-1,c),c.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;c.payload=function(){return h(f)},c.callback=function(){im(i,o)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(c.callback=function(){im(i,o),typeof h!="function"&&(Mn===null?Mn=new Set([this]):Mn.add(this));var N=o.stack;this.componentDidCatch(o.value,{componentStack:N!==null?N:""})}),c}function C0(i,o,c){var h=i.pingCache;if(h===null){h=i.pingCache=new O1;var f=new Set;h.set(o,f)}else f=h.get(o),f===void 0&&(f=new Set,h.set(o,f));f.has(c)||(f.add(c),i=Y1.bind(null,i,o,c),o.then(i,i))}function A0(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function P0(i,o,c,h,f){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=Ks(-1,1),o.tag=2,Rn(c,o,1))),c.lanes|=1),i):(i.flags|=65536,i.lanes=f,i)}var L1=$.ReactCurrentOwner,hr=!1;function nr(i,o,c,h){o.child=i===null?Jg(o,null,c,h):Ha(o,i.child,c,h)}function R0(i,o,c,h,f){c=c.render;var v=o.ref;return Ga(o,f),h=Yh(i,o,c,h,v,f),c=Xh(),i!==null&&!hr?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~f,Qs(i,o,f)):(it&&c&&Rh(o),o.flags|=1,nr(i,o,h,f),o.child)}function D0(i,o,c,h,f){if(i===null){var v=c.type;return typeof v=="function"&&!Tm(v)&&v.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=v,M0(i,o,v,h,f)):(i=Au(c.type,null,h,o,o.mode,f),i.ref=o.ref,i.return=o,o.child=i)}if(v=i.child,(i.lanes&f)===0){var N=v.memoizedProps;if(c=c.compare,c=c!==null?c:nl,c(N,h)&&i.ref===o.ref)return Qs(i,o,f)}return o.flags|=1,i=Fn(v,h),i.ref=o.ref,i.return=o,o.child=i}function M0(i,o,c,h,f){if(i!==null){var v=i.memoizedProps;if(nl(v,h)&&i.ref===o.ref)if(hr=!1,o.pendingProps=h=v,(i.lanes&f)!==0)(i.flags&131072)!==0&&(hr=!0);else return o.lanes=i.lanes,Qs(i,o,f)}return am(i,o,c,h,f)}function O0(i,o,c){var h=o.pendingProps,f=h.children,v=i!==null?i.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Xa,kr),kr|=c;else{if((c&1073741824)===0)return i=v!==null?v.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Ze(Xa,kr),kr|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=v!==null?v.baseLanes:c,Ze(Xa,kr),kr|=h}else v!==null?(h=v.baseLanes|c,o.memoizedState=null):h=c,Ze(Xa,kr),kr|=h;return nr(i,o,f,c),o.child}function L0(i,o){var c=o.ref;(i===null&&c!==null||i!==null&&i.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function am(i,o,c,h,f){var v=dr(c)?Ii:Gt.current;return v=$a(o,v),Ga(o,f),c=Yh(i,o,c,h,v,f),h=Xh(),i!==null&&!hr?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~f,Qs(i,o,f)):(it&&h&&Rh(o),o.flags|=1,nr(i,o,c,f),o.child)}function V0(i,o,c,h,f){if(dr(c)){var v=!0;ru(o)}else v=!1;if(Ga(o,f),o.stateNode===null)bu(i,o),k0(o,c,h),sm(o,c,h,f),h=!0;else if(i===null){var N=o.stateNode,O=o.memoizedProps;N.props=O;var V=N.context,Y=c.contextType;typeof Y=="object"&&Y!==null?Y=Lr(Y):(Y=dr(c)?Ii:Gt.current,Y=$a(o,Y));var ie=c.getDerivedStateFromProps,le=typeof ie=="function"||typeof N.getSnapshotBeforeUpdate=="function";le||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(O!==h||V!==Y)&&T0(o,N,h,Y),Pn=!1;var ne=o.memoizedState;N.state=ne,du(o,h,N,f),V=o.memoizedState,O!==h||ne!==V||ur.current||Pn?(typeof ie=="function"&&(rm(o,c,ie,h),V=o.memoizedState),(O=Pn||E0(o,c,O,h,ne,V,Y))?(le||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(o.flags|=4194308)):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=V),N.props=h,N.state=V,N.context=Y,h=O):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{N=o.stateNode,e0(i,o),O=o.memoizedProps,Y=o.type===o.elementType?O:ts(o.type,O),N.props=Y,le=o.pendingProps,ne=N.context,V=c.contextType,typeof V=="object"&&V!==null?V=Lr(V):(V=dr(c)?Ii:Gt.current,V=$a(o,V));var fe=c.getDerivedStateFromProps;(ie=typeof fe=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(O!==le||ne!==V)&&T0(o,N,h,V),Pn=!1,ne=o.memoizedState,N.state=ne,du(o,h,N,f);var ye=o.memoizedState;O!==le||ne!==ye||ur.current||Pn?(typeof fe=="function"&&(rm(o,c,fe,h),ye=o.memoizedState),(Y=Pn||E0(o,c,Y,h,ne,ye,V)||!1)?(ie||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(h,ye,V),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(h,ye,V)),typeof N.componentDidUpdate=="function"&&(o.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof N.componentDidUpdate!="function"||O===i.memoizedProps&&ne===i.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&ne===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=ye),N.props=h,N.state=ye,N.context=V,h=Y):(typeof N.componentDidUpdate!="function"||O===i.memoizedProps&&ne===i.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&ne===i.memoizedState||(o.flags|=1024),h=!1)}return om(i,o,c,h,v,f)}function om(i,o,c,h,f,v){L0(i,o);var N=(o.flags&128)!==0;if(!h&&!N)return f&&zg(o,c,!1),Qs(i,o,v);h=o.stateNode,L1.current=o;var O=N&&typeof c.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,i!==null&&N?(o.child=Ha(o,i.child,null,v),o.child=Ha(o,null,O,v)):nr(i,o,O,v),o.memoizedState=h.state,f&&zg(o,c,!0),o.child}function F0(i){var o=i.stateNode;o.pendingContext?$g(i,o.pendingContext,o.pendingContext!==o.context):o.context&&$g(i,o.context,!1),qh(i,o.containerInfo)}function U0(i,o,c,h,f){return qa(),Lh(f),o.flags|=256,nr(i,o,c,h),o.child}var lm={dehydrated:null,treeContext:null,retryLane:0};function cm(i){return{baseLanes:i,cachePool:null,transitions:null}}function $0(i,o,c){var h=o.pendingProps,f=ot.current,v=!1,N=(o.flags&128)!==0,O;if((O=N)||(O=i!==null&&i.memoizedState===null?!1:(f&2)!==0),O?(v=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(f|=1),Ze(ot,f&1),i===null)return Oh(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(N=h.children,i=h.fallback,v?(h=o.mode,v=o.child,N={mode:"hidden",children:N},(h&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=N):v=Pu(N,h,0,null),i=Fi(i,h,c,null),v.return=o,i.return=o,v.sibling=i,o.child=v,o.child.memoizedState=cm(c),o.memoizedState=lm,i):um(o,N));if(f=i.memoizedState,f!==null&&(O=f.dehydrated,O!==null))return V1(i,o,N,h,O,f,c);if(v){v=h.fallback,N=o.mode,f=i.child,O=f.sibling;var V={mode:"hidden",children:h.children};return(N&1)===0&&o.child!==f?(h=o.child,h.childLanes=0,h.pendingProps=V,o.deletions=null):(h=Fn(f,V),h.subtreeFlags=f.subtreeFlags&14680064),O!==null?v=Fn(O,v):(v=Fi(v,N,c,null),v.flags|=2),v.return=o,h.return=o,h.sibling=v,o.child=h,h=v,v=o.child,N=i.child.memoizedState,N=N===null?cm(c):{baseLanes:N.baseLanes|c,cachePool:null,transitions:N.transitions},v.memoizedState=N,v.childLanes=i.childLanes&~c,o.memoizedState=lm,h}return v=i.child,i=v.sibling,h=Fn(v,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=c),h.return=o,h.sibling=null,i!==null&&(c=o.deletions,c===null?(o.deletions=[i],o.flags|=16):c.push(i)),o.child=h,o.memoizedState=null,h}function um(i,o){return o=Pu({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function vu(i,o,c,h){return h!==null&&Lh(h),Ha(o,i.child,null,c),i=um(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function V1(i,o,c,h,f,v,N){if(c)return o.flags&256?(o.flags&=-257,h=nm(Error(t(422))),vu(i,o,N,h)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(v=h.fallback,f=o.mode,h=Pu({mode:"visible",children:h.children},f,0,null),v=Fi(v,f,N,null),v.flags|=2,h.return=o,v.return=o,h.sibling=v,o.child=h,(o.mode&1)!==0&&Ha(o,i.child,null,N),o.child.memoizedState=cm(N),o.memoizedState=lm,v);if((o.mode&1)===0)return vu(i,o,N,null);if(f.data==="$!"){if(h=f.nextSibling&&f.nextSibling.dataset,h)var O=h.dgst;return h=O,v=Error(t(419)),h=nm(v,h,void 0),vu(i,o,N,h)}if(O=(N&i.childLanes)!==0,hr||O){if(h=At,h!==null){switch(N&-N){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(h.suspendedLanes|N))!==0?0:f,f!==0&&f!==v.retryLane&&(v.retryLane=f,Gs(i,f),ns(h,i,f,-1))}return km(),h=nm(Error(t(421))),vu(i,o,N,h)}return f.data==="$?"?(o.flags|=128,o.child=i.child,o=X1.bind(null,i),f._reactRetry=o,null):(i=v.treeContext,Er=Sn(f.nextSibling),jr=o,it=!0,es=null,i!==null&&(Mr[Or++]=Hs,Mr[Or++]=Ws,Mr[Or++]=Ci,Hs=i.id,Ws=i.overflow,Ci=o),o=um(o,h.children),o.flags|=4096,o)}function B0(i,o,c){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),$h(i.return,o,c)}function dm(i,o,c,h,f){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:f}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=c,v.tailMode=f)}function z0(i,o,c){var h=o.pendingProps,f=h.revealOrder,v=h.tail;if(nr(i,o,h.children,c),h=ot.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&B0(i,c,o);else if(i.tag===19)B0(i,c,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(Ze(ot,h),(o.mode&1)===0)o.memoizedState=null;else switch(f){case"forwards":for(c=o.child,f=null;c!==null;)i=c.alternate,i!==null&&hu(i)===null&&(f=c),c=c.sibling;c=f,c===null?(f=o.child,o.child=null):(f=c.sibling,c.sibling=null),dm(o,!1,f,c,v);break;case"backwards":for(c=null,f=o.child,o.child=null;f!==null;){if(i=f.alternate,i!==null&&hu(i)===null){o.child=f;break}i=f.sibling,f.sibling=c,c=f,f=i}dm(o,!0,c,null,v);break;case"together":dm(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function bu(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Qs(i,o,c){if(i!==null&&(o.dependencies=i.dependencies),Mi|=o.lanes,(c&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,c=Fn(i,i.pendingProps),o.child=c,c.return=o;i.sibling!==null;)i=i.sibling,c=c.sibling=Fn(i,i.pendingProps),c.return=o;c.sibling=null}return o.child}function F1(i,o,c){switch(o.tag){case 3:F0(o),qa();break;case 5:s0(o);break;case 1:dr(o.type)&&ru(o);break;case 4:qh(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,f=o.memoizedProps.value;Ze(lu,h._currentValue),h._currentValue=f;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(Ze(ot,ot.current&1),o.flags|=128,null):(c&o.child.childLanes)!==0?$0(i,o,c):(Ze(ot,ot.current&1),i=Qs(i,o,c),i!==null?i.sibling:null);Ze(ot,ot.current&1);break;case 19:if(h=(c&o.childLanes)!==0,(i.flags&128)!==0){if(h)return z0(i,o,c);o.flags|=128}if(f=o.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ze(ot,ot.current),h)break;return null;case 22:case 23:return o.lanes=0,O0(i,o,c)}return Qs(i,o,c)}var q0,hm,H0,W0;q0=function(i,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},hm=function(){},H0=function(i,o,c,h){var f=i.memoizedProps;if(f!==h){i=o.stateNode,Ri(xs.current);var v=null;switch(c){case"input":f=hi(i,f),h=hi(i,h),v=[];break;case"select":f=oe({},f,{value:void 0}),h=oe({},h,{value:void 0}),v=[];break;case"textarea":f=Ro(i,f),h=Ro(i,h),v=[];break;default:typeof f.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=Zc)}Fo(c,h);var N;c=null;for(Y in f)if(!h.hasOwnProperty(Y)&&f.hasOwnProperty(Y)&&f[Y]!=null)if(Y==="style"){var O=f[Y];for(N in O)O.hasOwnProperty(N)&&(c||(c={}),c[N]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(a.hasOwnProperty(Y)?v||(v=[]):(v=v||[]).push(Y,null));for(Y in h){var V=h[Y];if(O=f?.[Y],h.hasOwnProperty(Y)&&V!==O&&(V!=null||O!=null))if(Y==="style")if(O){for(N in O)!O.hasOwnProperty(N)||V&&V.hasOwnProperty(N)||(c||(c={}),c[N]="");for(N in V)V.hasOwnProperty(N)&&O[N]!==V[N]&&(c||(c={}),c[N]=V[N])}else c||(v||(v=[]),v.push(Y,c)),c=V;else Y==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,O=O?O.__html:void 0,V!=null&&O!==V&&(v=v||[]).push(Y,V)):Y==="children"?typeof V!="string"&&typeof V!="number"||(v=v||[]).push(Y,""+V):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(a.hasOwnProperty(Y)?(V!=null&&Y==="onScroll"&&et("scroll",i),v||O===V||(v=[])):(v=v||[]).push(Y,V))}c&&(v=v||[]).push("style",c);var Y=v;(o.updateQueue=Y)&&(o.flags|=4)}},W0=function(i,o,c,h){c!==h&&(o.flags|=4)};function vl(i,o){if(!it)switch(i.tailMode){case"hidden":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Qt(i){var o=i.alternate!==null&&i.alternate.child===i.child,c=0,h=0;if(o)for(var f=i.child;f!==null;)c|=f.lanes|f.childLanes,h|=f.subtreeFlags&14680064,h|=f.flags&14680064,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)c|=f.lanes|f.childLanes,h|=f.subtreeFlags,h|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=h,i.childLanes=c,o}function U1(i,o,c){var h=o.pendingProps;switch(Dh(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(o),null;case 1:return dr(o.type)&&tu(),Qt(o),null;case 3:return h=o.stateNode,Ka(),tt(ur),tt(Gt),Gh(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(au(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,es!==null&&(Nm(es),es=null))),hm(i,o),Qt(o),null;case 5:Hh(o);var f=Ri(pl.current);if(c=o.type,i!==null&&o.stateNode!=null)H0(i,o,c,h,f),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(t(166));return Qt(o),null}if(i=Ri(xs.current),au(o)){h=o.stateNode,c=o.type;var v=o.memoizedProps;switch(h[gs]=o,h[cl]=v,i=(o.mode&1)!==0,c){case"dialog":et("cancel",h),et("close",h);break;case"iframe":case"object":case"embed":et("load",h);break;case"video":case"audio":for(f=0;f<al.length;f++)et(al[f],h);break;case"source":et("error",h);break;case"img":case"image":case"link":et("error",h),et("load",h);break;case"details":et("toggle",h);break;case"input":ca(h,v),et("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!v.multiple},et("invalid",h);break;case"textarea":da(h,v),et("invalid",h)}Fo(c,v),f=null;for(var N in v)if(v.hasOwnProperty(N)){var O=v[N];N==="children"?typeof O=="string"?h.textContent!==O&&(v.suppressHydrationWarning!==!0&&Jc(h.textContent,O,i),f=["children",O]):typeof O=="number"&&h.textContent!==""+O&&(v.suppressHydrationWarning!==!0&&Jc(h.textContent,O,i),f=["children",""+O]):a.hasOwnProperty(N)&&O!=null&&N==="onScroll"&&et("scroll",h)}switch(c){case"input":Rs(h),jc(h,v,!0);break;case"textarea":Rs(h),Do(h);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(h.onclick=Zc)}h=f,o.updateQueue=h,h!==null&&(o.flags|=4)}else{N=f.nodeType===9?f:f.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=_t(c)),i==="http://www.w3.org/1999/xhtml"?c==="script"?(i=N.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=N.createElement(c,{is:h.is}):(i=N.createElement(c),c==="select"&&(N=i,h.multiple?N.multiple=!0:h.size&&(N.size=h.size))):i=N.createElementNS(i,c),i[gs]=o,i[cl]=h,q0(i,o,!1,!1),o.stateNode=i;e:{switch(N=Uo(c,h),c){case"dialog":et("cancel",i),et("close",i),f=h;break;case"iframe":case"object":case"embed":et("load",i),f=h;break;case"video":case"audio":for(f=0;f<al.length;f++)et(al[f],i);f=h;break;case"source":et("error",i),f=h;break;case"img":case"image":case"link":et("error",i),et("load",i),f=h;break;case"details":et("toggle",i),f=h;break;case"input":ca(i,h),f=hi(i,h),et("invalid",i);break;case"option":f=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},f=oe({},h,{value:void 0}),et("invalid",i);break;case"textarea":da(i,h),f=Ro(i,h),et("invalid",i);break;default:f=h}Fo(c,f),O=f;for(v in O)if(O.hasOwnProperty(v)){var V=O[v];v==="style"?Lo(i,V):v==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&Mo(i,V)):v==="children"?typeof V=="string"?(c!=="textarea"||V!=="")&&xn(i,V):typeof V=="number"&&xn(i,""+V):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(a.hasOwnProperty(v)?V!=null&&v==="onScroll"&&et("scroll",i):V!=null&&Z(i,v,V,N))}switch(c){case"input":Rs(i),jc(i,h,!1);break;case"textarea":Rs(i),Do(i);break;case"option":h.value!=null&&i.setAttribute("value",""+He(h.value));break;case"select":i.multiple=!!h.multiple,v=h.value,v!=null?Ms(i,!!h.multiple,v,!1):h.defaultValue!=null&&Ms(i,!!h.multiple,h.defaultValue,!0);break;default:typeof f.onClick=="function"&&(i.onclick=Zc)}switch(c){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Qt(o),null;case 6:if(i&&o.stateNode!=null)W0(i,o,i.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(t(166));if(c=Ri(pl.current),Ri(xs.current),au(o)){if(h=o.stateNode,c=o.memoizedProps,h[gs]=o,(v=h.nodeValue!==c)&&(i=jr,i!==null))switch(i.tag){case 3:Jc(h.nodeValue,c,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Jc(h.nodeValue,c,(i.mode&1)!==0)}v&&(o.flags|=4)}else h=(c.nodeType===9?c:c.ownerDocument).createTextNode(h),h[gs]=o,o.stateNode=h}return Qt(o),null;case 13:if(tt(ot),h=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(it&&Er!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Qg(),qa(),o.flags|=98560,v=!1;else if(v=au(o),h!==null&&h.dehydrated!==null){if(i===null){if(!v)throw Error(t(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[gs]=o}else qa(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Qt(o),v=!1}else es!==null&&(Nm(es),es=null),v=!0;if(!v)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=c,o):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(ot.current&1)!==0?kt===0&&(kt=3):km())),o.updateQueue!==null&&(o.flags|=4),Qt(o),null);case 4:return Ka(),hm(i,o),i===null&&ol(o.stateNode.containerInfo),Qt(o),null;case 10:return Uh(o.type._context),Qt(o),null;case 17:return dr(o.type)&&tu(),Qt(o),null;case 19:if(tt(ot),v=o.memoizedState,v===null)return Qt(o),null;if(h=(o.flags&128)!==0,N=v.rendering,N===null)if(h)vl(v,!1);else{if(kt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(N=hu(i),N!==null){for(o.flags|=128,vl(v,!1),h=N.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=c,c=o.child;c!==null;)v=c,i=h,v.flags&=14680066,N=v.alternate,N===null?(v.childLanes=0,v.lanes=i,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=N.childLanes,v.lanes=N.lanes,v.child=N.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=N.memoizedProps,v.memoizedState=N.memoizedState,v.updateQueue=N.updateQueue,v.type=N.type,i=N.dependencies,v.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),c=c.sibling;return Ze(ot,ot.current&1|2),o.child}i=i.sibling}v.tail!==null&&Je()>Ja&&(o.flags|=128,h=!0,vl(v,!1),o.lanes=4194304)}else{if(!h)if(i=hu(N),i!==null){if(o.flags|=128,h=!0,c=i.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),vl(v,!0),v.tail===null&&v.tailMode==="hidden"&&!N.alternate&&!it)return Qt(o),null}else 2*Je()-v.renderingStartTime>Ja&&c!==1073741824&&(o.flags|=128,h=!0,vl(v,!1),o.lanes=4194304);v.isBackwards?(N.sibling=o.child,o.child=N):(c=v.last,c!==null?c.sibling=N:o.child=N,v.last=N)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=Je(),o.sibling=null,c=ot.current,Ze(ot,h?c&1|2:c&1),o):(Qt(o),null);case 22:case 23:return Em(),h=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(kr&1073741824)!==0&&(Qt(o),o.subtreeFlags&6&&(o.flags|=8192)):Qt(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function $1(i,o){switch(Dh(o),o.tag){case 1:return dr(o.type)&&tu(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Ka(),tt(ur),tt(Gt),Gh(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return Hh(o),null;case 13:if(tt(ot),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));qa()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return tt(ot),null;case 4:return Ka(),null;case 10:return Uh(o.type._context),null;case 22:case 23:return Em(),null;case 24:return null;default:return null}}var wu=!1,Yt=!1,B1=typeof WeakSet=="function"?WeakSet:Set,xe=null;function Ya(i,o){var c=i.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(h){dt(i,o,h)}else c.current=null}function mm(i,o,c){try{c()}catch(h){dt(i,o,h)}}var G0=!1;function z1(i,o){if(Eh=En,i=Eg(),xh(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var f=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{c.nodeType,v.nodeType}catch{c=null;break e}var N=0,O=-1,V=-1,Y=0,ie=0,le=i,ne=null;t:for(;;){for(var fe;le!==c||f!==0&&le.nodeType!==3||(O=N+f),le!==v||h!==0&&le.nodeType!==3||(V=N+h),le.nodeType===3&&(N+=le.nodeValue.length),(fe=le.firstChild)!==null;)ne=le,le=fe;for(;;){if(le===i)break t;if(ne===c&&++Y===f&&(O=N),ne===v&&++ie===h&&(V=N),(fe=le.nextSibling)!==null)break;le=ne,ne=le.parentNode}le=fe}c=O===-1||V===-1?null:{start:O,end:V}}else c=null}c=c||{start:0,end:0}}else c=null;for(kh={focusedElem:i,selectionRange:c},En=!1,xe=o;xe!==null;)if(o=xe,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,xe=i;else for(;xe!==null;){o=xe;try{var ye=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ye!==null){var ve=ye.memoizedProps,ft=ye.memoizedState,q=o.stateNode,F=q.getSnapshotBeforeUpdate(o.elementType===o.type?ve:ts(o.type,ve),ft);q.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var H=o.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ce){dt(o,o.return,ce)}if(i=o.sibling,i!==null){i.return=o.return,xe=i;break}xe=o.return}return ye=G0,G0=!1,ye}function bl(i,o,c){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var f=h=h.next;do{if((f.tag&i)===i){var v=f.destroy;f.destroy=void 0,v!==void 0&&mm(o,c,v)}f=f.next}while(f!==h)}}function _u(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&i)===i){var h=c.create;c.destroy=h()}c=c.next}while(c!==o)}}function pm(i){var o=i.ref;if(o!==null){var c=i.stateNode;i.tag,i=c,typeof o=="function"?o(i):o.current=i}}function K0(i){var o=i.alternate;o!==null&&(i.alternate=null,K0(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[gs],delete o[cl],delete o[Ch],delete o[E1],delete o[k1])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Q0(i){return i.tag===5||i.tag===3||i.tag===4}function Y0(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Q0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function fm(i,o,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(i,o):c.insertBefore(i,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(i,c)):(o=c,o.appendChild(i)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Zc));else if(h!==4&&(i=i.child,i!==null))for(fm(i,o,c),i=i.sibling;i!==null;)fm(i,o,c),i=i.sibling}function gm(i,o,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?c.insertBefore(i,o):c.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(gm(i,o,c),i=i.sibling;i!==null;)gm(i,o,c),i=i.sibling}var Vt=null,rs=!1;function Dn(i,o,c){for(c=c.child;c!==null;)X0(i,o,c),c=c.sibling}function X0(i,o,c){if(br&&typeof br.onCommitFiberUnmount=="function")try{br.onCommitFiberUnmount(wi,c)}catch{}switch(c.tag){case 5:Yt||Ya(c,o);case 6:var h=Vt,f=rs;Vt=null,Dn(i,o,c),Vt=h,rs=f,Vt!==null&&(rs?(i=Vt,c=c.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)):Vt.removeChild(c.stateNode));break;case 18:Vt!==null&&(rs?(i=Vt,c=c.stateNode,i.nodeType===8?Ih(i.parentNode,c):i.nodeType===1&&Ih(i,c),Xr(i)):Ih(Vt,c.stateNode));break;case 4:h=Vt,f=rs,Vt=c.stateNode.containerInfo,rs=!0,Dn(i,o,c),Vt=h,rs=f;break;case 0:case 11:case 14:case 15:if(!Yt&&(h=c.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){f=h=h.next;do{var v=f,N=v.destroy;v=v.tag,N!==void 0&&((v&2)!==0||(v&4)!==0)&&mm(c,o,N),f=f.next}while(f!==h)}Dn(i,o,c);break;case 1:if(!Yt&&(Ya(c,o),h=c.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=c.memoizedProps,h.state=c.memoizedState,h.componentWillUnmount()}catch(O){dt(c,o,O)}Dn(i,o,c);break;case 21:Dn(i,o,c);break;case 22:c.mode&1?(Yt=(h=Yt)||c.memoizedState!==null,Dn(i,o,c),Yt=h):Dn(i,o,c);break;default:Dn(i,o,c)}}function J0(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var c=i.stateNode;c===null&&(c=i.stateNode=new B1),o.forEach(function(h){var f=J1.bind(null,i,h);c.has(h)||(c.add(h),h.then(f,f))})}}function ss(i,o){var c=o.deletions;if(c!==null)for(var h=0;h<c.length;h++){var f=c[h];try{var v=i,N=o,O=N;e:for(;O!==null;){switch(O.tag){case 5:Vt=O.stateNode,rs=!1;break e;case 3:Vt=O.stateNode.containerInfo,rs=!0;break e;case 4:Vt=O.stateNode.containerInfo,rs=!0;break e}O=O.return}if(Vt===null)throw Error(t(160));X0(v,N,f),Vt=null,rs=!1;var V=f.alternate;V!==null&&(V.return=null),f.return=null}catch(Y){dt(f,o,Y)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Z0(o,i),o=o.sibling}function Z0(i,o){var c=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(ss(o,i),vs(i),h&4){try{bl(3,i,i.return),_u(3,i)}catch(ve){dt(i,i.return,ve)}try{bl(5,i,i.return)}catch(ve){dt(i,i.return,ve)}}break;case 1:ss(o,i),vs(i),h&512&&c!==null&&Ya(c,c.return);break;case 5:if(ss(o,i),vs(i),h&512&&c!==null&&Ya(c,c.return),i.flags&32){var f=i.stateNode;try{xn(f,"")}catch(ve){dt(i,i.return,ve)}}if(h&4&&(f=i.stateNode,f!=null)){var v=i.memoizedProps,N=c!==null?c.memoizedProps:v,O=i.type,V=i.updateQueue;if(i.updateQueue=null,V!==null)try{O==="input"&&v.type==="radio"&&v.name!=null&&Ao(f,v),Uo(O,N);var Y=Uo(O,v);for(N=0;N<V.length;N+=2){var ie=V[N],le=V[N+1];ie==="style"?Lo(f,le):ie==="dangerouslySetInnerHTML"?Mo(f,le):ie==="children"?xn(f,le):Z(f,ie,le,Y)}switch(O){case"input":Po(f,v);break;case"textarea":ha(f,v);break;case"select":var ne=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!v.multiple;var fe=v.value;fe!=null?Ms(f,!!v.multiple,fe,!1):ne!==!!v.multiple&&(v.defaultValue!=null?Ms(f,!!v.multiple,v.defaultValue,!0):Ms(f,!!v.multiple,v.multiple?[]:"",!1))}f[cl]=v}catch(ve){dt(i,i.return,ve)}}break;case 6:if(ss(o,i),vs(i),h&4){if(i.stateNode===null)throw Error(t(162));f=i.stateNode,v=i.memoizedProps;try{f.nodeValue=v}catch(ve){dt(i,i.return,ve)}}break;case 3:if(ss(o,i),vs(i),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Xr(o.containerInfo)}catch(ve){dt(i,i.return,ve)}break;case 4:ss(o,i),vs(i);break;case 13:ss(o,i),vs(i),f=i.child,f.flags&8192&&(v=f.memoizedState!==null,f.stateNode.isHidden=v,!v||f.alternate!==null&&f.alternate.memoizedState!==null||(vm=Je())),h&4&&J0(i);break;case 22:if(ie=c!==null&&c.memoizedState!==null,i.mode&1?(Yt=(Y=Yt)||ie,ss(o,i),Yt=Y):ss(o,i),vs(i),h&8192){if(Y=i.memoizedState!==null,(i.stateNode.isHidden=Y)&&!ie&&(i.mode&1)!==0)for(xe=i,ie=i.child;ie!==null;){for(le=xe=ie;xe!==null;){switch(ne=xe,fe=ne.child,ne.tag){case 0:case 11:case 14:case 15:bl(4,ne,ne.return);break;case 1:Ya(ne,ne.return);var ye=ne.stateNode;if(typeof ye.componentWillUnmount=="function"){h=ne,c=ne.return;try{o=h,ye.props=o.memoizedProps,ye.state=o.memoizedState,ye.componentWillUnmount()}catch(ve){dt(h,c,ve)}}break;case 5:Ya(ne,ne.return);break;case 22:if(ne.memoizedState!==null){rx(le);continue}}fe!==null?(fe.return=ne,xe=fe):rx(le)}ie=ie.sibling}e:for(ie=null,le=i;;){if(le.tag===5){if(ie===null){ie=le;try{f=le.stateNode,Y?(v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(O=le.stateNode,V=le.memoizedProps.style,N=V!=null&&V.hasOwnProperty("display")?V.display:null,O.style.display=Oo("display",N))}catch(ve){dt(i,i.return,ve)}}}else if(le.tag===6){if(ie===null)try{le.stateNode.nodeValue=Y?"":le.memoizedProps}catch(ve){dt(i,i.return,ve)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===i)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===i)break e;for(;le.sibling===null;){if(le.return===null||le.return===i)break e;ie===le&&(ie=null),le=le.return}ie===le&&(ie=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:ss(o,i),vs(i),h&4&&J0(i);break;case 21:break;default:ss(o,i),vs(i)}}function vs(i){var o=i.flags;if(o&2){try{e:{for(var c=i.return;c!==null;){if(Q0(c)){var h=c;break e}c=c.return}throw Error(t(160))}switch(h.tag){case 5:var f=h.stateNode;h.flags&32&&(xn(f,""),h.flags&=-33);var v=Y0(i);gm(i,v,f);break;case 3:case 4:var N=h.stateNode.containerInfo,O=Y0(i);fm(i,O,N);break;default:throw Error(t(161))}}catch(V){dt(i,i.return,V)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function q1(i,o,c){xe=i,ex(i)}function ex(i,o,c){for(var h=(i.mode&1)!==0;xe!==null;){var f=xe,v=f.child;if(f.tag===22&&h){var N=f.memoizedState!==null||wu;if(!N){var O=f.alternate,V=O!==null&&O.memoizedState!==null||Yt;O=wu;var Y=Yt;if(wu=N,(Yt=V)&&!Y)for(xe=f;xe!==null;)N=xe,V=N.child,N.tag===22&&N.memoizedState!==null?sx(f):V!==null?(V.return=N,xe=V):sx(f);for(;v!==null;)xe=v,ex(v),v=v.sibling;xe=f,wu=O,Yt=Y}tx(i)}else(f.subtreeFlags&8772)!==0&&v!==null?(v.return=f,xe=v):tx(i)}}function tx(i){for(;xe!==null;){var o=xe;if((o.flags&8772)!==0){var c=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Yt||_u(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!Yt)if(c===null)h.componentDidMount();else{var f=o.elementType===o.type?c.memoizedProps:ts(o.type,c.memoizedProps);h.componentDidUpdate(f,c.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&r0(o,v,h);break;case 3:var N=o.updateQueue;if(N!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}r0(o,N,c)}break;case 5:var O=o.stateNode;if(c===null&&o.flags&4){c=O;var V=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&c.focus();break;case"img":V.src&&(c.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Y=o.alternate;if(Y!==null){var ie=Y.memoizedState;if(ie!==null){var le=ie.dehydrated;le!==null&&Xr(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Yt||o.flags&512&&pm(o)}catch(ne){dt(o,o.return,ne)}}if(o===i){xe=null;break}if(c=o.sibling,c!==null){c.return=o.return,xe=c;break}xe=o.return}}function rx(i){for(;xe!==null;){var o=xe;if(o===i){xe=null;break}var c=o.sibling;if(c!==null){c.return=o.return,xe=c;break}xe=o.return}}function sx(i){for(;xe!==null;){var o=xe;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{_u(4,o)}catch(V){dt(o,c,V)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var f=o.return;try{h.componentDidMount()}catch(V){dt(o,f,V)}}var v=o.return;try{pm(o)}catch(V){dt(o,v,V)}break;case 5:var N=o.return;try{pm(o)}catch(V){dt(o,N,V)}}}catch(V){dt(o,o.return,V)}if(o===i){xe=null;break}var O=o.sibling;if(O!==null){O.return=o.return,xe=O;break}xe=o.return}}var H1=Math.ceil,Nu=$.ReactCurrentDispatcher,xm=$.ReactCurrentOwner,Fr=$.ReactCurrentBatchConfig,$e=0,At=null,vt=null,Ft=0,kr=0,Xa=In(0),kt=0,wl=null,Mi=0,ju=0,ym=0,_l=null,mr=null,vm=0,Ja=1/0,Ys=null,Eu=!1,bm=null,Mn=null,ku=!1,On=null,Tu=0,Nl=0,wm=null,Su=-1,Iu=0;function ir(){return($e&6)!==0?Je():Su!==-1?Su:Su=Je()}function Ln(i){return(i.mode&1)===0?1:($e&2)!==0&&Ft!==0?Ft&-Ft:S1.transition!==null?(Iu===0&&(Iu=Ni()),Iu):(i=Oe,i!==0||(i=window.event,i=i===void 0?16:Xo(i.type)),i)}function ns(i,o,c,h){if(50<Nl)throw Nl=0,wm=null,Error(t(185));wn(i,c,h),(($e&2)===0||i!==At)&&(i===At&&(($e&2)===0&&(ju|=c),kt===4&&Vn(i,Ft)),pr(i,h),c===1&&$e===0&&(o.mode&1)===0&&(Ja=Je()+500,su&&An()))}function pr(i,o){var c=i.callbackNode;Vs(i,o);var h=_i(i,i===At?Ft:0);if(h===0)c!==null&&Wo(c),i.callbackNode=null,i.callbackPriority=0;else if(o=h&-h,i.callbackPriority!==o){if(c!=null&&Wo(c),o===1)i.tag===0?T1(ix.bind(null,i)):qg(ix.bind(null,i)),N1(function(){($e&6)===0&&An()}),c=null;else{switch(Nn(h)){case 1:c=bi;break;case 4:c=yn;break;case 16:c=Pr;break;case 536870912:c=Ic;break;default:c=Pr}c=mx(c,nx.bind(null,i))}i.callbackPriority=o,i.callbackNode=c}}function nx(i,o){if(Su=-1,Iu=0,($e&6)!==0)throw Error(t(327));var c=i.callbackNode;if(Za()&&i.callbackNode!==c)return null;var h=_i(i,i===At?Ft:0);if(h===0)return null;if((h&30)!==0||(h&i.expiredLanes)!==0||o)o=Cu(i,h);else{o=h;var f=$e;$e|=2;var v=ox();(At!==i||Ft!==o)&&(Ys=null,Ja=Je()+500,Li(i,o));do try{K1();break}catch(O){ax(i,O)}while(!0);Fh(),Nu.current=v,$e=f,vt!==null?o=0:(At=null,Ft=0,o=kt)}if(o!==0){if(o===2&&(f=wr(i),f!==0&&(h=f,o=_m(i,f))),o===1)throw c=wl,Li(i,0),Vn(i,h),pr(i,Je()),c;if(o===6)Vn(i,h);else{if(f=i.current.alternate,(h&30)===0&&!W1(f)&&(o=Cu(i,h),o===2&&(v=wr(i),v!==0&&(h=v,o=_m(i,v))),o===1))throw c=wl,Li(i,0),Vn(i,h),pr(i,Je()),c;switch(i.finishedWork=f,i.finishedLanes=h,o){case 0:case 1:throw Error(t(345));case 2:Vi(i,mr,Ys);break;case 3:if(Vn(i,h),(h&130023424)===h&&(o=vm+500-Je(),10<o)){if(_i(i,0)!==0)break;if(f=i.suspendedLanes,(f&h)!==h){ir(),i.pingedLanes|=i.suspendedLanes&f;break}i.timeoutHandle=Sh(Vi.bind(null,i,mr,Ys),o);break}Vi(i,mr,Ys);break;case 4:if(Vn(i,h),(h&4194240)===h)break;for(o=i.eventTimes,f=-1;0<h;){var N=31-rr(h);v=1<<N,N=o[N],N>f&&(f=N),h&=~v}if(h=f,h=Je()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*H1(h/1960))-h,10<h){i.timeoutHandle=Sh(Vi.bind(null,i,mr,Ys),h);break}Vi(i,mr,Ys);break;case 5:Vi(i,mr,Ys);break;default:throw Error(t(329))}}}return pr(i,Je()),i.callbackNode===c?nx.bind(null,i):null}function _m(i,o){var c=_l;return i.current.memoizedState.isDehydrated&&(Li(i,o).flags|=256),i=Cu(i,o),i!==2&&(o=mr,mr=c,o!==null&&Nm(o)),i}function Nm(i){mr===null?mr=i:mr.push.apply(mr,i)}function W1(i){for(var o=i;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var h=0;h<c.length;h++){var f=c[h],v=f.getSnapshot;f=f.value;try{if(!Zr(v(),f))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Vn(i,o){for(o&=~ym,o&=~ju,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var c=31-rr(o),h=1<<c;i[c]=-1,o&=~h}}function ix(i){if(($e&6)!==0)throw Error(t(327));Za();var o=_i(i,0);if((o&1)===0)return pr(i,Je()),null;var c=Cu(i,o);if(i.tag!==0&&c===2){var h=wr(i);h!==0&&(o=h,c=_m(i,h))}if(c===1)throw c=wl,Li(i,0),Vn(i,o),pr(i,Je()),c;if(c===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Vi(i,mr,Ys),pr(i,Je()),null}function jm(i,o){var c=$e;$e|=1;try{return i(o)}finally{$e=c,$e===0&&(Ja=Je()+500,su&&An())}}function Oi(i){On!==null&&On.tag===0&&($e&6)===0&&Za();var o=$e;$e|=1;var c=Fr.transition,h=Oe;try{if(Fr.transition=null,Oe=1,i)return i()}finally{Oe=h,Fr.transition=c,$e=o,($e&6)===0&&An()}}function Em(){kr=Xa.current,tt(Xa)}function Li(i,o){i.finishedWork=null,i.finishedLanes=0;var c=i.timeoutHandle;if(c!==-1&&(i.timeoutHandle=-1,_1(c)),vt!==null)for(c=vt.return;c!==null;){var h=c;switch(Dh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&tu();break;case 3:Ka(),tt(ur),tt(Gt),Gh();break;case 5:Hh(h);break;case 4:Ka();break;case 13:tt(ot);break;case 19:tt(ot);break;case 10:Uh(h.type._context);break;case 22:case 23:Em()}c=c.return}if(At=i,vt=i=Fn(i.current,null),Ft=kr=o,kt=0,wl=null,ym=ju=Mi=0,mr=_l=null,Pi!==null){for(o=0;o<Pi.length;o++)if(c=Pi[o],h=c.interleaved,h!==null){c.interleaved=null;var f=h.next,v=c.pending;if(v!==null){var N=v.next;v.next=f,h.next=N}c.pending=h}Pi=null}return i}function ax(i,o){do{var c=vt;try{if(Fh(),mu.current=xu,pu){for(var h=lt.memoizedState;h!==null;){var f=h.queue;f!==null&&(f.pending=null),h=h.next}pu=!1}if(Di=0,Ct=Et=lt=null,fl=!1,gl=0,xm.current=null,c===null||c.return===null){kt=1,wl=o,vt=null;break}e:{var v=i,N=c.return,O=c,V=o;if(o=Ft,O.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var Y=V,ie=O,le=ie.tag;if((ie.mode&1)===0&&(le===0||le===11||le===15)){var ne=ie.alternate;ne?(ie.updateQueue=ne.updateQueue,ie.memoizedState=ne.memoizedState,ie.lanes=ne.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var fe=A0(N);if(fe!==null){fe.flags&=-257,P0(fe,N,O,v,o),fe.mode&1&&C0(v,Y,o),o=fe,V=Y;var ye=o.updateQueue;if(ye===null){var ve=new Set;ve.add(V),o.updateQueue=ve}else ye.add(V);break e}else{if((o&1)===0){C0(v,Y,o),km();break e}V=Error(t(426))}}else if(it&&O.mode&1){var ft=A0(N);if(ft!==null){(ft.flags&65536)===0&&(ft.flags|=256),P0(ft,N,O,v,o),Lh(Qa(V,O));break e}}v=V=Qa(V,O),kt!==4&&(kt=2),_l===null?_l=[v]:_l.push(v),v=N;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var q=S0(v,V,o);t0(v,q);break e;case 1:O=V;var F=v.type,H=v.stateNode;if((v.flags&128)===0&&(typeof F.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(Mn===null||!Mn.has(H)))){v.flags|=65536,o&=-o,v.lanes|=o;var ce=I0(v,O,o);t0(v,ce);break e}}v=v.return}while(v!==null)}cx(c)}catch(we){o=we,vt===c&&c!==null&&(vt=c=c.return);continue}break}while(!0)}function ox(){var i=Nu.current;return Nu.current=xu,i===null?xu:i}function km(){(kt===0||kt===3||kt===2)&&(kt=4),At===null||(Mi&268435455)===0&&(ju&268435455)===0||Vn(At,Ft)}function Cu(i,o){var c=$e;$e|=2;var h=ox();(At!==i||Ft!==o)&&(Ys=null,Li(i,o));do try{G1();break}catch(f){ax(i,f)}while(!0);if(Fh(),$e=c,Nu.current=h,vt!==null)throw Error(t(261));return At=null,Ft=0,kt}function G1(){for(;vt!==null;)lx(vt)}function K1(){for(;vt!==null&&!Tc();)lx(vt)}function lx(i){var o=hx(i.alternate,i,kr);i.memoizedProps=i.pendingProps,o===null?cx(i):vt=o,xm.current=null}function cx(i){var o=i;do{var c=o.alternate;if(i=o.return,(o.flags&32768)===0){if(c=U1(c,o,kr),c!==null){vt=c;return}}else{if(c=$1(c,o),c!==null){c.flags&=32767,vt=c;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{kt=6,vt=null;return}}if(o=o.sibling,o!==null){vt=o;return}vt=o=i}while(o!==null);kt===0&&(kt=5)}function Vi(i,o,c){var h=Oe,f=Fr.transition;try{Fr.transition=null,Oe=1,Q1(i,o,c,h)}finally{Fr.transition=f,Oe=h}return null}function Q1(i,o,c,h){do Za();while(On!==null);if(($e&6)!==0)throw Error(t(327));c=i.finishedWork;var f=i.finishedLanes;if(c===null)return null;if(i.finishedWork=null,i.finishedLanes=0,c===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var v=c.lanes|c.childLanes;if(Ke(i,v),i===At&&(vt=At=null,Ft=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||ku||(ku=!0,mx(Pr,function(){return Za(),null})),v=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||v){v=Fr.transition,Fr.transition=null;var N=Oe;Oe=1;var O=$e;$e|=4,xm.current=null,z1(i,c),Z0(c,i),f1(kh),En=!!Eh,kh=Eh=null,i.current=c,q1(c),ch(),$e=O,Oe=N,Fr.transition=v}else i.current=c;if(ku&&(ku=!1,On=i,Tu=f),v=i.pendingLanes,v===0&&(Mn=null),Cc(c.stateNode),pr(i,Je()),o!==null)for(h=i.onRecoverableError,c=0;c<o.length;c++)f=o[c],h(f.value,{componentStack:f.stack,digest:f.digest});if(Eu)throw Eu=!1,i=bm,bm=null,i;return(Tu&1)!==0&&i.tag!==0&&Za(),v=i.pendingLanes,(v&1)!==0?i===wm?Nl++:(Nl=0,wm=i):Nl=0,An(),null}function Za(){if(On!==null){var i=Nn(Tu),o=Fr.transition,c=Oe;try{if(Fr.transition=null,Oe=16>i?16:i,On===null)var h=!1;else{if(i=On,On=null,Tu=0,($e&6)!==0)throw Error(t(331));var f=$e;for($e|=4,xe=i.current;xe!==null;){var v=xe,N=v.child;if((xe.flags&16)!==0){var O=v.deletions;if(O!==null){for(var V=0;V<O.length;V++){var Y=O[V];for(xe=Y;xe!==null;){var ie=xe;switch(ie.tag){case 0:case 11:case 15:bl(8,ie,v)}var le=ie.child;if(le!==null)le.return=ie,xe=le;else for(;xe!==null;){ie=xe;var ne=ie.sibling,fe=ie.return;if(K0(ie),ie===Y){xe=null;break}if(ne!==null){ne.return=fe,xe=ne;break}xe=fe}}}var ye=v.alternate;if(ye!==null){var ve=ye.child;if(ve!==null){ye.child=null;do{var ft=ve.sibling;ve.sibling=null,ve=ft}while(ve!==null)}}xe=v}}if((v.subtreeFlags&2064)!==0&&N!==null)N.return=v,xe=N;else e:for(;xe!==null;){if(v=xe,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:bl(9,v,v.return)}var q=v.sibling;if(q!==null){q.return=v.return,xe=q;break e}xe=v.return}}var F=i.current;for(xe=F;xe!==null;){N=xe;var H=N.child;if((N.subtreeFlags&2064)!==0&&H!==null)H.return=N,xe=H;else e:for(N=F;xe!==null;){if(O=xe,(O.flags&2048)!==0)try{switch(O.tag){case 0:case 11:case 15:_u(9,O)}}catch(we){dt(O,O.return,we)}if(O===N){xe=null;break e}var ce=O.sibling;if(ce!==null){ce.return=O.return,xe=ce;break e}xe=O.return}}if($e=f,An(),br&&typeof br.onPostCommitFiberRoot=="function")try{br.onPostCommitFiberRoot(wi,i)}catch{}h=!0}return h}finally{Oe=c,Fr.transition=o}}return!1}function ux(i,o,c){o=Qa(c,o),o=S0(i,o,1),i=Rn(i,o,1),o=ir(),i!==null&&(wn(i,1,o),pr(i,o))}function dt(i,o,c){if(i.tag===3)ux(i,i,c);else for(;o!==null;){if(o.tag===3){ux(o,i,c);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Mn===null||!Mn.has(h))){i=Qa(c,i),i=I0(o,i,1),o=Rn(o,i,1),i=ir(),o!==null&&(wn(o,1,i),pr(o,i));break}}o=o.return}}function Y1(i,o,c){var h=i.pingCache;h!==null&&h.delete(o),o=ir(),i.pingedLanes|=i.suspendedLanes&c,At===i&&(Ft&c)===c&&(kt===4||kt===3&&(Ft&130023424)===Ft&&500>Je()-vm?Li(i,0):ym|=c),pr(i,o)}function dx(i,o){o===0&&((i.mode&1)===0?o=1:(o=_a,_a<<=1,(_a&130023424)===0&&(_a=4194304)));var c=ir();i=Gs(i,o),i!==null&&(wn(i,o,c),pr(i,c))}function X1(i){var o=i.memoizedState,c=0;o!==null&&(c=o.retryLane),dx(i,c)}function J1(i,o){var c=0;switch(i.tag){case 13:var h=i.stateNode,f=i.memoizedState;f!==null&&(c=f.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(o),dx(i,c)}var hx;hx=function(i,o,c){if(i!==null)if(i.memoizedProps!==o.pendingProps||ur.current)hr=!0;else{if((i.lanes&c)===0&&(o.flags&128)===0)return hr=!1,F1(i,o,c);hr=(i.flags&131072)!==0}else hr=!1,it&&(o.flags&1048576)!==0&&Hg(o,iu,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;bu(i,o),i=o.pendingProps;var f=$a(o,Gt.current);Ga(o,c),f=Yh(null,o,h,i,f,c);var v=Xh();return o.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,dr(h)?(v=!0,ru(o)):v=!1,o.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,zh(o),f.updater=yu,o.stateNode=f,f._reactInternals=o,sm(o,h,i,c),o=om(null,o,h,!0,v,c)):(o.tag=0,it&&v&&Rh(o),nr(null,o,f,c),o=o.child),o;case 16:h=o.elementType;e:{switch(bu(i,o),i=o.pendingProps,f=h._init,h=f(h._payload),o.type=h,f=o.tag=eN(h),i=ts(h,i),f){case 0:o=am(null,o,h,i,c);break e;case 1:o=V0(null,o,h,i,c);break e;case 11:o=R0(null,o,h,i,c);break e;case 14:o=D0(null,o,h,ts(h.type,i),c);break e}throw Error(t(306,h,""))}return o;case 0:return h=o.type,f=o.pendingProps,f=o.elementType===h?f:ts(h,f),am(i,o,h,f,c);case 1:return h=o.type,f=o.pendingProps,f=o.elementType===h?f:ts(h,f),V0(i,o,h,f,c);case 3:e:{if(F0(o),i===null)throw Error(t(387));h=o.pendingProps,v=o.memoizedState,f=v.element,e0(i,o),du(o,h,null,c);var N=o.memoizedState;if(h=N.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:N.cache,pendingSuspenseBoundaries:N.pendingSuspenseBoundaries,transitions:N.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){f=Qa(Error(t(423)),o),o=U0(i,o,h,c,f);break e}else if(h!==f){f=Qa(Error(t(424)),o),o=U0(i,o,h,c,f);break e}else for(Er=Sn(o.stateNode.containerInfo.firstChild),jr=o,it=!0,es=null,c=Jg(o,null,h,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(qa(),h===f){o=Qs(i,o,c);break e}nr(i,o,h,c)}o=o.child}return o;case 5:return s0(o),i===null&&Oh(o),h=o.type,f=o.pendingProps,v=i!==null?i.memoizedProps:null,N=f.children,Th(h,f)?N=null:v!==null&&Th(h,v)&&(o.flags|=32),L0(i,o),nr(i,o,N,c),o.child;case 6:return i===null&&Oh(o),null;case 13:return $0(i,o,c);case 4:return qh(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=Ha(o,null,h,c):nr(i,o,h,c),o.child;case 11:return h=o.type,f=o.pendingProps,f=o.elementType===h?f:ts(h,f),R0(i,o,h,f,c);case 7:return nr(i,o,o.pendingProps,c),o.child;case 8:return nr(i,o,o.pendingProps.children,c),o.child;case 12:return nr(i,o,o.pendingProps.children,c),o.child;case 10:e:{if(h=o.type._context,f=o.pendingProps,v=o.memoizedProps,N=f.value,Ze(lu,h._currentValue),h._currentValue=N,v!==null)if(Zr(v.value,N)){if(v.children===f.children&&!ur.current){o=Qs(i,o,c);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var O=v.dependencies;if(O!==null){N=v.child;for(var V=O.firstContext;V!==null;){if(V.context===h){if(v.tag===1){V=Ks(-1,c&-c),V.tag=2;var Y=v.updateQueue;if(Y!==null){Y=Y.shared;var ie=Y.pending;ie===null?V.next=V:(V.next=ie.next,ie.next=V),Y.pending=V}}v.lanes|=c,V=v.alternate,V!==null&&(V.lanes|=c),$h(v.return,c,o),O.lanes|=c;break}V=V.next}}else if(v.tag===10)N=v.type===o.type?null:v.child;else if(v.tag===18){if(N=v.return,N===null)throw Error(t(341));N.lanes|=c,O=N.alternate,O!==null&&(O.lanes|=c),$h(N,c,o),N=v.sibling}else N=v.child;if(N!==null)N.return=v;else for(N=v;N!==null;){if(N===o){N=null;break}if(v=N.sibling,v!==null){v.return=N.return,N=v;break}N=N.return}v=N}nr(i,o,f.children,c),o=o.child}return o;case 9:return f=o.type,h=o.pendingProps.children,Ga(o,c),f=Lr(f),h=h(f),o.flags|=1,nr(i,o,h,c),o.child;case 14:return h=o.type,f=ts(h,o.pendingProps),f=ts(h.type,f),D0(i,o,h,f,c);case 15:return M0(i,o,o.type,o.pendingProps,c);case 17:return h=o.type,f=o.pendingProps,f=o.elementType===h?f:ts(h,f),bu(i,o),o.tag=1,dr(h)?(i=!0,ru(o)):i=!1,Ga(o,c),k0(o,h,f),sm(o,h,f,c),om(null,o,h,!0,i,c);case 19:return z0(i,o,c);case 22:return O0(i,o,c)}throw Error(t(156,o.tag))};function mx(i,o){return ba(i,o)}function Z1(i,o,c,h){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(i,o,c,h){return new Z1(i,o,c,h)}function Tm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function eN(i){if(typeof i=="function")return Tm(i)?1:0;if(i!=null){if(i=i.$$typeof,i===C)return 11;if(i===X)return 14}return 2}function Fn(i,o){var c=i.alternate;return c===null?(c=Ur(i.tag,o,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=o,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&14680064,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,o=i.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c}function Au(i,o,c,h,f,v){var N=2;if(h=i,typeof i=="function")Tm(i)&&(N=1);else if(typeof i=="string")N=5;else e:switch(i){case L:return Fi(c.children,f,v,o);case R:N=8,f|=8;break;case E:return i=Ur(12,c,o,f|2),i.elementType=E,i.lanes=v,i;case A:return i=Ur(13,c,o,f),i.elementType=A,i.lanes=v,i;case ue:return i=Ur(19,c,o,f),i.elementType=ue,i.lanes=v,i;case B:return Pu(c,f,v,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case S:N=10;break e;case T:N=9;break e;case C:N=11;break e;case X:N=14;break e;case W:N=16,h=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=Ur(N,c,o,f),o.elementType=i,o.type=h,o.lanes=v,o}function Fi(i,o,c,h){return i=Ur(7,i,h,o),i.lanes=c,i}function Pu(i,o,c,h){return i=Ur(22,i,h,o),i.elementType=B,i.lanes=c,i.stateNode={isHidden:!1},i}function Sm(i,o,c){return i=Ur(6,i,null,o),i.lanes=c,i}function Im(i,o,c){return o=Ur(4,i.children!==null?i.children:[],i.key,o),o.lanes=c,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function tN(i,o,c,h,f){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bn(0),this.expirationTimes=bn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bn(0),this.identifierPrefix=h,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Cm(i,o,c,h,f,v,N,O,V){return i=new tN(i,o,c,O,V),o===1?(o=1,v===!0&&(o|=8)):o=0,v=Ur(3,null,null,o),i.current=v,v.stateNode=i,v.memoizedState={element:h,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},zh(v),i}function rN(i,o,c){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:se,key:h==null?null:""+h,children:i,containerInfo:o,implementation:c}}function px(i){if(!i)return Cn;i=i._reactInternals;e:{if(Wr(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(dr(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var c=i.type;if(dr(c))return Bg(i,c,o)}return o}function fx(i,o,c,h,f,v,N,O,V){return i=Cm(c,h,!0,i,f,v,N,O,V),i.context=px(null),c=i.current,h=ir(),f=Ln(c),v=Ks(h,f),v.callback=o??null,Rn(c,v,f),i.current.lanes=f,wn(i,f,h),pr(i,h),i}function Ru(i,o,c,h){var f=o.current,v=ir(),N=Ln(f);return c=px(c),o.context===null?o.context=c:o.pendingContext=c,o=Ks(v,N),o.payload={element:i},h=h===void 0?null:h,h!==null&&(o.callback=h),i=Rn(f,o,N),i!==null&&(ns(i,f,N,v),uu(i,f,N)),N}function Du(i){return i=i.current,i.child?(i.child.tag===5,i.child.stateNode):null}function gx(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<o?c:o}}function Am(i,o){gx(i,o),(i=i.alternate)&&gx(i,o)}function sN(){return null}var xx=typeof reportError=="function"?reportError:function(i){console.error(i)};function Pm(i){this._internalRoot=i}Mu.prototype.render=Pm.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));Ru(i,o,null,null)},Mu.prototype.unmount=Pm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Oi(function(){Ru(null,i,null,null)}),o[zs]=null}};function Mu(i){this._internalRoot=i}Mu.prototype.unstable_scheduleHydration=function(i){if(i){var o=Mc();i={blockedOn:null,target:i,priority:o};for(var c=0;c<hs.length&&o!==0&&o<hs[c].priority;c++);hs.splice(c,0,i),c===0&&Vc(i)}};function Rm(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Ou(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function yx(){}function nN(i,o,c,h,f){if(f){if(typeof h=="function"){var v=h;h=function(){var Y=Du(N);v.call(Y)}}var N=fx(o,h,i,0,null,!1,!1,"",yx);return i._reactRootContainer=N,i[zs]=N.current,ol(i.nodeType===8?i.parentNode:i),Oi(),N}for(;f=i.lastChild;)i.removeChild(f);if(typeof h=="function"){var O=h;h=function(){var Y=Du(V);O.call(Y)}}var V=Cm(i,0,!1,null,null,!1,!1,"",yx);return i._reactRootContainer=V,i[zs]=V.current,ol(i.nodeType===8?i.parentNode:i),Oi(function(){Ru(o,V,c,h)}),V}function Lu(i,o,c,h,f){var v=c._reactRootContainer;if(v){var N=v;if(typeof f=="function"){var O=f;f=function(){var V=Du(N);O.call(V)}}Ru(o,N,i,f)}else N=nN(c,o,i,f,h);return Du(N)}Rc=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var c=vn(o.pendingLanes);c!==0&&(_n(o,c|1),pr(o,Je()),($e&6)===0&&(Ja=Je()+500,An()))}break;case 13:Oi(function(){var h=Gs(i,1);if(h!==null){var f=ir();ns(h,i,1,f)}}),Am(i,1)}},Na=function(i){if(i.tag===13){var o=Gs(i,134217728);if(o!==null){var c=ir();ns(o,i,134217728,c)}Am(i,134217728)}},Dc=function(i){if(i.tag===13){var o=Ln(i),c=Gs(i,o);if(c!==null){var h=ir();ns(c,i,o,h)}Am(i,o)}},Mc=function(){return Oe},Oc=function(i,o){var c=Oe;try{return Oe=i,o()}finally{Oe=c}},pa=function(i,o,c){switch(o){case"input":if(Po(i,c),o=c.name,c.type==="radio"&&o!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var h=c[o];if(h!==i&&h.form===i.form){var f=eu(h);if(!f)throw Error(t(90));la(h),Po(h,f)}}}break;case"textarea":ha(i,c);break;case"select":o=c.value,o!=null&&Ms(i,!!c.multiple,o,!1)}},gi=jm,Bo=Oi;var iN={usingClientEntryPoint:!1,Events:[ul,Fa,eu,us,$o,jm]},jl={findFiberByHostInstance:Si,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aN={bundleType:jl.bundleType,version:jl.version,rendererPackageName:jl.rendererPackageName,rendererConfig:jl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Ho(i),i===null?null:i.stateNode},findFiberByHostInstance:jl.findFiberByHostInstance||sN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vu.isDisabled&&Vu.supportsFiber)try{wi=Vu.inject(aN),br=Vu}catch{}}return fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iN,fr.createPortal=function(i,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rm(o))throw Error(t(200));return rN(i,o,null,c)},fr.createRoot=function(i,o){if(!Rm(i))throw Error(t(299));var c=!1,h="",f=xx;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(f=o.onRecoverableError)),o=Cm(i,1,!1,null,null,c,!1,h,f),i[zs]=o.current,ol(i.nodeType===8?i.parentNode:i),new Pm(o)},fr.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Ho(o),i=i===null?null:i.stateNode,i},fr.flushSync=function(i){return Oi(i)},fr.hydrate=function(i,o,c){if(!Ou(o))throw Error(t(200));return Lu(null,i,o,!0,c)},fr.hydrateRoot=function(i,o,c){if(!Rm(i))throw Error(t(405));var h=c!=null&&c.hydratedSources||null,f=!1,v="",N=xx;if(c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onRecoverableError!==void 0&&(N=c.onRecoverableError)),o=fx(o,null,i,1,c??null,f,!1,v,N),i[zs]=o.current,ol(i),h)for(i=0;i<h.length;i++)c=h[i],f=c._getVersion,f=f(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,f]:o.mutableSourceEagerHydrationData.push(c,f);return new Mu(o)},fr.render=function(i,o,c){if(!Ou(o))throw Error(t(200));return Lu(null,i,o,!1,c)},fr.unmountComponentAtNode=function(i){if(!Ou(i))throw Error(t(40));return i._reactRootContainer?(Oi(function(){Lu(null,null,i,!1,function(){i._reactRootContainer=null,i[zs]=null})}),!0):!1},fr.unstable_batchedUpdates=jm,fr.unstable_renderSubtreeIntoContainer=function(i,o,c,h){if(!Ou(c))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Lu(i,o,c,!1,h)},fr.version="18.3.1-next-f1338f8080-20240426",fr}var kx;function bv(){if(kx)return Om.exports;kx=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Om.exports=fN(),Om.exports}var Tx;function gN(){if(Tx)return Fu;Tx=1;var r=bv();return Fu.createRoot=r.createRoot,Fu.hydrateRoot=r.hydrateRoot,Fu}var xN=gN();const yN=vv(xN);bv();function Bl(){return Bl=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Bl.apply(this,arguments)}var Kn;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(Kn||(Kn={}));const Sx="popstate";function vN(r){r===void 0&&(r={});function e(n,a){let{pathname:l,search:u,hash:m}=n.location;return np("",{pathname:l,search:u,hash:m},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(n,a){return typeof a=="string"?a:ad(a)}return wN(e,t,null,r)}function xt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Wp(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bN(){return Math.random().toString(36).substr(2,8)}function Ix(r,e){return{usr:r.state,key:r.key,idx:e}}function np(r,e,t,n){return t===void 0&&(t=null),Bl({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?vo(e):e,{state:t,key:e&&e.key||n||bN()})}function ad(r){let{pathname:e="/",search:t="",hash:n=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function vo(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substr(n),r=r.substr(0,n)),r&&(e.pathname=r)}return e}function wN(r,e,t,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:l=!1}=n,u=a.history,m=Kn.Pop,p=null,x=g();x==null&&(x=0,u.replaceState(Bl({},u.state,{idx:x}),""));function g(){return(u.state||{idx:null}).idx}function w(){m=Kn.Pop;let D=g(),ee=D==null?null:D-x;x=D,p&&p({action:m,location:M.location,delta:ee})}function b(D,ee){m=Kn.Push;let K=np(M.location,D,ee);x=g()+1;let Z=Ix(K,x),$=M.createHref(K);try{u.pushState(Z,"",$)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;a.location.assign($)}l&&p&&p({action:m,location:M.location,delta:1})}function j(D,ee){m=Kn.Replace;let K=np(M.location,D,ee);x=g();let Z=Ix(K,x),$=M.createHref(K);u.replaceState(Z,"",$),l&&p&&p({action:m,location:M.location,delta:0})}function k(D){let ee=a.location.origin!=="null"?a.location.origin:a.location.href,K=typeof D=="string"?D:ad(D);return K=K.replace(/ $/,"%20"),xt(ee,"No window.location.(origin|href) available to create URL for href: "+K),new URL(K,ee)}let M={get action(){return m},get location(){return r(a,u)},listen(D){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(Sx,w),p=D,()=>{a.removeEventListener(Sx,w),p=null}},createHref(D){return e(a,D)},createURL:k,encodeLocation(D){let ee=k(D);return{pathname:ee.pathname,search:ee.search,hash:ee.hash}},push:b,replace:j,go(D){return u.go(D)}};return M}var Cx;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(Cx||(Cx={}));function _N(r,e,t){return t===void 0&&(t="/"),NN(r,e,t)}function NN(r,e,t,n){let a=typeof e=="string"?vo(e):e,l=Gp(a.pathname||"/",t);if(l==null)return null;let u=wv(r);jN(u);let m=null;for(let p=0;m==null&&p<u.length;++p){let x=ON(l);m=RN(u[p],x)}return m}function wv(r,e,t,n){e===void 0&&(e=[]),t===void 0&&(t=[]),n===void 0&&(n="");let a=(l,u,m)=>{let p={relativePath:m===void 0?l.path||"":m,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};p.relativePath.startsWith("/")&&(xt(p.relativePath.startsWith(n),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(n.length));let x=Xn([n,p.relativePath]),g=t.concat(p);l.children&&l.children.length>0&&(xt(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+x+'".')),wv(l.children,e,g,x)),!(l.path==null&&!l.index)&&e.push({path:x,score:AN(x,l.index),routesMeta:g})};return r.forEach((l,u)=>{var m;if(l.path===""||!((m=l.path)!=null&&m.includes("?")))a(l,u);else for(let p of _v(l.path))a(l,u,p)}),e}function _v(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(n.length===0)return a?[l,""]:[l];let u=_v(n.join("/")),m=[];return m.push(...u.map(p=>p===""?l:[l,p].join("/"))),a&&m.push(...u),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function jN(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:PN(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}const EN=/^:[\w-]+$/,kN=3,TN=2,SN=1,IN=10,CN=-2,Ax=r=>r==="*";function AN(r,e){let t=r.split("/"),n=t.length;return t.some(Ax)&&(n+=CN),e&&(n+=TN),t.filter(a=>!Ax(a)).reduce((a,l)=>a+(EN.test(l)?kN:l===""?SN:IN),n)}function PN(r,e){return r.length===e.length&&r.slice(0,-1).every((n,a)=>n===e[a])?r[r.length-1]-e[e.length-1]:0}function RN(r,e,t){let{routesMeta:n}=r,a={},l="/",u=[];for(let m=0;m<n.length;++m){let p=n[m],x=m===n.length-1,g=l==="/"?e:e.slice(l.length)||"/",w=DN({path:p.relativePath,caseSensitive:p.caseSensitive,end:x},g),b=p.route;if(!w)return null;Object.assign(a,w.params),u.push({params:a,pathname:Xn([l,w.pathname]),pathnameBase:$N(Xn([l,w.pathnameBase])),route:b}),w.pathnameBase!=="/"&&(l=Xn([l,w.pathnameBase]))}return u}function DN(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=MN(r.path,r.caseSensitive,r.end),a=e.match(t);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),m=a.slice(1);return{params:n.reduce((x,g,w)=>{let{paramName:b,isOptional:j}=g;if(b==="*"){let M=m[w]||"";u=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const k=m[w];return j&&!k?x[b]=void 0:x[b]=(k||"").replace(/%2F/g,"/"),x},{}),pathname:l,pathnameBase:u,pattern:r}}function MN(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Wp(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let n=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,m,p)=>(n.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function ON(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wp(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function Gp(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}const LN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,VN=r=>LN.test(r);function FN(r,e){e===void 0&&(e="/");let{pathname:t,search:n="",hash:a=""}=typeof r=="string"?vo(r):r,l;if(t)if(VN(t))l=t;else{if(t.includes("//")){let u=t;t=t.replace(/\/\/+/g,"/"),Wp(!1,"Pathnames cannot have embedded double slashes - normalizing "+(u+" -> "+t))}t.startsWith("/")?l=Px(t.substring(1),"/"):l=Px(t,e)}else l=e;return{pathname:l,search:BN(n),hash:zN(a)}}function Px(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Fm(r,e,t,n){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function UN(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Kp(r,e){let t=UN(r);return e?t.map((n,a)=>a===t.length-1?n.pathname:n.pathnameBase):t.map(n=>n.pathnameBase)}function Qp(r,e,t,n){n===void 0&&(n=!1);let a;typeof r=="string"?a=vo(r):(a=Bl({},r),xt(!a.pathname||!a.pathname.includes("?"),Fm("?","pathname","search",a)),xt(!a.pathname||!a.pathname.includes("#"),Fm("#","pathname","hash",a)),xt(!a.search||!a.search.includes("#"),Fm("#","search","hash",a)));let l=r===""||a.pathname==="",u=l?"/":a.pathname,m;if(u==null)m=t;else{let w=e.length-1;if(!n&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),w-=1;a.pathname=b.join("/")}m=w>=0?e[w]:"/"}let p=FN(a,m),x=u&&u!=="/"&&u.endsWith("/"),g=(l||u===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(x||g)&&(p.pathname+="/"),p}const Xn=r=>r.join("/").replace(/\/\/+/g,"/"),$N=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),BN=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,zN=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function qN(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const Nv=["post","put","patch","delete"];new Set(Nv);const HN=["get",...Nv];new Set(HN);function zl(){return zl=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},zl.apply(this,arguments)}const Yp=P.createContext(null),WN=P.createContext(null),ii=P.createContext(null),Cd=P.createContext(null),As=P.createContext({outlet:null,matches:[],isDataRoute:!1}),jv=P.createContext(null);function GN(r,e){let{relative:t}=e===void 0?{}:e;bo()||xt(!1);let{basename:n,navigator:a}=P.useContext(ii),{hash:l,pathname:u,search:m}=Tv(r,{relative:t}),p=u;return n!=="/"&&(p=u==="/"?n:Xn([n,u])),a.createHref({pathname:p,search:m,hash:l})}function bo(){return P.useContext(Cd)!=null}function ai(){return bo()||xt(!1),P.useContext(Cd).location}function Ev(r){P.useContext(ii).static||P.useLayoutEffect(r)}function Wt(){let{isDataRoute:r}=P.useContext(As);return r?l2():KN()}function KN(){bo()||xt(!1);let r=P.useContext(Yp),{basename:e,future:t,navigator:n}=P.useContext(ii),{matches:a}=P.useContext(As),{pathname:l}=ai(),u=JSON.stringify(Kp(a,t.v7_relativeSplatPath)),m=P.useRef(!1);return Ev(()=>{m.current=!0}),P.useCallback(function(x,g){if(g===void 0&&(g={}),!m.current)return;if(typeof x=="number"){n.go(x);return}let w=Qp(x,JSON.parse(u),l,g.relative==="path");r==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:Xn([e,w.pathname])),(g.replace?n.replace:n.push)(w,g.state,g)},[e,n,u,l,r])}const QN=P.createContext(null);function YN(r){let e=P.useContext(As).outlet;return e&&P.createElement(QN.Provider,{value:r},e)}function kv(){let{matches:r}=P.useContext(As),e=r[r.length-1];return e?e.params:{}}function Tv(r,e){let{relative:t}=e===void 0?{}:e,{future:n}=P.useContext(ii),{matches:a}=P.useContext(As),{pathname:l}=ai(),u=JSON.stringify(Kp(a,n.v7_relativeSplatPath));return P.useMemo(()=>Qp(r,JSON.parse(u),l,t==="path"),[r,u,l,t])}function XN(r,e){return JN(r,e)}function JN(r,e,t,n){bo()||xt(!1);let{navigator:a}=P.useContext(ii),{matches:l}=P.useContext(As),u=l[l.length-1],m=u?u.params:{};u&&u.pathname;let p=u?u.pathnameBase:"/";u&&u.route;let x=ai(),g;if(e){var w;let D=typeof e=="string"?vo(e):e;p==="/"||(w=D.pathname)!=null&&w.startsWith(p)||xt(!1),g=D}else g=x;let b=g.pathname||"/",j=b;if(p!=="/"){let D=p.replace(/^\//,"").split("/");j="/"+b.replace(/^\//,"").split("/").slice(D.length).join("/")}let k=_N(r,{pathname:j}),M=s2(k&&k.map(D=>Object.assign({},D,{params:Object.assign({},m,D.params),pathname:Xn([p,a.encodeLocation?a.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?p:Xn([p,a.encodeLocation?a.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),l,t,n);return e&&M?P.createElement(Cd.Provider,{value:{location:zl({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Kn.Pop}},M):M}function ZN(){let r=o2(),e=qN(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),t?P.createElement("pre",{style:a},t):null,null)}const e2=P.createElement(ZN,null);class t2 extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?P.createElement(As.Provider,{value:this.props.routeContext},P.createElement(jv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function r2(r){let{routeContext:e,match:t,children:n}=r,a=P.useContext(Yp);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),P.createElement(As.Provider,{value:e},n)}function s2(r,e,t,n){var a;if(e===void 0&&(e=[]),t===void 0&&(t=null),n===void 0&&(n=null),r==null){var l;if(!t)return null;if(t.errors)r=t.matches;else if((l=n)!=null&&l.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let u=r,m=(a=t)==null?void 0:a.errors;if(m!=null){let g=u.findIndex(w=>w.route.id&&m?.[w.route.id]!==void 0);g>=0||xt(!1),u=u.slice(0,Math.min(u.length,g+1))}let p=!1,x=-1;if(t&&n&&n.v7_partialHydration)for(let g=0;g<u.length;g++){let w=u[g];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(x=g),w.route.id){let{loaderData:b,errors:j}=t,k=w.route.loader&&b[w.route.id]===void 0&&(!j||j[w.route.id]===void 0);if(w.route.lazy||k){p=!0,x>=0?u=u.slice(0,x+1):u=[u[0]];break}}}return u.reduceRight((g,w,b)=>{let j,k=!1,M=null,D=null;t&&(j=m&&w.route.id?m[w.route.id]:void 0,M=w.route.errorElement||e2,p&&(x<0&&b===0?(c2("route-fallback"),k=!0,D=null):x===b&&(k=!0,D=w.route.hydrateFallbackElement||null)));let ee=e.concat(u.slice(0,b+1)),K=()=>{let Z;return j?Z=M:k?Z=D:w.route.Component?Z=P.createElement(w.route.Component,null):w.route.element?Z=w.route.element:Z=g,P.createElement(r2,{match:w,routeContext:{outlet:g,matches:ee,isDataRoute:t!=null},children:Z})};return t&&(w.route.ErrorBoundary||w.route.errorElement||b===0)?P.createElement(t2,{location:t.location,revalidation:t.revalidation,component:M,error:j,children:K(),routeContext:{outlet:null,matches:ee,isDataRoute:!0}}):K()},null)}var Sv=(function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r})(Sv||{}),Iv=(function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r})(Iv||{});function n2(r){let e=P.useContext(Yp);return e||xt(!1),e}function i2(r){let e=P.useContext(WN);return e||xt(!1),e}function a2(r){let e=P.useContext(As);return e||xt(!1),e}function Cv(r){let e=a2(),t=e.matches[e.matches.length-1];return t.route.id||xt(!1),t.route.id}function o2(){var r;let e=P.useContext(jv),t=i2(),n=Cv();return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function l2(){let{router:r}=n2(Sv.UseNavigateStable),e=Cv(Iv.UseNavigateStable),t=P.useRef(!1);return Ev(()=>{t.current=!0}),P.useCallback(function(a,l){l===void 0&&(l={}),t.current&&(typeof a=="number"?r.navigate(a):r.navigate(a,zl({fromRouteId:e},l)))},[r,e])}const Rx={};function c2(r,e,t){Rx[r]||(Rx[r]=!0)}function u2(r,e){r?.v7_startTransition,r?.v7_relativeSplatPath}function Xp(r){let{to:e,replace:t,state:n,relative:a}=r;bo()||xt(!1);let{future:l,static:u}=P.useContext(ii),{matches:m}=P.useContext(As),{pathname:p}=ai(),x=Wt(),g=Qp(e,Kp(m,l.v7_relativeSplatPath),p,a==="path"),w=JSON.stringify(g);return P.useEffect(()=>x(JSON.parse(w),{replace:t,state:n,relative:a}),[x,w,a,t,n]),null}function d2(r){return YN(r.context)}function Qe(r){xt(!1)}function h2(r){let{basename:e="/",children:t=null,location:n,navigationType:a=Kn.Pop,navigator:l,static:u=!1,future:m}=r;bo()&&xt(!1);let p=e.replace(/^\/*/,"/"),x=P.useMemo(()=>({basename:p,navigator:l,static:u,future:zl({v7_relativeSplatPath:!1},m)}),[p,m,l,u]);typeof n=="string"&&(n=vo(n));let{pathname:g="/",search:w="",hash:b="",state:j=null,key:k="default"}=n,M=P.useMemo(()=>{let D=Gp(g,p);return D==null?null:{location:{pathname:D,search:w,hash:b,state:j,key:k},navigationType:a}},[p,g,w,b,j,k,a]);return M==null?null:P.createElement(ii.Provider,{value:x},P.createElement(Cd.Provider,{children:t,value:M}))}function m2(r){let{children:e,location:t}=r;return XN(ip(e),t)}new Promise(()=>{});function ip(r,e){e===void 0&&(e=[]);let t=[];return P.Children.forEach(r,(n,a)=>{if(!P.isValidElement(n))return;let l=[...e,a];if(n.type===P.Fragment){t.push.apply(t,ip(n.props.children,l));return}n.type!==Qe&&xt(!1),!n.props.index||!n.props.children||xt(!1);let u={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(u.children=ip(n.props.children,l)),t.push(u)}),t}function ap(){return ap=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},ap.apply(this,arguments)}function p2(r,e){if(r==null)return{};var t={},n=Object.keys(r),a,l;for(l=0;l<n.length;l++)a=n[l],!(e.indexOf(a)>=0)&&(t[a]=r[a]);return t}function f2(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function g2(r,e){return r.button===0&&(!e||e==="_self")&&!f2(r)}const x2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],y2="6";try{window.__reactRouterVersion=y2}catch{}const v2="startTransition",Dx=hN[v2];function b2(r){let{basename:e,children:t,future:n,window:a}=r,l=P.useRef();l.current==null&&(l.current=vN({window:a,v5Compat:!0}));let u=l.current,[m,p]=P.useState({action:u.action,location:u.location}),{v7_startTransition:x}=n||{},g=P.useCallback(w=>{x&&Dx?Dx(()=>p(w)):p(w)},[p,x]);return P.useLayoutEffect(()=>u.listen(g),[u,g]),P.useEffect(()=>u2(n),[n]),P.createElement(h2,{basename:e,children:t,location:m.location,navigationType:m.action,navigator:u,future:n})}const w2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,at=P.forwardRef(function(e,t){let{onClick:n,relative:a,reloadDocument:l,replace:u,state:m,target:p,to:x,preventScrollReset:g,viewTransition:w}=e,b=p2(e,x2),{basename:j}=P.useContext(ii),k,M=!1;if(typeof x=="string"&&_2.test(x)&&(k=x,w2))try{let Z=new URL(window.location.href),$=x.startsWith("//")?new URL(Z.protocol+x):new URL(x),G=Gp($.pathname,j);$.origin===Z.origin&&G!=null?x=G+$.search+$.hash:M=!0}catch{}let D=GN(x,{relative:a}),ee=N2(x,{replace:u,state:m,target:p,preventScrollReset:g,relative:a,viewTransition:w});function K(Z){n&&n(Z),Z.defaultPrevented||ee(Z)}return P.createElement("a",ap({},b,{href:k||D,onClick:M||l?n:K,ref:t,target:p}))});var Mx;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(Mx||(Mx={}));var Ox;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(Ox||(Ox={}));function N2(r,e){let{target:t,replace:n,state:a,preventScrollReset:l,relative:u,viewTransition:m}=e===void 0?{}:e,p=Wt(),x=ai(),g=Tv(r,{relative:u});return P.useCallback(w=>{if(g2(w,t)){w.preventDefault();let b=n!==void 0?n:ad(x)===ad(g);p(r,{replace:b,state:a,preventScrollReset:l,relative:u,viewTransition:m})}},[x,p,g,n,a,t,r,l,u,m])}var Lx={};const Av=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let a=r.charCodeAt(n);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},j2=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const a=r[t++];if(a<128)e[n++]=String.fromCharCode(a);else if(a>191&&a<224){const l=r[t++];e[n++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=r[t++],u=r[t++],m=r[t++],p=((a&7)<<18|(l&63)<<12|(u&63)<<6|m&63)-65536;e[n++]=String.fromCharCode(55296+(p>>10)),e[n++]=String.fromCharCode(56320+(p&1023))}else{const l=r[t++],u=r[t++];e[n++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},Pv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<r.length;a+=3){const l=r[a],u=a+1<r.length,m=u?r[a+1]:0,p=a+2<r.length,x=p?r[a+2]:0,g=l>>2,w=(l&3)<<4|m>>4;let b=(m&15)<<2|x>>6,j=x&63;p||(j=64,u||(b=64)),n.push(t[g],t[w],t[b],t[j])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Av(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):j2(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<r.length;){const l=t[r.charAt(a++)],m=a<r.length?t[r.charAt(a)]:0;++a;const x=a<r.length?t[r.charAt(a)]:64;++a;const w=a<r.length?t[r.charAt(a)]:64;if(++a,l==null||m==null||x==null||w==null)throw new E2;const b=l<<2|m>>4;if(n.push(b),x!==64){const j=m<<4&240|x>>2;if(n.push(j),w!==64){const k=x<<6&192|w;n.push(k)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class E2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const k2=function(r){const e=Av(r);return Pv.encodeByteArray(e,!0)},od=function(r){return k2(r).replace(/\./g,"")},Rv=function(r){try{return Pv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function T2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const S2=()=>T2().__FIREBASE_DEFAULTS__,I2=()=>{if(typeof process>"u"||typeof Lx>"u")return;const r=Lx.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},C2=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Rv(r[1]);return e&&JSON.parse(e)},Ad=()=>{try{return S2()||I2()||C2()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Dv=r=>{var e,t;return(t=(e=Ad())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},Mv=r=>{const e=Dv(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},Ov=()=>{var r;return(r=Ad())===null||r===void 0?void 0:r.config},Lv=r=>{var e;return(e=Ad())===null||e===void 0?void 0:e[`_${r}`]};class A2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}function Vv(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",a=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},r);return[od(JSON.stringify(t)),od(JSON.stringify(u)),""].join(".")}function er(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function P2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(er())}function R2(){var r;const e=(r=Ad())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function D2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function M2(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function O2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function L2(){const r=er();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function V2(){return!R2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function F2(){try{return typeof indexedDB=="object"}catch{return!1}}function U2(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}const $2="FirebaseError";class Ps extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=$2,Object.setPrototypeOf(this,Ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oc.prototype.create)}}class oc{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?B2(l,n):"Error",m=`${this.serviceName}: ${u} (${a}).`;return new Ps(a,m,n)}}function B2(r,e){return r.replace(z2,(t,n)=>{const a=e[n];return a!=null?String(a):`<${n}?>`})}const z2=/\{\$([^}]+)}/g;function q2(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ld(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const a of t){if(!n.includes(a))return!1;const l=r[a],u=e[a];if(Vx(l)&&Vx(u)){if(!ld(l,u))return!1}else if(l!==u)return!1}for(const a of n)if(!t.includes(a))return!1;return!0}function Vx(r){return r!==null&&typeof r=="object"}function lc(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Il(r){const e={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[a,l]=n.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Cl(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function H2(r,e){const t=new W2(r,e);return t.subscribe.bind(t)}class W2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let a;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");G2(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:n},a.next===void 0&&(a.next=Um),a.error===void 0&&(a.error=Um),a.complete===void 0&&(a.complete=Um);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function G2(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Um(){}function ct(r){return r&&r._delegate?r._delegate:r}class ti{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ui="[DEFAULT]";class K2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new A2;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e?.identifier),a=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Y2(e))try{this.getOrInitializeService({instanceIdentifier:Ui})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});n.resolve(l)}catch{}}}}clearInstance(e=Ui){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ui){return this.instances.has(e)}getOptions(e=Ui){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[l,u]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(l);n===m&&u.resolve(a)}return a}onInit(e,t){var n;const a=this.normalizeInstanceIdentifier(t),l=(n=this.onInitCallbacks.get(a))!==null&&n!==void 0?n:new Set;l.add(e),this.onInitCallbacks.set(a,l);const u=this.instances.get(a);return u&&e(u,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const a of n)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Q2(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Ui){return this.component?this.component.multipleInstances?e:Ui:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Q2(r){return r===Ui?void 0:r}function Y2(r){return r.instantiationMode==="EAGER"}class X2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new K2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Le;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Le||(Le={}));const J2={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},Z2=Le.INFO,ej={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},tj=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),a=ej[e];if(a)console[a](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jp{constructor(e){this.name=e,this._logLevel=Z2,this._logHandler=tj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?J2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const rj=(r,e)=>e.some(t=>r instanceof t);let Fx,Ux;function sj(){return Fx||(Fx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nj(){return Ux||(Ux=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fv=new WeakMap,op=new WeakMap,Uv=new WeakMap,$m=new WeakMap,Zp=new WeakMap;function ij(r){const e=new Promise((t,n)=>{const a=()=>{r.removeEventListener("success",l),r.removeEventListener("error",u)},l=()=>{t(Jn(r.result)),a()},u=()=>{n(r.error),a()};r.addEventListener("success",l),r.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Fv.set(t,r)}).catch(()=>{}),Zp.set(e,r),e}function aj(r){if(op.has(r))return;const e=new Promise((t,n)=>{const a=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",u),r.removeEventListener("abort",u)},l=()=>{t(),a()},u=()=>{n(r.error||new DOMException("AbortError","AbortError")),a()};r.addEventListener("complete",l),r.addEventListener("error",u),r.addEventListener("abort",u)});op.set(r,e)}let lp={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return op.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Uv.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Jn(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function oj(r){lp=r(lp)}function lj(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(Bm(this),e,...t);return Uv.set(n,e.sort?e.sort():[e]),Jn(n)}:nj().includes(r)?function(...e){return r.apply(Bm(this),e),Jn(Fv.get(this))}:function(...e){return Jn(r.apply(Bm(this),e))}}function cj(r){return typeof r=="function"?lj(r):(r instanceof IDBTransaction&&aj(r),rj(r,sj())?new Proxy(r,lp):r)}function Jn(r){if(r instanceof IDBRequest)return ij(r);if($m.has(r))return $m.get(r);const e=cj(r);return e!==r&&($m.set(r,e),Zp.set(e,r)),e}const Bm=r=>Zp.get(r);function uj(r,e,{blocked:t,upgrade:n,blocking:a,terminated:l}={}){const u=indexedDB.open(r,e),m=Jn(u);return n&&u.addEventListener("upgradeneeded",p=>{n(Jn(u.result),p.oldVersion,p.newVersion,Jn(u.transaction),p)}),t&&u.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",x=>a(x.oldVersion,x.newVersion,x))}).catch(()=>{}),m}const dj=["get","getKey","getAll","getAllKeys","count"],hj=["put","add","delete","clear"],zm=new Map;function $x(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(zm.get(e))return zm.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,a=hj.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(a||dj.includes(t)))return;const l=async function(u,...m){const p=this.transaction(u,a?"readwrite":"readonly");let x=p.store;return n&&(x=x.index(m.shift())),(await Promise.all([x[t](...m),a&&p.done]))[0]};return zm.set(e,l),l}oj(r=>({...r,get:(e,t,n)=>$x(e,t)||r.get(e,t,n),has:(e,t)=>!!$x(e,t)||r.has(e,t)}));class mj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(pj(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function pj(r){const e=r.getComponent();return e?.type==="VERSION"}const cp="@firebase/app",Bx="0.10.13";const sn=new Jp("@firebase/app"),fj="@firebase/app-compat",gj="@firebase/analytics-compat",xj="@firebase/analytics",yj="@firebase/app-check-compat",vj="@firebase/app-check",bj="@firebase/auth",wj="@firebase/auth-compat",_j="@firebase/database",Nj="@firebase/data-connect",jj="@firebase/database-compat",Ej="@firebase/functions",kj="@firebase/functions-compat",Tj="@firebase/installations",Sj="@firebase/installations-compat",Ij="@firebase/messaging",Cj="@firebase/messaging-compat",Aj="@firebase/performance",Pj="@firebase/performance-compat",Rj="@firebase/remote-config",Dj="@firebase/remote-config-compat",Mj="@firebase/storage",Oj="@firebase/storage-compat",Lj="@firebase/firestore",Vj="@firebase/vertexai-preview",Fj="@firebase/firestore-compat",Uj="firebase",$j="10.14.1";const up="[DEFAULT]",Bj={[cp]:"fire-core",[fj]:"fire-core-compat",[xj]:"fire-analytics",[gj]:"fire-analytics-compat",[vj]:"fire-app-check",[yj]:"fire-app-check-compat",[bj]:"fire-auth",[wj]:"fire-auth-compat",[_j]:"fire-rtdb",[Nj]:"fire-data-connect",[jj]:"fire-rtdb-compat",[Ej]:"fire-fn",[kj]:"fire-fn-compat",[Tj]:"fire-iid",[Sj]:"fire-iid-compat",[Ij]:"fire-fcm",[Cj]:"fire-fcm-compat",[Aj]:"fire-perf",[Pj]:"fire-perf-compat",[Rj]:"fire-rc",[Dj]:"fire-rc-compat",[Mj]:"fire-gcs",[Oj]:"fire-gcs-compat",[Lj]:"fire-fst",[Fj]:"fire-fst-compat",[Vj]:"fire-vertex","fire-js":"fire-js",[Uj]:"fire-js-all"};const cd=new Map,zj=new Map,dp=new Map;function zx(r,e){try{r.container.addComponent(e)}catch(t){sn.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Gi(r){const e=r.name;if(dp.has(e))return sn.debug(`There were multiple attempts to register component ${e}.`),!1;dp.set(e,r);for(const t of cd.values())zx(t,r);for(const t of zj.values())zx(t,r);return!0}function Pd(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function bs(r){return r.settings!==void 0}const qj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zn=new oc("app","Firebase",qj);class Hj{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ti("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zn.create("app-deleted",{appName:this._name})}}const sa=$j;function $v(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n=Object.assign({name:up,automaticDataCollectionEnabled:!1},e),a=n.name;if(typeof a!="string"||!a)throw Zn.create("bad-app-name",{appName:String(a)});if(t||(t=Ov()),!t)throw Zn.create("no-options");const l=cd.get(a);if(l){if(ld(t,l.options)&&ld(n,l.config))return l;throw Zn.create("duplicate-app",{appName:a})}const u=new X2(a);for(const p of dp.values())u.addComponent(p);const m=new Hj(t,n,u);return cd.set(a,m),m}function ef(r=up){const e=cd.get(r);if(!e&&r===up&&Ov())return $v();if(!e)throw Zn.create("no-app",{appName:r});return e}function js(r,e,t){var n;let a=(n=Bj[r])!==null&&n!==void 0?n:r;t&&(a+=`-${t}`);const l=a.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const m=[`Unable to register library "${a}" with version "${e}":`];l&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&u&&m.push("and"),u&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),sn.warn(m.join(" "));return}Gi(new ti(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const Wj="firebase-heartbeat-database",Gj=1,ql="firebase-heartbeat-store";let qm=null;function Bv(){return qm||(qm=uj(Wj,Gj,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(ql)}catch(t){console.warn(t)}}}}).catch(r=>{throw Zn.create("idb-open",{originalErrorMessage:r.message})})),qm}async function Kj(r){try{const t=(await Bv()).transaction(ql),n=await t.objectStore(ql).get(zv(r));return await t.done,n}catch(e){if(e instanceof Ps)sn.warn(e.message);else{const t=Zn.create("idb-get",{originalErrorMessage:e?.message});sn.warn(t.message)}}}async function qx(r,e){try{const n=(await Bv()).transaction(ql,"readwrite");await n.objectStore(ql).put(e,zv(r)),await n.done}catch(t){if(t instanceof Ps)sn.warn(t.message);else{const n=Zn.create("idb-set",{originalErrorMessage:t?.message});sn.warn(n.message)}}}function zv(r){return`${r.name}!${r.options.appId}`}const Qj=1024,Yj=720*60*60*1e3;class Xj{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Zj(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Hx();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const m=new Date(u.date).valueOf();return Date.now()-m<=Yj}),this._storage.overwrite(this._heartbeatsCache))}catch(n){sn.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Hx(),{heartbeatsToSend:n,unsentEntries:a}=Jj(this._heartbeatsCache.heartbeats),l=od(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return sn.warn(t),""}}}function Hx(){return new Date().toISOString().substring(0,10)}function Jj(r,e=Qj){const t=[];let n=r.slice();for(const a of r){const l=t.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),Wx(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),Wx(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class Zj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return F2()?U2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Kj(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return qx(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return qx(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Wx(r){return od(JSON.stringify({version:2,heartbeats:r})).length}function eE(r){Gi(new ti("platform-logger",e=>new mj(e),"PRIVATE")),Gi(new ti("heartbeat",e=>new Xj(e),"PRIVATE")),js(cp,Bx,r),js(cp,Bx,"esm2017"),js("fire-js","")}eE("");function tf(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(t[n[a]]=r[n[a]]);return t}function qv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tE=qv,Hv=new oc("auth","Firebase",qv());const ud=new Jp("@firebase/auth");function rE(r,...e){ud.logLevel<=Le.WARN&&ud.warn(`Auth (${sa}): ${r}`,...e)}function Qu(r,...e){ud.logLevel<=Le.ERROR&&ud.error(`Auth (${sa}): ${r}`,...e)}function as(r,...e){throw rf(r,...e)}function Es(r,...e){return rf(r,...e)}function Wv(r,e,t){const n=Object.assign(Object.assign({},tE()),{[e]:t});return new oc("auth","Firebase",n).create(e,{appName:r.name})}function tn(r){return Wv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rf(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return Hv.create(r,...e)}function ke(r,e,...t){if(!r)throw rf(e,...t)}function Js(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Qu(e),new Error(e)}function nn(r,e){r||Js(e)}function hp(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function sE(){return Gx()==="http:"||Gx()==="https:"}function Gx(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}function nE(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sE()||M2()||"connection"in navigator)?navigator.onLine:!0}function iE(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class cc{constructor(e,t){this.shortDelay=e,this.longDelay=t,nn(t>e,"Short delay should be less than long delay!"),this.isMobile=P2()||O2()}get(){return nE()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function sf(r,e){nn(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Gv{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Js("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Js("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Js("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const aE={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const oE=new cc(3e4,6e4);function mn(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function pn(r,e,t,n,a={}){return Kv(r,a,async()=>{let l={},u={};n&&(e==="GET"?u=n:l={body:JSON.stringify(n)});const m=lc(Object.assign({key:r.config.apiKey},u)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const x=Object.assign({method:e,headers:p},l);return D2()||(x.referrerPolicy="no-referrer"),Gv.fetch()(Qv(r,r.config.apiHost,t,m),x)})}async function Kv(r,e,t){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},aE),e);try{const a=new cE(r),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Uu(r,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const m=l.ok?u.errorMessage:u.error.message,[p,x]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uu(r,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw Uu(r,"email-already-in-use",u);if(p==="USER_DISABLED")throw Uu(r,"user-disabled",u);const g=n[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(x)throw Wv(r,g,x);as(r,g)}}catch(a){if(a instanceof Ps)throw a;as(r,"network-request-failed",{message:String(a)})}}async function uc(r,e,t,n,a={}){const l=await pn(r,e,t,n,a);return"mfaPendingCredential"in l&&as(r,"multi-factor-auth-required",{_serverResponse:l}),l}function Qv(r,e,t,n){const a=`${e}${t}?${n}`;return r.config.emulator?sf(r.config,a):`${r.config.apiScheme}://${a}`}function lE(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class cE{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(Es(this.auth,"network-request-failed")),oE.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Uu(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const a=Es(r,e,n);return a.customData._tokenResponse=t,a}function Kx(r){return r!==void 0&&r.enterprise!==void 0}class uE{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return lE(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function dE(r,e){return pn(r,"GET","/v2/recaptchaConfig",mn(r,e))}async function hE(r,e){return pn(r,"POST","/v1/accounts:delete",e)}async function Yv(r,e){return pn(r,"POST","/v1/accounts:lookup",e)}function Ml(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mE(r,e=!1){const t=ct(r),n=await t.getIdToken(e),a=nf(n);ke(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:n,authTime:Ml(Hm(a.auth_time)),issuedAtTime:Ml(Hm(a.iat)),expirationTime:Ml(Hm(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Hm(r){return Number(r)*1e3}function nf(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return Qu("JWT malformed, contained fewer than 3 sections"),null;try{const a=Rv(t);return a?JSON.parse(a):(Qu("Failed to decode base64 JWT payload"),null)}catch(a){return Qu("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Qx(r){const e=nf(r);return ke(e,"internal-error"),ke(typeof e.exp<"u","internal-error"),ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Hl(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof Ps&&pE(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function pE({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class fE{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class mp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ml(this.lastLoginAt),this.creationTime=Ml(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function dd(r){var e;const t=r.auth,n=await r.getIdToken(),a=await Hl(r,Yv(t,{idToken:n}));ke(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?Xv(l.providerUserInfo):[],m=xE(r.providerData,u),p=r.isAnonymous,x=!(r.email&&l.passwordHash)&&!m?.length,g=p?x:!1,w={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:m,metadata:new mp(l.createdAt,l.lastLoginAt),isAnonymous:g};Object.assign(r,w)}async function gE(r){const e=ct(r);await dd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xE(r,e){return[...r.filter(n=>!e.some(a=>a.providerId===n.providerId)),...e]}function Xv(r){return r.map(e=>{var{providerId:t}=e,n=tf(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}async function yE(r,e){const t=await Kv(r,{},async()=>{const n=lc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=r.config,u=Qv(r,a,"/v1/token",`key=${l}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",Gv.fetch()(u,{method:"POST",headers:m,body:n})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function vE(r,e){return pn(r,"POST","/v2/accounts:revokeToken",mn(r,e))}class no{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ke(e.idToken,"internal-error"),ke(typeof e.idToken<"u","internal-error"),ke(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Qx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ke(e.length!==0,"internal-error");const t=Qx(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:a,expiresIn:l}=await yE(e,t);this.updateTokensAndExpiration(n,a,Number(l))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:a,expirationTime:l}=t,u=new no;return n&&(ke(typeof n=="string","internal-error",{appName:e}),u.refreshToken=n),a&&(ke(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(ke(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new no,this.toJSON())}_performRefresh(){return Js("not implemented")}}function $n(r,e){ke(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Zs{constructor(e){var{uid:t,auth:n,stsTokenManager:a}=e,l=tf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new mp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Hl(this,this.stsTokenManager.getToken(this.auth,e));return ke(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return mE(this,e)}reload(){return gE(this)}_assign(e){this!==e&&(ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Zs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await dd(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bs(this.auth.app))return Promise.reject(tn(this.auth));const e=await this.getIdToken();return await Hl(this,hE(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,a,l,u,m,p,x,g;const w=(n=t.displayName)!==null&&n!==void 0?n:void 0,b=(a=t.email)!==null&&a!==void 0?a:void 0,j=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,k=(u=t.photoURL)!==null&&u!==void 0?u:void 0,M=(m=t.tenantId)!==null&&m!==void 0?m:void 0,D=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,ee=(x=t.createdAt)!==null&&x!==void 0?x:void 0,K=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:Z,emailVerified:$,isAnonymous:G,providerData:se,stsTokenManager:L}=t;ke(Z&&L,e,"internal-error");const R=no.fromJSON(this.name,L);ke(typeof Z=="string",e,"internal-error"),$n(w,e.name),$n(b,e.name),ke(typeof $=="boolean",e,"internal-error"),ke(typeof G=="boolean",e,"internal-error"),$n(j,e.name),$n(k,e.name),$n(M,e.name),$n(D,e.name),$n(ee,e.name),$n(K,e.name);const E=new Zs({uid:Z,auth:e,email:b,emailVerified:$,displayName:w,isAnonymous:G,photoURL:k,phoneNumber:j,tenantId:M,stsTokenManager:R,createdAt:ee,lastLoginAt:K});return se&&Array.isArray(se)&&(E.providerData=se.map(S=>Object.assign({},S))),D&&(E._redirectEventId=D),E}static async _fromIdTokenResponse(e,t,n=!1){const a=new no;a.updateFromServerResponse(t);const l=new Zs({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:n});return await dd(l),l}static async _fromGetAccountInfoResponse(e,t,n){const a=t.users[0];ke(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Xv(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,m=new no;m.updateFromIdToken(n);const p=new Zs({uid:a.localId,auth:e,stsTokenManager:m,isAnonymous:u}),x={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new mp(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(p,x),p}}const Yx=new Map;function en(r){nn(r instanceof Function,"Expected a class definition");let e=Yx.get(r);return e?(nn(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Yx.set(r,e),e)}class Jv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Jv.type="NONE";const Xx=Jv;function Yu(r,e,t){return`firebase:${r}:${e}:${t}`}class io{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:a,name:l}=this.auth;this.fullUserKey=Yu(this.userKey,a.apiKey,l),this.fullPersistenceKey=Yu("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Zs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new io(en(Xx),e,n);const a=(await Promise.all(t.map(async x=>{if(await x._isAvailable())return x}))).filter(x=>x);let l=a[0]||en(Xx);const u=Yu(n,e.config.apiKey,e.name);let m=null;for(const x of t)try{const g=await x._get(u);if(g){const w=Zs._fromJSON(e,g);x!==l&&(m=w),l=x;break}}catch{}const p=a.filter(x=>x._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new io(l,e,n):(l=p[0],m&&await l._set(u,m.toJSON()),await Promise.all(t.map(async x=>{if(x!==l)try{await x._remove(u)}catch{}})),new io(l,e,n))}}function Jx(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Zv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nb(e))return"Blackberry";if(ib(e))return"Webos";if(eb(e))return"Safari";if((e.includes("chrome/")||tb(e))&&!e.includes("edge/"))return"Chrome";if(sb(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if(n?.length===2)return n[1]}return"Other"}function Zv(r=er()){return/firefox\//i.test(r)}function eb(r=er()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tb(r=er()){return/crios\//i.test(r)}function rb(r=er()){return/iemobile/i.test(r)}function sb(r=er()){return/android/i.test(r)}function nb(r=er()){return/blackberry/i.test(r)}function ib(r=er()){return/webos/i.test(r)}function af(r=er()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function bE(r=er()){var e;return af(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function wE(){return L2()&&document.documentMode===10}function ab(r=er()){return af(r)||sb(r)||ib(r)||nb(r)||/windows phone/i.test(r)||rb(r)}function ob(r,e=[]){let t;switch(r){case"Browser":t=Jx(er());break;case"Worker":t=`${Jx(er())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${sa}/${n}`}class _E{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=l=>new Promise((u,m)=>{try{const p=e(l);u(p)}catch(p){m(p)}});n.onAbort=t,this.queue.push(n);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}async function NE(r,e={}){return pn(r,"GET","/v2/passwordPolicy",mn(r,e))}const jE=6;class EE{constructor(e){var t,n,a,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:jE,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,a,l,u,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(n=p.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(a=p.containsLowercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(u=p.containsNumericCharacter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let a=0;a<e.length;a++)n=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class kE{constructor(e,t,n,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zx(this),this.idTokenSubscription=new Zx(this),this.beforeStateQueue=new _E(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=en(t)),this._initializationPromise=this.queue(async()=>{var n,a;if(!this._deleted&&(this.persistenceManager=await io.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Yv(this,{idToken:e}),n=await Zs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(bs(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(m,m))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=a?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===m)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await dd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=iE()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bs(this.app))return Promise.reject(tn(this));const t=e?ct(e):null;return t&&ke(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bs(this.app)?Promise.reject(tn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bs(this.app)?Promise.reject(tn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(en(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await NE(this),t=new EE(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new oc("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await vE(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&en(e)||this._popupRedirectResolver;ke(t,this,"argument-error"),this.redirectPersistenceManager=await io.create(this,[en(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(m,this,"internal-error"),m.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,n,a);return()=>{u=!0,p()}}else{const p=e.addObserver(t);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ob(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&rE(`Error while retrieving App Check token: ${t.error}`),t?.token}}function oi(r){return ct(r)}class Zx{constructor(e){this.auth=e,this.observer=null,this.addObserver=H2(t=>this.observer=t)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Rd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TE(r){Rd=r}function lb(r){return Rd.loadJS(r)}function SE(){return Rd.recaptchaEnterpriseScript}function IE(){return Rd.gapiScript}function CE(r){return`__${r}${Math.floor(Math.random()*1e6)}`}const AE="recaptcha-enterprise",PE="NO_RECAPTCHA";class RE{constructor(e){this.type=AE,this.auth=oi(e)}async verify(e="verify",t=!1){async function n(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,m)=>{dE(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const x=new uE(p);return l.tenantId==null?l._agentRecaptchaConfig=x:l._tenantRecaptchaConfigs[l.tenantId]=x,u(x.siteKey)}}).catch(p=>{m(p)})})}function a(l,u,m){const p=window.grecaptcha;Kx(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(x=>{u(x)}).catch(()=>{u(PE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((l,u)=>{n(this.auth).then(m=>{if(!t&&Kx(window.grecaptcha))a(m,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=SE();p.length!==0&&(p+=m),lb(p).then(()=>{a(m,l,u)}).catch(x=>{u(x)})}}).catch(m=>{u(m)})})}}async function ey(r,e,t,n=!1){const a=new RE(r);let l;try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const u=Object.assign({},e);return n?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function hd(r,e,t,n){var a;if(!((a=r._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await ey(r,e,t,t==="getOobCode");return n(r,l)}else return n(r,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await ey(r,e,t,t==="getOobCode");return n(r,u)}else return Promise.reject(l)})}function DE(r,e){const t=Pd(r,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(ld(l,e??{}))return a;as(a,"already-initialized")}return t.initialize({options:e})}function ME(r,e){const t=e?.persistence||[],n=(Array.isArray(t)?t:[t]).map(en);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e?.popupRedirectResolver)}function OE(r,e,t){const n=oi(r);ke(n._canInitEmulator,n,"emulator-config-failed"),ke(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const a=!1,l=cb(e),{host:u,port:m}=LE(e),p=m===null?"":`:${m}`;n.config.emulator={url:`${l}//${u}${p}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:u,port:m,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})}),VE()}function cb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function LE(r){const e=cb(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(n);if(a){const l=a[1];return{host:l,port:ty(n.substr(l.length+1))}}else{const[l,u]=n.split(":");return{host:l,port:ty(u)}}}function ty(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function VE(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class of{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Js("not implemented")}_getIdTokenResponse(e){return Js("not implemented")}_linkToIdToken(e,t){return Js("not implemented")}_getReauthenticationResolver(e){return Js("not implemented")}}async function FE(r,e){return pn(r,"POST","/v1/accounts:signUp",e)}async function UE(r,e){return uc(r,"POST","/v1/accounts:signInWithPassword",mn(r,e))}async function $E(r,e){return pn(r,"POST","/v1/accounts:sendOobCode",mn(r,e))}async function BE(r,e){return $E(r,e)}async function zE(r,e){return uc(r,"POST","/v1/accounts:signInWithEmailLink",mn(r,e))}async function qE(r,e){return uc(r,"POST","/v1/accounts:signInWithEmailLink",mn(r,e))}class Wl extends of{constructor(e,t,n,a=null){super("password",n),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Wl(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Wl(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hd(e,t,"signInWithPassword",UE);case"emailLink":return zE(e,{email:this._email,oobCode:this._password});default:as(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hd(e,n,"signUpPassword",FE);case"emailLink":return qE(e,{idToken:t,email:this._email,oobCode:this._password});default:as(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ao(r,e){return uc(r,"POST","/v1/accounts:signInWithIdp",mn(r,e))}const HE="http://localhost";class Ki extends of{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ki(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):as("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:a}=t,l=tf(t,["providerId","signInMethod"]);if(!n||!a)return null;const u=new Ki(n,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return ao(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ao(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ao(e,t)}buildRequest(){const e={requestUri:HE,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=lc(t)}return e}}function WE(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function GE(r){const e=Il(Cl(r)).link,t=e?Il(Cl(e)).deep_link_id:null,n=Il(Cl(r)).deep_link_id;return(n?Il(Cl(n)).link:null)||n||t||e||r}class lf{constructor(e){var t,n,a,l,u,m;const p=Il(Cl(e)),x=(t=p.apiKey)!==null&&t!==void 0?t:null,g=(n=p.oobCode)!==null&&n!==void 0?n:null,w=WE((a=p.mode)!==null&&a!==void 0?a:null);ke(x&&g&&w,"argument-error"),this.apiKey=x,this.operation=w,this.code=g,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(u=p.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const t=GE(e);try{return new lf(t)}catch{return null}}}class wo{constructor(){this.providerId=wo.PROVIDER_ID}static credential(e,t){return Wl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=lf.parseLink(t);return ke(n,"argument-error"),Wl._fromEmailAndCode(e,n.code,n.tenantId)}}wo.PROVIDER_ID="password";wo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ub{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class dc extends ub{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Bn extends dc{constructor(){super("facebook.com")}static credential(e){return Ki._fromParams({providerId:Bn.PROVIDER_ID,signInMethod:Bn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bn.credentialFromTaggedObject(e)}static credentialFromError(e){return Bn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bn.credential(e.oauthAccessToken)}catch{return null}}}Bn.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bn.PROVIDER_ID="facebook.com";class zn extends dc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ki._fromParams({providerId:zn.PROVIDER_ID,signInMethod:zn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return zn.credentialFromTaggedObject(e)}static credentialFromError(e){return zn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return zn.credential(t,n)}catch{return null}}}zn.GOOGLE_SIGN_IN_METHOD="google.com";zn.PROVIDER_ID="google.com";class qn extends dc{constructor(){super("github.com")}static credential(e){return Ki._fromParams({providerId:qn.PROVIDER_ID,signInMethod:qn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qn.credentialFromTaggedObject(e)}static credentialFromError(e){return qn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qn.credential(e.oauthAccessToken)}catch{return null}}}qn.GITHUB_SIGN_IN_METHOD="github.com";qn.PROVIDER_ID="github.com";class Hn extends dc{constructor(){super("twitter.com")}static credential(e,t){return Ki._fromParams({providerId:Hn.PROVIDER_ID,signInMethod:Hn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Hn.credentialFromTaggedObject(e)}static credentialFromError(e){return Hn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Hn.credential(t,n)}catch{return null}}}Hn.TWITTER_SIGN_IN_METHOD="twitter.com";Hn.PROVIDER_ID="twitter.com";async function KE(r,e){return uc(r,"POST","/v1/accounts:signUp",mn(r,e))}class Qi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,a=!1){const l=await Zs._fromIdTokenResponse(e,n,a),u=ry(n);return new Qi({user:l,providerId:u,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const a=ry(n);return new Qi({user:e,providerId:a,_tokenResponse:n,operationType:t})}}function ry(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class md extends Ps{constructor(e,t,n,a){var l;super(t.code,t.message),this.operationType=n,this.user=a,Object.setPrototypeOf(this,md.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,a){return new md(e,t,n,a)}}function db(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?md._fromErrorAndOperation(r,l,e,n):l})}async function QE(r,e,t=!1){const n=await Hl(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Qi._forOperation(r,"link",n)}async function YE(r,e,t=!1){const{auth:n}=r;if(bs(n.app))return Promise.reject(tn(n));const a="reauthenticate";try{const l=await Hl(r,db(n,a,e,r),t);ke(l.idToken,n,"internal-error");const u=nf(l.idToken);ke(u,n,"internal-error");const{sub:m}=u;return ke(r.uid===m,n,"user-mismatch"),Qi._forOperation(r,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&as(n,"user-mismatch"),l}}async function hb(r,e,t=!1){if(bs(r.app))return Promise.reject(tn(r));const n="signIn",a=await db(r,n,e),l=await Qi._fromIdTokenResponse(r,n,a);return t||await r._updateCurrentUser(l.user),l}async function XE(r,e){return hb(oi(r),e)}function JE(r,e,t){var n;ke(((n=t.url)===null||n===void 0?void 0:n.length)>0,r,"invalid-continue-uri"),ke(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,r,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(ke(t.iOS.bundleId.length>0,r,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(ke(t.android.packageName.length>0,r,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}async function mb(r){const e=oi(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ZE(r,e,t){const n=oi(r),a={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&JE(n,a,t),await hd(n,a,"getOobCode",BE)}async function ek(r,e,t){if(bs(r.app))return Promise.reject(tn(r));const n=oi(r),u=await hd(n,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",KE).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&mb(r),p}),m=await Qi._fromIdTokenResponse(n,"signIn",u);return await n._updateCurrentUser(m.user),m}function tk(r,e,t){return bs(r.app)?Promise.reject(tn(r)):XE(ct(r),wo.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&mb(r),n})}function rk(r,e,t,n){return ct(r).onIdTokenChanged(e,t,n)}function sk(r,e,t){return ct(r).beforeAuthStateChanged(e,t)}function nk(r,e,t,n){return ct(r).onAuthStateChanged(e,t,n)}function sy(r){return ct(r).signOut()}const pd="__sak";class pb{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(pd,"1"),this.storage.removeItem(pd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const ik=1e3,ak=10;class fb extends pb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ab(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),a=this.localCache[t];n!==a&&e(t,a,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,m,p)=>{this.notifyListeners(u,p)});return}const n=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(n);!t&&this.localCache[n]===u||this.notifyListeners(n,u)},l=this.storage.getItem(n);wE()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,ak):a()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},ik)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}fb.type="LOCAL";const ok=fb;class gb extends pb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}gb.type="SESSION";const xb=gb;function lk(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Dd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const n=new Dd(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:a,data:l}=t.data,u=this.handlersMap[a];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:a});const m=Array.from(u).map(async x=>x(t.origin,l)),p=await lk(m);t.ports[0].postMessage({status:"done",eventId:n,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dd.receivers=[];function cf(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}class ck{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((m,p)=>{const x=cf("",20);a.port1.start();const g=setTimeout(()=>{p(new Error("unsupported_event"))},n);u={messageChannel:a,onMessage(w){const b=w;if(b.data.eventId===x)switch(b.data.status){case"ack":clearTimeout(g),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(b.data.response);break;default:clearTimeout(g),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:x,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function ks(){return window}function uk(r){ks().location.href=r}function yb(){return typeof ks().WorkerGlobalScope<"u"&&typeof ks().importScripts=="function"}async function dk(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hk(){var r;return((r=navigator?.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function mk(){return yb()?self:null}const vb="firebaseLocalStorageDb",pk=1,fd="firebaseLocalStorage",bb="fbase_key";class hc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Md(r,e){return r.transaction([fd],e?"readwrite":"readonly").objectStore(fd)}function fk(){const r=indexedDB.deleteDatabase(vb);return new hc(r).toPromise()}function pp(){const r=indexedDB.open(vb,pk);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(fd,{keyPath:bb})}catch(a){t(a)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(fd)?e(n):(n.close(),await fk(),e(await pp()))})})}async function ny(r,e,t){const n=Md(r,!0).put({[bb]:e,value:t});return new hc(n).toPromise()}async function gk(r,e){const t=Md(r,!1).get(e),n=await new hc(t).toPromise();return n===void 0?null:n.value}function iy(r,e){const t=Md(r,!0).delete(e);return new hc(t).toPromise()}const xk=800,yk=3;class wb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>yk)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dd._getInstance(mk()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await dk(),!this.activeServiceWorker)return;this.sender=new ck(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((t=n[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pp();return await ny(e,pd,"1"),await iy(e,pd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>ny(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>gk(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>iy(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Md(a,!1).getAll();return new hc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)n.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!n.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wb.type="LOCAL";const vk=wb;new cc(3e4,6e4);function bk(r,e){return e?en(e):(ke(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class uf extends of{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ao(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ao(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function wk(r){return hb(r.auth,new uf(r),r.bypassAuthState)}function _k(r){const{auth:e,user:t}=r;return ke(t,e,"internal-error"),YE(t,new uf(r),r.bypassAuthState)}async function Nk(r){const{auth:e,user:t}=r;return ke(t,e,"internal-error"),QE(t,new uf(r),r.bypassAuthState)}class _b{constructor(e,t,n,a,l=!1){this.auth=e,this.resolver=n,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:a,tenantId:l,error:u,type:m}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:t,sessionId:n,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(x){this.reject(x)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wk;case"linkViaPopup":case"linkViaRedirect":return Nk;case"reauthViaPopup":case"reauthViaRedirect":return _k;default:as(this.auth,"internal-error")}}resolve(e){nn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){nn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const jk=new cc(2e3,1e4);class so extends _b{constructor(e,t,n,a,l){super(e,t,a,l),this.provider=n,this.authWindow=null,this.pollId=null,so.currentPopupAction&&so.currentPopupAction.cancel(),so.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ke(e,this.auth,"internal-error"),e}async onExecution(){nn(this.filter.length===1,"Popup operations only handle one event");const e=cf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Es(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Es(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,so.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if(!((n=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Es(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jk.get())};e()}}so.currentPopupAction=null;const Ek="pendingRedirect",Xu=new Map;class kk extends _b{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Xu.get(this.auth._key());if(!e){try{const n=await Tk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Xu.set(this.auth._key(),e)}return this.bypassAuthState||Xu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Tk(r,e){const t=Ck(e),n=Ik(r);if(!await n._isAvailable())return!1;const a=await n._get(t)==="true";return await n._remove(t),a}function Sk(r,e){Xu.set(r._key(),e)}function Ik(r){return en(r._redirectPersistence)}function Ck(r){return Yu(Ek,r.config.apiKey,r.name)}async function Ak(r,e,t=!1){if(bs(r.app))return Promise.reject(tn(r));const n=oi(r),a=bk(n,e),u=await new kk(n,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await n._persistUserIfCurrent(u.user),await n._setRedirectUser(null,e)),u}const Pk=600*1e3;class Rk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Dk(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Nb(e)){const a=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";t.onError(Es(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Pk&&this.cachedEventUids.clear(),this.cachedEventUids.has(ay(e))}saveEventToCache(e){this.cachedEventUids.add(ay(e)),this.lastProcessedEventTime=Date.now()}}function ay(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Nb({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function Dk(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Nb(r);default:return!1}}async function Mk(r,e={}){return pn(r,"GET","/v1/projects",e)}const Ok=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lk=/^https?/;async function Vk(r){if(r.config.emulator)return;const{authorizedDomains:e}=await Mk(r);for(const t of e)try{if(Fk(t))return}catch{}as(r,"unauthorized-domain")}function Fk(r){const e=hp(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const u=new URL(r);return u.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===n}if(!Lk.test(t))return!1;if(Ok.test(r))return n===r;const a=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(n)}const Uk=new cc(3e4,6e4);function oy(){const r=ks().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function $k(r){return new Promise((e,t)=>{var n,a,l;function u(){oy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{oy(),t(Es(r,"network-request-failed"))},timeout:Uk.get()})}if(!((a=(n=ks().gapi)===null||n===void 0?void 0:n.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=ks().gapi)===null||l===void 0)&&l.load)u();else{const m=CE("iframefcb");return ks()[m]=()=>{gapi.load?u():t(Es(r,"network-request-failed"))},lb(`${IE()}?onload=${m}`).catch(p=>t(p))}}).catch(e=>{throw Ju=null,e})}let Ju=null;function Bk(r){return Ju=Ju||$k(r),Ju}const zk=new cc(5e3,15e3),qk="__/auth/iframe",Hk="emulator/auth/iframe",Wk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Kk(r){const e=r.config;ke(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?sf(e,Hk):`https://${r.config.authDomain}/${qk}`,n={apiKey:e.apiKey,appName:r.name,v:sa},a=Gk.get(r.config.apiHost);a&&(n.eid=a);const l=r._getFrameworks();return l.length&&(n.fw=l.join(",")),`${t}?${lc(n).slice(1)}`}async function Qk(r){const e=await Bk(r),t=ks().gapi;return ke(t,r,"internal-error"),e.open({where:document.body,url:Kk(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wk,dontclear:!0},n=>new Promise(async(a,l)=>{await n.restyle({setHideOnLeave:!1});const u=Es(r,"network-request-failed"),m=ks().setTimeout(()=>{l(u)},zk.get());function p(){ks().clearTimeout(m),a(n)}n.ping(p).then(p,()=>{l(u)})}))}const Yk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Xk=500,Jk=600,Zk="_blank",eT="http://localhost";class ly{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tT(r,e,t,n=Xk,a=Jk){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-n)/2,0).toString();let m="";const p=Object.assign(Object.assign({},Yk),{width:n.toString(),height:a.toString(),top:l,left:u}),x=er().toLowerCase();t&&(m=tb(x)?Zk:t),Zv(x)&&(e=e||eT,p.scrollbars="yes");const g=Object.entries(p).reduce((b,[j,k])=>`${b}${j}=${k},`,"");if(bE(x)&&m!=="_self")return rT(e||"",m),new ly(null);const w=window.open(e||"",m,g);ke(w,r,"popup-blocked");try{w.focus()}catch{}return new ly(w)}function rT(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}const sT="__/auth/handler",nT="emulator/auth/handler",iT=encodeURIComponent("fac");async function cy(r,e,t,n,a,l){ke(r.config.authDomain,r,"auth-domain-config-required"),ke(r.config.apiKey,r,"invalid-api-key");const u={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:sa,eventId:a};if(e instanceof ub){e.setDefaultLanguage(r.languageCode),u.providerId=e.providerId||"",q2(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,w]of Object.entries({}))u[g]=w}if(e instanceof dc){const g=e.getScopes().filter(w=>w!=="");g.length>0&&(u.scopes=g.join(","))}r.tenantId&&(u.tid=r.tenantId);const m=u;for(const g of Object.keys(m))m[g]===void 0&&delete m[g];const p=await r._getAppCheckToken(),x=p?`#${iT}=${encodeURIComponent(p)}`:"";return`${aT(r)}?${lc(m).slice(1)}${x}`}function aT({config:r}){return r.emulator?sf(r,nT):`https://${r.authDomain}/${sT}`}const Wm="webStorageSupport";class oT{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xb,this._completeRedirectFn=Ak,this._overrideRedirectResult=Sk}async _openPopup(e,t,n,a){var l;nn((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await cy(e,t,n,hp(),a);return tT(e,u,cf())}async _openRedirect(e,t,n,a){await this._originValidation(e);const l=await cy(e,t,n,hp(),a);return uk(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(nn(l,"If manager is not set, promise should be"),l)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Qk(e),n=new Rk(e);return t.register("authEvent",a=>(ke(a?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Wm,{type:Wm},a=>{var l;const u=(l=a?.[0])===null||l===void 0?void 0:l[Wm];u!==void 0&&t(!!u),as(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Vk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ab()||eb()||af()}}const lT=oT;var uy="@firebase/auth",dy="1.7.9";class cT{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function uT(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dT(r){Gi(new ti("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:m}=n.options;ke(u&&!u.includes(":"),"invalid-api-key",{appName:n.name});const p={apiKey:u,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ob(r)},x=new kE(n,a,l,p);return ME(x,t),x},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Gi(new ti("auth-internal",e=>{const t=oi(e.getProvider("auth").getImmediate());return(n=>new cT(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),js(uy,dy,uT(r)),js(uy,dy,"esm2017")}const hT=300,mT=Lv("authIdTokenMaxAge")||hT;let hy=null;const pT=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>mT)return;const a=t?.token;hy!==a&&(hy=a,await fetch(r,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function fT(r=ef()){const e=Pd(r,"auth");if(e.isInitialized())return e.getImmediate();const t=DE(r,{popupRedirectResolver:lT,persistence:[vk,ok,xb]}),n=Lv("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(n,location.origin);if(location.origin===l.origin){const u=pT(l.toString());sk(t,u,()=>u(t.currentUser)),rk(t,m=>u(m))}}const a=Dv("auth");return a&&OE(t,`http://${a}`),t}function gT(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}TE({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=a=>{const l=Es("internal-error");l.customData=a,t(l)},n.type="text/javascript",n.charset="UTF-8",gT().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dT("Browser");var xT="firebase",yT="10.14.1";js(xT,yT,"app");var my=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var qi,jb;(function(){var r;function e(L,R){function E(){}E.prototype=R.prototype,L.D=R.prototype,L.prototype=new E,L.prototype.constructor=L,L.C=function(S,T,C){for(var A=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)A[ue-2]=arguments[ue];return R.prototype[T].apply(S,A)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(L,R,E){E||(E=0);var S=Array(16);if(typeof R=="string")for(var T=0;16>T;++T)S[T]=R.charCodeAt(E++)|R.charCodeAt(E++)<<8|R.charCodeAt(E++)<<16|R.charCodeAt(E++)<<24;else for(T=0;16>T;++T)S[T]=R[E++]|R[E++]<<8|R[E++]<<16|R[E++]<<24;R=L.g[0],E=L.g[1],T=L.g[2];var C=L.g[3],A=R+(C^E&(T^C))+S[0]+3614090360&4294967295;R=E+(A<<7&4294967295|A>>>25),A=C+(T^R&(E^T))+S[1]+3905402710&4294967295,C=R+(A<<12&4294967295|A>>>20),A=T+(E^C&(R^E))+S[2]+606105819&4294967295,T=C+(A<<17&4294967295|A>>>15),A=E+(R^T&(C^R))+S[3]+3250441966&4294967295,E=T+(A<<22&4294967295|A>>>10),A=R+(C^E&(T^C))+S[4]+4118548399&4294967295,R=E+(A<<7&4294967295|A>>>25),A=C+(T^R&(E^T))+S[5]+1200080426&4294967295,C=R+(A<<12&4294967295|A>>>20),A=T+(E^C&(R^E))+S[6]+2821735955&4294967295,T=C+(A<<17&4294967295|A>>>15),A=E+(R^T&(C^R))+S[7]+4249261313&4294967295,E=T+(A<<22&4294967295|A>>>10),A=R+(C^E&(T^C))+S[8]+1770035416&4294967295,R=E+(A<<7&4294967295|A>>>25),A=C+(T^R&(E^T))+S[9]+2336552879&4294967295,C=R+(A<<12&4294967295|A>>>20),A=T+(E^C&(R^E))+S[10]+4294925233&4294967295,T=C+(A<<17&4294967295|A>>>15),A=E+(R^T&(C^R))+S[11]+2304563134&4294967295,E=T+(A<<22&4294967295|A>>>10),A=R+(C^E&(T^C))+S[12]+1804603682&4294967295,R=E+(A<<7&4294967295|A>>>25),A=C+(T^R&(E^T))+S[13]+4254626195&4294967295,C=R+(A<<12&4294967295|A>>>20),A=T+(E^C&(R^E))+S[14]+2792965006&4294967295,T=C+(A<<17&4294967295|A>>>15),A=E+(R^T&(C^R))+S[15]+1236535329&4294967295,E=T+(A<<22&4294967295|A>>>10),A=R+(T^C&(E^T))+S[1]+4129170786&4294967295,R=E+(A<<5&4294967295|A>>>27),A=C+(E^T&(R^E))+S[6]+3225465664&4294967295,C=R+(A<<9&4294967295|A>>>23),A=T+(R^E&(C^R))+S[11]+643717713&4294967295,T=C+(A<<14&4294967295|A>>>18),A=E+(C^R&(T^C))+S[0]+3921069994&4294967295,E=T+(A<<20&4294967295|A>>>12),A=R+(T^C&(E^T))+S[5]+3593408605&4294967295,R=E+(A<<5&4294967295|A>>>27),A=C+(E^T&(R^E))+S[10]+38016083&4294967295,C=R+(A<<9&4294967295|A>>>23),A=T+(R^E&(C^R))+S[15]+3634488961&4294967295,T=C+(A<<14&4294967295|A>>>18),A=E+(C^R&(T^C))+S[4]+3889429448&4294967295,E=T+(A<<20&4294967295|A>>>12),A=R+(T^C&(E^T))+S[9]+568446438&4294967295,R=E+(A<<5&4294967295|A>>>27),A=C+(E^T&(R^E))+S[14]+3275163606&4294967295,C=R+(A<<9&4294967295|A>>>23),A=T+(R^E&(C^R))+S[3]+4107603335&4294967295,T=C+(A<<14&4294967295|A>>>18),A=E+(C^R&(T^C))+S[8]+1163531501&4294967295,E=T+(A<<20&4294967295|A>>>12),A=R+(T^C&(E^T))+S[13]+2850285829&4294967295,R=E+(A<<5&4294967295|A>>>27),A=C+(E^T&(R^E))+S[2]+4243563512&4294967295,C=R+(A<<9&4294967295|A>>>23),A=T+(R^E&(C^R))+S[7]+1735328473&4294967295,T=C+(A<<14&4294967295|A>>>18),A=E+(C^R&(T^C))+S[12]+2368359562&4294967295,E=T+(A<<20&4294967295|A>>>12),A=R+(E^T^C)+S[5]+4294588738&4294967295,R=E+(A<<4&4294967295|A>>>28),A=C+(R^E^T)+S[8]+2272392833&4294967295,C=R+(A<<11&4294967295|A>>>21),A=T+(C^R^E)+S[11]+1839030562&4294967295,T=C+(A<<16&4294967295|A>>>16),A=E+(T^C^R)+S[14]+4259657740&4294967295,E=T+(A<<23&4294967295|A>>>9),A=R+(E^T^C)+S[1]+2763975236&4294967295,R=E+(A<<4&4294967295|A>>>28),A=C+(R^E^T)+S[4]+1272893353&4294967295,C=R+(A<<11&4294967295|A>>>21),A=T+(C^R^E)+S[7]+4139469664&4294967295,T=C+(A<<16&4294967295|A>>>16),A=E+(T^C^R)+S[10]+3200236656&4294967295,E=T+(A<<23&4294967295|A>>>9),A=R+(E^T^C)+S[13]+681279174&4294967295,R=E+(A<<4&4294967295|A>>>28),A=C+(R^E^T)+S[0]+3936430074&4294967295,C=R+(A<<11&4294967295|A>>>21),A=T+(C^R^E)+S[3]+3572445317&4294967295,T=C+(A<<16&4294967295|A>>>16),A=E+(T^C^R)+S[6]+76029189&4294967295,E=T+(A<<23&4294967295|A>>>9),A=R+(E^T^C)+S[9]+3654602809&4294967295,R=E+(A<<4&4294967295|A>>>28),A=C+(R^E^T)+S[12]+3873151461&4294967295,C=R+(A<<11&4294967295|A>>>21),A=T+(C^R^E)+S[15]+530742520&4294967295,T=C+(A<<16&4294967295|A>>>16),A=E+(T^C^R)+S[2]+3299628645&4294967295,E=T+(A<<23&4294967295|A>>>9),A=R+(T^(E|~C))+S[0]+4096336452&4294967295,R=E+(A<<6&4294967295|A>>>26),A=C+(E^(R|~T))+S[7]+1126891415&4294967295,C=R+(A<<10&4294967295|A>>>22),A=T+(R^(C|~E))+S[14]+2878612391&4294967295,T=C+(A<<15&4294967295|A>>>17),A=E+(C^(T|~R))+S[5]+4237533241&4294967295,E=T+(A<<21&4294967295|A>>>11),A=R+(T^(E|~C))+S[12]+1700485571&4294967295,R=E+(A<<6&4294967295|A>>>26),A=C+(E^(R|~T))+S[3]+2399980690&4294967295,C=R+(A<<10&4294967295|A>>>22),A=T+(R^(C|~E))+S[10]+4293915773&4294967295,T=C+(A<<15&4294967295|A>>>17),A=E+(C^(T|~R))+S[1]+2240044497&4294967295,E=T+(A<<21&4294967295|A>>>11),A=R+(T^(E|~C))+S[8]+1873313359&4294967295,R=E+(A<<6&4294967295|A>>>26),A=C+(E^(R|~T))+S[15]+4264355552&4294967295,C=R+(A<<10&4294967295|A>>>22),A=T+(R^(C|~E))+S[6]+2734768916&4294967295,T=C+(A<<15&4294967295|A>>>17),A=E+(C^(T|~R))+S[13]+1309151649&4294967295,E=T+(A<<21&4294967295|A>>>11),A=R+(T^(E|~C))+S[4]+4149444226&4294967295,R=E+(A<<6&4294967295|A>>>26),A=C+(E^(R|~T))+S[11]+3174756917&4294967295,C=R+(A<<10&4294967295|A>>>22),A=T+(R^(C|~E))+S[2]+718787259&4294967295,T=C+(A<<15&4294967295|A>>>17),A=E+(C^(T|~R))+S[9]+3951481745&4294967295,L.g[0]=L.g[0]+R&4294967295,L.g[1]=L.g[1]+(T+(A<<21&4294967295|A>>>11))&4294967295,L.g[2]=L.g[2]+T&4294967295,L.g[3]=L.g[3]+C&4294967295}n.prototype.u=function(L,R){R===void 0&&(R=L.length);for(var E=R-this.blockSize,S=this.B,T=this.h,C=0;C<R;){if(T==0)for(;C<=E;)a(this,L,C),C+=this.blockSize;if(typeof L=="string"){for(;C<R;)if(S[T++]=L.charCodeAt(C++),T==this.blockSize){a(this,S),T=0;break}}else for(;C<R;)if(S[T++]=L[C++],T==this.blockSize){a(this,S),T=0;break}}this.h=T,this.o+=R},n.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var R=1;R<L.length-8;++R)L[R]=0;var E=8*this.o;for(R=L.length-8;R<L.length;++R)L[R]=E&255,E/=256;for(this.u(L),L=Array(16),R=E=0;4>R;++R)for(var S=0;32>S;S+=8)L[E++]=this.g[R]>>>S&255;return L};function l(L,R){var E=m;return Object.prototype.hasOwnProperty.call(E,L)?E[L]:E[L]=R(L)}function u(L,R){this.h=R;for(var E=[],S=!0,T=L.length-1;0<=T;T--){var C=L[T]|0;S&&C==R||(E[T]=C,S=!1)}this.g=E}var m={};function p(L){return-128<=L&&128>L?l(L,function(R){return new u([R|0],0>R?-1:0)}):new u([L|0],0>L?-1:0)}function x(L){if(isNaN(L)||!isFinite(L))return w;if(0>L)return D(x(-L));for(var R=[],E=1,S=0;L>=E;S++)R[S]=L/E|0,E*=4294967296;return new u(R,0)}function g(L,R){if(L.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(L.charAt(0)=="-")return D(g(L.substring(1),R));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=x(Math.pow(R,8)),S=w,T=0;T<L.length;T+=8){var C=Math.min(8,L.length-T),A=parseInt(L.substring(T,T+C),R);8>C?(C=x(Math.pow(R,C)),S=S.j(C).add(x(A))):(S=S.j(E),S=S.add(x(A)))}return S}var w=p(0),b=p(1),j=p(16777216);r=u.prototype,r.m=function(){if(M(this))return-D(this).m();for(var L=0,R=1,E=0;E<this.g.length;E++){var S=this.i(E);L+=(0<=S?S:4294967296+S)*R,R*=4294967296}return L},r.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(k(this))return"0";if(M(this))return"-"+D(this).toString(L);for(var R=x(Math.pow(L,6)),E=this,S="";;){var T=$(E,R).g;E=ee(E,T.j(R));var C=((0<E.g.length?E.g[0]:E.h)>>>0).toString(L);if(E=T,k(E))return C+S;for(;6>C.length;)C="0"+C;S=C+S}},r.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function k(L){if(L.h!=0)return!1;for(var R=0;R<L.g.length;R++)if(L.g[R]!=0)return!1;return!0}function M(L){return L.h==-1}r.l=function(L){return L=ee(this,L),M(L)?-1:k(L)?0:1};function D(L){for(var R=L.g.length,E=[],S=0;S<R;S++)E[S]=~L.g[S];return new u(E,~L.h).add(b)}r.abs=function(){return M(this)?D(this):this},r.add=function(L){for(var R=Math.max(this.g.length,L.g.length),E=[],S=0,T=0;T<=R;T++){var C=S+(this.i(T)&65535)+(L.i(T)&65535),A=(C>>>16)+(this.i(T)>>>16)+(L.i(T)>>>16);S=A>>>16,C&=65535,A&=65535,E[T]=A<<16|C}return new u(E,E[E.length-1]&-2147483648?-1:0)};function ee(L,R){return L.add(D(R))}r.j=function(L){if(k(this)||k(L))return w;if(M(this))return M(L)?D(this).j(D(L)):D(D(this).j(L));if(M(L))return D(this.j(D(L)));if(0>this.l(j)&&0>L.l(j))return x(this.m()*L.m());for(var R=this.g.length+L.g.length,E=[],S=0;S<2*R;S++)E[S]=0;for(S=0;S<this.g.length;S++)for(var T=0;T<L.g.length;T++){var C=this.i(S)>>>16,A=this.i(S)&65535,ue=L.i(T)>>>16,X=L.i(T)&65535;E[2*S+2*T]+=A*X,K(E,2*S+2*T),E[2*S+2*T+1]+=C*X,K(E,2*S+2*T+1),E[2*S+2*T+1]+=A*ue,K(E,2*S+2*T+1),E[2*S+2*T+2]+=C*ue,K(E,2*S+2*T+2)}for(S=0;S<R;S++)E[S]=E[2*S+1]<<16|E[2*S];for(S=R;S<2*R;S++)E[S]=0;return new u(E,0)};function K(L,R){for(;(L[R]&65535)!=L[R];)L[R+1]+=L[R]>>>16,L[R]&=65535,R++}function Z(L,R){this.g=L,this.h=R}function $(L,R){if(k(R))throw Error("division by zero");if(k(L))return new Z(w,w);if(M(L))return R=$(D(L),R),new Z(D(R.g),D(R.h));if(M(R))return R=$(L,D(R)),new Z(D(R.g),R.h);if(30<L.g.length){if(M(L)||M(R))throw Error("slowDivide_ only works with positive integers.");for(var E=b,S=R;0>=S.l(L);)E=G(E),S=G(S);var T=se(E,1),C=se(S,1);for(S=se(S,2),E=se(E,2);!k(S);){var A=C.add(S);0>=A.l(L)&&(T=T.add(E),C=A),S=se(S,1),E=se(E,1)}return R=ee(L,T.j(R)),new Z(T,R)}for(T=w;0<=L.l(R);){for(E=Math.max(1,Math.floor(L.m()/R.m())),S=Math.ceil(Math.log(E)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),C=x(E),A=C.j(R);M(A)||0<A.l(L);)E-=S,C=x(E),A=C.j(R);k(C)&&(C=b),T=T.add(C),L=ee(L,A)}return new Z(T,L)}r.A=function(L){return $(this,L).h},r.and=function(L){for(var R=Math.max(this.g.length,L.g.length),E=[],S=0;S<R;S++)E[S]=this.i(S)&L.i(S);return new u(E,this.h&L.h)},r.or=function(L){for(var R=Math.max(this.g.length,L.g.length),E=[],S=0;S<R;S++)E[S]=this.i(S)|L.i(S);return new u(E,this.h|L.h)},r.xor=function(L){for(var R=Math.max(this.g.length,L.g.length),E=[],S=0;S<R;S++)E[S]=this.i(S)^L.i(S);return new u(E,this.h^L.h)};function G(L){for(var R=L.g.length+1,E=[],S=0;S<R;S++)E[S]=L.i(S)<<1|L.i(S-1)>>>31;return new u(E,L.h)}function se(L,R){var E=R>>5;R%=32;for(var S=L.g.length-E,T=[],C=0;C<S;C++)T[C]=0<R?L.i(C+E)>>>R|L.i(C+E+1)<<32-R:L.i(C+E);return new u(T,L.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,jb=n,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=x,u.fromString=g,qi=u}).apply(typeof my<"u"?my:typeof self<"u"?self:typeof window<"u"?window:{});var $u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Eb,Al,kb,Zu,fp,Tb,Sb,Ib;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,_){return d==Array.prototype||d==Object.prototype||(d[y]=_.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof $u=="object"&&$u];for(var y=0;y<d.length;++y){var _=d[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var n=t(this);function a(d,y){if(y)e:{var _=n;d=d.split(".");for(var I=0;I<d.length-1;I++){var z=d[I];if(!(z in _))break e;_=_[z]}d=d[d.length-1],I=_[d],y=y(I),y!=I&&y!=null&&e(_,d,{configurable:!0,writable:!0,value:y})}}function l(d,y){d instanceof String&&(d+="");var _=0,I=!1,z={next:function(){if(!I&&_<d.length){var J=_++;return{value:y(J,d[J]),done:!1}}return I=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}a("Array.prototype.values",function(d){return d||function(){return l(this,function(y,_){return _})}});var u=u||{},m=this||self;function p(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function x(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function g(d,y,_){return d.call.apply(d.bind,arguments)}function w(d,y,_){if(!d)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,I),d.apply(y,z)}}return function(){return d.apply(y,arguments)}}function b(d,y,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:w,b.apply(null,arguments)}function j(d,y){var _=Array.prototype.slice.call(arguments,1);return function(){var I=_.slice();return I.push.apply(I,arguments),d.apply(this,I)}}function k(d,y){function _(){}_.prototype=y.prototype,d.aa=y.prototype,d.prototype=new _,d.prototype.constructor=d,d.Qb=function(I,z,J){for(var he=Array(arguments.length-2),We=2;We<arguments.length;We++)he[We-2]=arguments[We];return y.prototype[z].apply(I,he)}}function M(d){const y=d.length;if(0<y){const _=Array(y);for(let I=0;I<y;I++)_[I]=d[I];return _}return[]}function D(d,y){for(let _=1;_<arguments.length;_++){const I=arguments[_];if(p(I)){const z=d.length||0,J=I.length||0;d.length=z+J;for(let he=0;he<J;he++)d[z+he]=I[he]}else d.push(I)}}class ee{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function K(d){return/^[\s\xa0]*$/.test(d)}function Z(){var d=m.navigator;return d&&(d=d.userAgent)?d:""}function $(d){return $[" "](d),d}$[" "]=function(){};var G=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function se(d,y,_){for(const I in d)y.call(_,d[I],I,d)}function L(d,y){for(const _ in d)y.call(void 0,d[_],_,d)}function R(d){const y={};for(const _ in d)y[_]=d[_];return y}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(d,y){let _,I;for(let z=1;z<arguments.length;z++){I=arguments[z];for(_ in I)d[_]=I[_];for(let J=0;J<E.length;J++)_=E[J],Object.prototype.hasOwnProperty.call(I,_)&&(d[_]=I[_])}}function T(d){var y=1;d=d.split(":");const _=[];for(;0<y&&d.length;)_.push(d.shift()),y--;return d.length&&_.push(d.join(":")),_}function C(d){m.setTimeout(()=>{throw d},0)}function A(){var d=de;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class ue{constructor(){this.h=this.g=null}add(y,_){const I=X.get();I.set(y,_),this.h?this.h.next=I:this.g=I,this.h=I}}var X=new ee(()=>new W,d=>d.reset());class W{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let B,Q=!1,de=new ue,oe=()=>{const d=m.Promise.resolve(void 0);B=()=>{d.then(U)}};var U=()=>{for(var d;d=A();){try{d.h.call(d.g)}catch(_){C(_)}var y=X;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}Q=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function _e(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}_e.prototype.h=function(){this.defaultPrevented=!0};var Pe=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return d})();function Re(d,y){if(_e.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var _=this.type=d.type,I=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if(G){e:{try{$(y.nodeName);var z=!0;break e}catch{}z=!1}z||(y=null)}}else _=="mouseover"?y=d.fromElement:_=="mouseout"&&(y=d.toElement);this.relatedTarget=y,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Ve[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Re.aa.h.call(this)}}k(Re,_e);var Ve={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var qe="closure_listenable_"+(1e6*Math.random()|0),He=0;function Xe(d,y,_,I,z){this.listener=d,this.proxy=null,this.src=y,this.type=_,this.capture=!!I,this.ha=z,this.key=++He,this.da=this.fa=!1}function St(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Rs(d){this.src=d,this.g={},this.h=0}Rs.prototype.add=function(d,y,_,I,z){var J=d.toString();d=this.g[J],d||(d=this.g[J]=[],this.h++);var he=gn(d,y,I,z);return-1<he?(y=d[he],_||(y.fa=!1)):(y=new Xe(y,this.src,J,!!I,z),y.fa=_,d.push(y)),y};function la(d,y){var _=y.type;if(_ in d.g){var I=d.g[_],z=Array.prototype.indexOf.call(I,y,void 0),J;(J=0<=z)&&Array.prototype.splice.call(I,z,1),J&&(St(y),d.g[_].length==0&&(delete d.g[_],d.h--))}}function gn(d,y,_,I){for(var z=0;z<d.length;++z){var J=d[z];if(!J.da&&J.listener==y&&J.capture==!!_&&J.ha==I)return z}return-1}var hi="closure_lm_"+(1e6*Math.random()|0),ca={};function Ao(d,y,_,I,z){if(Array.isArray(y)){for(var J=0;J<y.length;J++)Ao(d,y[J],_,I,z);return null}return _=Do(_),d&&d[qe]?d.K(y,_,x(I)?!!I.capture:!1,z):Po(d,y,_,!1,I,z)}function Po(d,y,_,I,z,J){if(!y)throw Error("Invalid event type");var he=x(z)?!!z.capture:!!z,We=da(d);if(We||(d[hi]=We=new Rs(d)),_=We.add(y,_,I,he,J),_.proxy)return _;if(I=jc(),_.proxy=I,I.src=d,I.listener=_,d.addEventListener)Pe||(z=he),z===void 0&&(z=!1),d.addEventListener(y.toString(),I,z);else if(d.attachEvent)d.attachEvent(Ms(y.toString()),I);else if(d.addListener&&d.removeListener)d.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return _}function jc(){function d(_){return y.call(d.src,d.listener,_)}const y=Ro;return d}function ua(d,y,_,I,z){if(Array.isArray(y))for(var J=0;J<y.length;J++)ua(d,y[J],_,I,z);else I=x(I)?!!I.capture:!!I,_=Do(_),d&&d[qe]?(d=d.i,y=String(y).toString(),y in d.g&&(J=d.g[y],_=gn(J,_,I,z),-1<_&&(St(J[_]),Array.prototype.splice.call(J,_,1),J.length==0&&(delete d.g[y],d.h--)))):d&&(d=da(d))&&(y=d.g[y.toString()],d=-1,y&&(d=gn(y,_,I,z)),(_=-1<d?y[d]:null)&&Ds(_))}function Ds(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[qe])la(y.i,d);else{var _=d.type,I=d.proxy;y.removeEventListener?y.removeEventListener(_,I,d.capture):y.detachEvent?y.detachEvent(Ms(_),I):y.addListener&&y.removeListener&&y.removeListener(I),(_=da(y))?(la(_,d),_.h==0&&(_.src=null,y[hi]=null)):St(d)}}}function Ms(d){return d in ca?ca[d]:ca[d]="on"+d}function Ro(d,y){if(d.da)d=!0;else{y=new Re(y,this);var _=d.listener,I=d.ha||d.src;d.fa&&Ds(d),d=_.call(I,y)}return d}function da(d){return d=d[hi],d instanceof Rs?d:null}var ha="__closure_events_fn_"+(1e9*Math.random()>>>0);function Do(d){return typeof d=="function"?d:(d[ha]||(d[ha]=function(y){return d.handleEvent(y)}),d[ha])}function _t(){te.call(this),this.i=new Rs(this),this.M=this,this.F=null}k(_t,te),_t.prototype[qe]=!0,_t.prototype.removeEventListener=function(d,y,_,I){ua(this,d,y,_,I)};function Nt(d,y){var _,I=d.F;if(I)for(_=[];I;I=I.F)_.push(I);if(d=d.M,I=y.type||y,typeof y=="string")y=new _e(y,d);else if(y instanceof _e)y.target=y.target||d;else{var z=y;y=new _e(I,d),S(y,z)}if(z=!0,_)for(var J=_.length-1;0<=J;J--){var he=y.g=_[J];z=Os(he,I,!0,y)&&z}if(he=y.g=d,z=Os(he,I,!0,y)&&z,z=Os(he,I,!1,y)&&z,_)for(J=0;J<_.length;J++)he=y.g=_[J],z=Os(he,I,!1,y)&&z}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var _=d.g[y],I=0;I<_.length;I++)St(_[I]);delete d.g[y],d.h--}}this.F=null},_t.prototype.K=function(d,y,_,I){return this.i.add(String(d),y,!1,_,I)},_t.prototype.L=function(d,y,_,I){return this.i.add(String(d),y,!0,_,I)};function Os(d,y,_,I){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,J=0;J<y.length;++J){var he=y[J];if(he&&!he.da&&he.capture==_){var We=he.listener,jt=he.ha||he.src;he.fa&&la(d.i,he),z=We.call(jt,I)!==!1&&z}}return z&&!I.defaultPrevented}function Mo(d,y,_){if(typeof d=="function")_&&(d=b(d,_));else if(d&&typeof d.handleEvent=="function")d=b(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(d,y||0)}function xn(d){d.g=Mo(()=>{d.g=null,d.i&&(d.i=!1,xn(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class mi extends te{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:xn(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pi(d){te.call(this),this.h=d,this.g={}}k(pi,te);var Oo=[];function Lo(d){se(d.g,function(y,_){this.g.hasOwnProperty(_)&&Ds(y)},d),d.g={}}pi.prototype.N=function(){pi.aa.N.call(this),Lo(this)},pi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vo=m.JSON.stringify,Fo=m.JSON.parse,Uo=class{stringify(d){return m.JSON.stringify(d,void 0)}parse(d){return m.JSON.parse(d,void 0)}};function fi(){}fi.prototype.h=null;function ma(d){return d.h||(d.h=d.i())}function pa(){}var Ar={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function cs(){_e.call(this,"d")}k(cs,_e);function fa(){_e.call(this,"c")}k(fa,_e);var us={},$o=null;function gi(){return $o=$o||new _t}us.La="serverreachability";function Bo(d){_e.call(this,us.La,d)}k(Bo,_e);function Ls(d){const y=gi();Nt(y,new Bo(y))}us.STAT_EVENT="statevent";function zo(d,y){_e.call(this,us.STAT_EVENT,d),this.stat=y}k(zo,_e);function pt(d){const y=gi();Nt(y,new zo(y,d))}us.Ma="timingevent";function ga(d,y){_e.call(this,us.Ma,d),this.size=y}k(ga,_e);function qr(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){d()},y)}function xi(){this.g=!0}xi.prototype.xa=function(){this.g=!1};function yi(d,y,_,I,z,J){d.info(function(){if(d.g)if(J)for(var he="",We=J.split("&"),jt=0;jt<We.length;jt++){var Fe=We[jt].split("=");if(1<Fe.length){var It=Fe[0];Fe=Fe[1];var yt=It.split("_");he=2<=yt.length&&yt[1]=="type"?he+(It+"="+Fe+"&"):he+(It+"=redacted&")}}else he=null;else he=J;return"XMLHTTP REQ ("+I+") [attempt "+z+"]: "+y+`
`+_+`
`+he})}function xa(d,y,_,I,z,J,he){d.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+z+"]: "+y+`
`+_+`
`+J+" "+he})}function Hr(d,y,_,I){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+lh(d,_)+(I?" "+I:"")})}function qo(d,y){d.info(function(){return"TIMEOUT: "+y})}xi.prototype.info=function(){};function lh(d,y){if(!d.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(d=0;d<_.length;d++)if(Array.isArray(_[d])){var I=_[d];if(!(2>I.length)){var z=I[1];if(Array.isArray(z)&&!(1>z.length)){var J=z[0];if(J!="noop"&&J!="stop"&&J!="close")for(var he=1;he<z.length;he++)z[he]=""}}}}return Vo(_)}catch{return y}}var ya={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ec={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wr;function vi(){}k(vi,fi),vi.prototype.g=function(){return new XMLHttpRequest},vi.prototype.i=function(){return{}},Wr=new vi;function Gr(d,y,_,I){this.j=d,this.i=y,this.l=_,this.R=I||1,this.U=new pi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kc}function kc(){this.i=null,this.g="",this.h=!1}var Ho={},va={};function ba(d,y,_){d.L=1,d.v=_n(wr(y)),d.m=_,d.P=!0,Wo(d,null)}function Wo(d,y){d.F=Date.now(),Je(d),d.A=wr(d.v);var _=d.A,I=d.R;Array.isArray(I)||(I=[String(I)]),jn(_.i,"t",I),d.C=0,_=d.j.J,d.h=new kc,d.g=qc(d.j,_?y:null,!d.m),0<d.O&&(d.M=new mi(b(d.Y,d,d.g),d.O)),y=d.U,_=d.g,I=d.ca;var z="readystatechange";Array.isArray(z)||(z&&(Oo[0]=z.toString()),z=Oo);for(var J=0;J<z.length;J++){var he=Ao(_,z[J],I||y.handleEvent,!1,y.h||y);if(!he)break;y.g[he.key]=he}y=d.H?R(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),Ls(),yi(d.i,d.u,d.A,d.l,d.R,d.m)}Gr.prototype.ca=function(d){d=d.target;const y=this.M;y&&cr(d)==3?y.j():this.Y(d)},Gr.prototype.Y=function(d){try{if(d==this.g)e:{const yt=cr(this.g);var y=this.g.Ba();const Dr=this.g.Z();if(!(3>yt)&&(yt!=3||this.g&&(this.h.h||this.g.oa()||Jo(this.g)))){this.J||yt!=4||y==7||(y==8||0>=Dr?Ls(3):Ls(2)),bi(this);var _=this.g.Z();this.X=_;t:if(Tc(this)){var I=Jo(this.g);d="";var z=I.length,J=cr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pr(this),yn(this);var he="";break t}this.h.i=new m.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,d+=this.h.i.decode(I[y],{stream:!(J&&y==z-1)});I.length=0,this.h.g+=d,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=_==200,xa(this.i,this.u,this.A,this.l,this.R,yt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var We,jt=this.g;if((We=jt.g?jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(We)){var Fe=We;break t}}Fe=null}if(_=Fe)Hr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Go(this,_);else{this.o=!1,this.s=3,pt(12),Pr(this),yn(this);break e}}if(this.P){_=!0;let Nr;for(;!this.J&&this.C<he.length;)if(Nr=ch(this,he),Nr==va){yt==4&&(this.s=4,pt(14),_=!1),Hr(this.i,this.l,null,"[Incomplete Response]");break}else if(Nr==Ho){this.s=4,pt(15),Hr(this.i,this.l,he,"[Invalid Chunk]"),_=!1;break}else Hr(this.i,this.l,Nr,null),Go(this,Nr);if(Tc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yt!=4||he.length!=0||this.h.h||(this.s=1,pt(16),_=!1),this.o=this.o&&_,!_)Hr(this.i,this.l,he,"[Invalid Chunked Response]"),Pr(this),yn(this);else if(0<he.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),el(It),It.M=!0,pt(11))}}else Hr(this.i,this.l,he,null),Go(this,he);yt==4&&Pr(this),this.o&&!this.J&&(yt==4?Aa(this.j,this):(this.o=!1,Je(this)))}else ka(this.g),_==400&&0<he.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),Pr(this),yn(this)}}}catch{}};function Tc(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function ch(d,y){var _=d.C,I=y.indexOf(`
`,_);return I==-1?va:(_=Number(y.substring(_,I)),isNaN(_)?Ho:(I+=1,I+_>y.length?va:(y=y.slice(I,I+_),d.C=I+_,y)))}Gr.prototype.cancel=function(){this.J=!0,Pr(this)};function Je(d){d.S=Date.now()+d.I,Sc(d,d.I)}function Sc(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=qr(b(d.ba,d),y)}function bi(d){d.B&&(m.clearTimeout(d.B),d.B=null)}Gr.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(qo(this.i,this.A),this.L!=2&&(Ls(),pt(17)),Pr(this),this.s=2,yn(this)):Sc(this,this.S-d)};function yn(d){d.j.G==0||d.J||Aa(d.j,d)}function Pr(d){bi(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,Lo(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function Go(d,y){try{var _=d.j;if(_.G!=0&&(_.g==d||rr(_.h,d))){if(!d.K&&rr(_.h,d)&&_.G==3){try{var I=_.Da.g.parse(y)}catch{I=null}if(Array.isArray(I)&&I.length==3){var z=I;if(z[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<d.F)Ca(_),Jr(_);else break e;Ia(_),pt(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=qr(b(_.Za,_),6e3));if(1>=Cc(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Bs(_,11)}else if((d.K||_.g==d)&&Ca(_),!K(y))for(z=_.Da.g.parse(y),y=0;y<z.length;y++){let Fe=z[y];if(_.T=Fe[0],Fe=Fe[1],_.G==2)if(Fe[0]=="c"){_.K=Fe[1],_.ia=Fe[2];const It=Fe[3];It!=null&&(_.la=It,_.j.info("VER="+_.la));const yt=Fe[4];yt!=null&&(_.Aa=yt,_.j.info("SVER="+_.Aa));const Dr=Fe[5];Dr!=null&&typeof Dr=="number"&&0<Dr&&(I=1.5*Dr,_.L=I,_.j.info("backChannelRequestTimeoutMs_="+I)),I=_;const Nr=d.g;if(Nr){const Ti=Nr.g?Nr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ti){var J=I.h;J.g||Ti.indexOf("spdy")==-1&&Ti.indexOf("quic")==-1&&Ti.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Ko(J,J.h),J.h=null))}if(I.D){const Ra=Nr.g?Nr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ra&&(I.ya=Ra,Ke(I.I,I.D,Ra))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-d.F,_.j.info("Handshake RTT: "+_.R+"ms")),I=_;var he=d;if(I.qa=zc(I,I.J?I.ia:null,I.W),he.K){Ac(I.h,he);var We=he,jt=I.L;jt&&(We.I=jt),We.B&&(bi(We),Je(We)),I.g=he}else ki(I);0<_.i.length&&ps(_)}else Fe[0]!="stop"&&Fe[0]!="close"||Bs(_,7);else _.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Bs(_,7):Lt(_):Fe[0]!="noop"&&_.l&&_.l.ta(Fe),_.v=0)}}Ls(4)}catch{}}var Ic=class{constructor(d,y){this.g=d,this.map=y}};function wi(d){this.l=d||10,m.PerformanceNavigationTiming?(d=m.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function br(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Cc(d){return d.h?1:d.g?d.g.size:0}function rr(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function Ko(d,y){d.g?d.g.add(y):d.h=y}function Ac(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}wi.prototype.cancel=function(){if(this.i=Pc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Pc(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const _ of d.g.values())y=y.concat(_.D);return y}return M(d.i)}function wa(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(p(d)){for(var y=[],_=d.length,I=0;I<_;I++)y.push(d[I]);return y}y=[],_=0;for(I in d)y[_++]=d[I];return y}function _a(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(p(d)||typeof d=="string"){var y=[];d=d.length;for(var _=0;_<d;_++)y.push(_);return y}y=[],_=0;for(const I in d)y[_++]=I;return y}}}function vn(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(p(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var _=_a(d),I=wa(d),z=I.length,J=0;J<z;J++)y.call(void 0,I[J],_&&_[J],d)}var _i=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uh(d,y){if(d){d=d.split("&");for(var _=0;_<d.length;_++){var I=d[_].indexOf("="),z=null;if(0<=I){var J=d[_].substring(0,I);z=d[_].substring(I+1)}else J=d[_];y(J,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Vs(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Vs){this.h=d.h,Ni(this,d.j),this.o=d.o,this.g=d.g,bn(this,d.s),this.l=d.l;var y=d.i,_=new ds;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),wn(this,_),this.m=d.m}else d&&(y=String(d).match(_i))?(this.h=!1,Ni(this,y[1]||"",!0),this.o=Oe(y[2]||""),this.g=Oe(y[3]||"",!0),bn(this,y[4]),this.l=Oe(y[5]||"",!0),wn(this,y[6]||"",!0),this.m=Oe(y[7]||"")):(this.h=!1,this.i=new ds(null,this.h))}Vs.prototype.toString=function(){var d=[],y=this.j;y&&d.push(Nn(y,Na,!0),":");var _=this.g;return(_||y=="file")&&(d.push("//"),(y=this.o)&&d.push(Nn(y,Na,!0),"@"),d.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&d.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&d.push("/"),d.push(Nn(_,_.charAt(0)=="/"?Mc:Dc,!0))),(_=this.i.toString())&&d.push("?",_),(_=this.m)&&d.push("#",Nn(_,Qo)),d.join("")};function wr(d){return new Vs(d)}function Ni(d,y,_){d.j=_?Oe(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function bn(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function wn(d,y,_){y instanceof ds?(d.i=y,hs(d.i,d.h)):(_||(y=Nn(y,Oc)),d.i=new ds(y,d.h))}function Ke(d,y,_){d.i.set(y,_)}function _n(d){return Ke(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Oe(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Nn(d,y,_){return typeof d=="string"?(d=encodeURI(d).replace(y,Rc),_&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Rc(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Na=/[#\/\?@]/g,Dc=/[#\?:]/g,Mc=/[#\?]/g,Oc=/[#\?@]/g,Qo=/#/g;function ds(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function Ot(d){d.g||(d.g=new Map,d.h=0,d.i&&uh(d.i,function(y,_){d.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=ds.prototype,r.add=function(d,y){Ot(this),this.i=null,d=Rr(this,d);var _=this.g.get(d);return _||this.g.set(d,_=[]),_.push(y),this.h+=1,this};function Kr(d,y){Ot(d),y=Rr(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function Qr(d,y){return Ot(d),y=Rr(d,y),d.g.has(y)}r.forEach=function(d,y){Ot(this),this.g.forEach(function(_,I){_.forEach(function(z){d.call(y,z,I,this)},this)},this)},r.na=function(){Ot(this);const d=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let I=0;I<y.length;I++){const z=d[I];for(let J=0;J<z.length;J++)_.push(y[I])}return _},r.V=function(d){Ot(this);let y=[];if(typeof d=="string")Qr(this,d)&&(y=y.concat(this.g.get(Rr(this,d))));else{d=Array.from(this.g.values());for(let _=0;_<d.length;_++)y=y.concat(d[_])}return y},r.set=function(d,y){return Ot(this),this.i=null,d=Rr(this,d),Qr(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},r.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function jn(d,y,_){Kr(d,y),0<_.length&&(d.i=null,d.g.set(Rr(d,y),M(_)),d.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var I=y[_];const J=encodeURIComponent(String(I)),he=this.V(I);for(I=0;I<he.length;I++){var z=J;he[I]!==""&&(z+="="+encodeURIComponent(String(he[I]))),d.push(z)}}return this.i=d.join("&")};function Rr(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function hs(d,y){y&&!d.j&&(Ot(d),d.i=null,d.g.forEach(function(_,I){var z=I.toLowerCase();I!=z&&(Kr(this,I),jn(this,z,_))},d)),d.j=y}function dh(d,y){const _=new xi;if(m.Image){const I=new Image;I.onload=j(lr,_,"TestLoadImage: loaded",!0,y,I),I.onerror=j(lr,_,"TestLoadImage: error",!1,y,I),I.onabort=j(lr,_,"TestLoadImage: abort",!1,y,I),I.ontimeout=j(lr,_,"TestLoadImage: timeout",!1,y,I),m.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=d}else y(!1)}function Lc(d,y){const _=new xi,I=new AbortController,z=setTimeout(()=>{I.abort(),lr(_,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:I.signal}).then(J=>{clearTimeout(z),J.ok?lr(_,"TestPingServer: ok",!0,y):lr(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),lr(_,"TestPingServer: error",!1,y)})}function lr(d,y,_,I,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),I(_)}catch{}}function hh(){this.g=new Uo}function Vc(d,y,_){const I=_||"";try{vn(d,function(z,J){let he=z;x(z)&&(he=Vo(z)),y.push(I+J+"="+encodeURIComponent(he))})}catch(z){throw y.push(I+"type="+encodeURIComponent("_badmap")),z}}function Fs(d){this.l=d.Ub||null,this.j=d.eb||!1}k(Fs,fi),Fs.prototype.g=function(){return new ji(this.l,this.j)},Fs.prototype.i=(function(d){return function(){return d}})({});function ji(d,y){_t.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(ji,_t),r=ji.prototype,r.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,Xr(this)},r.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yr(this)),this.readyState=0},r.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Xr(this)),this.g&&(this.readyState=3,Xr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fc(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fc(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}r.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?Yr(this):Xr(this),this.readyState==3&&Fc(this)}},r.Ra=function(d){this.g&&(this.response=this.responseText=d,Yr(this))},r.Qa=function(d){this.g&&(this.response=d,Yr(this))},r.ga=function(){this.g&&Yr(this)};function Yr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Xr(d)}r.setRequestHeader=function(d,y){this.u.append(d,y)},r.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,d.push(_[0]+": "+_[1]),_=y.next();return d.join(`\r
`)};function Xr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ji.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Us(d){let y="";return se(d,function(_,I){y+=I,y+=":",y+=_,y+=`\r
`}),y}function En(d,y,_){e:{for(I in _){var I=!1;break e}I=!0}I||(_=Us(_),typeof d=="string"?_!=null&&encodeURIComponent(String(_)):Ke(d,y,_))}function nt(d){_t.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(nt,_t);var mh=/^https?$/i,Yo=["POST","PUT"];r=nt.prototype,r.Ha=function(d){this.J=d},r.ea=function(d,y,_,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wr.g(),this.v=this.o?ma(this.o):ma(Wr),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(J){Ei(this,J);return}if(d=_||"",_=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var z in I)_.set(z,I[z]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const J of I.keys())_.set(J,I.get(J));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(_.keys()).find(J=>J.toLowerCase()=="content-type"),z=m.FormData&&d instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Yo,y,void 0))||I||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,he]of _)this.g.setRequestHeader(J,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ea(this),this.u=!0,this.g.send(d),this.u=!1}catch(J){Ei(this,J)}};function Ei(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,ja(d),_r(d)}function ja(d){d.A||(d.A=!0,Nt(d,"complete"),Nt(d,"error"))}r.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Nt(this,"complete"),Nt(this,"abort"),_r(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_r(this,!0)),nt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Xo(this):this.bb())},r.bb=function(){Xo(this)};function Xo(d){if(d.h&&typeof u<"u"&&(!d.v[1]||cr(d)!=4||d.Z()!=2)){if(d.u&&cr(d)==4)Mo(d.Ea,0,d);else if(Nt(d,"readystatechange"),cr(d)==4){d.h=!1;try{const he=d.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var I;if(I=he===0){var z=String(d.D).match(_i)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),I=!mh.test(z?z.toLowerCase():"")}_=I}if(_)Nt(d,"complete"),Nt(d,"success");else{d.m=6;try{var J=2<cr(d)?d.g.statusText:""}catch{J=""}d.l=J+" ["+d.Z()+"]",ja(d)}}finally{_r(d)}}}}function _r(d,y){if(d.g){Ea(d);const _=d.g,I=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||Nt(d,"ready");try{_.onreadystatechange=I}catch{}}}function Ea(d){d.I&&(m.clearTimeout(d.I),d.I=null)}r.isActive=function(){return!!this.g};function cr(d){return d.g?d.g.readyState:0}r.Z=function(){try{return 2<cr(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),Fo(y)}};function Jo(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function ka(d){const y={};d=(d.g&&2<=cr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<d.length;I++){if(K(d[I]))continue;var _=T(d[I]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const J=y[z]||[];y[z]=J,J.push(_)}L(y,function(I){return I.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ms(d,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[d]||y}function Zo(d){this.Aa=0,this.i=[],this.j=new xi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ms("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ms("baseRetryDelayMs",5e3,d),this.cb=ms("retryDelaySeedMs",1e4,d),this.Wa=ms("forwardChannelMaxRetries",2,d),this.wa=ms("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new wi(d&&d.concurrentRequestLimit),this.Da=new hh,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Zo.prototype,r.la=8,r.G=1,r.connect=function(d,y,_,I){pt(0),this.W=d,this.H=y||{},_&&I!==void 0&&(this.H.OSID=_,this.H.OAID=I),this.F=this.X,this.I=zc(this,null,this.W),ps(this)};function Lt(d){if(Ta(d),d.G==3){var y=d.U++,_=wr(d.I);if(Ke(_,"SID",d.K),Ke(_,"RID",y),Ke(_,"TYPE","terminate"),$s(d,_),y=new Gr(d,d.j,y),y.L=2,y.v=_n(wr(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=qc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Je(y)}Bc(d)}function Jr(d){d.g&&(el(d),d.g.cancel(),d.g=null)}function Ta(d){Jr(d),d.u&&(m.clearTimeout(d.u),d.u=null),Ca(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&m.clearTimeout(d.s),d.s=null)}function ps(d){if(!br(d.h)&&!d.s){d.s=!0;var y=d.Ga;B||oe(),Q||(B(),Q=!0),de.add(y,d),d.B=0}}function ph(d,y){return Cc(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=qr(b(d.Ga,d,y),$c(d,d.B)),d.B++,!0)}r.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const z=new Gr(this,this.j,d);let J=this.o;if(this.S&&(J?(J=R(J),S(J,this.S)):J=this.S),this.m!==null||this.O||(z.H=J,J=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var I=this.i[_];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(y+=I,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=kn(this,z,y),_=wr(this.I),Ke(_,"RID",d),Ke(_,"CVER",22),this.D&&Ke(_,"X-HTTP-Session-Id",this.D),$s(this,_),J&&(this.O?y="headers="+encodeURIComponent(String(Us(J)))+"&"+y:this.m&&En(_,this.m,J)),Ko(this.h,z),this.Ua&&Ke(_,"TYPE","init"),this.P?(Ke(_,"$req",y),Ke(_,"SID","null"),z.T=!0,ba(z,_,null)):ba(z,_,y),this.G=2}}else this.G==3&&(d?Sa(this,d):this.i.length==0||br(this.h)||Sa(this))};function Sa(d,y){var _;y?_=y.l:_=d.U++;const I=wr(d.I);Ke(I,"SID",d.K),Ke(I,"RID",_),Ke(I,"AID",d.T),$s(d,I),d.m&&d.o&&En(I,d.m,d.o),_=new Gr(d,d.j,_,d.B+1),d.m===null&&(_.H=d.o),y&&(d.i=y.D.concat(d.i)),y=kn(d,_,1e3),_.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Ko(d.h,_),ba(_,I,y)}function $s(d,y){d.H&&se(d.H,function(_,I){Ke(y,I,_)}),d.l&&vn({},function(_,I){Ke(y,I,_)})}function kn(d,y,_){_=Math.min(d.i.length,_);var I=d.l?b(d.l.Na,d.l,d):null;e:{var z=d.i;let J=-1;for(;;){const he=["count="+_];J==-1?0<_?(J=z[0].g,he.push("ofs="+J)):J=0:he.push("ofs="+J);let We=!0;for(let jt=0;jt<_;jt++){let Fe=z[jt].g;const It=z[jt].map;if(Fe-=J,0>Fe)J=Math.max(0,z[jt].g-100),We=!1;else try{Vc(It,he,"req"+Fe+"_")}catch{I&&I(It)}}if(We){I=he.join("&");break e}}}return d=d.i.splice(0,_),y.D=d,I}function ki(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;B||oe(),Q||(B(),Q=!0),de.add(y,d),d.v=0}}function Ia(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=qr(b(d.Fa,d),$c(d,d.v)),d.v++,!0)}r.Fa=function(){if(this.u=null,Uc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=qr(b(this.ab,this),d)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),Jr(this),Uc(this))};function el(d){d.A!=null&&(m.clearTimeout(d.A),d.A=null)}function Uc(d){d.g=new Gr(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=wr(d.qa);Ke(y,"RID","rpc"),Ke(y,"SID",d.K),Ke(y,"AID",d.T),Ke(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&Ke(y,"TO",d.ja),Ke(y,"TYPE","xmlhttp"),$s(d,y),d.m&&d.o&&En(y,d.m,d.o),d.L&&(d.g.I=d.L);var _=d.g;d=d.ia,_.L=1,_.v=_n(wr(y)),_.m=null,_.P=!0,Wo(_,d)}r.Za=function(){this.C!=null&&(this.C=null,Jr(this),Ia(this),pt(19))};function Ca(d){d.C!=null&&(m.clearTimeout(d.C),d.C=null)}function Aa(d,y){var _=null;if(d.g==y){Ca(d),el(d),d.g=null;var I=2}else if(rr(d.h,y))_=y.D,Ac(d.h,y),I=1;else return;if(d.G!=0){if(y.o)if(I==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var z=d.B;I=gi(),Nt(I,new ga(I,_)),ps(d)}else ki(d);else if(z=y.s,z==3||z==0&&0<y.X||!(I==1&&ph(d,y)||I==2&&Ia(d)))switch(_&&0<_.length&&(y=d.h,y.i=y.i.concat(_)),z){case 1:Bs(d,5);break;case 4:Bs(d,10);break;case 3:Bs(d,6);break;default:Bs(d,2)}}}function $c(d,y){let _=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(_*=2),_*y}function Bs(d,y){if(d.j.info("Error code "+y),y==2){var _=b(d.fb,d),I=d.Xa;const z=!I;I=new Vs(I||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ni(I,"https"),_n(I),z?dh(I.toString(),_):Lc(I.toString(),_)}else pt(2);d.G=0,d.l&&d.l.sa(y),Bc(d),Ta(d)}r.fb=function(d){d?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function Bc(d){if(d.G=0,d.ka=[],d.l){const y=Pc(d.h);(y.length!=0||d.i.length!=0)&&(D(d.ka,y),D(d.ka,d.i),d.h.i.length=0,M(d.i),d.i.length=0),d.l.ra()}}function zc(d,y,_){var I=_ instanceof Vs?wr(_):new Vs(_);if(I.g!="")y&&(I.g=y+"."+I.g),bn(I,I.s);else{var z=m.location;I=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var J=new Vs(null);I&&Ni(J,I),y&&(J.g=y),z&&bn(J,z),_&&(J.l=_),I=J}return _=d.D,y=d.ya,_&&y&&Ke(I,_,y),Ke(I,"VER",d.la),$s(d,I),I}function qc(d,y,_){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new nt(new Fs({eb:_})):new nt(d.pa),y.Ha(d.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function tl(){}r=tl.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Pa(){}Pa.prototype.g=function(d,y){return new sr(d,y)};function sr(d,y){_t.call(this),this.g=new Zo(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!K(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!K(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new fs(this)}k(sr,_t),sr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sr.prototype.close=function(){Lt(this.g)},sr.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var _={};_.__data__=d,d=_}else this.u&&(_={},_.__data__=Vo(d),d=_);y.i.push(new Ic(y.Ya++,d)),y.G==3&&ps(y)},sr.prototype.N=function(){this.g.l=null,delete this.j,Lt(this.g),delete this.g,sr.aa.N.call(this)};function Hc(d){cs.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const _ in y){d=_;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}k(Hc,cs);function Wc(){fa.call(this),this.status=1}k(Wc,fa);function fs(d){this.g=d}k(fs,tl),fs.prototype.ua=function(){Nt(this.g,"a")},fs.prototype.ta=function(d){Nt(this.g,new Hc(d))},fs.prototype.sa=function(d){Nt(this.g,new Wc)},fs.prototype.ra=function(){Nt(this.g,"b")},Pa.prototype.createWebChannel=Pa.prototype.g,sr.prototype.send=sr.prototype.o,sr.prototype.open=sr.prototype.m,sr.prototype.close=sr.prototype.close,Ib=function(){return new Pa},Sb=function(){return gi()},Tb=us,fp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ya.NO_ERROR=0,ya.TIMEOUT=8,ya.HTTP_ERROR=6,Zu=ya,Ec.COMPLETE="complete",kb=Ec,pa.EventType=Ar,Ar.OPEN="a",Ar.CLOSE="b",Ar.ERROR="c",Ar.MESSAGE="d",_t.prototype.listen=_t.prototype.K,Al=pa,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,Eb=nt}).apply(typeof $u<"u"?$u:typeof self<"u"?self:typeof window<"u"?window:{});const py="@firebase/firestore";let Jt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");let _o="10.14.0";const Yi=new Jp("@firebase/firestore");function kl(){return Yi.logLevel}function be(r,...e){if(Yi.logLevel<=Le.DEBUG){const t=e.map(df);Yi.debug(`Firestore (${_o}): ${r}`,...t)}}function an(r,...e){if(Yi.logLevel<=Le.ERROR){const t=e.map(df);Yi.error(`Firestore (${_o}): ${r}`,...t)}}function co(r,...e){if(Yi.logLevel<=Le.WARN){const t=e.map(df);Yi.warn(`Firestore (${_o}): ${r}`,...t)}}function df(r){if(typeof r=="string")return r;try{return(function(t){return JSON.stringify(t)})(r)}catch{return r}}function Ie(r="Unexpected state"){const e=`FIRESTORE (${_o}) INTERNAL ASSERTION FAILED: `+r;throw an(e),new Error(e)}function Ge(r,e){r||Ie()}function Ae(r,e){return r}const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Ps{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class rn{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Cb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Jt.UNAUTHENTICATED)))}shutdown(){}}class bT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class wT{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ge(this.o===void 0);let n=this.i;const a=p=>this.i!==n?(n=this.i,t(p)):Promise.resolve();let l=new rn;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new rn,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await a(this.currentUser)}))},m=p=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new rn)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((n=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Ge(typeof n.accessToken=="string"),new Cb(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string"),new Jt(e)}}class _T{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class NT{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new _T(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class jT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ET{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Ge(this.o===void 0);const n=l=>{l.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.R;return this.R=l.token,be("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>n(l)))};const a=l=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ge(typeof t.token=="string"),this.R=t.token,new jT(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function kT(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}class Ab{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const a=kT(40);for(let l=0;l<a.length;++l)n.length<20&&a[l]<t&&(n+=e.charAt(a[l]%e.length))}return n}}function ze(r,e){return r<e?-1:r>e?1:0}function uo(r,e,t){return r.length===e.length&&r.every(((n,a)=>t(n,e[a])))}class Tt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ge(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Tt.fromMillis(Date.now())}static fromDate(e){return Tt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Tt(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new Tt(0,0))}static max(){return new Ce(new Tt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Gl{constructor(e,t,n){t===void 0?t=0:t>e.length&&Ie(),n===void 0?n=e.length-t:n>e.length-t&&Ie(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return Gl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Gl?e.forEach((n=>{t.push(n)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let a=0;a<n;a++){const l=e.get(a),u=t.get(a);if(l<u)return-1;if(l>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class st extends Gl{construct(e,t,n){return new st(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new ge(re.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((a=>a.length>0)))}return new st(t)}static emptyPath(){return new st([])}}const TT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zt extends Gl{construct(e,t,n){return new zt(e,t,n)}static isValidIdentifier(e){return TT.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new zt(["__name__"])}static fromServerFormat(e){const t=[];let n="",a=0;const l=()=>{if(n.length===0)throw new ge(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let u=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new ge(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ge(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=p,a+=2}else m==="`"?(u=!u,a++):m!=="."||u?(n+=m,a++):(l(),a++)}if(l(),u)throw new ge(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zt(t)}static emptyPath(){return new zt([])}}class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(st.fromString(e))}static fromName(e){return new Ne(st.fromString(e).popFirst(5))}static empty(){return new Ne(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return st.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new st(e.slice()))}}function ST(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,a=Ce.fromTimestamp(n===1e9?new Tt(t+1,0):new Tt(t,n));return new ri(a,Ne.empty(),e)}function IT(r){return new ri(r.readTime,r.key,-1)}class ri{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ri(Ce.min(),Ne.empty(),-1)}static max(){return new ri(Ce.max(),Ne.empty(),-1)}}function CT(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Ne.comparator(r.documentKey,e.documentKey),t!==0?t:ze(r.largestBatchId,e.largestBatchId))}const AT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function mc(r){if(r.code!==re.FAILED_PRECONDITION||r.message!==AT)throw r;be("LocalStore","Unexpectedly lost primary lease")}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae(((n,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(n,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(n,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ae.reject(t)}static resolve(e){return new ae(((t,n)=>{t(e)}))}static reject(e){return new ae(((t,n)=>{n(e)}))}static waitFor(e){return new ae(((t,n)=>{let a=0,l=0,u=!1;e.forEach((m=>{++a,m.next((()=>{++l,u&&l===a&&t()}),(p=>n(p)))})),u=!0,l===a&&t()}))}static or(e){let t=ae.resolve(!1);for(const n of e)t=t.next((a=>a?ae.resolve(a):n()));return t}static forEach(e,t){const n=[];return e.forEach(((a,l)=>{n.push(t.call(this,a,l))})),this.waitFor(n)}static mapArray(e,t){return new ae(((n,a)=>{const l=e.length,u=new Array(l);let m=0;for(let p=0;p<l;p++){const x=p;t(e[x]).next((g=>{u[x]=g,++m,m===l&&n(u)}),(g=>a(g)))}}))}static doWhile(e,t){return new ae(((n,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):n()};l()}))}}function RT(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function pc(r){return r.name==="IndexedDbTransactionError"}class hf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ie(n),this.se=n=>t.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}hf.oe=-1;function Od(r){return r==null}function gd(r){return r===0&&1/r==-1/0}function DT(r){return typeof r=="number"&&Number.isInteger(r)&&!gd(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function fy(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function na(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Pb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ut{constructor(e,t){this.comparator=e,this.root=t||$t.EMPTY}insert(e,t){return new ut(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return t+n.left.size;a<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bu(this.root,e,this.comparator,!0)}}class Bu{constructor(e,t,n,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?n(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,t,n,a,l){this.key=e,this.value=t,this.color=n??$t.RED,this.left=a??$t.EMPTY,this.right=l??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,a,l){return new $t(e??this.key,t??this.value,n??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let a=this;const l=n(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,n),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return $t.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ie();const e=this.left.check();if(e!==this.right.check())throw Ie();return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie()}get value(){throw Ie()}get color(){throw Ie()}get left(){throw Ie()}get right(){throw Ie()}copy(e,t,n,a,l){return this}insert(e,t,n){return new $t(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new gy(this.data.getIterator())}getIteratorFrom(e){return new gy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((n=>{t=t.add(n)})),t}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=n.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new qt(this.comparator);return t.data=e,t}}class gy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sr{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new Sr([])}unionWith(e){let t=new qt(zt.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Sr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return uo(this.fields,e.fields,((t,n)=>t.isEqual(n)))}}class Rb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Rb("Invalid base64 string: "+l):l}})(e);return new Ht(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new Ht(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const n=new Uint8Array(t.length);for(let a=0;a<t.length;a++)n[a]=t.charCodeAt(a);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const MT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function si(r){if(Ge(!!r),typeof r=="string"){let e=0;const t=MT.exec(r);if(Ge(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:gt(r.seconds),nanos:gt(r.nanos)}}function gt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Xi(r){return typeof r=="string"?Ht.fromBase64String(r):Ht.fromUint8Array(r)}function mf(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function pf(r){const e=r.mapValue.fields.__previous_value__;return mf(e)?pf(e):e}function Kl(r){const e=si(r.mapValue.fields.__local_write_time__.timestampValue);return new Tt(e.seconds,e.nanos)}class OT{constructor(e,t,n,a,l,u,m,p,x){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=x}}class Ql{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ql("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ql&&e.projectId===this.projectId&&e.database===this.database}}const zu={mapValue:{}};function Ji(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?mf(r)?4:VT(r)?9007199254740991:LT(r)?10:11:Ie()}function Is(r,e){if(r===e)return!0;const t=Ji(r);if(t!==Ji(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Kl(r).isEqual(Kl(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=si(a.timestampValue),m=si(l.timestampValue);return u.seconds===m.seconds&&u.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(a,l){return Xi(a.bytesValue).isEqual(Xi(l.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(a,l){return gt(a.geoPointValue.latitude)===gt(l.geoPointValue.latitude)&&gt(a.geoPointValue.longitude)===gt(l.geoPointValue.longitude)})(r,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return gt(a.integerValue)===gt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=gt(a.doubleValue),m=gt(l.doubleValue);return u===m?gd(u)===gd(m):isNaN(u)&&isNaN(m)}return!1})(r,e);case 9:return uo(r.arrayValue.values||[],e.arrayValue.values||[],Is);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},m=l.mapValue.fields||{};if(fy(u)!==fy(m))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(m[p]===void 0||!Is(u[p],m[p])))return!1;return!0})(r,e);default:return Ie()}}function Yl(r,e){return(r.values||[]).find((t=>Is(t,e)))!==void 0}function ho(r,e){if(r===e)return 0;const t=Ji(r),n=Ji(e);if(t!==n)return ze(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return ze(r.booleanValue,e.booleanValue);case 2:return(function(l,u){const m=gt(l.integerValue||l.doubleValue),p=gt(u.integerValue||u.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return xy(r.timestampValue,e.timestampValue);case 4:return xy(Kl(r),Kl(e));case 5:return ze(r.stringValue,e.stringValue);case 6:return(function(l,u){const m=Xi(l),p=Xi(u);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(l,u){const m=l.split("/"),p=u.split("/");for(let x=0;x<m.length&&x<p.length;x++){const g=ze(m[x],p[x]);if(g!==0)return g}return ze(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(l,u){const m=ze(gt(l.latitude),gt(u.latitude));return m!==0?m:ze(gt(l.longitude),gt(u.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return yy(r.arrayValue,e.arrayValue);case 10:return(function(l,u){var m,p,x,g;const w=l.fields||{},b=u.fields||{},j=(m=w.value)===null||m===void 0?void 0:m.arrayValue,k=(p=b.value)===null||p===void 0?void 0:p.arrayValue,M=ze(((x=j?.values)===null||x===void 0?void 0:x.length)||0,((g=k?.values)===null||g===void 0?void 0:g.length)||0);return M!==0?M:yy(j,k)})(r.mapValue,e.mapValue);case 11:return(function(l,u){if(l===zu.mapValue&&u===zu.mapValue)return 0;if(l===zu.mapValue)return 1;if(u===zu.mapValue)return-1;const m=l.fields||{},p=Object.keys(m),x=u.fields||{},g=Object.keys(x);p.sort(),g.sort();for(let w=0;w<p.length&&w<g.length;++w){const b=ze(p[w],g[w]);if(b!==0)return b;const j=ho(m[p[w]],x[g[w]]);if(j!==0)return j}return ze(p.length,g.length)})(r.mapValue,e.mapValue);default:throw Ie()}}function xy(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ze(r,e);const t=si(r),n=si(e),a=ze(t.seconds,n.seconds);return a!==0?a:ze(t.nanos,n.nanos)}function yy(r,e){const t=r.values||[],n=e.values||[];for(let a=0;a<t.length&&a<n.length;++a){const l=ho(t[a],n[a]);if(l)return l}return ze(t.length,n.length)}function mo(r){return gp(r)}function gp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const n=si(t);return`time(${n.seconds},${n.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return Xi(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return Ne.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let n="[",a=!0;for(const l of t.values||[])a?a=!1:n+=",",n+=gp(l);return n+"]"})(r.arrayValue):"mapValue"in r?(function(t){const n=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const u of n)l?l=!1:a+=",",a+=`${u}:${gp(t.fields[u])}`;return a+"}"})(r.mapValue):Ie()}function vy(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function xp(r){return!!r&&"integerValue"in r}function ff(r){return!!r&&"arrayValue"in r}function by(r){return!!r&&"nullValue"in r}function wy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ed(r){return!!r&&"mapValue"in r}function LT(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Ol(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return na(r.mapValue.fields,((t,n)=>e.mapValue.fields[t]=Ol(n))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ol(r.arrayValue.values[t]);return e}return Object.assign({},r)}function VT(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}class gr{constructor(e){this.value=e}static empty(){return new gr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!ed(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ol(t)}setAll(e){let t=zt.emptyPath(),n={},a=[];e.forEach(((u,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,n,a),n={},a=[],t=m.popLast()}u?n[m.lastSegment()]=Ol(u):a.push(m.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,n,a)}delete(e){const t=this.field(e.popLast());ed(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Is(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let a=t.mapValue.fields[e.get(n)];ed(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,n){na(t,((a,l)=>e[a]=l));for(const a of n)delete e[a]}clone(){return new gr(Ol(this.value))}}function Db(r){const e=[];return na(r.fields,((t,n)=>{const a=new zt([t]);if(ed(n)){const l=Db(n.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new Sr(e)}class Zt{constructor(e,t,n,a,l,u,m){this.key=e,this.documentType=t,this.version=n,this.readTime=a,this.createTime=l,this.data=u,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,Ce.min(),Ce.min(),Ce.min(),gr.empty(),0)}static newFoundDocument(e,t,n,a){return new Zt(e,1,t,Ce.min(),n,a,0)}static newNoDocument(e,t){return new Zt(e,2,t,Ce.min(),Ce.min(),gr.empty(),0)}static newUnknownDocument(e,t){return new Zt(e,3,t,Ce.min(),Ce.min(),gr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class xd{constructor(e,t){this.position=e,this.inclusive=t}}function _y(r,e,t){let n=0;for(let a=0;a<r.position.length;a++){const l=e[a],u=r.position[a];if(l.field.isKeyField()?n=Ne.comparator(Ne.fromName(u.referenceValue),t.key):n=ho(u,t.data.field(l.field)),l.dir==="desc"&&(n*=-1),n!==0)break}return n}function Ny(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Is(r.position[t],e.position[t]))return!1;return!0}class Xl{constructor(e,t="asc"){this.field=e,this.dir=t}}function FT(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Mb{}class wt extends Mb{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new $T(e,t,n):t==="array-contains"?new qT(e,n):t==="in"?new HT(e,n):t==="not-in"?new WT(e,n):t==="array-contains-any"?new GT(e,n):new wt(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new BT(e,n):new zT(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ho(t,this.value)):t!==null&&Ji(this.value)===Ji(t)&&this.matchesComparison(ho(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class os extends Mb{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new os(e,t)}matches(e){return Ob(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ob(r){return r.op==="and"}function Lb(r){return UT(r)&&Ob(r)}function UT(r){for(const e of r.filters)if(e instanceof os)return!1;return!0}function yp(r){if(r instanceof wt)return r.field.canonicalString()+r.op.toString()+mo(r.value);if(Lb(r))return r.filters.map((e=>yp(e))).join(",");{const e=r.filters.map((t=>yp(t))).join(",");return`${r.op}(${e})`}}function Vb(r,e){return r instanceof wt?(function(n,a){return a instanceof wt&&n.op===a.op&&n.field.isEqual(a.field)&&Is(n.value,a.value)})(r,e):r instanceof os?(function(n,a){return a instanceof os&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce(((l,u,m)=>l&&Vb(u,a.filters[m])),!0):!1})(r,e):void Ie()}function Fb(r){return r instanceof wt?(function(t){return`${t.field.canonicalString()} ${t.op} ${mo(t.value)}`})(r):r instanceof os?(function(t){return t.op.toString()+" {"+t.getFilters().map(Fb).join(" ,")+"}"})(r):"Filter"}class $T extends wt{constructor(e,t,n){super(e,t,n),this.key=Ne.fromName(n.referenceValue)}matches(e){const t=Ne.comparator(e.key,this.key);return this.matchesComparison(t)}}class BT extends wt{constructor(e,t){super(e,"in",t),this.keys=Ub("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class zT extends wt{constructor(e,t){super(e,"not-in",t),this.keys=Ub("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Ub(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((n=>Ne.fromName(n.referenceValue)))}class qT extends wt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ff(t)&&Yl(t.arrayValue,this.value)}}class HT extends wt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Yl(this.value.arrayValue,t)}}class WT extends wt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Yl(this.value.arrayValue,t)}}class GT extends wt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ff(t)||!t.arrayValue.values)&&t.arrayValue.values.some((n=>Yl(this.value.arrayValue,n)))}}class KT{constructor(e,t=null,n=[],a=[],l=null,u=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=a,this.limit=l,this.startAt=u,this.endAt=m,this.ue=null}}function jy(r,e=null,t=[],n=[],a=null,l=null,u=null){return new KT(r,e,t,n,a,l,u)}function gf(r){const e=Ae(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((n=>yp(n))).join(","),t+="|ob:",t+=e.orderBy.map((n=>(function(l){return l.field.canonicalString()+l.dir})(n))).join(","),Od(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((n=>mo(n))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((n=>mo(n))).join(",")),e.ue=t}return e.ue}function xf(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!FT(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Vb(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Ny(r.startAt,e.startAt)&&Ny(r.endAt,e.endAt)}function vp(r){return Ne.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class No{constructor(e,t=null,n=[],a=[],l=null,u="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=a,this.limit=l,this.limitType=u,this.startAt=m,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function QT(r,e,t,n,a,l,u,m){return new No(r,e,t,n,a,l,u,m)}function yf(r){return new No(r)}function Ey(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function $b(r){return r.collectionGroup!==null}function Ll(r){const e=Ae(r);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let m=new qt(zt.comparator);return u.filters.forEach((p=>{p.getFlattenedFilters().forEach((x=>{x.isInequality()&&(m=m.add(x.field))}))})),m})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new Xl(l,n))})),t.has(zt.keyField().canonicalString())||e.ce.push(new Xl(zt.keyField(),n))}return e.ce}function Ts(r){const e=Ae(r);return e.le||(e.le=YT(e,Ll(r))),e.le}function YT(r,e){if(r.limitType==="F")return jy(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Xl(a.field,l)}));const t=r.endAt?new xd(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new xd(r.startAt.position,r.startAt.inclusive):null;return jy(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function bp(r,e){const t=r.filters.concat([e]);return new No(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function wp(r,e,t){return new No(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Ld(r,e){return xf(Ts(r),Ts(e))&&r.limitType===e.limitType}function Bb(r){return`${gf(Ts(r))}|lt:${r.limitType}`}function eo(r){return`Query(target=${(function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map((a=>Fb(a))).join(", ")}]`),Od(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((a=>mo(a))).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((a=>mo(a))).join(",")),`Target(${n})`})(Ts(r))}; limitType=${r.limitType})`}function Vd(r,e){return e.isFoundDocument()&&(function(n,a){const l=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(l):Ne.isDocumentKey(n.path)?n.path.isEqual(l):n.path.isImmediateParentOf(l)})(r,e)&&(function(n,a){for(const l of Ll(n))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(r,e)&&(function(n,a){for(const l of n.filters)if(!l.matches(a))return!1;return!0})(r,e)&&(function(n,a){return!(n.startAt&&!(function(u,m,p){const x=_y(u,m,p);return u.inclusive?x<=0:x<0})(n.startAt,Ll(n),a)||n.endAt&&!(function(u,m,p){const x=_y(u,m,p);return u.inclusive?x>=0:x>0})(n.endAt,Ll(n),a))})(r,e)}function XT(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function zb(r){return(e,t)=>{let n=!1;for(const a of Ll(r)){const l=JT(a,e,t);if(l!==0)return l;n=n||a.field.isKeyField()}return 0}}function JT(r,e,t){const n=r.field.isKeyField()?Ne.comparator(e.key,t.key):(function(l,u,m){const p=u.data.field(l),x=m.data.field(l);return p!==null&&x!==null?ho(p,x):Ie()})(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return Ie()}}class jo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[a,l]of n)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],e))return n.length===1?delete this.inner[t]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(e){na(this.inner,((t,n)=>{for(const[a,l]of n)e(a,l)}))}isEmpty(){return Pb(this.inner)}size(){return this.innerSize}}const ZT=new ut(Ne.comparator);function on(){return ZT}const qb=new ut(Ne.comparator);function Pl(...r){let e=qb;for(const t of r)e=e.insert(t.key,t);return e}function Hb(r){let e=qb;return r.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function zi(){return Vl()}function Wb(){return Vl()}function Vl(){return new jo((r=>r.toString()),((r,e)=>r.isEqual(e)))}const e4=new ut(Ne.comparator),t4=new qt(Ne.comparator);function Me(...r){let e=t4;for(const t of r)e=e.add(t);return e}const r4=new qt(ze);function s4(){return r4}function vf(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gd(e)?"-0":e}}function Gb(r){return{integerValue:""+r}}function n4(r,e){return DT(e)?Gb(e):vf(r,e)}class Fd{constructor(){this._=void 0}}function i4(r,e,t){return r instanceof Jl?(function(a,l){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&mf(l)&&(l=pf(l)),l&&(u.fields.__previous_value__=l),{mapValue:u}})(t,e):r instanceof Zl?Qb(r,e):r instanceof ec?Yb(r,e):(function(a,l){const u=Kb(a,l),m=ky(u)+ky(a.Pe);return xp(u)&&xp(a.Pe)?Gb(m):vf(a.serializer,m)})(r,e)}function a4(r,e,t){return r instanceof Zl?Qb(r,e):r instanceof ec?Yb(r,e):t}function Kb(r,e){return r instanceof yd?(function(n){return xp(n)||(function(l){return!!l&&"doubleValue"in l})(n)})(e)?e:{integerValue:0}:null}class Jl extends Fd{}class Zl extends Fd{constructor(e){super(),this.elements=e}}function Qb(r,e){const t=Xb(e);for(const n of r.elements)t.some((a=>Is(a,n)))||t.push(n);return{arrayValue:{values:t}}}class ec extends Fd{constructor(e){super(),this.elements=e}}function Yb(r,e){let t=Xb(e);for(const n of r.elements)t=t.filter((a=>!Is(a,n)));return{arrayValue:{values:t}}}class yd extends Fd{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function ky(r){return gt(r.integerValue||r.doubleValue)}function Xb(r){return ff(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class o4{constructor(e,t){this.field=e,this.transform=t}}function l4(r,e){return r.field.isEqual(e.field)&&(function(n,a){return n instanceof Zl&&a instanceof Zl||n instanceof ec&&a instanceof ec?uo(n.elements,a.elements,Is):n instanceof yd&&a instanceof yd?Is(n.Pe,a.Pe):n instanceof Jl&&a instanceof Jl})(r.transform,e.transform)}class c4{constructor(e,t){this.version=e,this.transformResults=t}}class Br{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Br}static exists(e){return new Br(void 0,e)}static updateTime(e){return new Br(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function td(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Ud{}function Jb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new bf(r.key,Br.none()):new fc(r.key,r.data,Br.none());{const t=r.data,n=gr.empty();let a=new qt(zt.comparator);for(let l of e.fields)if(!a.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?n.delete(l):n.set(l,u),a=a.add(l)}return new li(r.key,n,new Sr(a.toArray()),Br.none())}}function u4(r,e,t){r instanceof fc?(function(a,l,u){const m=a.value.clone(),p=Sy(a.fieldTransforms,l,u.transformResults);m.setAll(p),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(r,e,t):r instanceof li?(function(a,l,u){if(!td(a.precondition,l))return void l.convertToUnknownDocument(u.version);const m=Sy(a.fieldTransforms,l,u.transformResults),p=l.data;p.setAll(Zb(a)),p.setAll(m),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(r,e,t):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Fl(r,e,t,n){return r instanceof fc?(function(l,u,m,p){if(!td(l.precondition,u))return m;const x=l.value.clone(),g=Iy(l.fieldTransforms,p,u);return x.setAll(g),u.convertToFoundDocument(u.version,x).setHasLocalMutations(),null})(r,e,t,n):r instanceof li?(function(l,u,m,p){if(!td(l.precondition,u))return m;const x=Iy(l.fieldTransforms,p,u),g=u.data;return g.setAll(Zb(l)),g.setAll(x),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),m===null?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((w=>w.field)))})(r,e,t,n):(function(l,u,m){return td(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):m})(r,e,t)}function d4(r,e){let t=null;for(const n of r.fieldTransforms){const a=e.data.field(n.field),l=Kb(n.transform,a||null);l!=null&&(t===null&&(t=gr.empty()),t.set(n.field,l))}return t||null}function Ty(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&uo(n,a,((l,u)=>l4(l,u)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class fc extends Ud{constructor(e,t,n,a=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class li extends Ud{constructor(e,t,n,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Zb(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}})),e}function Sy(r,e,t){const n=new Map;Ge(r.length===t.length);for(let a=0;a<t.length;a++){const l=r[a],u=l.transform,m=e.data.field(l.field);n.set(l.field,a4(u,m,t[a]))}return n}function Iy(r,e,t){const n=new Map;for(const a of r){const l=a.transform,u=t.data.field(a.field);n.set(a.field,i4(l,u,e))}return n}class bf extends Ud{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class h4 extends Ud{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class m4{constructor(e,t,n,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&u4(l,e,n[a])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Fl(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Fl(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Wb();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let m=this.applyToLocalView(u,l.mutatedFields);m=t.has(a.key)?null:m;const p=Jb(u,m);p!==null&&n.set(a.key,p),u.isValidDocument()||u.convertToNoDocument(Ce.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Me())}isEqual(e){return this.batchId===e.batchId&&uo(this.mutations,e.mutations,((t,n)=>Ty(t,n)))&&uo(this.baseMutations,e.baseMutations,((t,n)=>Ty(t,n)))}}class wf{constructor(e,t,n,a){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=a}static from(e,t,n){Ge(e.mutations.length===n.length);let a=(function(){return e4})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,n[u].version);return new wf(e,t,n,a)}}class p4{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class f4{constructor(e,t){this.count=e,this.unchangedNames=t}}var bt,Ue;function g4(r){switch(r){default:return Ie();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0}}function ew(r){if(r===void 0)return an("GRPC error has no .code"),re.UNKNOWN;switch(r){case bt.OK:return re.OK;case bt.CANCELLED:return re.CANCELLED;case bt.UNKNOWN:return re.UNKNOWN;case bt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case bt.INTERNAL:return re.INTERNAL;case bt.UNAVAILABLE:return re.UNAVAILABLE;case bt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case bt.NOT_FOUND:return re.NOT_FOUND;case bt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case bt.ABORTED:return re.ABORTED;case bt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case bt.DATA_LOSS:return re.DATA_LOSS;default:return Ie()}}(Ue=bt||(bt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";function x4(){return new TextEncoder}const y4=new qi([4294967295,4294967295],0);function Cy(r){const e=x4().encode(r),t=new jb;return t.update(e),new Uint8Array(t.digest())}function Ay(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new qi([t,n],0),new qi([a,l],0)]}class _f{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Rl(`Invalid padding: ${t}`);if(n<0)throw new Rl(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Rl(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Rl(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=qi.fromNumber(this.Ie)}Ee(e,t,n){let a=e.add(t.multiply(qi.fromNumber(n)));return a.compare(y4)===1&&(a=new qi([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=Cy(e),[n,a]=Ay(t);for(let l=0;l<this.hashCount;l++){const u=this.Ee(n,a,l);if(!this.de(u))return!1}return!0}static create(e,t,n){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new _f(l,a,t);return n.forEach((m=>u.insert(m))),u}insert(e){if(this.Ie===0)return;const t=Cy(e),[n,a]=Ay(t);for(let l=0;l<this.hashCount;l++){const u=this.Ee(n,a,l);this.Ae(u)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Rl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class $d{constructor(e,t,n,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const a=new Map;return a.set(e,gc.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new $d(Ce.min(),a,new ut(ze),on(),Me())}}class gc{constructor(e,t,n,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new gc(n,t,Me(),Me(),Me())}}class rd{constructor(e,t,n,a){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=a}}class tw{constructor(e,t){this.targetId=e,this.me=t}}class rw{constructor(e,t,n=Ht.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=a}}class Py{constructor(){this.fe=0,this.ge=Dy(),this.pe=Ht.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Me(),t=Me(),n=Me();return this.ge.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:n=n.add(a);break;default:Ie()}})),new gc(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=Dy()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ge(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class v4{constructor(e){this.Le=e,this.Be=new Map,this.ke=on(),this.qe=Ry(),this.Qe=new ut(ze)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:Ie()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((n,a)=>{this.ze(a)&&t(a)}))}He(e){const t=e.targetId,n=e.me.count,a=this.Je(t);if(a){const l=a.target;if(vp(l))if(n===0){const u=new Ne(l.path);this.Ue(t,u,Zt.newNoDocument(u,Ce.min()))}else Ge(n===1);else{const u=this.Ye(t);if(u!==n){const m=this.Ze(e),p=m?this.Xe(m,e,u):1;if(p!==0){this.je(t);const x=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,x)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:a=0},hashCount:l=0}=t;let u,m;try{u=Xi(n).toUint8Array()}catch(p){if(p instanceof Rb)return co("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new _f(u,a,l)}catch(p){return co(p instanceof Rl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ie===0?null:m}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let a=0;return n.forEach((l=>{const u=this.Le.tt(),m=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(m)||(this.Ue(t,l,null),a++)})),a}rt(e){const t=new Map;this.Be.forEach(((l,u)=>{const m=this.Je(u);if(m){if(l.current&&vp(m.target)){const p=new Ne(m.target.path);this.ke.get(p)!==null||this.it(u,p)||this.Ue(u,p,Zt.newNoDocument(p,e))}l.be&&(t.set(u,l.ve()),l.Ce())}}));let n=Me();this.qe.forEach(((l,u)=>{let m=!0;u.forEachWhile((p=>{const x=this.Je(p);return!x||x.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(n=n.add(l))})),this.ke.forEach(((l,u)=>u.setReadTime(e)));const a=new $d(e,t,this.Qe,this.ke,n);return this.ke=on(),this.qe=Ry(),this.Qe=new ut(ze),a}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const a=this.Ge(e);this.it(e,t)?a.Fe(t,1):a.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Py,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new qt(ze),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||be("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Py),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Ry(){return new ut(Ne.comparator)}function Dy(){return new ut(Ne.comparator)}const b4={asc:"ASCENDING",desc:"DESCENDING"},w4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_4={and:"AND",or:"OR"};class N4{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function _p(r,e){return r.useProto3Json||Od(e)?e:{value:e}}function vd(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sw(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function j4(r,e){return vd(r,e.toTimestamp())}function Ss(r){return Ge(!!r),Ce.fromTimestamp((function(t){const n=si(t);return new Tt(n.seconds,n.nanos)})(r))}function Nf(r,e){return Np(r,e).canonicalString()}function Np(r,e){const t=(function(a){return new st(["projects",a.projectId,"databases",a.database])})(r).child("documents");return e===void 0?t:t.child(e)}function nw(r){const e=st.fromString(r);return Ge(cw(e)),e}function jp(r,e){return Nf(r.databaseId,e.path)}function Gm(r,e){const t=nw(e);if(t.get(1)!==r.databaseId.projectId)throw new ge(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ge(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Ne(aw(t))}function iw(r,e){return Nf(r.databaseId,e)}function E4(r){const e=nw(r);return e.length===4?st.emptyPath():aw(e)}function Ep(r){return new st(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function aw(r){return Ge(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function My(r,e,t){return{name:jp(r,e),fields:t.value.mapValue.fields}}function k4(r,e){let t;if("targetChange"in e){e.targetChange;const n=(function(x){return x==="NO_CHANGE"?0:x==="ADD"?1:x==="REMOVE"?2:x==="CURRENT"?3:x==="RESET"?4:Ie()})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(x,g){return x.useProto3Json?(Ge(g===void 0||typeof g=="string"),Ht.fromBase64String(g||"")):(Ge(g===void 0||g instanceof Buffer||g instanceof Uint8Array),Ht.fromUint8Array(g||new Uint8Array))})(r,e.targetChange.resumeToken),u=e.targetChange.cause,m=u&&(function(x){const g=x.code===void 0?re.UNKNOWN:ew(x.code);return new ge(g,x.message||"")})(u);t=new rw(n,a,l,m||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const a=Gm(r,n.document.name),l=Ss(n.document.updateTime),u=n.document.createTime?Ss(n.document.createTime):Ce.min(),m=new gr({mapValue:{fields:n.document.fields}}),p=Zt.newFoundDocument(a,l,u,m),x=n.targetIds||[],g=n.removedTargetIds||[];t=new rd(x,g,p.key,p)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const a=Gm(r,n.document),l=n.readTime?Ss(n.readTime):Ce.min(),u=Zt.newNoDocument(a,l),m=n.removedTargetIds||[];t=new rd([],m,u.key,u)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const a=Gm(r,n.document),l=n.removedTargetIds||[];t=new rd([],l,a,null)}else{if(!("filter"in e))return Ie();{e.filter;const n=e.filter;n.targetId;const{count:a=0,unchangedNames:l}=n,u=new f4(a,l),m=n.targetId;t=new tw(m,u)}}return t}function T4(r,e){let t;if(e instanceof fc)t={update:My(r,e.key,e.value)};else if(e instanceof bf)t={delete:jp(r,e.key)};else if(e instanceof li)t={update:My(r,e.key,e.data),updateMask:O4(e.fieldMask)};else{if(!(e instanceof h4))return Ie();t={verify:jp(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((n=>(function(l,u){const m=u.transform;if(m instanceof Jl)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Zl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ec)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof yd)return{fieldPath:u.field.canonicalString(),increment:m.Pe};throw Ie()})(0,n)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:j4(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ie()})(r,e.precondition)),t}function S4(r,e){return r&&r.length>0?(Ge(e!==void 0),r.map((t=>(function(a,l){let u=a.updateTime?Ss(a.updateTime):Ss(l);return u.isEqual(Ce.min())&&(u=Ss(l)),new c4(u,a.transformResults||[])})(t,e)))):[]}function I4(r,e){return{documents:[iw(r,e.path)]}}function C4(r,e){const t={structuredQuery:{}},n=e.path;let a;e.collectionGroup!==null?(a=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=iw(r,a);const l=(function(x){if(x.length!==0)return lw(os.create(x,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const u=(function(x){if(x.length!==0)return x.map((g=>(function(b){return{field:to(b.field),direction:R4(b.dir)}})(g)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const m=_p(r,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=(function(x){return{before:x.inclusive,values:x.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(x){return{before:!x.inclusive,values:x.position}})(e.endAt)),{_t:t,parent:a}}function A4(r){let e=E4(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let a=null;if(n>0){Ge(n===1);const g=t.from[0];g.allDescendants?a=g.collectionId:e=e.child(g.collectionId)}let l=[];t.where&&(l=(function(w){const b=ow(w);return b instanceof os&&Lb(b)?b.getFilters():[b]})(t.where));let u=[];t.orderBy&&(u=(function(w){return w.map((b=>(function(k){return new Xl(ro(k.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(b)))})(t.orderBy));let m=null;t.limit&&(m=(function(w){let b;return b=typeof w=="object"?w.value:w,Od(b)?null:b})(t.limit));let p=null;t.startAt&&(p=(function(w){const b=!!w.before,j=w.values||[];return new xd(j,b)})(t.startAt));let x=null;return t.endAt&&(x=(function(w){const b=!w.before,j=w.values||[];return new xd(j,b)})(t.endAt)),QT(e,a,u,l,m,"F",p,x)}function P4(r,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie()}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ow(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=ro(t.unaryFilter.field);return wt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=ro(t.unaryFilter.field);return wt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ro(t.unaryFilter.field);return wt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ro(t.unaryFilter.field);return wt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Ie()}})(r):r.fieldFilter!==void 0?(function(t){return wt.create(ro(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ie()}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return os.create(t.compositeFilter.filters.map((n=>ow(n))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ie()}})(t.compositeFilter.op))})(r):Ie()}function R4(r){return b4[r]}function D4(r){return w4[r]}function M4(r){return _4[r]}function to(r){return{fieldPath:r.canonicalString()}}function ro(r){return zt.fromServerFormat(r.fieldPath)}function lw(r){return r instanceof wt?(function(t){if(t.op==="=="){if(wy(t.value))return{unaryFilter:{field:to(t.field),op:"IS_NAN"}};if(by(t.value))return{unaryFilter:{field:to(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(wy(t.value))return{unaryFilter:{field:to(t.field),op:"IS_NOT_NAN"}};if(by(t.value))return{unaryFilter:{field:to(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:to(t.field),op:D4(t.op),value:t.value}}})(r):r instanceof os?(function(t){const n=t.getFilters().map((a=>lw(a)));return n.length===1?n[0]:{compositeFilter:{op:M4(t.op),filters:n}}})(r):Ie()}function O4(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function cw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Qn{constructor(e,t,n,a,l=Ce.min(),u=Ce.min(),m=Ht.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Qn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Qn(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class L4{constructor(e){this.ct=e}}function V4(r){const e=A4({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?wp(e,e.limit,"L"):e}class F4{constructor(){this.un=new U4}addToCollectionParentIndex(e,t){return this.un.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve(ri.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve(ri.min())}updateCollectionGroup(e,t,n){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class U4{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),a=this.index[t]||new qt(st.comparator),l=!a.has(n);return this.index[t]=a.add(n),l}has(e){const t=e.lastSegment(),n=e.popLast(),a=this.index[t];return a&&a.has(n)}getEntries(e){return(this.index[e]||new qt(st.comparator)).toArray()}}class po{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new po(0)}static kn(){return new po(-1)}}class $4{constructor(){this.changes=new jo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?ae.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class B4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class z4{constructor(e,t,n,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=a}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(n=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(n!==null&&Fl(n.mutation,a,Sr.empty(),Tt.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.getLocalViewOfDocuments(e,n,Me()).next((()=>n))))}getLocalViewOfDocuments(e,t,n=Me()){const a=zi();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,n).next((l=>{let u=Pl();return l.forEach(((m,p)=>{u=u.insert(m,p.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const n=zi();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Me())))}populateOverlays(e,t,n){const a=[];return n.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,m)=>{t.set(u,m)}))}))}computeViews(e,t,n,a){let l=on();const u=Vl(),m=(function(){return Vl()})();return t.forEach(((p,x)=>{const g=n.get(x.key);a.has(x.key)&&(g===void 0||g.mutation instanceof li)?l=l.insert(x.key,x):g!==void 0?(u.set(x.key,g.mutation.getFieldMask()),Fl(g.mutation,x,g.mutation.getFieldMask(),Tt.now())):u.set(x.key,Sr.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((x,g)=>u.set(x,g))),t.forEach(((x,g)=>{var w;return m.set(x,new B4(g,(w=u.get(x))!==null&&w!==void 0?w:null))})),m)))}recalculateAndSaveOverlays(e,t){const n=Vl();let a=new ut(((u,m)=>u-m)),l=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const m of u)m.keys().forEach((p=>{const x=t.get(p);if(x===null)return;let g=n.get(p)||Sr.empty();g=m.applyToLocalView(x,g),n.set(p,g);const w=(a.get(m.batchId)||Me()).add(p);a=a.insert(m.batchId,w)}))})).next((()=>{const u=[],m=a.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),x=p.key,g=p.value,w=Wb();g.forEach((b=>{if(!l.has(b)){const j=Jb(t.get(b),n.get(b));j!==null&&w.set(b,j),l=l.add(b)}})),u.push(this.documentOverlayCache.saveOverlays(e,x,w))}return ae.waitFor(u)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,t,n,a){return(function(u){return Ne.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):$b(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,a):this.getDocumentsMatchingCollectionQuery(e,t,n,a)}getNextDocuments(e,t,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,a-l.size):ae.resolve(zi());let m=-1,p=l;return u.next((x=>ae.forEach(x,((g,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),l.get(g)?ae.resolve():this.remoteDocumentCache.getEntry(e,g).next((b=>{p=p.insert(g,b)}))))).next((()=>this.populateOverlays(e,x,l))).next((()=>this.computeViews(e,p,x,Me()))).next((g=>({batchId:m,changes:Hb(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ne(t)).next((n=>{let a=Pl();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,a){const l=t.collectionGroup;let u=Pl();return this.indexManager.getCollectionParents(e,l).next((m=>ae.forEach(m,(p=>{const x=(function(w,b){return new No(b,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,x,n,a).next((g=>{g.forEach(((w,b)=>{u=u.insert(w,b)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,n,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,l,a)))).next((u=>{l.forEach(((p,x)=>{const g=x.getKey();u.get(g)===null&&(u=u.insert(g,Zt.newInvalidDocument(g)))}));let m=Pl();return u.forEach(((p,x)=>{const g=l.get(p);g!==void 0&&Fl(g.mutation,x,Sr.empty(),Tt.now()),Vd(t,x)&&(m=m.insert(p,x))})),m}))}}class q4{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return ae.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:Ss(a.createTime)}})(t)),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,(function(a){return{name:a.name,query:V4(a.bundledQuery),readTime:Ss(a.readTime)}})(t)),ae.resolve()}}class H4{constructor(){this.overlays=new ut(Ne.comparator),this.Ir=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const n=zi();return ae.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&n.set(a,l)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((a,l)=>{this.ht(e,t,l)})),ae.resolve()}removeOverlaysForBatchId(e,t,n){const a=this.Ir.get(n);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Ir.delete(n)),ae.resolve()}getOverlaysForCollection(e,t,n){const a=zi(),l=t.length+1,u=new Ne(t.child("")),m=this.overlays.getIteratorFrom(u);for(;m.hasNext();){const p=m.getNext().value,x=p.getKey();if(!t.isPrefixOf(x.path))break;x.path.length===l&&p.largestBatchId>n&&a.set(p.getKey(),p)}return ae.resolve(a)}getOverlaysForCollectionGroup(e,t,n,a){let l=new ut(((x,g)=>x-g));const u=this.overlays.getIterator();for(;u.hasNext();){const x=u.getNext().value;if(x.getKey().getCollectionGroup()===t&&x.largestBatchId>n){let g=l.get(x.largestBatchId);g===null&&(g=zi(),l=l.insert(x.largestBatchId,g)),g.set(x.getKey(),x)}}const m=zi(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((x,g)=>m.set(x,g))),!(m.size()>=a)););return ae.resolve(m)}ht(e,t,n){const a=this.overlays.get(n.key);if(a!==null){const u=this.Ir.get(a.largestBatchId).delete(n.key);this.Ir.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(n.key,new p4(t,n));let l=this.Ir.get(t);l===void 0&&(l=Me(),this.Ir.set(t,l)),this.Ir.set(t,l.add(n.key))}}class W4{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ae.resolve()}}class jf{constructor(){this.Tr=new qt(Rt.Er),this.dr=new qt(Rt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new Rt(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach((n=>this.addReference(n,t)))}removeReference(e,t){this.Vr(new Rt(e,t))}mr(e,t){e.forEach((n=>this.removeReference(n,t)))}gr(e){const t=new Ne(new st([])),n=new Rt(t,e),a=new Rt(t,e+1),l=[];return this.dr.forEachInRange([n,a],(u=>{this.Vr(u),l.push(u.key)})),l}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Ne(new st([])),n=new Rt(t,e),a=new Rt(t,e+1);let l=Me();return this.dr.forEachInRange([n,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const t=new Rt(e,0),n=this.Tr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class Rt{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Ne.comparator(e.key,t.key)||ze(e.wr,t.wr)}static Ar(e,t){return ze(e.wr,t.wr)||Ne.comparator(e.key,t.key)}}class G4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new qt(Rt.Er)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,a){const l=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new m4(l,t,n,a);this.mutationQueue.push(u);for(const m of a)this.br=this.br.add(new Rt(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ae.resolve(u)}lookupMutationBatch(e,t){return ae.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,a=this.vr(n),l=a<0?0:a;return ae.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Rt(t,0),a=new Rt(t,Number.POSITIVE_INFINITY),l=[];return this.br.forEachInRange([n,a],(u=>{const m=this.Dr(u.wr);l.push(m)})),ae.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new qt(ze);return t.forEach((a=>{const l=new Rt(a,0),u=new Rt(a,Number.POSITIVE_INFINITY);this.br.forEachInRange([l,u],(m=>{n=n.add(m.wr)}))})),ae.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,a=n.length+1;let l=n;Ne.isDocumentKey(l)||(l=l.child(""));const u=new Rt(new Ne(l),0);let m=new qt(ze);return this.br.forEachWhile((p=>{const x=p.key.path;return!!n.isPrefixOf(x)&&(x.length===a&&(m=m.add(p.wr)),!0)}),u),ae.resolve(this.Cr(m))}Cr(e){const t=[];return e.forEach((n=>{const a=this.Dr(n);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){Ge(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return ae.forEach(t.mutations,(a=>{const l=new Rt(a.key,t.batchId);return n=n.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.br=n}))}On(e){}containsKey(e,t){const n=new Rt(t,0),a=this.br.firstAfterOrEqual(n);return ae.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class K4{constructor(e){this.Mr=e,this.docs=(function(){return new ut(Ne.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,a=this.docs.get(n),l=a?a.size:0,u=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ae.resolve(n?n.document.mutableCopy():Zt.newInvalidDocument(t))}getEntries(e,t){let n=on();return t.forEach((a=>{const l=this.docs.get(a);n=n.insert(a,l?l.document.mutableCopy():Zt.newInvalidDocument(a))})),ae.resolve(n)}getDocumentsMatchingQuery(e,t,n,a){let l=on();const u=t.path,m=new Ne(u.child("")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:x,value:{document:g}}=p.getNext();if(!u.isPrefixOf(x.path))break;x.path.length>u.length+1||CT(IT(g),n)<=0||(a.has(g.key)||Vd(t,g))&&(l=l.insert(g.key,g.mutableCopy()))}return ae.resolve(l)}getAllFromCollectionGroup(e,t,n,a){Ie()}Or(e,t){return ae.forEach(this.docs,(n=>t(n)))}newChangeBuffer(e){return new Q4(this)}getSize(e){return ae.resolve(this.size)}}class Q4 extends $4{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,a)=>{a.isValidDocument()?t.push(this.cr.addEntry(e,a)):this.cr.removeEntry(n)})),ae.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class Y4{constructor(e){this.persistence=e,this.Nr=new jo((t=>gf(t)),xf),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.Lr=0,this.Br=new jf,this.targetCount=0,this.kr=po.Bn()}forEachTarget(e,t){return this.Nr.forEach(((n,a)=>t(a))),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),ae.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new po(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.Kn(t),ae.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,n){let a=0;const l=[];return this.Nr.forEach(((u,m)=>{m.sequenceNumber<=t&&n.get(m.targetId)===null&&(this.Nr.delete(u),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)})),ae.waitFor(l).next((()=>a))}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return ae.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),ae.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),ae.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return ae.resolve(n)}containsKey(e,t){return ae.resolve(this.Br.containsKey(t))}}class X4{constructor(e,t){this.qr={},this.overlays={},this.Qr=new hf(0),this.Kr=!1,this.Kr=!0,this.$r=new W4,this.referenceDelegate=e(this),this.Ur=new Y4(this),this.indexManager=new F4,this.remoteDocumentCache=(function(a){return new K4(a)})((n=>this.referenceDelegate.Wr(n))),this.serializer=new L4(t),this.Gr=new q4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new H4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new G4(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){be("MemoryPersistence","Starting transaction:",e);const a=new J4(this.Qr.next());return this.referenceDelegate.zr(),n(a).next((l=>this.referenceDelegate.jr(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Hr(e,t){return ae.or(Object.values(this.qr).map((n=>()=>n.containsKey(e,t))))}}class J4 extends PT{constructor(e){super(),this.currentSequenceNumber=e}}class Ef{constructor(e){this.persistence=e,this.Jr=new jf,this.Yr=null}static Zr(e){return new Ef(e)}get Xr(){if(this.Yr)return this.Yr;throw Ie()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),ae.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),ae.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((a=>this.Xr.add(a.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.Xr.add(l.toString())))})).next((()=>n.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.Xr,(n=>{const a=Ne.fromPath(n);return this.ei(e,a).next((l=>{l||t.removeEntry(a,Ce.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((n=>{n?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return ae.or([()=>ae.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class kf{constructor(e,t,n,a){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=a}static Wi(e,t){let n=Me(),a=Me();for(const l of t.docChanges)switch(l.type){case 0:n=n.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new kf(e,t.fromCache,n,a)}}class Z4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class eS{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return V2()?8:RT(er())>0?6:4})()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,a){const l={result:null};return this.Yi(e,t).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.Zi(e,t,a,n).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new Z4;return this.Xi(e,t,u).next((m=>{if(l.result=m,this.zi)return this.es(e,t,u,m.size)}))})).next((()=>l.result))}es(e,t,n,a){return n.documentReadCount<this.ji?(kl()<=Le.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",eo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ae.resolve()):(kl()<=Le.DEBUG&&be("QueryEngine","Query:",eo(t),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.Hi*a?(kl()<=Le.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",eo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ts(t))):ae.resolve())}Yi(e,t){if(Ey(t))return ae.resolve(null);let n=Ts(t);return this.indexManager.getIndexType(e,n).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=wp(t,null,"F"),n=Ts(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((l=>{const u=Me(...l);return this.Ji.getDocuments(e,u).next((m=>this.indexManager.getMinOffset(e,n).next((p=>{const x=this.ts(t,m);return this.ns(t,x,u,p.readTime)?this.Yi(e,wp(t,null,"F")):this.rs(e,x,t,p)}))))})))))}Zi(e,t,n,a){return Ey(t)||a.isEqual(Ce.min())?ae.resolve(null):this.Ji.getDocuments(e,n).next((l=>{const u=this.ts(t,l);return this.ns(t,u,n,a)?ae.resolve(null):(kl()<=Le.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),eo(t)),this.rs(e,u,t,ST(a,-1)).next((m=>m)))}))}ts(e,t){let n=new qt(zb(e));return t.forEach(((a,l)=>{Vd(e,l)&&(n=n.add(l))})),n}ns(e,t,n,a){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Xi(e,t,n){return kl()<=Le.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",eo(t)),this.Ji.getDocumentsMatchingQuery(e,t,ri.min(),n)}rs(e,t,n,a){return this.Ji.getDocumentsMatchingQuery(e,n,a).next((l=>(t.forEach((u=>{l=l.insert(u.key,u)})),l)))}}class tS{constructor(e,t,n,a){this.persistence=e,this.ss=t,this.serializer=a,this.os=new ut(ze),this._s=new jo((l=>gf(l)),xf),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new z4(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function rS(r,e,t,n){return new tS(r,e,t,n)}async function uw(r,e){const t=Ae(r);return await t.persistence.runTransaction("Handle user change","readonly",(n=>{let a;return t.mutationQueue.getAllMutationBatches(n).next((l=>(a=l,t.ls(e),t.mutationQueue.getAllMutationBatches(n)))).next((l=>{const u=[],m=[];let p=Me();for(const x of a){u.push(x.batchId);for(const g of x.mutations)p=p.add(g.key)}for(const x of l){m.push(x.batchId);for(const g of x.mutations)p=p.add(g.key)}return t.localDocuments.getDocuments(n,p).next((x=>({hs:x,removedBatchIds:u,addedBatchIds:m})))}))}))}function sS(r,e){const t=Ae(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const a=e.batch.keys(),l=t.cs.newChangeBuffer({trackRemovals:!0});return(function(m,p,x,g){const w=x.batch,b=w.keys();let j=ae.resolve();return b.forEach((k=>{j=j.next((()=>g.getEntry(p,k))).next((M=>{const D=x.docVersions.get(k);Ge(D!==null),M.version.compareTo(D)<0&&(w.applyToRemoteDocument(M,x),M.isValidDocument()&&(M.setReadTime(x.commitVersion),g.addEntry(M)))}))})),j.next((()=>m.mutationQueue.removeMutationBatch(p,w)))})(t,n,e,l).next((()=>l.apply(n))).next((()=>t.mutationQueue.performConsistencyCheck(n))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(n,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(m){let p=Me();for(let x=0;x<m.mutationResults.length;++x)m.mutationResults[x].transformResults.length>0&&(p=p.add(m.batch.mutations[x].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(n,a)))}))}function dw(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Ur.getLastRemoteSnapshotVersion(t)))}function nS(r,e){const t=Ae(r),n=e.snapshotVersion;let a=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=t.cs.newChangeBuffer({trackRemovals:!0});a=t.os;const m=[];e.targetChanges.forEach(((g,w)=>{const b=a.get(w);if(!b)return;m.push(t.Ur.removeMatchingKeys(l,g.removedDocuments,w).next((()=>t.Ur.addMatchingKeys(l,g.addedDocuments,w))));let j=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?j=j.withResumeToken(Ht.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):g.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(g.resumeToken,n)),a=a.insert(w,j),(function(M,D,ee){return M.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0})(b,j,g)&&m.push(t.Ur.updateTargetData(l,j))}));let p=on(),x=Me();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,g))})),m.push(iS(l,u,e.documentUpdates).next((g=>{p=g.Ps,x=g.Is}))),!n.isEqual(Ce.min())){const g=t.Ur.getLastRemoteSnapshotVersion(l).next((w=>t.Ur.setTargetsMetadata(l,l.currentSequenceNumber,n)));m.push(g)}return ae.waitFor(m).next((()=>u.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,x))).next((()=>p))})).then((l=>(t.os=a,l)))}function iS(r,e,t){let n=Me(),a=Me();return t.forEach((l=>n=n.add(l))),e.getEntries(r,n).next((l=>{let u=on();return t.forEach(((m,p)=>{const x=l.get(m);p.isFoundDocument()!==x.isFoundDocument()&&(a=a.add(m)),p.isNoDocument()&&p.version.isEqual(Ce.min())?(e.removeEntry(m,p.readTime),u=u.insert(m,p)):!x.isValidDocument()||p.version.compareTo(x.version)>0||p.version.compareTo(x.version)===0&&x.hasPendingWrites?(e.addEntry(p),u=u.insert(m,p)):be("LocalStore","Ignoring outdated watch update for ",m,". Current version:",x.version," Watch version:",p.version)})),{Ps:u,Is:a}}))}function aS(r,e){const t=Ae(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function oS(r,e){const t=Ae(r);return t.persistence.runTransaction("Allocate target","readwrite",(n=>{let a;return t.Ur.getTargetData(n,e).next((l=>l?(a=l,ae.resolve(a)):t.Ur.allocateTargetId(n).next((u=>(a=new Qn(e,u,"TargetPurposeListen",n.currentSequenceNumber),t.Ur.addTargetData(n,a).next((()=>a)))))))})).then((n=>{const a=t.os.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.os=t.os.insert(n.targetId,n),t._s.set(e,n.targetId)),n}))}async function kp(r,e,t){const n=Ae(r),a=n.os.get(e),l=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",l,(u=>n.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!pc(u))throw u;be("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}n.os=n.os.remove(e),n._s.delete(a.target)}function Oy(r,e,t){const n=Ae(r);let a=Ce.min(),l=Me();return n.persistence.runTransaction("Execute query","readwrite",(u=>(function(p,x,g){const w=Ae(p),b=w._s.get(g);return b!==void 0?ae.resolve(w.os.get(b)):w.Ur.getTargetData(x,g)})(n,u,Ts(e)).next((m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(u,m.targetId).next((p=>{l=p}))})).next((()=>n.ss.getDocumentsMatchingQuery(u,e,t?a:Ce.min(),t?l:Me()))).next((m=>(lS(n,XT(e),m),{documents:m,Ts:l})))))}function lS(r,e,t){let n=r.us.get(e)||Ce.min();t.forEach(((a,l)=>{l.readTime.compareTo(n)>0&&(n=l.readTime)})),r.us.set(e,n)}class Ly{constructor(){this.activeTargetIds=s4()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cS{constructor(){this.so=new Ly,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Ly,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class uS{_o(e){}shutdown(){}}class Vy{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let qu=null;function Km(){return qu===null?qu=(function(){return 268435456+Math.round(2147483648*Math.random())})():qu++,"0x"+qu.toString(16)}const dS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hS{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Xt="WebChannelConnection";class mS extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+t.host,this.vo=`projects/${a}/databases/${l}`,this.Co=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${l}`}get Fo(){return!1}Mo(t,n,a,l,u){const m=Km(),p=this.xo(t,n.toUriEncodedString());be("RestConnection",`Sending RPC '${t}' ${m}:`,p,a);const x={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(x,l,u),this.No(t,p,x,a).then((g=>(be("RestConnection",`Received RPC '${t}' ${m}: `,g),g)),(g=>{throw co("RestConnection",`RPC '${t}' ${m} failed with error: `,g,"url: ",p,"request:",a),g}))}Lo(t,n,a,l,u,m){return this.Mo(t,n,a,l,u)}Oo(t,n,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_o})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>t[u]=l)),a&&a.headers.forEach(((l,u)=>t[u]=l))}xo(t,n){const a=dS[t];return`${this.Do}/v1/${n}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,a){const l=Km();return new Promise(((u,m)=>{const p=new Eb;p.setWithCredentials(!0),p.listenOnce(kb.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Zu.NO_ERROR:const g=p.getResponseJson();be(Xt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),u(g);break;case Zu.TIMEOUT:be(Xt,`RPC '${e}' ${l} timed out`),m(new ge(re.DEADLINE_EXCEEDED,"Request time out"));break;case Zu.HTTP_ERROR:const w=p.getStatus();if(be(Xt,`RPC '${e}' ${l} failed with status:`,w,"response text:",p.getResponseText()),w>0){let b=p.getResponseJson();Array.isArray(b)&&(b=b[0]);const j=b?.error;if(j&&j.status&&j.message){const k=(function(D){const ee=D.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(ee)>=0?ee:re.UNKNOWN})(j.status);m(new ge(k,j.message))}else m(new ge(re.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ge(re.UNAVAILABLE,"Connection failed."));break;default:Ie()}}finally{be(Xt,`RPC '${e}' ${l} completed.`)}}));const x=JSON.stringify(a);be(Xt,`RPC '${e}' ${l} sending request:`,a),p.send(t,"POST",x,n,15)}))}Bo(e,t,n){const a=Km(),l=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Ib(),m=Sb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},x=this.longPollingOptions.timeoutSeconds;x!==void 0&&(p.longPollingTimeout=Math.round(1e3*x)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Oo(p.initMessageHeaders,t,n),p.encodeInitMessageHeaders=!0;const g=l.join("");be(Xt,`Creating RPC '${e}' stream ${a}: ${g}`,p);const w=u.createWebChannel(g,p);let b=!1,j=!1;const k=new hS({Io:D=>{j?be(Xt,`Not sending because RPC '${e}' stream ${a} is closed:`,D):(b||(be(Xt,`Opening RPC '${e}' stream ${a} transport.`),w.open(),b=!0),be(Xt,`RPC '${e}' stream ${a} sending:`,D),w.send(D))},To:()=>w.close()}),M=(D,ee,K)=>{D.listen(ee,(Z=>{try{K(Z)}catch($){setTimeout((()=>{throw $}),0)}}))};return M(w,Al.EventType.OPEN,(()=>{j||(be(Xt,`RPC '${e}' stream ${a} transport opened.`),k.yo())})),M(w,Al.EventType.CLOSE,(()=>{j||(j=!0,be(Xt,`RPC '${e}' stream ${a} transport closed`),k.So())})),M(w,Al.EventType.ERROR,(D=>{j||(j=!0,co(Xt,`RPC '${e}' stream ${a} transport errored:`,D),k.So(new ge(re.UNAVAILABLE,"The operation could not be completed")))})),M(w,Al.EventType.MESSAGE,(D=>{var ee;if(!j){const K=D.data[0];Ge(!!K);const Z=K,$=Z.error||((ee=Z[0])===null||ee===void 0?void 0:ee.error);if($){be(Xt,`RPC '${e}' stream ${a} received error:`,$);const G=$.status;let se=(function(E){const S=bt[E];if(S!==void 0)return ew(S)})(G),L=$.message;se===void 0&&(se=re.INTERNAL,L="Unknown error status: "+G+" with message "+$.message),j=!0,k.So(new ge(se,L)),w.close()}else be(Xt,`RPC '${e}' stream ${a} received:`,K),k.bo(K)}})),M(m,Tb.STAT_EVENT,(D=>{D.stat===fp.PROXY?be(Xt,`RPC '${e}' stream ${a} detected buffering proxy`):D.stat===fp.NOPROXY&&be(Xt,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{k.wo()}),0),k}}function Qm(){return typeof document<"u"?document:null}function Bd(r){return new N4(r,!0)}class hw{constructor(e,t,n=1e3,a=1.5,l=6e4){this.ui=e,this.timerId=t,this.ko=n,this.qo=a,this.Qo=l,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),a=Math.max(0,t-n);a>0&&be("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,a,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class mw{constructor(e,t,n,a,l,u,m,p){this.ui=e,this.Ho=n,this.Jo=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new hw(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(an(t.toString()),an("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,a])=>{this.Yo===t&&this.P_(n,a)}),(n=>{e((()=>{const a=new ge(re.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(a)}))}))}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{n((()=>this.listener.Eo()))})),this.stream.Ro((()=>{n((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((a=>{n((()=>this.I_(a)))})),this.stream.onMessage((a=>{n((()=>++this.e_==1?this.E_(a):this.onNext(a)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return be("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class pS extends mw{constructor(e,t,n,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,a,u),this.serializer=l}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=k4(this.serializer,e),n=(function(l){if(!("targetChange"in l))return Ce.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ce.min():u.readTime?Ss(u.readTime):Ce.min()})(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=Ep(this.serializer),t.addTarget=(function(l,u){let m;const p=u.target;if(m=vp(p)?{documents:I4(l,p)}:{query:C4(l,p)._t},m.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){m.resumeToken=sw(l,u.resumeToken);const x=_p(l,u.expectedCount);x!==null&&(m.expectedCount=x)}else if(u.snapshotVersion.compareTo(Ce.min())>0){m.readTime=vd(l,u.snapshotVersion.toTimestamp());const x=_p(l,u.expectedCount);x!==null&&(m.expectedCount=x)}return m})(this.serializer,e);const n=P4(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=Ep(this.serializer),t.removeTarget=e,this.a_(t)}}class fS extends mw{constructor(e,t,n,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,a,u),this.serializer=l}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=S4(e.writeResults,e.commitTime),n=Ss(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=Ep(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((n=>T4(this.serializer,n)))};this.a_(t)}}class gS extends class{}{constructor(e,t,n,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=a,this.y_=!1}w_(){if(this.y_)throw new ge(re.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Mo(e,Np(t,n),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ge(re.UNKNOWN,l.toString())}))}Lo(e,t,n,a,l){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,m])=>this.connection.Lo(e,Np(t,n),a,u,m,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(re.UNKNOWN,u.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class xS{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(an(t),this.D_=!1):be("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}class yS{constructor(e,t,n,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=l,this.k_._o((u=>{n.enqueueAndForget((async()=>{ia(this)&&(be("RemoteStore","Restarting streams for network reachability change."),await(async function(p){const x=Ae(p);x.L_.add(4),await xc(x),x.q_.set("Unknown"),x.L_.delete(4),await zd(x)})(this))}))})),this.q_=new xS(n,a)}}async function zd(r){if(ia(r))for(const e of r.B_)await e(!0)}async function xc(r){for(const e of r.B_)await e(!1)}function pw(r,e){const t=Ae(r);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),Cf(t)?If(t):Eo(t).r_()&&Sf(t,e))}function Tf(r,e){const t=Ae(r),n=Eo(t);t.N_.delete(e),n.r_()&&fw(t,e),t.N_.size===0&&(n.r_()?n.o_():ia(t)&&t.q_.set("Unknown"))}function Sf(r,e){if(r.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Eo(r).A_(e)}function fw(r,e){r.Q_.xe(e),Eo(r).R_(e)}function If(r){r.Q_=new v4({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>r.N_.get(e)||null,tt:()=>r.datastore.serializer.databaseId}),Eo(r).start(),r.q_.v_()}function Cf(r){return ia(r)&&!Eo(r).n_()&&r.N_.size>0}function ia(r){return Ae(r).L_.size===0}function gw(r){r.Q_=void 0}async function vS(r){r.q_.set("Online")}async function bS(r){r.N_.forEach(((e,t)=>{Sf(r,e)}))}async function wS(r,e){gw(r),Cf(r)?(r.q_.M_(e),If(r)):r.q_.set("Unknown")}async function _S(r,e,t){if(r.q_.set("Online"),e instanceof rw&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const m of l.targetIds)a.N_.has(m)&&(await a.remoteSyncer.rejectListen(m,u),a.N_.delete(m),a.Q_.removeTarget(m))})(r,e)}catch(n){be("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await bd(r,n)}else if(e instanceof rd?r.Q_.Ke(e):e instanceof tw?r.Q_.He(e):r.Q_.We(e),!t.isEqual(Ce.min()))try{const n=await dw(r.localStore);t.compareTo(n)>=0&&await(function(l,u){const m=l.Q_.rt(u);return m.targetChanges.forEach(((p,x)=>{if(p.resumeToken.approximateByteSize()>0){const g=l.N_.get(x);g&&l.N_.set(x,g.withResumeToken(p.resumeToken,u))}})),m.targetMismatches.forEach(((p,x)=>{const g=l.N_.get(p);if(!g)return;l.N_.set(p,g.withResumeToken(Ht.EMPTY_BYTE_STRING,g.snapshotVersion)),fw(l,p);const w=new Qn(g.target,p,x,g.sequenceNumber);Sf(l,w)})),l.remoteSyncer.applyRemoteEvent(m)})(r,t)}catch(n){be("RemoteStore","Failed to raise snapshot:",n),await bd(r,n)}}async function bd(r,e,t){if(!pc(e))throw e;r.L_.add(1),await xc(r),r.q_.set("Offline"),t||(t=()=>dw(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{be("RemoteStore","Retrying IndexedDB access"),await t(),r.L_.delete(1),await zd(r)}))}function xw(r,e){return e().catch((t=>bd(r,t,e)))}async function qd(r){const e=Ae(r),t=ni(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;NS(e);)try{const a=await aS(e.localStore,n);if(a===null){e.O_.length===0&&t.o_();break}n=a.batchId,jS(e,a)}catch(a){await bd(e,a)}yw(e)&&vw(e)}function NS(r){return ia(r)&&r.O_.length<10}function jS(r,e){r.O_.push(e);const t=ni(r);t.r_()&&t.V_&&t.m_(e.mutations)}function yw(r){return ia(r)&&!ni(r).n_()&&r.O_.length>0}function vw(r){ni(r).start()}async function ES(r){ni(r).p_()}async function kS(r){const e=ni(r);for(const t of r.O_)e.m_(t.mutations)}async function TS(r,e,t){const n=r.O_.shift(),a=wf.from(n,e,t);await xw(r,(()=>r.remoteSyncer.applySuccessfulWrite(a))),await qd(r)}async function SS(r,e){e&&ni(r).V_&&await(async function(n,a){if((function(u){return g4(u)&&u!==re.ABORTED})(a.code)){const l=n.O_.shift();ni(n).s_(),await xw(n,(()=>n.remoteSyncer.rejectFailedWrite(l.batchId,a))),await qd(n)}})(r,e),yw(r)&&vw(r)}async function Fy(r,e){const t=Ae(r);t.asyncQueue.verifyOperationInProgress(),be("RemoteStore","RemoteStore received new credentials");const n=ia(t);t.L_.add(3),await xc(t),n&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await zd(t)}async function IS(r,e){const t=Ae(r);e?(t.L_.delete(2),await zd(t)):e||(t.L_.add(2),await xc(t),t.q_.set("Unknown"))}function Eo(r){return r.K_||(r.K_=(function(t,n,a){const l=Ae(t);return l.w_(),new pS(n,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(r.datastore,r.asyncQueue,{Eo:vS.bind(null,r),Ro:bS.bind(null,r),mo:wS.bind(null,r),d_:_S.bind(null,r)}),r.B_.push((async e=>{e?(r.K_.s_(),Cf(r)?If(r):r.q_.set("Unknown")):(await r.K_.stop(),gw(r))}))),r.K_}function ni(r){return r.U_||(r.U_=(function(t,n,a){const l=Ae(t);return l.w_(),new fS(n,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:ES.bind(null,r),mo:SS.bind(null,r),f_:kS.bind(null,r),g_:TS.bind(null,r)}),r.B_.push((async e=>{e?(r.U_.s_(),await qd(r)):(await r.U_.stop(),r.O_.length>0&&(be("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))}))),r.U_}class Af{constructor(e,t,n,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=a,this.removalCallback=l,this.deferred=new rn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,a,l){const u=Date.now()+n,m=new Af(e,t,u,a,l);return m.start(n),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pf(r,e){if(an("AsyncQueue",`${e}: ${r}`),pc(r))return new ge(re.UNAVAILABLE,`${e}: ${r}`);throw r}class oo{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ne.comparator(t.key,n.key):(t,n)=>Ne.comparator(t.key,n.key),this.keyedMap=Pl(),this.sortedSet=new ut(this.comparator)}static emptySet(e){return new oo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof oo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=n.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new oo;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Uy{constructor(){this.W_=new ut(Ne.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(t,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(t):e.type===1&&n.type===2?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Ie():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class fo{constructor(e,t,n,a,l,u,m,p,x){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=x}static fromInitialDocuments(e,t,n,a,l){const u=[];return t.forEach((m=>{u.push({type:0,doc:m})})),new fo(e,t,oo.emptySet(t),u,n,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ld(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==n[a].type||!t[a].doc.isEqual(n[a].doc))return!1;return!0}}class CS{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class AS{constructor(){this.queries=$y(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,n){const a=Ae(t),l=a.queries;a.queries=$y(),l.forEach(((u,m)=>{for(const p of m.j_)p.onError(n)}))})(this,new ge(re.ABORTED,"Firestore shutting down"))}}function $y(){return new jo((r=>Bb(r)),Ld)}async function bw(r,e){const t=Ae(r);let n=3;const a=e.query;let l=t.queries.get(a);l?!l.H_()&&e.J_()&&(n=2):(l=new CS,n=e.J_()?0:1);try{switch(n){case 0:l.z_=await t.onListen(a,!0);break;case 1:l.z_=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const m=Pf(u,`Initialization of query '${eo(e.query)}' failed`);return void e.onError(m)}t.queries.set(a,l),l.j_.push(e),e.Z_(t.onlineState),l.z_&&e.X_(l.z_)&&Rf(t)}async function ww(r,e){const t=Ae(r),n=e.query;let a=3;const l=t.queries.get(n);if(l){const u=l.j_.indexOf(e);u>=0&&(l.j_.splice(u,1),l.j_.length===0?a=e.J_()?0:1:!l.H_()&&e.J_()&&(a=2))}switch(a){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function PS(r,e){const t=Ae(r);let n=!1;for(const a of e){const l=a.query,u=t.queries.get(l);if(u){for(const m of u.j_)m.X_(a)&&(n=!0);u.z_=a}}n&&Rf(t)}function RS(r,e,t){const n=Ae(r),a=n.queries.get(e);if(a)for(const l of a.j_)l.onError(t);n.queries.delete(e)}function Rf(r){r.Y_.forEach((e=>{e.next()}))}var Tp,By;(By=Tp||(Tp={})).ea="default",By.Cache="cache";class _w{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const a of e.docChanges)a.type!==3&&n.push(a);e=new fo(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const n=t!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Tp.Cache}}class Nw{constructor(e){this.key=e}}class jw{constructor(e){this.key=e}}class DS{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Me(),this.mutatedKeys=Me(),this.Aa=zb(e),this.Ra=new oo(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new Uy,a=t?t.Ra:this.Ra;let l=t?t.mutatedKeys:this.mutatedKeys,u=a,m=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,x=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((g,w)=>{const b=a.get(g),j=Vd(this.query,w)?w:null,k=!!b&&this.mutatedKeys.has(b.key),M=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let D=!1;b&&j?b.data.isEqual(j.data)?k!==M&&(n.track({type:3,doc:j}),D=!0):this.ga(b,j)||(n.track({type:2,doc:j}),D=!0,(p&&this.Aa(j,p)>0||x&&this.Aa(j,x)<0)&&(m=!0)):!b&&j?(n.track({type:0,doc:j}),D=!0):b&&!j&&(n.track({type:1,doc:b}),D=!0,(p||x)&&(m=!0)),D&&(j?(u=u.add(j),l=M?l.add(g):l.delete(g)):(u=u.delete(g),l=l.delete(g)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),l=l.delete(g.key),n.track({type:1,doc:g})}return{Ra:u,fa:n,ns:m,mutatedKeys:l}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,a){const l=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const u=e.fa.G_();u.sort(((g,w)=>(function(j,k){const M=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie()}};return M(j)-M(k)})(g.type,w.type)||this.Aa(g.doc,w.doc))),this.pa(n),a=a!=null&&a;const m=t&&!a?this.ya():[],p=this.da.size===0&&this.current&&!a?1:0,x=p!==this.Ea;return this.Ea=p,u.length!==0||x?{snapshot:new fo(this.query,e.Ra,l,u,e.mutatedKeys,p===0,x,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:m}:{wa:m}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Uy,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((t=>this.Ta=this.Ta.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ta=this.Ta.delete(t))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Me(),this.Ra.forEach((n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))}));const t=[];return e.forEach((n=>{this.da.has(n)||t.push(new jw(n))})),this.da.forEach((n=>{e.has(n)||t.push(new Nw(n))})),t}ba(e){this.Ta=e.Ts,this.da=Me();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return fo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class MS{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class OS{constructor(e){this.key=e,this.va=!1}}class LS{constructor(e,t,n,a,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Ca={},this.Fa=new jo((m=>Bb(m)),Ld),this.Ma=new Map,this.xa=new Set,this.Oa=new ut(Ne.comparator),this.Na=new Map,this.La=new jf,this.Ba={},this.ka=new Map,this.qa=po.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function VS(r,e,t=!0){const n=Cw(r);let a;const l=n.Fa.get(e);return l?(n.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Da()):a=await Ew(n,e,t,!0),a}async function FS(r,e){const t=Cw(r);await Ew(t,e,!0,!1)}async function Ew(r,e,t,n){const a=await oS(r.localStore,Ts(e)),l=a.targetId,u=r.sharedClientState.addLocalQueryTarget(l,t);let m;return n&&(m=await US(r,e,l,u==="current",a.resumeToken)),r.isPrimaryClient&&t&&pw(r.remoteStore,a),m}async function US(r,e,t,n,a){r.Ka=(w,b,j)=>(async function(M,D,ee,K){let Z=D.view.ma(ee);Z.ns&&(Z=await Oy(M.localStore,D.query,!1).then((({documents:L})=>D.view.ma(L,Z))));const $=K&&K.targetChanges.get(D.targetId),G=K&&K.targetMismatches.get(D.targetId)!=null,se=D.view.applyChanges(Z,M.isPrimaryClient,$,G);return qy(M,D.targetId,se.wa),se.snapshot})(r,w,b,j);const l=await Oy(r.localStore,e,!0),u=new DS(e,l.Ts),m=u.ma(l.documents),p=gc.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",a),x=u.applyChanges(m,r.isPrimaryClient,p);qy(r,t,x.wa);const g=new MS(e,t,u);return r.Fa.set(e,g),r.Ma.has(t)?r.Ma.get(t).push(e):r.Ma.set(t,[e]),x.snapshot}async function $S(r,e,t){const n=Ae(r),a=n.Fa.get(e),l=n.Ma.get(a.targetId);if(l.length>1)return n.Ma.set(a.targetId,l.filter((u=>!Ld(u,e)))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await kp(n.localStore,a.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(a.targetId),t&&Tf(n.remoteStore,a.targetId),Sp(n,a.targetId)})).catch(mc)):(Sp(n,a.targetId),await kp(n.localStore,a.targetId,!0))}async function BS(r,e){const t=Ae(r),n=t.Fa.get(e),a=t.Ma.get(n.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),Tf(t.remoteStore,n.targetId))}async function zS(r,e,t){const n=YS(r);try{const a=await(function(u,m){const p=Ae(u),x=Tt.now(),g=m.reduce(((j,k)=>j.add(k.key)),Me());let w,b;return p.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let k=on(),M=Me();return p.cs.getEntries(j,g).next((D=>{k=D,k.forEach(((ee,K)=>{K.isValidDocument()||(M=M.add(ee))}))})).next((()=>p.localDocuments.getOverlayedDocuments(j,k))).next((D=>{w=D;const ee=[];for(const K of m){const Z=d4(K,w.get(K.key).overlayedDocument);Z!=null&&ee.push(new li(K.key,Z,Db(Z.value.mapValue),Br.exists(!0)))}return p.mutationQueue.addMutationBatch(j,x,ee,m)})).next((D=>{b=D;const ee=D.applyToLocalDocumentSet(w,M);return p.documentOverlayCache.saveOverlays(j,D.batchId,ee)}))})).then((()=>({batchId:b.batchId,changes:Hb(w)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(a.batchId),(function(u,m,p){let x=u.Ba[u.currentUser.toKey()];x||(x=new ut(ze)),x=x.insert(m,p),u.Ba[u.currentUser.toKey()]=x})(n,a.batchId,t),await yc(n,a.changes),await qd(n.remoteStore)}catch(a){const l=Pf(a,"Failed to persist write");t.reject(l)}}async function kw(r,e){const t=Ae(r);try{const n=await nS(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=t.Na.get(l);u&&(Ge(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?u.va=!0:a.modifiedDocuments.size>0?Ge(u.va):a.removedDocuments.size>0&&(Ge(u.va),u.va=!1))})),await yc(t,n,e)}catch(n){await mc(n)}}function zy(r,e,t){const n=Ae(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const a=[];n.Fa.forEach(((l,u)=>{const m=u.view.Z_(e);m.snapshot&&a.push(m.snapshot)})),(function(u,m){const p=Ae(u);p.onlineState=m;let x=!1;p.queries.forEach(((g,w)=>{for(const b of w.j_)b.Z_(m)&&(x=!0)})),x&&Rf(p)})(n.eventManager,e),a.length&&n.Ca.d_(a),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function qS(r,e,t){const n=Ae(r);n.sharedClientState.updateQueryState(e,"rejected",t);const a=n.Na.get(e),l=a&&a.key;if(l){let u=new ut(Ne.comparator);u=u.insert(l,Zt.newNoDocument(l,Ce.min()));const m=Me().add(l),p=new $d(Ce.min(),new Map,new ut(ze),u,m);await kw(n,p),n.Oa=n.Oa.remove(l),n.Na.delete(e),Df(n)}else await kp(n.localStore,e,!1).then((()=>Sp(n,e,t))).catch(mc)}async function HS(r,e){const t=Ae(r),n=e.batch.batchId;try{const a=await sS(t.localStore,e);Sw(t,n,null),Tw(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await yc(t,a)}catch(a){await mc(a)}}async function WS(r,e,t){const n=Ae(r);try{const a=await(function(u,m){const p=Ae(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",(x=>{let g;return p.mutationQueue.lookupMutationBatch(x,m).next((w=>(Ge(w!==null),g=w.keys(),p.mutationQueue.removeMutationBatch(x,w)))).next((()=>p.mutationQueue.performConsistencyCheck(x))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(x,g,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(x,g))).next((()=>p.localDocuments.getDocuments(x,g)))}))})(n.localStore,e);Sw(n,e,t),Tw(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await yc(n,a)}catch(a){await mc(a)}}function Tw(r,e){(r.ka.get(e)||[]).forEach((t=>{t.resolve()})),r.ka.delete(e)}function Sw(r,e,t){const n=Ae(r);let a=n.Ba[n.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),n.Ba[n.currentUser.toKey()]=a}}function Sp(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Ma.get(e))r.Fa.delete(n),t&&r.Ca.$a(n,t);r.Ma.delete(e),r.isPrimaryClient&&r.La.gr(e).forEach((n=>{r.La.containsKey(n)||Iw(r,n)}))}function Iw(r,e){r.xa.delete(e.path.canonicalString());const t=r.Oa.get(e);t!==null&&(Tf(r.remoteStore,t),r.Oa=r.Oa.remove(e),r.Na.delete(t),Df(r))}function qy(r,e,t){for(const n of t)n instanceof Nw?(r.La.addReference(n.key,e),GS(r,n)):n instanceof jw?(be("SyncEngine","Document no longer in limbo: "+n.key),r.La.removeReference(n.key,e),r.La.containsKey(n.key)||Iw(r,n.key)):Ie()}function GS(r,e){const t=e.key,n=t.path.canonicalString();r.Oa.get(t)||r.xa.has(n)||(be("SyncEngine","New document in limbo: "+t),r.xa.add(n),Df(r))}function Df(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const e=r.xa.values().next().value;r.xa.delete(e);const t=new Ne(st.fromString(e)),n=r.qa.next();r.Na.set(n,new OS(t)),r.Oa=r.Oa.insert(t,n),pw(r.remoteStore,new Qn(Ts(yf(t.path)),n,"TargetPurposeLimboResolution",hf.oe))}}async function yc(r,e,t){const n=Ae(r),a=[],l=[],u=[];n.Fa.isEmpty()||(n.Fa.forEach(((m,p)=>{u.push(n.Ka(p,e,t).then((x=>{var g;if((x||t)&&n.isPrimaryClient){const w=x?!x.fromCache:(g=t?.targetChanges.get(p.targetId))===null||g===void 0?void 0:g.current;n.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(x){a.push(x);const w=kf.Wi(p.targetId,x);l.push(w)}})))})),await Promise.all(u),n.Ca.d_(a),await(async function(p,x){const g=Ae(p);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>ae.forEach(x,(b=>ae.forEach(b.$i,(j=>g.persistence.referenceDelegate.addReference(w,b.targetId,j))).next((()=>ae.forEach(b.Ui,(j=>g.persistence.referenceDelegate.removeReference(w,b.targetId,j)))))))))}catch(w){if(!pc(w))throw w;be("LocalStore","Failed to update sequence numbers: "+w)}for(const w of x){const b=w.targetId;if(!w.fromCache){const j=g.os.get(b),k=j.snapshotVersion,M=j.withLastLimboFreeSnapshotVersion(k);g.os=g.os.insert(b,M)}}})(n.localStore,l))}async function KS(r,e){const t=Ae(r);if(!t.currentUser.isEqual(e)){be("SyncEngine","User change. New user:",e.toKey());const n=await uw(t.localStore,e);t.currentUser=e,(function(l,u){l.ka.forEach((m=>{m.forEach((p=>{p.reject(new ge(re.CANCELLED,u))}))})),l.ka.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await yc(t,n.hs)}}function QS(r,e){const t=Ae(r),n=t.Na.get(e);if(n&&n.va)return Me().add(n.key);{let a=Me();const l=t.Ma.get(e);if(!l)return a;for(const u of l){const m=t.Fa.get(u);a=a.unionWith(m.view.Va)}return a}}function Cw(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=kw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qS.bind(null,e),e.Ca.d_=PS.bind(null,e.eventManager),e.Ca.$a=RS.bind(null,e.eventManager),e}function YS(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WS.bind(null,e),e}class wd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bd(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return rS(this.persistence,new eS,e.initialUser,this.serializer)}Ga(e){return new X4(Ef.Zr,this.serializer)}Wa(e){return new cS}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wd.provider={build:()=>new wd};class Ip{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>zy(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=KS.bind(null,this.syncEngine),await IS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new AS})()}createDatastore(e){const t=Bd(e.databaseInfo.databaseId),n=(function(l){return new mS(l)})(e.databaseInfo);return(function(l,u,m,p){return new gS(l,u,m,p)})(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return(function(n,a,l,u,m){return new yS(n,a,l,u,m)})(this.localStore,this.datastore,e.asyncQueue,(t=>zy(this.syncEngine,t,0)),(function(){return Vy.D()?new Vy:new uS})())}createSyncEngine(e,t){return(function(a,l,u,m,p,x,g){const w=new LS(a,l,u,m,p,x);return g&&(w.Qa=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(a){const l=Ae(a);be("RemoteStore","RemoteStore shutting down."),l.L_.add(5),await xc(l),l.k_.shutdown(),l.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Ip.provider={build:()=>new Ip};class Aw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):an("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class XS{constructor(e,t,n,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=a,this.user=Jt.UNAUTHENTICATED,this.clientId=Ab.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(n,(async u=>{be("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(n,(u=>(be("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Pf(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Ym(r,e){r.asyncQueue.verifyOperationInProgress(),be("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener((async a=>{n.isEqual(a)||(await uw(e.localStore,a),n=a)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Hy(r,e){r.asyncQueue.verifyOperationInProgress();const t=await JS(r);be("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((n=>Fy(e.remoteStore,n))),r.setAppCheckTokenChangeListener(((n,a)=>Fy(e.remoteStore,a))),r._onlineComponents=e}async function JS(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){be("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ym(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===re.FAILED_PRECONDITION||a.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;co("Error using user provided cache. Falling back to memory cache: "+t),await Ym(r,new wd)}}else be("FirestoreClient","Using default OfflineComponentProvider"),await Ym(r,new wd);return r._offlineComponents}async function Pw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(be("FirestoreClient","Using user provided OnlineComponentProvider"),await Hy(r,r._uninitializedComponentsProvider._online)):(be("FirestoreClient","Using default OnlineComponentProvider"),await Hy(r,new Ip))),r._onlineComponents}function ZS(r){return Pw(r).then((e=>e.syncEngine))}async function Rw(r){const e=await Pw(r),t=e.eventManager;return t.onListen=VS.bind(null,e.syncEngine),t.onUnlisten=$S.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=FS.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=BS.bind(null,e.syncEngine),t}function eI(r,e,t={}){const n=new rn;return r.asyncQueue.enqueueAndForget((async()=>(function(l,u,m,p,x){const g=new Aw({next:b=>{g.Za(),u.enqueueAndForget((()=>ww(l,w)));const j=b.docs.has(m);!j&&b.fromCache?x.reject(new ge(re.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&b.fromCache&&p&&p.source==="server"?x.reject(new ge(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):x.resolve(b)},error:b=>x.reject(b)}),w=new _w(yf(m.path),g,{includeMetadataChanges:!0,_a:!0});return bw(l,w)})(await Rw(r),r.asyncQueue,e,t,n))),n.promise}function tI(r,e,t={}){const n=new rn;return r.asyncQueue.enqueueAndForget((async()=>(function(l,u,m,p,x){const g=new Aw({next:b=>{g.Za(),u.enqueueAndForget((()=>ww(l,w))),b.fromCache&&p.source==="server"?x.reject(new ge(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):x.resolve(b)},error:b=>x.reject(b)}),w=new _w(m,g,{includeMetadataChanges:!0,_a:!0});return bw(l,w)})(await Rw(r),r.asyncQueue,e,t,n))),n.promise}function Dw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const Wy=new Map;function Mw(r,e,t){if(!t)throw new ge(re.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function rI(r,e,t,n){if(e===!0&&n===!0)throw new ge(re.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Gy(r){if(!Ne.isDocumentKey(r))throw new ge(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Ky(r){if(Ne.isDocumentKey(r))throw new ge(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Hd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ie()}function ls(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ge(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Hd(r);throw new ge(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}class Qy{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ge(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Dw((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),(function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ge(re.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ge(re.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ge(re.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,a){return n.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wd{constructor(e,t,n,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qy(e),e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new vT;switch(n.type){case"firstParty":return new NT(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ge(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const n=Wy.get(t);n&&(be("ComponentProvider","Removing Datastore"),Wy.delete(t),n.terminate())})(this),Promise.resolve()}}function sI(r,e,t,n={}){var a;const l=(r=ls(r,Wd))._getSettings(),u=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==u&&co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},l),{host:u,ssl:!1})),n.mockUserToken){let m,p;if(typeof n.mockUserToken=="string")m=n.mockUserToken,p=Jt.MOCK_USER;else{m=Vv(n.mockUserToken,(a=r._app)===null||a===void 0?void 0:a.options.projectId);const x=n.mockUserToken.sub||n.mockUserToken.user_id;if(!x)throw new ge(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Jt(x)}r._authCredentials=new bT(new Cb(m,p))}}class aa{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new aa(this.firestore,e,this._query)}}class or{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ei(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new or(this.firestore,e,this._key)}}class ei extends aa{constructor(e,t,n){super(e,t,yf(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new or(this.firestore,null,new Ne(e))}withConverter(e){return new ei(this.firestore,e,this._path)}}function ln(r,e,...t){if(r=ct(r),Mw("collection","path",e),r instanceof Wd){const n=st.fromString(e,...t);return Ky(n),new ei(r,null,n)}{if(!(r instanceof or||r instanceof ei))throw new ge(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(st.fromString(e,...t));return Ky(n),new ei(r.firestore,null,n)}}function Cs(r,e,...t){if(r=ct(r),arguments.length===1&&(e=Ab.newId()),Mw("doc","path",e),r instanceof Wd){const n=st.fromString(e,...t);return Gy(n),new or(r,null,new Ne(n))}{if(!(r instanceof or||r instanceof ei))throw new ge(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(st.fromString(e,...t));return Gy(n),new or(r.firestore,r instanceof ei?r.converter:null,new Ne(n))}}class Yy{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new hw(this,"async_queue_retry"),this.Vu=()=>{const n=Qm();n&&be("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const t=Qm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=Qm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new rn;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!pc(e))throw e;be("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((n=>{this.Eu=n,this.du=!1;const a=(function(u){let m=u.message||"";return u.stack&&(m=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),m})(n);throw an("INTERNAL UNHANDLED ERROR: ",a),n})).then((n=>(this.du=!1,n))))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const a=Af.createAndSchedule(this,e,t,n,(l=>this.yu(l)));return this.Tu.push(a),a}fu(){this.Eu&&Ie()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((t,n)=>t.targetTimeMs-n.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class oa extends Wd{constructor(e,t,n,a){super(e,t,n,a),this.type="firestore",this._queue=new Yy,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Yy(e),this._firestoreClient=void 0,await e}}}function nI(r,e){const t=typeof r=="object"?r:ef(),n=typeof r=="string"?r:"(default)",a=Pd(t,"firestore").getImmediate({identifier:n});if(!a._initialized){const l=Mv("firestore");l&&sI(a,...l)}return a}function Mf(r){if(r._terminated)throw new ge(re.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||iI(r),r._firestoreClient}function iI(r){var e,t,n;const a=r._freezeSettings(),l=(function(m,p,x,g){return new OT(m,p,x,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,Dw(g.experimentalLongPollingOptions),g.useFetchStreams)})(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,a);r._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=a.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),r._firestoreClient=new XS(r._authCredentials,r._appCheckCredentials,r._queue,l,r._componentsProvider&&(function(m){const p=m?._online.build();return{_offline:m?._offline.build(p),_online:p}})(r._componentsProvider))}class go{constructor(e){this._byteString=e}static fromBase64String(e){try{return new go(Ht.fromBase64String(e))}catch(t){throw new ge(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new go(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Gd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Kd{constructor(e){this._methodName=e}}class Of{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}}class Lf{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,a){if(n.length!==a.length)return!1;for(let l=0;l<n.length;++l)if(n[l]!==a[l])return!1;return!0})(this._values,e._values)}}const aI=/^__.*__$/;class oI{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new li(e,this.data,this.fieldMask,t,this.fieldTransforms):new fc(e,this.data,t,this.fieldTransforms)}}class Ow{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new li(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Lw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie()}}class Vf{constructor(e,t,n,a,l,u){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=a,l===void 0&&this.vu(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Vf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.Fu({path:n,xu:!1});return a.Ou(e),a}Nu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.Fu({path:n,xu:!1});return a.vu(),a}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return _d(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Lw(this.Cu)&&aI.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class lI{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Bd(e)}Qu(e,t,n,a=!1){return new Vf({Cu:e,methodName:t,qu:n,path:zt.emptyPath(),xu:!1,ku:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qd(r){const e=r._freezeSettings(),t=Bd(r._databaseId);return new lI(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Vw(r,e,t,n,a,l={}){const u=r.Qu(l.merge||l.mergeFields?2:0,e,t,a);Uf("Data must be an object, but it was:",u,n);const m=Fw(n,u);let p,x;if(l.merge)p=new Sr(u.fieldMask),x=u.fieldTransforms;else if(l.mergeFields){const g=[];for(const w of l.mergeFields){const b=Cp(e,w,t);if(!u.contains(b))throw new ge(re.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);$w(g,b)||g.push(b)}p=new Sr(g),x=u.fieldTransforms.filter((w=>p.covers(w.field)))}else p=null,x=u.fieldTransforms;return new oI(new gr(m),p,x)}class Yd extends Kd{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yd}}class Ff extends Kd{_toFieldTransform(e){return new o4(e.path,new Jl)}isEqual(e){return e instanceof Ff}}function cI(r,e,t,n){const a=r.Qu(1,e,t);Uf("Data must be an object, but it was:",a,n);const l=[],u=gr.empty();na(n,((p,x)=>{const g=$f(e,p,t);x=ct(x);const w=a.Nu(g);if(x instanceof Yd)l.push(g);else{const b=vc(x,w);b!=null&&(l.push(g),u.set(g,b))}}));const m=new Sr(l);return new Ow(u,m,a.fieldTransforms)}function uI(r,e,t,n,a,l){const u=r.Qu(1,e,t),m=[Cp(e,n,t)],p=[a];if(l.length%2!=0)throw new ge(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)m.push(Cp(e,l[b])),p.push(l[b+1]);const x=[],g=gr.empty();for(let b=m.length-1;b>=0;--b)if(!$w(x,m[b])){const j=m[b];let k=p[b];k=ct(k);const M=u.Nu(j);if(k instanceof Yd)x.push(j);else{const D=vc(k,M);D!=null&&(x.push(j),g.set(j,D))}}const w=new Sr(x);return new Ow(g,w,u.fieldTransforms)}function dI(r,e,t,n=!1){return vc(t,r.Qu(n?4:3,e))}function vc(r,e){if(Uw(r=ct(r)))return Uf("Unsupported field value:",e,r),Fw(r,e);if(r instanceof Kd)return(function(n,a){if(!Lw(a.Cu))throw a.Bu(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Bu(`${n._methodName}() is not currently supported inside arrays`);const l=n._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(n,a){const l=[];let u=0;for(const m of n){let p=vc(m,a.Lu(u));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),u++}return{arrayValue:{values:l}}})(r,e)}return(function(n,a){if((n=ct(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return n4(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const l=Tt.fromDate(n);return{timestampValue:vd(a.serializer,l)}}if(n instanceof Tt){const l=new Tt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:vd(a.serializer,l)}}if(n instanceof Of)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof go)return{bytesValue:sw(a.serializer,n._byteString)};if(n instanceof or){const l=a.databaseId,u=n.firestore._databaseId;if(!u.isEqual(l))throw a.Bu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Nf(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof Lf)return(function(u,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw m.Bu("VectorValues must only contain numeric values.");return vf(m.serializer,p)}))}}}}}})(n,a);throw a.Bu(`Unsupported field value: ${Hd(n)}`)})(r,e)}function Fw(r,e){const t={};return Pb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):na(r,((n,a)=>{const l=vc(a,e.Mu(n));l!=null&&(t[n]=l)})),{mapValue:{fields:t}}}function Uw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Tt||r instanceof Of||r instanceof go||r instanceof or||r instanceof Kd||r instanceof Lf)}function Uf(r,e,t){if(!Uw(t)||!(function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)})(t)){const n=Hd(t);throw n==="an object"?e.Bu(r+" a custom object"):e.Bu(r+" "+n)}}function Cp(r,e,t){if((e=ct(e))instanceof Gd)return e._internalPath;if(typeof e=="string")return $f(r,e);throw _d("Field path arguments must be of type string or ",r,!1,void 0,t)}const hI=new RegExp("[~\\*/\\[\\]]");function $f(r,e,t){if(e.search(hI)>=0)throw _d(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Gd(...e.split("."))._internalPath}catch{throw _d(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function _d(r,e,t,n,a){const l=n&&!n.isEmpty(),u=a!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(l||u)&&(p+=" (found",l&&(p+=` in field ${n}`),u&&(p+=` in document ${a}`),p+=")"),new ge(re.INVALID_ARGUMENT,m+r+p)}function $w(r,e){return r.some((t=>t.isEqual(e)))}class Bw{constructor(e,t,n,a,l){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new or(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Xd("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class mI extends Bw{data(){return super.data()}}function Xd(r,e){return typeof e=="string"?$f(r,e):e instanceof Gd?e._internalPath:e._delegate._internalPath}function pI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ge(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bf{}class zw extends Bf{}function zf(r,e,...t){let n=[];e instanceof Bf&&n.push(e),n=n.concat(t),(function(l){const u=l.filter((p=>p instanceof qf)).length,m=l.filter((p=>p instanceof Jd)).length;if(u>1||u>0&&m>0)throw new ge(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const a of n)r=a._apply(r);return r}class Jd extends zw{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Jd(e,t,n)}_apply(e){const t=this._parse(e);return Hw(e._query,t),new aa(e.firestore,e.converter,bp(e._query,t))}_parse(e){const t=Qd(e.firestore);return(function(l,u,m,p,x,g,w){let b;if(x.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new ge(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){Jy(w,g);const j=[];for(const k of w)j.push(Xy(p,l,k));b={arrayValue:{values:j}}}else b=Xy(p,l,w)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||Jy(w,g),b=dI(m,u,w,g==="in"||g==="not-in");return wt.create(x,g,b)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function fI(r,e,t){const n=e,a=Xd("where",r);return Jd._create(a,n,t)}class qf extends Bf{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new qf(e,t)}_parse(e){const t=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return t.length===1?t[0]:os.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let u=a;const m=l.getFlattenedFilters();for(const p of m)Hw(u,p),u=bp(u,p)})(e._query,t),new aa(e.firestore,e.converter,bp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Hf extends zw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Hf(e,t)}_apply(e){const t=(function(a,l,u){if(a.startAt!==null)throw new ge(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ge(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xl(l,u)})(e._query,this._field,this._direction);return new aa(e.firestore,e.converter,(function(a,l){const u=a.explicitOrderBy.concat([l]);return new No(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,t))}}function qw(r,e="asc"){const t=e,n=Xd("orderBy",r);return Hf._create(n,t)}function Xy(r,e,t){if(typeof(t=ct(t))=="string"){if(t==="")throw new ge(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$b(e)&&t.indexOf("/")!==-1)throw new ge(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(st.fromString(t));if(!Ne.isDocumentKey(n))throw new ge(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return vy(r,new Ne(n))}if(t instanceof or)return vy(r,t._key);throw new ge(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hd(t)}.`)}function Jy(r,e){if(!Array.isArray(r)||r.length===0)throw new ge(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Hw(r,e){const t=(function(a,l){for(const u of a)for(const m of u.getFlattenedFilters())if(l.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ge(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class gI{convertValue(e,t="none"){switch(Ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return na(e,((a,l)=>{n[a]=this.convertValue(l,t)})),n}convertVectorValue(e){var t,n,a;const l=(a=(n=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||n===void 0?void 0:n.values)===null||a===void 0?void 0:a.map((u=>gt(u.doubleValue)));return new Lf(l)}convertGeoPoint(e){return new Of(gt(e.latitude),gt(e.longitude))}convertArray(e,t){return(e.values||[]).map((n=>this.convertValue(n,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=pf(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Kl(e));default:return null}}convertTimestamp(e){const t=si(e);return new Tt(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=st.fromString(e);Ge(cw(n));const a=new Ql(n.get(1),n.get(3)),l=new Ne(n.popFirst(5));return a.isEqual(t)||an(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function Ww(r,e,t){let n;return n=r?r.toFirestore(e):e,n}class Dl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gw extends Bw{constructor(e,t,n,a,l,u){super(e,t,n,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new sd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Xd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class sd extends Gw{data(e={}){return super.data(e)}}class xI{constructor(e,t,n,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Dl(a.hasPendingWrites,a.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new sd(this._firestore,this._userDataWriter,n.key,n,new Dl(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((m=>{const p=new sd(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Dl(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((m=>l||m.type!==3)).map((m=>{const p=new sd(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Dl(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let x=-1,g=-1;return m.type!==0&&(x=u.indexOf(m.doc.key),u=u.delete(m.doc.key)),m.type!==1&&(u=u.add(m.doc),g=u.indexOf(m.doc.key)),{type:yI(m.type),doc:p,oldIndex:x,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function yI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie()}}function Kw(r){r=ls(r,or);const e=ls(r.firestore,oa);return eI(Mf(e),r._key).then((t=>bI(e,r,t)))}class Qw extends gI{constructor(e){super(),this.firestore=e}convertBytes(e){return new go(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new or(this.firestore,null,t)}}function ko(r){r=ls(r,aa);const e=ls(r.firestore,oa),t=Mf(e),n=new Qw(e);return pI(r._query),tI(t,r._query).then((a=>new xI(e,n,r,a)))}function vI(r,e,t){r=ls(r,or);const n=ls(r.firestore,oa),a=Ww(r.converter,e);return Zd(n,[Vw(Qd(n),"setDoc",r._key,a,r.converter!==null,t).toMutation(r._key,Br.none())])}function Wf(r,e,t,...n){r=ls(r,or);const a=ls(r.firestore,oa),l=Qd(a);let u;return u=typeof(e=ct(e))=="string"||e instanceof Gd?uI(l,"updateDoc",r._key,e,t,n):cI(l,"updateDoc",r._key,e),Zd(a,[u.toMutation(r._key,Br.exists(!0))])}function Gf(r){return Zd(ls(r.firestore,oa),[new bf(r._key,Br.none())])}function Kf(r,e){const t=ls(r.firestore,oa),n=Cs(r),a=Ww(r.converter,e);return Zd(t,[Vw(Qd(r.firestore),"addDoc",n._key,a,r.converter!==null,{}).toMutation(n._key,Br.exists(!1))]).then((()=>n))}function Zd(r,e){return(function(n,a){const l=new rn;return n.asyncQueue.enqueueAndForget((async()=>zS(await ZS(n),a,l))),l.promise})(Mf(r),e)}function bI(r,e,t){const n=t.docs.get(e._key),a=new Qw(r);return new Gw(r,a,e._key,n,new Dl(t.hasPendingWrites,t.fromCache),e.converter)}function Ap(){return new Ff("serverTimestamp")}(function(e,t=!0){(function(a){_o=a})(sa),Gi(new ti("firestore",((n,{instanceIdentifier:a,options:l})=>{const u=n.getProvider("app").getImmediate(),m=new oa(new wT(n.getProvider("auth-internal")),new ET(n.getProvider("app-check-internal")),(function(x,g){if(!Object.prototype.hasOwnProperty.apply(x.options,["projectId"]))throw new ge(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ql(x.options.projectId,g)})(u,a),u);return l=Object.assign({useFetchStreams:t},l),m._setSettings(l),m}),"PUBLIC").setMultipleInstances(!0)),js(py,"4.7.3",e),js(py,"4.7.3","esm2017")})();const Yw="firebasestorage.googleapis.com",Xw="storageBucket",wI=120*1e3,_I=600*1e3;class mt extends Ps{constructor(e,t,n=0){super(Xm(e),`Firebase Storage: ${t} (${Xm(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Xm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ht;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ht||(ht={}));function Xm(r){return"storage/"+r}function Qf(){const r="An unknown error occurred, please check the error payload for server response.";return new mt(ht.UNKNOWN,r)}function NI(r){return new mt(ht.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function jI(r){return new mt(ht.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function EI(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new mt(ht.UNAUTHENTICATED,r)}function kI(){return new mt(ht.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function TI(r){return new mt(ht.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function SI(){return new mt(ht.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function II(){return new mt(ht.CANCELED,"User canceled the upload/download.")}function CI(r){return new mt(ht.INVALID_URL,"Invalid URL '"+r+"'.")}function AI(r){return new mt(ht.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function PI(){return new mt(ht.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Xw+"' property when initializing the app?")}function RI(){return new mt(ht.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function DI(){return new mt(ht.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function MI(r){return new mt(ht.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Pp(r){return new mt(ht.INVALID_ARGUMENT,r)}function Jw(){return new mt(ht.APP_DELETED,"The Firebase app was deleted.")}function OI(r){return new mt(ht.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ul(r,e){return new mt(ht.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function Tl(r){throw new mt(ht.INTERNAL_ERROR,"Internal error: "+r)}class Ir{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Ir.makeFromUrl(e,t)}catch{return new Ir(e,"")}if(n.path==="")return n;throw AI(e)}static makeFromUrl(e,t){let n=null;const a="([A-Za-z0-9.\\-_]+)";function l($){$.path.charAt($.path.length-1)==="/"&&($.path_=$.path_.slice(0,-1))}const u="(/(.*))?$",m=new RegExp("^gs://"+a+u,"i"),p={bucket:1,path:3};function x($){$.path_=decodeURIComponent($.path)}const g="v[A-Za-z0-9_]+",w=t.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",j=new RegExp(`^https?://${w}/${g}/b/${a}/o${b}`,"i"),k={bucket:1,path:3},M=t===Yw?"(?:storage.googleapis.com|storage.cloud.google.com)":t,D="([^?#]*)",ee=new RegExp(`^https?://${M}/${a}/${D}`,"i"),Z=[{regex:m,indices:p,postModify:l},{regex:j,indices:k,postModify:x},{regex:ee,indices:{bucket:1,path:2},postModify:x}];for(let $=0;$<Z.length;$++){const G=Z[$],se=G.regex.exec(e);if(se){const L=se[G.indices.bucket];let R=se[G.indices.path];R||(R=""),n=new Ir(L,R),G.postModify(n);break}}if(n==null)throw CI(e);return n}}class LI{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function VI(r,e,t){let n=1,a=null,l=null,u=!1,m=0;function p(){return m===2}let x=!1;function g(...D){x||(x=!0,e.apply(null,D))}function w(D){a=setTimeout(()=>{a=null,r(j,p())},D)}function b(){l&&clearTimeout(l)}function j(D,...ee){if(x){b();return}if(D){b(),g.call(null,D,...ee);return}if(p()||u){b(),g.call(null,D,...ee);return}n<64&&(n*=2);let Z;m===1?(m=2,Z=0):Z=(n+Math.random())*1e3,w(Z)}let k=!1;function M(D){k||(k=!0,b(),!x&&(a!==null?(D||(m=2),clearTimeout(a),w(0)):D||(m=1)))}return w(0),l=setTimeout(()=>{u=!0,M(!0)},t),M}function FI(r){r(!1)}function UI(r){return r!==void 0}function $I(r){return typeof r=="object"&&!Array.isArray(r)}function Yf(r){return typeof r=="string"||r instanceof String}function Zy(r){return Xf()&&r instanceof Blob}function Xf(){return typeof Blob<"u"}function ev(r,e,t,n){if(n<e)throw Pp(`Invalid value for '${r}'. Expected ${e} or greater.`);if(n>t)throw Pp(`Invalid value for '${r}'. Expected ${t} or less.`)}function eh(r,e,t){let n=e;return t==null&&(n=`https://${e}`),`${t}://${n}/v0${r}`}function Zw(r){const e=encodeURIComponent;let t="?";for(const n in r)if(r.hasOwnProperty(n)){const a=e(n)+"="+e(r[n]);t=t+a+"&"}return t=t.slice(0,-1),t}var Hi;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Hi||(Hi={}));function BI(r,e){const t=r>=500&&r<600,a=[408,429].indexOf(r)!==-1,l=e.indexOf(r)!==-1;return t||a||l}class zI{constructor(e,t,n,a,l,u,m,p,x,g,w,b=!0){this.url_=e,this.method_=t,this.headers_=n,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=m,this.errorCallback_=p,this.timeout_=x,this.progressCallback_=g,this.connectionFactory_=w,this.retry=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((j,k)=>{this.resolve_=j,this.reject_=k,this.start_()})}start_(){const e=(n,a)=>{if(a){n(!1,new Hu(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=m=>{const p=m.loaded,x=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,x)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const m=l.getErrorCode()===Hi.NO_ERROR,p=l.getStatus();if(!m||BI(p,this.additionalRetryCodes_)&&this.retry){const g=l.getErrorCode()===Hi.ABORT;n(!1,new Hu(!1,null,g));return}const x=this.successCodes_.indexOf(p)!==-1;n(!0,new Hu(x,l))})},t=(n,a)=>{const l=this.resolve_,u=this.reject_,m=a.connection;if(a.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());UI(p)?l(p):l()}catch(p){u(p)}else if(m!==null){const p=Qf();p.serverResponse=m.getErrorText(),this.errorCallback_?u(this.errorCallback_(m,p)):u(p)}else if(a.canceled){const p=this.appDelete_?Jw():II();u(p)}else{const p=SI();u(p)}};this.canceled_?t(!1,new Hu(!1,null,!0)):this.backoffId_=VI(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&FI(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Hu{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function qI(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function HI(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function WI(r,e){e&&(r["X-Firebase-GMPID"]=e)}function GI(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function KI(r,e,t,n,a,l,u=!0){const m=Zw(r.urlParams),p=r.url+m,x=Object.assign({},r.headers);return WI(x,e),qI(x,t),HI(x,l),GI(x,n),new zI(p,r.method,x,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,a,u)}function QI(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function YI(...r){const e=QI();if(e!==void 0){const t=new e;for(let n=0;n<r.length;n++)t.append(r[n]);return t.getBlob()}else{if(Xf())return new Blob(r);throw new mt(ht.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function XI(r,e,t){return r.webkitSlice?r.webkitSlice(e,t):r.mozSlice?r.mozSlice(e,t):r.slice?r.slice(e,t):null}function JI(r){if(typeof atob>"u")throw MI("base-64");return atob(r)}const ws={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Jm{constructor(e,t){this.data=e,this.contentType=t||null}}function ZI(r,e){switch(r){case ws.RAW:return new Jm(e_(e));case ws.BASE64:case ws.BASE64URL:return new Jm(t_(r,e));case ws.DATA_URL:return new Jm(tC(e),rC(e))}throw Qf()}function e_(r){const e=[];for(let t=0;t<r.length;t++){let n=r.charCodeAt(t);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(t<r.length-1&&(r.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=n,u=r.charCodeAt(++t);n=65536|(l&1023)<<10|u&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function eC(r){let e;try{e=decodeURIComponent(r)}catch{throw Ul(ws.DATA_URL,"Malformed data URL.")}return e_(e)}function t_(r,e){switch(r){case ws.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw Ul(r,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case ws.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw Ul(r,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=JI(e)}catch(a){throw a.message.includes("polyfill")?a:Ul(r,"Invalid character found")}const n=new Uint8Array(t.length);for(let a=0;a<t.length;a++)n[a]=t.charCodeAt(a);return n}class r_{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Ul(ws.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;n!=null&&(this.base64=sC(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function tC(r){const e=new r_(r);return e.base64?t_(ws.BASE64,e.rest):eC(e.rest)}function rC(r){return new r_(r).contentType}function sC(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}class Wn{constructor(e,t){let n=0,a="";Zy(e)?(this.data_=e,n=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(Zy(this.data_)){const n=this.data_,a=XI(n,e,t);return a===null?null:new Wn(a)}else{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Wn(n,!0)}}static getBlob(...e){if(Xf()){const t=e.map(n=>n instanceof Wn?n.data_:n);return new Wn(YI.apply(null,t))}else{const t=e.map(u=>Yf(u)?ZI(ws.RAW,u).data:u.data_);let n=0;t.forEach(u=>{n+=u.byteLength});const a=new Uint8Array(n);let l=0;return t.forEach(u=>{for(let m=0;m<u.length;m++)a[l++]=u[m]}),new Wn(a,!0)}}uploadData(){return this.data_}}function s_(r){let e;try{e=JSON.parse(r)}catch{return null}return $I(e)?e:null}function nC(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function iC(r,e){const t=e.split("/").filter(n=>n.length>0).join("/");return r.length===0?t:r+"/"+t}function n_(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}function aC(r,e){return e}class ar{constructor(e,t,n,a){this.server=e,this.local=t||e,this.writable=!!n,this.xform=a||aC}}let Wu=null;function oC(r){return!Yf(r)||r.length<2?r:n_(r)}function i_(){if(Wu)return Wu;const r=[];r.push(new ar("bucket")),r.push(new ar("generation")),r.push(new ar("metageneration")),r.push(new ar("name","fullPath",!0));function e(l,u){return oC(u)}const t=new ar("name");t.xform=e,r.push(t);function n(l,u){return u!==void 0?Number(u):u}const a=new ar("size");return a.xform=n,r.push(a),r.push(new ar("timeCreated")),r.push(new ar("updated")),r.push(new ar("md5Hash",null,!0)),r.push(new ar("cacheControl",null,!0)),r.push(new ar("contentDisposition",null,!0)),r.push(new ar("contentEncoding",null,!0)),r.push(new ar("contentLanguage",null,!0)),r.push(new ar("contentType",null,!0)),r.push(new ar("metadata","customMetadata",!0)),Wu=r,Wu}function lC(r,e){function t(){const n=r.bucket,a=r.fullPath,l=new Ir(n,a);return e._makeStorageReference(l)}Object.defineProperty(r,"ref",{get:t})}function cC(r,e,t){const n={};n.type="file";const a=t.length;for(let l=0;l<a;l++){const u=t[l];n[u.local]=u.xform(n,e[u.server])}return lC(n,r),n}function a_(r,e,t){const n=s_(e);return n===null?null:cC(r,n,t)}function uC(r,e,t,n){const a=s_(e);if(a===null||!Yf(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const u=encodeURIComponent;return l.split(",").map(x=>{const g=r.bucket,w=r.fullPath,b="/b/"+u(g)+"/o/"+u(w),j=eh(b,t,n),k=Zw({alt:"media",token:x});return j+k})[0]}function dC(r,e){const t={},n=e.length;for(let a=0;a<n;a++){const l=e[a];l.writable&&(t[l.server]=r[l.local])}return JSON.stringify(t)}class Jf{constructor(e,t,n,a){this.url=e,this.method=t,this.handler=n,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function o_(r){if(!r)throw Qf()}function hC(r,e){function t(n,a){const l=a_(r,a,e);return o_(l!==null),l}return t}function mC(r,e){function t(n,a){const l=a_(r,a,e);return o_(l!==null),uC(l,a,r.host,r._protocol)}return t}function l_(r){function e(t,n){let a;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?a=kI():a=EI():t.getStatus()===402?a=jI(r.bucket):t.getStatus()===403?a=TI(r.path):a=n,a.status=t.getStatus(),a.serverResponse=n.serverResponse,a}return e}function c_(r){const e=l_(r);function t(n,a){let l=e(n,a);return n.getStatus()===404&&(l=NI(r.path)),l.serverResponse=a.serverResponse,l}return t}function pC(r,e,t){const n=e.fullServerUrl(),a=eh(n,r.host,r._protocol),l="GET",u=r.maxOperationRetryTime,m=new Jf(a,l,mC(r,t),u);return m.errorHandler=c_(e),m}function fC(r,e){const t=e.fullServerUrl(),n=eh(t,r.host,r._protocol),a="DELETE",l=r.maxOperationRetryTime;function u(p,x){}const m=new Jf(n,a,u,l);return m.successCodes=[200,204],m.errorHandler=c_(e),m}function gC(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function xC(r,e,t){const n=Object.assign({},t);return n.fullPath=r.path,n.size=e.size(),n.contentType||(n.contentType=gC(null,e)),n}function yC(r,e,t,n,a){const l=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function m(){let Z="";for(let $=0;$<2;$++)Z=Z+Math.random().toString().slice(2);return Z}const p=m();u["Content-Type"]="multipart/related; boundary="+p;const x=xC(e,n,a),g=dC(x,t),w="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+p+`\r
Content-Type: `+x.contentType+`\r
\r
`,b=`\r
--`+p+"--",j=Wn.getBlob(w,n,b);if(j===null)throw RI();const k={name:x.fullPath},M=eh(l,r.host,r._protocol),D="POST",ee=r.maxUploadRetryTime,K=new Jf(M,D,hC(r,t),ee);return K.urlParams=k,K.headers=u,K.body=j.uploadData(),K.errorHandler=l_(e),K}class vC{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Hi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Hi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Hi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,a){if(this.sent_)throw Tl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Tl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Tl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Tl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Tl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class bC extends vC{initXhr(){this.xhr_.responseType="text"}}function Zf(){return new bC}class Zi{constructor(e,t){this._service=e,t instanceof Ir?this._location=t:this._location=Ir.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Zi(e,t)}get root(){const e=new Ir(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return n_(this._location.path)}get storage(){return this._service}get parent(){const e=nC(this._location.path);if(e===null)return null;const t=new Ir(this._location.bucket,e);return new Zi(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw OI(e)}}function wC(r,e,t){r._throwIfRoot("uploadBytes");const n=yC(r.storage,r._location,i_(),new Wn(e,!0),t);return r.storage.makeRequestWithTokens(n,Zf).then(a=>({metadata:a,ref:r}))}function _C(r){r._throwIfRoot("getDownloadURL");const e=pC(r.storage,r._location,i_());return r.storage.makeRequestWithTokens(e,Zf).then(t=>{if(t===null)throw DI();return t})}function NC(r){r._throwIfRoot("deleteObject");const e=fC(r.storage,r._location);return r.storage.makeRequestWithTokens(e,Zf)}function jC(r,e){const t=iC(r._location.path,e),n=new Ir(r._location.bucket,t);return new Zi(r.storage,n)}function EC(r){return/^[A-Za-z]+:\/\//.test(r)}function kC(r,e){return new Zi(r,e)}function u_(r,e){if(r instanceof eg){const t=r;if(t._bucket==null)throw PI();const n=new Zi(t,t._bucket);return e!=null?u_(n,e):n}else return e!==void 0?jC(r,e):r}function TC(r,e){if(e&&EC(e)){if(r instanceof eg)return kC(r,e);throw Pp("To use ref(service, url), the first argument must be a Storage instance.")}else return u_(r,e)}function tv(r,e){const t=e?.[Xw];return t==null?null:Ir.makeFromBucketSpec(t,r)}function SC(r,e,t,n={}){r.host=`${e}:${t}`,r._protocol="http";const{mockUserToken:a}=n;a&&(r._overrideAuthToken=typeof a=="string"?a:Vv(a,r.app.options.projectId))}class eg{constructor(e,t,n,a,l){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=a,this._firebaseVersion=l,this._bucket=null,this._host=Yw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=wI,this._maxUploadRetryTime=_I,this._requests=new Set,a!=null?this._bucket=Ir.makeFromBucketSpec(a,this._host):this._bucket=tv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ir.makeFromBucketSpec(this._url,e):this._bucket=tv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ev("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ev("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Zi(this,e)}_makeRequest(e,t,n,a,l=!0){if(this._deleted)return new LI(Jw());{const u=KI(e,this._appId,n,a,t,this._firebaseVersion,l);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[n,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,a).getPromise()}}const rv="@firebase/storage",sv="0.13.2";const d_="storage";function tg(r,e,t){return r=ct(r),wC(r,e,t)}function rg(r){return r=ct(r),_C(r)}function h_(r){return r=ct(r),NC(r)}function tc(r,e){return r=ct(r),TC(r,e)}function IC(r=ef(),e){r=ct(r);const n=Pd(r,d_).getImmediate({identifier:e}),a=Mv("storage");return a&&CC(n,...a),n}function CC(r,e,t,n={}){SC(r,e,t,n)}function AC(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),n=r.getProvider("auth-internal"),a=r.getProvider("app-check-internal");return new eg(t,n,a,e,sa)}function PC(){Gi(new ti(d_,AC,"PUBLIC").setMultipleInstances(!0)),js(rv,sv,""),js(rv,sv,"esm2017")}PC();const RC={apiKey:"AIzaSyDFqig-6NozL6ALQh5klX15D-XIWIF8bnQ",authDomain:"batistaglobalservice.firebaseapp.com",projectId:"batistaglobalservice",storageBucket:"batistaglobalservice.firebasestorage.app",messagingSenderId:"374616009302",appId:"1:374616009302:web:79c76aa87515444e3969f7"},sg=$v(RC),$i=fT(sg),Dt=nI(sg),rc=IC(sg);$i.languageCode="es";let DC={data:""},MC=r=>{if(typeof window=="object"){let e=(r?r.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(r||document.head).appendChild(e),e.firstChild}return r||DC},OC=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,LC=/\/\*[^]*?\*\/|  +/g,nv=/\n+/g,Gn=(r,e)=>{let t="",n="",a="";for(let l in r){let u=r[l];l[0]=="@"?l[1]=="i"?t=l+" "+u+";":n+=l[1]=="f"?Gn(u,l):l+"{"+Gn(u,l[1]=="k"?"":e)+"}":typeof u=="object"?n+=Gn(u,e?e.replace(/([^,])+/g,m=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,m):m?m+" "+p:p)):l):u!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Gn.p?Gn.p(l,u):l+":"+u+";")}return t+(e&&a?e+"{"+a+"}":a)+n},Xs={},m_=r=>{if(typeof r=="object"){let e="";for(let t in r)e+=t+m_(r[t]);return e}return r},VC=(r,e,t,n,a)=>{let l=m_(r),u=Xs[l]||(Xs[l]=(p=>{let x=0,g=11;for(;x<p.length;)g=101*g+p.charCodeAt(x++)>>>0;return"go"+g})(l));if(!Xs[u]){let p=l!==r?r:(x=>{let g,w,b=[{}];for(;g=OC.exec(x.replace(LC,""));)g[4]?b.shift():g[3]?(w=g[3].replace(nv," ").trim(),b.unshift(b[0][w]=b[0][w]||{})):b[0][g[1]]=g[2].replace(nv," ").trim();return b[0]})(r);Xs[u]=Gn(a?{["@keyframes "+u]:p}:p,t?"":"."+u)}let m=t&&Xs.g?Xs.g:null;return t&&(Xs.g=Xs[u]),((p,x,g,w)=>{w?x.data=x.data.replace(w,p):x.data.indexOf(p)===-1&&(x.data=g?p+x.data:x.data+p)})(Xs[u],e,n,m),u},FC=(r,e,t)=>r.reduce((n,a,l)=>{let u=e[l];if(u&&u.call){let m=u(t),p=m&&m.props&&m.props.className||/^go/.test(m)&&m;u=p?"."+p:m&&typeof m=="object"?m.props?"":Gn(m,""):m===!1?"":m}return n+a+(u??"")},"");function th(r){let e=this||{},t=r.call?r(e.p):r;return VC(t.unshift?t.raw?FC(t,[].slice.call(arguments,1),e.p):t.reduce((n,a)=>Object.assign(n,a&&a.call?a(e.p):a),{}):t,MC(e.target),e.g,e.o,e.k)}let p_,Rp,Dp;th.bind({g:1});let cn=th.bind({k:1});function UC(r,e,t,n){Gn.p=e,p_=r,Rp=t,Dp=n}function ci(r,e){let t=this||{};return function(){let n=arguments;function a(l,u){let m=Object.assign({},l),p=m.className||a.className;t.p=Object.assign({theme:Rp&&Rp()},m),t.o=/ *go\d+/.test(p),m.className=th.apply(t,n)+(p?" "+p:"");let x=r;return r[0]&&(x=m.as||r,delete m.as),Dp&&x[0]&&Dp(m),p_(x,m)}return a}}var $C=r=>typeof r=="function",Nd=(r,e)=>$C(r)?r(e):r,BC=(()=>{let r=0;return()=>(++r).toString()})(),f_=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");r=!e||e.matches}return r}})(),zC=20,ng="default",g_=(r,e)=>{let{toastLimit:t}=r.settings;switch(e.type){case 0:return{...r,toasts:[e.toast,...r.toasts].slice(0,t)};case 1:return{...r,toasts:r.toasts.map(u=>u.id===e.toast.id?{...u,...e.toast}:u)};case 2:let{toast:n}=e;return g_(r,{type:r.toasts.find(u=>u.id===n.id)?1:0,toast:n});case 3:let{toastId:a}=e;return{...r,toasts:r.toasts.map(u=>u.id===a||a===void 0?{...u,dismissed:!0,visible:!1}:u)};case 4:return e.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(u=>u.id!==e.toastId)};case 5:return{...r,pausedAt:e.time};case 6:let l=e.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(u=>({...u,pauseDuration:u.pauseDuration+l}))}}},nd=[],x_={toasts:[],pausedAt:void 0,settings:{toastLimit:zC}},_s={},y_=(r,e=ng)=>{_s[e]=g_(_s[e]||x_,r),nd.forEach(([t,n])=>{t===e&&n(_s[e])})},v_=r=>Object.keys(_s).forEach(e=>y_(r,e)),qC=r=>Object.keys(_s).find(e=>_s[e].toasts.some(t=>t.id===r)),rh=(r=ng)=>e=>{y_(e,r)},HC={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},WC=(r={},e=ng)=>{let[t,n]=P.useState(_s[e]||x_),a=P.useRef(_s[e]);P.useEffect(()=>(a.current!==_s[e]&&n(_s[e]),nd.push([e,n]),()=>{let u=nd.findIndex(([m])=>m===e);u>-1&&nd.splice(u,1)}),[e]);let l=t.toasts.map(u=>{var m,p,x;return{...r,...r[u.type],...u,removeDelay:u.removeDelay||((m=r[u.type])==null?void 0:m.removeDelay)||r?.removeDelay,duration:u.duration||((p=r[u.type])==null?void 0:p.duration)||r?.duration||HC[u.type],style:{...r.style,...(x=r[u.type])==null?void 0:x.style,...u.style}}});return{...t,toasts:l}},GC=(r,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...t,id:t?.id||BC()}),bc=r=>(e,t)=>{let n=GC(e,r,t);return rh(n.toasterId||qC(n.id))({type:2,toast:n}),n.id},pe=(r,e)=>bc("blank")(r,e);pe.error=bc("error");pe.success=bc("success");pe.loading=bc("loading");pe.custom=bc("custom");pe.dismiss=(r,e)=>{let t={type:3,toastId:r};e?rh(e)(t):v_(t)};pe.dismissAll=r=>pe.dismiss(void 0,r);pe.remove=(r,e)=>{let t={type:4,toastId:r};e?rh(e)(t):v_(t)};pe.removeAll=r=>pe.remove(void 0,r);pe.promise=(r,e,t)=>{let n=pe.loading(e.loading,{...t,...t?.loading});return typeof r=="function"&&(r=r()),r.then(a=>{let l=e.success?Nd(e.success,a):void 0;return l?pe.success(l,{id:n,...t,...t?.success}):pe.dismiss(n),a}).catch(a=>{let l=e.error?Nd(e.error,a):void 0;l?pe.error(l,{id:n,...t,...t?.error}):pe.dismiss(n)}),r};var KC=1e3,QC=(r,e="default")=>{let{toasts:t,pausedAt:n}=WC(r,e),a=P.useRef(new Map).current,l=P.useCallback((w,b=KC)=>{if(a.has(w))return;let j=setTimeout(()=>{a.delete(w),u({type:4,toastId:w})},b);a.set(w,j)},[]);P.useEffect(()=>{if(n)return;let w=Date.now(),b=t.map(j=>{if(j.duration===1/0)return;let k=(j.duration||0)+j.pauseDuration-(w-j.createdAt);if(k<0){j.visible&&pe.dismiss(j.id);return}return setTimeout(()=>pe.dismiss(j.id,e),k)});return()=>{b.forEach(j=>j&&clearTimeout(j))}},[t,n,e]);let u=P.useCallback(rh(e),[e]),m=P.useCallback(()=>{u({type:5,time:Date.now()})},[u]),p=P.useCallback((w,b)=>{u({type:1,toast:{id:w,height:b}})},[u]),x=P.useCallback(()=>{n&&u({type:6,time:Date.now()})},[n,u]),g=P.useCallback((w,b)=>{let{reverseOrder:j=!1,gutter:k=8,defaultPosition:M}=b||{},D=t.filter(Z=>(Z.position||M)===(w.position||M)&&Z.height),ee=D.findIndex(Z=>Z.id===w.id),K=D.filter((Z,$)=>$<ee&&Z.visible).length;return D.filter(Z=>Z.visible).slice(...j?[K+1]:[0,K]).reduce((Z,$)=>Z+($.height||0)+k,0)},[t]);return P.useEffect(()=>{t.forEach(w=>{if(w.dismissed)l(w.id,w.removeDelay);else{let b=a.get(w.id);b&&(clearTimeout(b),a.delete(w.id))}})},[t,l]),{toasts:t,handlers:{updateHeight:p,startPause:m,endPause:x,calculateOffset:g}}},YC=cn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,XC=cn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,JC=cn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,ZC=ci("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${YC} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${XC} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${JC} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,eA=cn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,tA=ci("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${eA} 1s linear infinite;
`,rA=cn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,sA=cn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,nA=ci("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${rA} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${sA} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,iA=ci("div")`
  position: absolute;
`,aA=ci("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,oA=cn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,lA=ci("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${oA} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,cA=({toast:r})=>{let{icon:e,type:t,iconTheme:n}=r;return e!==void 0?typeof e=="string"?P.createElement(lA,null,e):e:t==="blank"?null:P.createElement(aA,null,P.createElement(tA,{...n}),t!=="loading"&&P.createElement(iA,null,t==="error"?P.createElement(ZC,{...n}):P.createElement(nA,{...n})))},uA=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,dA=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,hA="0%{opacity:0;} 100%{opacity:1;}",mA="0%{opacity:1;} 100%{opacity:0;}",pA=ci("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,fA=ci("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,gA=(r,e)=>{let t=r.includes("top")?1:-1,[n,a]=f_()?[hA,mA]:[uA(t),dA(t)];return{animation:e?`${cn(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${cn(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},xA=P.memo(({toast:r,position:e,style:t,children:n})=>{let a=r.height?gA(r.position||e||"top-center",r.visible):{opacity:0},l=P.createElement(cA,{toast:r}),u=P.createElement(fA,{...r.ariaProps},Nd(r.message,r));return P.createElement(pA,{className:r.className,style:{...a,...t,...r.style}},typeof n=="function"?n({icon:l,message:u}):P.createElement(P.Fragment,null,l,u))});UC(P.createElement);var yA=({id:r,className:e,style:t,onHeightUpdate:n,children:a})=>{let l=P.useCallback(u=>{if(u){let m=()=>{let p=u.getBoundingClientRect().height;n(r,p)};m(),new MutationObserver(m).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[r,n]);return P.createElement("div",{ref:l,className:e,style:t},a)},vA=(r,e)=>{let t=r.includes("top"),n=t?{top:0}:{bottom:0},a=r.includes("center")?{justifyContent:"center"}:r.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:f_()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...n,...a}},bA=th`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Gu=16,wA=({reverseOrder:r,position:e="top-center",toastOptions:t,gutter:n,children:a,toasterId:l,containerStyle:u,containerClassName:m})=>{let{toasts:p,handlers:x}=QC(t,l);return P.createElement("div",{"data-rht-toaster":l||"",style:{position:"fixed",zIndex:9999,top:Gu,left:Gu,right:Gu,bottom:Gu,pointerEvents:"none",...u},className:m,onMouseEnter:x.startPause,onMouseLeave:x.endPause},p.map(g=>{let w=g.position||e,b=x.calculateOffset(g,{reverseOrder:r,gutter:n,defaultPosition:e}),j=vA(w,b);return P.createElement(yA,{id:g.id,key:g.id,onHeightUpdate:x.updateHeight,className:g.visible?bA:"",style:j},g.type==="custom"?Nd(g.message,g):a?a(g):P.createElement(xA,{toast:g,position:w}))}))};class wc{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const _A=()=>{if(!(typeof localStorage>"u"))return{get:r=>Promise.resolve(localStorage.getItem(r)),set:(r,e)=>Promise.resolve(localStorage.setItem(r,e)),remove:r=>Promise.resolve(localStorage.removeItem(r))}},Bt={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:_A()},ig=r=>r?typeof r=="string"?{publicKey:r}:r.toString()==="[object Object]"?r:{}:{},NA=(r,e="https://api.emailjs.com")=>{if(!r)return;const t=ig(r);Bt.publicKey=t.publicKey,Bt.blockHeadless=t.blockHeadless,Bt.storageProvider=t.storageProvider,Bt.blockList=t.blockList,Bt.limitRate=t.limitRate,Bt.origin=t.origin||e},b_=async(r,e,t={})=>{const n=await fetch(Bt.origin+r,{method:"POST",headers:t,body:e}),a=await n.text(),l=new wc(n.status,a);if(n.ok)return l;throw l},w_=(r,e,t)=>{if(!r||typeof r!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},jA=r=>{if(r&&r.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},__=r=>r.webdriver||!r.languages||r.languages.length===0,N_=()=>new wc(451,"Unavailable For Headless Browser"),EA=(r,e)=>{if(!Array.isArray(r))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},kA=r=>!r.list?.length||!r.watchVariable,TA=(r,e)=>r instanceof FormData?r.get(e):r[e],j_=(r,e)=>{if(kA(r))return!1;EA(r.list,r.watchVariable);const t=TA(e,r.watchVariable);return typeof t!="string"?!1:r.list.includes(t)},E_=()=>new wc(403,"Forbidden"),SA=(r,e)=>{if(typeof r!="number"||r<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},IA=async(r,e,t)=>{const n=Number(await t.get(r)||0);return e-Date.now()+n},k_=async(r,e,t)=>{if(!e.throttle||!t)return!1;SA(e.throttle,e.id);const n=e.id||r;return await IA(n,e.throttle,t)>0?!0:(await t.set(n,Date.now().toString()),!1)},T_=()=>new wc(429,"Too Many Requests"),CA=async(r,e,t,n)=>{const a=ig(n),l=a.publicKey||Bt.publicKey,u=a.blockHeadless||Bt.blockHeadless,m=a.storageProvider||Bt.storageProvider,p={...Bt.blockList,...a.blockList},x={...Bt.limitRate,...a.limitRate};return u&&__(navigator)?Promise.reject(N_()):(w_(l,r,e),jA(t),t&&j_(p,t)?Promise.reject(E_()):await k_(location.pathname,x,m)?Promise.reject(T_()):b_("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:l,service_id:r,template_id:e,template_params:t}),{"Content-type":"application/json"}))},AA=r=>{if(!r||r.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},PA=r=>typeof r=="string"?document.querySelector(r):r,RA=async(r,e,t,n)=>{const a=ig(n),l=a.publicKey||Bt.publicKey,u=a.blockHeadless||Bt.blockHeadless,m=Bt.storageProvider||a.storageProvider,p={...Bt.blockList,...a.blockList},x={...Bt.limitRate,...a.limitRate};if(u&&__(navigator))return Promise.reject(N_());const g=PA(t);w_(l,r,e),AA(g);const w=new FormData(g);return j_(p,w)?Promise.reject(E_()):await k_(location.pathname,x,m)?Promise.reject(T_()):(w.append("lib_version","4.4.1"),w.append("service_id",r),w.append("template_id",e),w.append("user_id",l),b_("/api/v1.0/email/send-form",w))},S_={init:NA,send:CA,sendForm:RA,EmailJSResponseStatus:wc},DA="service_af19tfx",MA="template_mt2syvx",OA="SObq46i_K8W1ZK1Lk";S_.init(OA);const LA=()=>Math.floor(1e5+Math.random()*9e5).toString(),$l=new Map,VA=(r,e,t={})=>($l.set(r,{codigo:e,expira:Date.now()+600*1e3,intentos:0,datos:t}),console.log(` Cdigo guardado para ${r}: ${e}`),!0),FA=async(r,e,t="Usuario")=>{try{const n={to_email:r,to_name:t,codigo:e,from_name:"Batista Global Service",reply_to:"no-reply@batistaglobalservice.com"},a=await S_.send(DA,MA,n);return console.log(" Email enviado:",a.status,a.text),{success:!0}}catch(n){return console.error(" Error enviando email:",n),{success:!1,error:n.message}}},UA=(r,e)=>{const t=$l.get(r);return t?Date.now()>t.expira?($l.delete(r),{valido:!1,error:" Cdigo expirado. Solicita uno nuevo."}):t.intentos>=3?($l.delete(r),{valido:!1,error:" Demasiados intentos. Solicita un nuevo cdigo."}):(t.intentos++,t.codigo!==e?{valido:!1,error:` Cdigo incorrecto. Intentos restantes: ${3-t.intentos}`}:(t.verificado=!0,{valido:!0,datos:t.datos})):{valido:!1,error:" No hay cdigo pendiente. Solicita uno nuevo."}},$A=r=>{$l.delete(r)},I_=P.createContext(),ui=()=>{const r=P.useContext(I_);if(!r)throw new Error("useClienteAuth debe usarse dentro de ClienteAuthProvider");return r},BA=({children:r})=>{const[e,t]=P.useState(null),[n,a]=P.useState(null),[l,u]=P.useState(!0),[m,p]=P.useState(null),[x,g]=P.useState(!1);P.useEffect(()=>{const K=nk($i,async Z=>{if(Z){t(Z);const $=Cs(Dt,"users",Z.uid),G=await Kw($);G.exists()&&a(G.data())}else t(null),a(null);u(!1)});return()=>K()},[]);const ee={user:e,userData:n,loading:l,register:async(K,Z,$)=>{if(console.log(" Verificando cdigo - Estado:",{codigoVerificado:x,emailPendiente:m,email:K}),!x)return console.log(" Cdigo no verificado"),pe.error(" Debes verificar tu cdigo primero"),{success:!1,error:"Cdigo no verificado"};if(m!==null&&m!==K)return console.log(" Email no coincide",{emailPendiente:m,email:K}),pe.error(" El email no coincide con el verificado"),{success:!1,error:"Email no coincide"};try{console.log(" Creando usuario en Firebase...");const se=(await ek($i,K,Z)).user;return await vI(Cs(Dt,"users",se.uid),{uid:se.uid,email:se.email,name:$.name,phone:$.phone||"",emailVerified:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),$A(K),p(null),g(!1),await sy($i),pe.success(" Cuenta creada exitosamente"),{success:!0}}catch(G){console.error("Error en registro:",G);let se="Error al registrarse";switch(G.code){case"auth/email-already-in-use":se="Este email ya est registrado";break;case"auth/invalid-email":se="Email invlido";break;case"auth/weak-password":se="La contrasea debe tener al menos 6 caracteres";break;default:se=G.message}return pe.error(se),{success:!1,error:se}}},login:async(K,Z)=>{try{const G=(await tk($i,K,Z)).user;return pe.success(" Bienvenido"),{success:!0,user:G}}catch($){console.error("Error en login:",$);let G="Error al iniciar sesin";switch($.code){case"auth/user-not-found":G="Usuario no encontrado";break;case"auth/wrong-password":G="Contrasea incorrecta";break;case"auth/too-many-requests":G="Demasiados intentos. Intenta ms tarde";break;default:G=$.message}return pe.error(G),{success:!1,error:G}}},logout:async()=>{try{return await sy($i),pe.success("Sesin cerrada"),{success:!0}}catch(K){return console.error("Error al cerrar sesin:",K),pe.error("Error al cerrar sesin"),{success:!1}}},resetPassword:async K=>{try{return await ZE($i,K,{url:"https://batistaglobalservice.web.app/cliente/login",handleCodeInApp:!0}),pe.success(" Email de recuperacin enviado"),{success:!0}}catch(Z){console.error("Error en reset password:",Z);let $="Error al enviar el email";switch(Z.code){case"auth/user-not-found":$="No existe una cuenta con este correo";break;case"auth/invalid-email":$="Email invlido";break;case"auth/too-many-requests":$="Demasiados intentos. Intenta ms tarde";break;default:$=Z.message}return pe.error($),{success:!1,error:$}}},solicitarCodigo:K=>{p(K),g(!1)},verificarCodigoExitoso:K=>{console.log(" Activando cdigo verificado para:",K),g(!0),p(K)},emailPendiente:m,codigoVerificado:x,isAuthenticated:!!e};return s.jsx(I_.Provider,{value:ee,children:r})},C_=P.createContext(),zA=(r,e)=>{switch(e.type){case"SET_CART":return{...r,items:e.payload,loading:!1};case"ADD_ITEM":if(r.items.find(n=>n.id===e.payload.id)){const n=r.items.map(a=>a.id===e.payload.id?{...a,quantity:a.quantity+e.payload.quantity}:a);return{...r,items:n}}return{...r,items:[...r.items,e.payload]};case"UPDATE_ITEM":return{...r,items:r.items.map(n=>n.id===e.payload.id?e.payload:n)};case"REMOVE_ITEM":return{...r,items:r.items.filter(n=>n.id!==e.payload)};case"CLEAR_CART":return{...r,items:[],loading:!1};case"SET_LOADING":return{...r,loading:e.payload};default:return r}},A_=r=>r?`cart_user_${r}`:"cart_guest",qA=r=>{const e=A_(r);try{const t=localStorage.getItem(e);return console.log(` Cargando carrito para clave: ${e}`,t?"":" vaco"),t?JSON.parse(t):[]}catch(t){return console.error("Error loading cart:",t),[]}},HA=(r,e)=>{const t=A_(r);try{localStorage.setItem(t,JSON.stringify(e)),console.log(` Guardando carrito para clave: ${t} (${e.length} items)`)}catch(n){console.error("Error saving cart:",n)}},WA=({children:r})=>{const{user:e,isAuthenticated:t}=ui(),[n,a]=P.useReducer(zA,{items:[],loading:!0}),l=e?.uid||null;P.useEffect(()=>{(async()=>{a({type:"SET_LOADING",payload:!0}),console.log(" Usuario actual:",l||"Invitado");const k=qA(l);a({type:"SET_CART",payload:k}),a({type:"SET_LOADING",payload:!1})})()},[l]),P.useEffect(()=>{n.loading||HA(l,n.items)},[n.items,l,n.loading]);const u=P.useCallback((j,k=1)=>{const M={...j,quantity:k};a({type:"ADD_ITEM",payload:M}),pe.success("Producto agregado al carrito")},[]),m=P.useCallback(j=>{a({type:"REMOVE_ITEM",payload:j}),pe.success("Producto eliminado del carrito")},[]),p=P.useCallback((j,k)=>{if(k<1){m(j);return}const M=n.items.find(D=>D.id===j);if(M){const D={...M,quantity:k};a({type:"UPDATE_ITEM",payload:D})}},[n.items,m]),x=P.useCallback(()=>{a({type:"CLEAR_CART"}),pe.success("Carrito vaciado")},[]),g=n.items.reduce((j,k)=>j+k.price*k.quantity,0),w=n.items.reduce((j,k)=>j+k.quantity,0),b={cart:n.items,loading:n.loading,addToCart:u,removeFromCart:m,updateQuantity:p,clearCart:x,cartTotal:g,cartCount:w};return s.jsx(C_.Provider,{value:b,children:r})},sh=()=>{const r=P.useContext(C_);if(!r)throw new Error("useCart debe usarse dentro de CartProvider");return r},P_=P.createContext(),fn=()=>{const r=P.useContext(P_);if(!r)throw new Error("useLanguage debe usarse dentro de LanguageProvider");return r},Zm={es:{inicio:"Inicio",tienda:"Tienda",servicios:"Servicios",carrito:"Carrito",perfil:"Perfil",buscar:"Buscar",ingresar:"Ingresar",cerrar_sesion:"Cerrar sesin",mi_cuenta:"Mi cuenta",admin:"Admin",panel_admin:"Panel Admin",volver:"Volver",atras:"Atrs",cancelar:"Cancelar",guardar:"Guardar",aceptar:"Aceptar",cargando:"Cargando...",error:"Error",exito:"xito",volver_inicio:"Volver al inicio",procesando_general:"Procesando...",confirmar_eliminacion:"Ests seguro de eliminar este elemento?",cambios_guardados:"Cambios guardados correctamente",sin_datos:"No hay datos para mostrar",buscar_productos:"Buscar productos, marcas y ms...",explorar_tienda:"Explorar Tienda",nuestros_servicios:"Nuestros Servicios",search_placeholder:"Buscar productos, marcas y ms...",search:"Buscar",voice_search:"Bsqueda por voz",voice_search_not_supported:"Tu navegador no soporta bsqueda por voz",suggestions:"Sugerencias",recent_searches:"Bsquedas recientes",popular_searches:"Bsquedas populares",clear_recent:"Limpiar bsquedas",search_results_for:"Resultados de bsqueda para",products_found:"productos encontrados",filters:"Filtros",sort_by:"Ordenar por",relevance:"Relevancia",price_low_to_high:"Precio: menor a mayor",price_high_to_low:"Precio: mayor a menor",name_a_to_z:"Nombre: A a Z",category:"Categora",all_categories:"Todas las categoras",price_range:"Rango de precio",in_stock_only:"Solo en stock",clear_filters:"Limpiar filtros",no_results:"No encontramos resultados",try_different_keywords:"Prueba con diferentes palabras clave",browse_all_products:"Ver todos los productos",searching:"Buscando",productos:"Productos",producto:"Producto",precio:"Precio",desde:"Desde",hasta:"Hasta",stock:"Stock",disponible:"Disponible",no_disponible:"No disponible",add_to_cart:"Agregar al carrito",out_of_stock:"Sin stock",quantity:"Cantidad",total:"Total",subtotal:"Subtotal",continue_shopping:"Seguir comprando",checkout:"Finalizar compra",vaciar_carrito:"Vaciar carrito",carrito_vacio:"Tu carrito est vaco",ir_comprar:"Ir a comprar",ver_todos:"Ver todos",comprar_ahora:"Comprar ahora",servicios_turisticos:"Servicios Tursticos",descripcion_servicios:"Descubre todos los servicios que tenemos para ti",paqueteria_express:"Paquetera Express",envios_internacionales:"Envos internacionales",paquetes_turisticos:"Paquetes Tursticos",viajes_incluido:"Viajes todo incluido",renta_autos:"Renta de Autos",vehiculos_lujo:"Vehculos de lujo",reservas_hoteles:"Reservas de Hoteles",mejores_tarifas:"Mejores tarifas",reservas_vuelos:"Reservas de Vuelos",aerolineas_internacionales:"Aerolneas internacionales",visas:"Visas",tramite_profesional:"Trmite profesional",ver_detalles:"Ver detalles",destacado:"Destacado",ofertas:"Ofertas",mas_informacion:"Ms informacin",proximamente:"Prximamente",preparando_servicios:"Estamos preparando servicios increbles para ti",bienvenido:"Bienvenido",cliente:"Cliente",administrador:"Administrador",mis_pedidos:"Mis Pedidos",mis_favoritos:"Mis Favoritos",mis_direcciones:"Mis Direcciones",configuracion:"Configuracin",resumen:"Resumen",pedidos:"Pedidos",favoritos:"Favoritos",direcciones:"Direcciones",informacion_personal:"Informacin Personal",nombre_completo:"Nombre completo",correo_electronico:"Correo electrnico",telefono:"Telfono",fecha_registro:"Fecha de registro",miembro_desde:"Miembro desde",guardar_cambios:"Guardar cambios",editar_perfil:"Editar perfil",cambiar_contrasea:"Cambiar contrasea",nueva_contrasea:"Nueva contrasea",confirmar_contrasea:"Confirmar contrasea",pedidos_realizados:"Pedidos realizados",productos_favoritos:"Productos favoritos",dias_como_miembro:"Das como miembro",puntos_acumulados:"Puntos acumulados",direcciones_guardadas:"Direcciones guardadas",agregar_direccion:"Agregar direccin",pais:"Pas",ciudad:"Ciudad",direccion:"Direccin",codigo_postal:"Cdigo postal",telefono_contacto:"Telfono de contacto",no_sesion:"No has iniciado sesin",sin_pedidos:"No tienes pedidos an",sin_favoritos:"No tienes favoritos an",sin_direcciones:"No tienes direcciones guardadas",id_pedido:"ID Pedido",fecha:"Fecha",estado:"Estado",entregado:"Entregado",en_camino:"En camino",procesando_pedido:"Procesando pedido",pedidos_recientes:"Pedidos Recientes",ir_tienda:"Ir a Tienda",iniciar_sesion:"Iniciar Sesin",crear_cuenta:"Crear Cuenta",registrarme:"Registrarme",email:"Correo electrnico",contrasea:"Contrasea",recordarme:"Recordarme",olvide_contrasea:"Olvidaste tu contrasea?",no_tienes_cuenta:"No tienes cuenta?",ya_tienes_cuenta:"Ya tienes cuenta?",registrate:"Regstrate",inicia_sesion:"Inicia sesin",continuar_invitado:"Continuar como invitado",bienvenido_usuario:"Bienvenido",accede_continuar:"Accede a tu cuenta para continuar",registrate_comprar:"Regstrate para comenzar a comprar",tu_nombre:"Tu nombre",passwords_no_match:"Las contraseas no coinciden",contactanos:"Contctanos",llamanos_ahora:"LLMANOS AHORA",escribenos:"ESCRBENOS",visitanos:"VISTANOS",horarios:"Horarios",lun_vie:"Lunes a Viernes",sabado:"Sbado",domingo:"Domingo",redes_sociales:"Redes Sociales",siguenos:"Sguenos",terminos_condiciones:"Trminos y condiciones",politica_privacidad:"Poltica de privacidad",derechos:"Todos los derechos reservados",enlaces_rapidos:"Enlaces rpidos",copyright:" {year} Batista Global Service. {rights}",panel_administrativo:"Panel Administrativo",dashboard:"Dashboard",gestion_productos:"Gestin de Productos",gestion_servicios:"Gestin de Servicios",gestion_pedidos:"Gestin de Pedidos",gestion_usuarios:"Gestin de Usuarios",analiticas:"Analticas",configuracion_admin:"Configuracin",nuevo_producto:"Nuevo Producto",nuevo_servicio:"Nuevo Servicio",editar:"Editar",eliminar:"Eliminar",activar:"Activar",desactivar:"Desactivar",buscar_admin:"Buscar...",todos:"Todos",aplicar:"Aplicar",exportar:"Exportar",importar:"Importar",error_inesperado:"Error inesperado",intentar_nuevamente:"Intentar nuevamente",pagina_no_encontrada:"Pgina no encontrada",acceso_denegado:"Acceso denegado",no_autorizado:"No autorizado",sesion_expirada:"Sesin expirada",campos_obligatorios:"Campos obligatorios",formato_invalido:"Formato invlido",hoy:"Hoy",ayer:"Ayer",manana:"Maana",dias:"das",semanas:"semanas",meses:"meses",aos:"aos",minutos:"minutos",horas:"horas",usd:"USD",eur:"EUR",dop:"DOP",pesos:"pesos",dolares:"dlares",kg:"kg",lb:"lb",g:"g",unidad:"unidad",unidades:"unidades",paquete:"paquete",paquetes:"paquetes"},en:{inicio:"Home",tienda:"Store",servicios:"Services",carrito:"Cart",perfil:"Profile",buscar:"Search",ingresar:"Login",cerrar_sesion:"Logout",mi_cuenta:"My Account",admin:"Admin",panel_admin:"Admin Panel",volver:"Back",atras:"Back",cancelar:"Cancel",guardar:"Save",aceptar:"Accept",cargando:"Loading...",error:"Error",exito:"Success",volver_inicio:"Back to home",procesando_general:"Processing...",confirmar_eliminacion:"Are you sure you want to delete this item?",cambios_guardados:"Changes saved successfully",sin_datos:"No data to display",buscar_productos:"Search products, brands and more...",explorar_tienda:"Explore Store",nuestros_servicios:"Our Services",search_placeholder:"Search products, brands and more...",search:"Search",voice_search:"Voice search",voice_search_not_supported:"Your browser does not support voice search",suggestions:"Suggestions",recent_searches:"Recent searches",popular_searches:"Popular searches",clear_recent:"Clear recent",search_results_for:"Search results for",products_found:"products found",filters:"Filters",sort_by:"Sort by",relevance:"Relevance",price_low_to_high:"Price: low to high",price_high_to_low:"Price: high to low",name_a_to_z:"Name: A to Z",category:"Category",all_categories:"All categories",price_range:"Price range",in_stock_only:"In stock only",clear_filters:"Clear filters",no_results:"No results found",try_different_keywords:"Try different keywords",browse_all_products:"Browse all products",searching:"Searching",productos:"Products",producto:"Product",precio:"Price",desde:"From",hasta:"To",stock:"Stock",disponible:"Available",no_disponible:"Not available",add_to_cart:"Add to cart",out_of_stock:"Out of stock",quantity:"Quantity",total:"Total",subtotal:"Subtotal",continue_shopping:"Continue shopping",checkout:"Checkout",vaciar_carrito:"Empty cart",carrito_vacio:"Your cart is empty",ir_comprar:"Go shopping",ver_todos:"View all",comprar_ahora:"Buy now",servicios_turisticos:"Tourist Services",descripcion_servicios:"Discover all the services we have for you",paqueteria_express:"Express Shipping",envios_internacionales:"International shipping",paquetes_turisticos:"Tour Packages",viajes_incluido:"All-inclusive trips",renta_autos:"Car Rental",vehiculos_lujo:"Luxury vehicles",reservas_hoteles:"Hotel Reservations",mejores_tarifas:"Best rates",reservas_vuelos:"Flight Reservations",aerolineas_internacionales:"International airlines",visas:"Visas",tramite_profesional:"Professional processing",ver_detalles:"View details",destacado:"Featured",ofertas:"Offers",mas_informacion:"More information",proximamente:"Coming soon",preparando_servicios:"We are preparing amazing services for you",bienvenido:"Welcome",cliente:"Client",administrador:"Administrator",mis_pedidos:"My Orders",mis_favoritos:"My Favorites",mis_direcciones:"My Addresses",configuracion:"Settings",resumen:"Summary",pedidos:"Orders",favoritos:"Favorites",direcciones:"Addresses",informacion_personal:"Personal Information",nombre_completo:"Full name",correo_electronico:"Email",telefono:"Phone",fecha_registro:"Registration date",miembro_desde:"Member since",guardar_cambios:"Save changes",editar_perfil:"Edit profile",cambiar_contrasea:"Change password",nueva_contrasea:"New password",confirmar_contrasea:"Confirm password",pedidos_realizados:"Orders placed",productos_favoritos:"Favorite products",dias_como_miembro:"Days as member",puntos_acumulados:"Accumulated points",direcciones_guardadas:"Saved addresses",agregar_direccion:"Add address",pais:"Country",ciudad:"City",direccion:"Address",codigo_postal:"Postal code",telefono_contacto:"Contact phone",no_sesion:"You are not logged in",sin_pedidos:"You have no orders yet",sin_favoritos:"You have no favorites yet",sin_direcciones:"You have no saved addresses",id_pedido:"Order ID",fecha:"Date",estado:"Status",entregado:"Delivered",en_camino:"In transit",procesando_pedido:"Processing order",pedidos_recientes:"Recent Orders",ir_tienda:"Go to Store",iniciar_sesion:"Sign In",crear_cuenta:"Create Account",registrarme:"Sign Up",email:"Email",contrasea:"Password",recordarme:"Remember me",olvide_contrasea:"Forgot password?",no_tienes_cuenta:"Don't have an account?",ya_tienes_cuenta:"Already have an account?",registrate:"Sign up",inicia_sesion:"Sign in",continuar_invitado:"Continue as guest",bienvenido_usuario:"Welcome",accede_continuar:"Access your account to continue",registrate_comprar:"Sign up to start shopping",tu_nombre:"Your name",passwords_no_match:"Passwords do not match",contactanos:"Contact us",llamanos_ahora:"CALL US NOW",escribenos:"WRITE TO US",visitanos:"VISIT US",horarios:"Hours",lun_vie:"Monday to Friday",sabado:"Saturday",domingo:"Sunday",redes_sociales:"Social Media",siguenos:"Follow us",terminos_condiciones:"Terms and conditions",politica_privacidad:"Privacy policy",derechos:"All rights reserved",enlaces_rapidos:"Quick links",copyright:" {year} Batista Global Service. {rights}",panel_administrativo:"Administrative Panel",dashboard:"Dashboard",gestion_productos:"Product Management",gestion_servicios:"Service Management",gestion_pedidos:"Order Management",gestion_usuarios:"User Management",analiticas:"Analytics",configuracion_admin:"Settings",nuevo_producto:"New Product",nuevo_servicio:"New Service",editar:"Edit",eliminar:"Delete",activar:"Activate",desactivar:"Deactivate",buscar_admin:"Search...",todos:"All",aplicar:"Apply",exportar:"Export",importar:"Import",error_inesperado:"Unexpected error",intentar_nuevamente:"Try again",pagina_no_encontrada:"Page not found",acceso_denegado:"Access denied",no_autorizado:"Unauthorized",sesion_expirada:"Session expired",campos_obligatorios:"Required fields",formato_invalido:"Invalid format",hoy:"Today",ayer:"Yesterday",manana:"Tomorrow",dias:"days",semanas:"weeks",meses:"months",aos:"years",minutos:"minutes",horas:"hours",usd:"USD",eur:"EUR",dop:"DOP",pesos:"pesos",dolares:"dollars",kg:"kg",lb:"lb",g:"g",unidad:"unit",unidades:"units",paquete:"package",paquetes:"packages"}},GA=({children:r})=>{const[e,t]=P.useState(()=>localStorage.getItem("language")||"es");P.useEffect(()=>{localStorage.setItem("language",e),document.documentElement.lang=e},[e]);const a={language:e,setLanguage:t,t:(l,u={})=>{let m=Zm[e]?.[l]||Zm.es[l]||l;return Object.keys(u).forEach(p=>{m=m.replace(`{${p}}`,u[p])}),m},translations:Zm[e]};return s.jsx(P_.Provider,{value:a,children:r})};const R_=(...r)=>r.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim();const KA=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const QA=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase());const iv=r=>{const e=QA(r);return e.charAt(0).toUpperCase()+e.slice(1)};var YA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const XA=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const JA=P.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:a="",children:l,iconNode:u,...m},p)=>P.createElement("svg",{ref:p,...YA,width:e,height:e,stroke:r,strokeWidth:n?Number(t)*24/Number(e):t,className:R_("lucide",a),...!l&&!XA(m)&&{"aria-hidden":"true"},...m},[...u.map(([x,g])=>P.createElement(x,g)),...Array.isArray(l)?l:[l]]));const me=(r,e)=>{const t=P.forwardRef(({className:n,...a},l)=>P.createElement(JA,{ref:l,iconNode:e,className:R_(`lucide-${KA(iv(r))}`,`lucide-${r}`,n),...a}));return t.displayName=iv(r),t};const ZA=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ea=me("arrow-left",ZA);const eP=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],nh=me("award",eP);const tP=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M9 9h.01",key:"1q5me6"}],["path",{d:"M15 15h.01",key:"lqbp3k"}]],rP=me("badge-percent",tP);const sP=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],To=me("briefcase",sP);const nP=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Wi=me("calendar",nP);const iP=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],aP=me("camera",iP);const oP=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],$r=me("car",oP);const lP=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],cP=me("chart-column",lP);const uP=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],D_=me("chevron-left",uP);const dP=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],jd=me("chevron-right",dP);const hP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Mp=me("circle-alert",hP);const mP=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],yr=me("circle-check-big",mP);const pP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],fP=me("circle-plus",pP);const gP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],xP=me("circle-user",gP);const yP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ta=me("circle-x",yP);const vP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6h4",key:"135r8i"}]],bP=me("clock-3",vP);const wP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],tr=me("clock",wP);const _P=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],Op=me("coffee",_P);const NP=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],jP=me("credit-card",NP);const EP=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],kP=me("crown",EP);const TP=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Ed=me("dollar-sign",TP);const SP=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],M_=me("download",SP);const IP=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],CP=me("dumbbell",IP);const AP=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],O_=me("eye",AP);const PP=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],RP=me("eye-off",PP);const DP=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],MP=me("file-text",DP);const OP=[["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 4 0v-6.998a2 2 0 0 0-.59-1.42L18 5",key:"1wtuz0"}],["path",{d:"M14 21V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v16",key:"e09ifn"}],["path",{d:"M2 21h13",key:"1x0fut"}],["path",{d:"M3 9h11",key:"1p7c0w"}]],LP=me("fuel",OP);const VP=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],L_=me("funnel",VP);const FP=[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]],UP=me("gem",FP);const $P=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M20 11v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-8",key:"1sqzm4"}],["path",{d:"M7.5 7a1 1 0 0 1 0-5A4.8 8 0 0 1 12 7a4.8 8 0 0 1 4.5-5 1 1 0 0 1 0 5",key:"kc0143"}],["rect",{x:"3",y:"7",width:"18",height:"4",rx:"1",key:"1hberx"}]],V_=me("gift",$P);const BP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],un=me("globe",BP);const zP=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],xo=me("heart",zP);const qP=[["path",{d:"M10 22v-6.57",key:"1wmca3"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M14 15.43V22",key:"1q2vjd"}],["path",{d:"M15 16a5 5 0 0 0-6 0",key:"o9wqvi"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],Yn=me("hotel",qP);const HP=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],sc=me("house",HP);const WP=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],GP=me("image",WP);const KP=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],QP=me("layout-dashboard",KP);const YP=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],F_=me("loader-circle",YP);const XP=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],kd=me("loader",XP);const JP=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ag=me("lock",JP);const ZP=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],eR=me("log-in",ZP);const tR=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],og=me("log-out",tR);const rR=[["path",{d:"M6 20a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2",key:"1m57jg"}],["path",{d:"M8 18V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v14",key:"1l99gc"}],["path",{d:"M10 20h4",key:"ni2waw"}],["circle",{cx:"16",cy:"20",r:"2",key:"1vifvg"}],["circle",{cx:"8",cy:"20",r:"2",key:"ckkr5m"}]],sR=me("luggage",rR);const nR=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ra=me("mail",nR);const iR=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Cr=me("map-pin",iR);const aR=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],lg=me("menu",aR);const oR=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],lR=me("message-circle",oR);const cR=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],U_=me("mic",cR);const uR=[["path",{d:"M5 12h14",key:"1ays0h"}]],dR=me("minus",uR);const hR=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Lp=me("moon",hR);const mR=[["path",{d:"M8 18L12 22L16 18",key:"cskvfv"}],["path",{d:"M12 2V22",key:"r89rzk"}]],pR=me("move-down",mR);const fR=[["path",{d:"M8 6L12 2L16 6",key:"1yvkyx"}],["path",{d:"M12 2V22",key:"r89rzk"}]],gR=me("move-up",fR);const xR=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],xr=me("package",xR);const yR=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],vR=me("pause",yR);const bR=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],ih=me("phone",bR);const wR=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],_R=me("play",wR);const NR=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],So=me("plane",NR);const jR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],rt=me("plus",jR);const ER=[["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}],["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09",key:"u4xsad"}],["path",{d:"M9 12a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.4 22.4 0 0 1-4 2z",key:"676m9"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 .05 5 .05",key:"92ym6u"}]],kR=me("rocket",ER);const TR=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],$_=me("save",TR);const SR=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],B_=me("scale",SR);const IR=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],dn=me("search",IR);const CR=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],AR=me("send",CR);const PR=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],cg=me("settings",PR);const RR=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],DR=me("share-2",RR);const MR=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],nc=me("shield",MR);const OR=[["path",{d:"M12 10.189V14",key:"1p8cqu"}],["path",{d:"M12 2v3",key:"qbqxhf"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-8.188-3.639a2 2 0 0 0-1.624 0L3 14a11.6 11.6 0 0 0 2.81 7.76",key:"7tigtc"}],["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1s1.2 1 2.5 1c2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"1924j5"}]],LR=me("ship",OR);const VR=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],lo=me("shopping-bag",VR);const FR=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],ic=me("shopping-cart",FR);const UR=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],av=me("sparkles",UR);const $R=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ah=me("square-pen",$R);const BR=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],vr=me("star",BR);const zR=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],ac=me("sun",zR);const qR=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],zr=me("trash-2",qR);const HR=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Mt=me("trending-up",HR);const WR=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Io=me("truck",WR);const GR=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Td=me("upload",GR);const KR=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],yo=me("user",KR);const QR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],_c=me("users",QR);const YR=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],ov=me("utensils",YR);const XR=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],lv=me("waves",XR);const JR=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Vp=me("wifi",JR);const ZR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ye=me("x",ZR);function hn(r){return Array.isArray?Array.isArray(r):H_(r)==="[object Array]"}function e5(r){if(typeof r=="string")return r;let e=r+"";return e=="0"&&1/r==-1/0?"-0":e}function t5(r){return r==null?"":e5(r)}function Ns(r){return typeof r=="string"}function z_(r){return typeof r=="number"}function r5(r){return r===!0||r===!1||s5(r)&&H_(r)=="[object Boolean]"}function q_(r){return typeof r=="object"}function s5(r){return q_(r)&&r!==null}function Tr(r){return r!=null}function ep(r){return!r.trim().length}function H_(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}const n5="Incorrect 'index' type",i5=r=>`Invalid value for key ${r}`,a5=r=>`Pattern length exceeds max of ${r}.`,o5=r=>`Missing ${r} property in key`,l5=r=>`Property 'weight' in key '${r}' must be a positive integer`,cv=Object.prototype.hasOwnProperty;class c5{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(n=>{let a=W_(n);this._keys.push(a),this._keyMap[a.id]=a,t+=a.weight}),this._keys.forEach(n=>{n.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function W_(r){let e=null,t=null,n=null,a=1,l=null;if(Ns(r)||hn(r))n=r,e=uv(r),t=Fp(r);else{if(!cv.call(r,"name"))throw new Error(o5("name"));const u=r.name;if(n=u,cv.call(r,"weight")&&(a=r.weight,a<=0))throw new Error(l5(u));e=uv(u),t=Fp(u),l=r.getFn}return{path:e,id:t,weight:a,src:n,getFn:l}}function uv(r){return hn(r)?r:r.split(".")}function Fp(r){return hn(r)?r.join("."):r}function u5(r,e){let t=[],n=!1;const a=(l,u,m)=>{if(Tr(l))if(!u[m])t.push(l);else{let p=u[m];const x=l[p];if(!Tr(x))return;if(m===u.length-1&&(Ns(x)||z_(x)||r5(x)))t.push(t5(x));else if(hn(x)){n=!0;for(let g=0,w=x.length;g<w;g+=1)a(x[g],u,m+1)}else u.length&&a(x,u,m+1)}};return a(r,Ns(e)?e.split("."):e,0),n?t:t[0]}const d5={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},h5={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(r,e)=>r.score===e.score?r.idx<e.idx?-1:1:r.score<e.score?-1:1},m5={location:0,threshold:.6,distance:100},p5={useExtendedSearch:!1,getFn:u5,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Te={...h5,...d5,...m5,...p5};const f5=/[^ ]+/g;function g5(r=1,e=3){const t=new Map,n=Math.pow(10,e);return{get(a){const l=a.match(f5).length;if(t.has(l))return t.get(l);const u=1/Math.pow(l,.5*r),m=parseFloat(Math.round(u*n)/n);return t.set(l,m),m},clear(){t.clear()}}}class ug{constructor({getFn:e=Te.getFn,fieldNormWeight:t=Te.fieldNormWeight}={}){this.norm=g5(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((t,n)=>{this._keysMap[t.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Ns(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){const t=this.size();Ns(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!Tr(e)||ep(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach((a,l)=>{let u=a.getFn?a.getFn(e):this.getFn(e,a.path);if(Tr(u)){if(hn(u)){let m=[];const p=[{nestedArrIndex:-1,value:u}];for(;p.length;){const{nestedArrIndex:x,value:g}=p.pop();if(Tr(g))if(Ns(g)&&!ep(g)){let w={v:g,i:x,n:this.norm.get(g)};m.push(w)}else hn(g)&&g.forEach((w,b)=>{p.push({nestedArrIndex:b,value:w})})}n.$[l]=m}else if(Ns(u)&&!ep(u)){let m={v:u,n:this.norm.get(u)};n.$[l]=m}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function G_(r,e,{getFn:t=Te.getFn,fieldNormWeight:n=Te.fieldNormWeight}={}){const a=new ug({getFn:t,fieldNormWeight:n});return a.setKeys(r.map(W_)),a.setSources(e),a.create(),a}function x5(r,{getFn:e=Te.getFn,fieldNormWeight:t=Te.fieldNormWeight}={}){const{keys:n,records:a}=r,l=new ug({getFn:e,fieldNormWeight:t});return l.setKeys(n),l.setIndexRecords(a),l}function Ku(r,{errors:e=0,currentLocation:t=0,expectedLocation:n=0,distance:a=Te.distance,ignoreLocation:l=Te.ignoreLocation}={}){const u=e/r.length;if(l)return u;const m=Math.abs(n-t);return a?u+m/a:m?1:u}function y5(r=[],e=Te.minMatchCharLength){let t=[],n=-1,a=-1,l=0;for(let u=r.length;l<u;l+=1){let m=r[l];m&&n===-1?n=l:!m&&n!==-1&&(a=l-1,a-n+1>=e&&t.push([n,a]),n=-1)}return r[l-1]&&l-n>=e&&t.push([n,l-1]),t}const Bi=32;function v5(r,e,t,{location:n=Te.location,distance:a=Te.distance,threshold:l=Te.threshold,findAllMatches:u=Te.findAllMatches,minMatchCharLength:m=Te.minMatchCharLength,includeMatches:p=Te.includeMatches,ignoreLocation:x=Te.ignoreLocation}={}){if(e.length>Bi)throw new Error(a5(Bi));const g=e.length,w=r.length,b=Math.max(0,Math.min(n,w));let j=l,k=b;const M=m>1||p,D=M?Array(w):[];let ee;for(;(ee=r.indexOf(e,k))>-1;){let L=Ku(e,{currentLocation:ee,expectedLocation:b,distance:a,ignoreLocation:x});if(j=Math.min(L,j),k=ee+g,M){let R=0;for(;R<g;)D[ee+R]=1,R+=1}}k=-1;let K=[],Z=1,$=g+w;const G=1<<g-1;for(let L=0;L<g;L+=1){let R=0,E=$;for(;R<E;)Ku(e,{errors:L,currentLocation:b+E,expectedLocation:b,distance:a,ignoreLocation:x})<=j?R=E:$=E,E=Math.floor(($-R)/2+R);$=E;let S=Math.max(1,b-E+1),T=u?w:Math.min(b+E,w)+g,C=Array(T+2);C[T+1]=(1<<L)-1;for(let ue=T;ue>=S;ue-=1){let X=ue-1,W=t[r.charAt(X)];if(M&&(D[X]=+!!W),C[ue]=(C[ue+1]<<1|1)&W,L&&(C[ue]|=(K[ue+1]|K[ue])<<1|1|K[ue+1]),C[ue]&G&&(Z=Ku(e,{errors:L,currentLocation:X,expectedLocation:b,distance:a,ignoreLocation:x}),Z<=j)){if(j=Z,k=X,k<=b)break;S=Math.max(1,2*b-k)}}if(Ku(e,{errors:L+1,currentLocation:b,expectedLocation:b,distance:a,ignoreLocation:x})>j)break;K=C}const se={isMatch:k>=0,score:Math.max(.001,Z)};if(M){const L=y5(D,m);L.length?p&&(se.indices=L):se.isMatch=!1}return se}function b5(r){let e={};for(let t=0,n=r.length;t<n;t+=1){const a=r.charAt(t);e[a]=(e[a]||0)|1<<n-t-1}return e}const Sd=String.prototype.normalize?(r=>r.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(r=>r);class K_{constructor(e,{location:t=Te.location,threshold:n=Te.threshold,distance:a=Te.distance,includeMatches:l=Te.includeMatches,findAllMatches:u=Te.findAllMatches,minMatchCharLength:m=Te.minMatchCharLength,isCaseSensitive:p=Te.isCaseSensitive,ignoreDiacritics:x=Te.ignoreDiacritics,ignoreLocation:g=Te.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:a,includeMatches:l,findAllMatches:u,minMatchCharLength:m,isCaseSensitive:p,ignoreDiacritics:x,ignoreLocation:g},e=p?e:e.toLowerCase(),e=x?Sd(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const w=(j,k)=>{this.chunks.push({pattern:j,alphabet:b5(j),startIndex:k})},b=this.pattern.length;if(b>Bi){let j=0;const k=b%Bi,M=b-k;for(;j<M;)w(this.pattern.substr(j,Bi),j),j+=Bi;if(k){const D=b-Bi;w(this.pattern.substr(D),D)}}else w(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,ignoreDiacritics:n,includeMatches:a}=this.options;if(e=t?e:e.toLowerCase(),e=n?Sd(e):e,this.pattern===e){let M={isMatch:!0,score:0};return a&&(M.indices=[[0,e.length-1]]),M}const{location:l,distance:u,threshold:m,findAllMatches:p,minMatchCharLength:x,ignoreLocation:g}=this.options;let w=[],b=0,j=!1;this.chunks.forEach(({pattern:M,alphabet:D,startIndex:ee})=>{const{isMatch:K,score:Z,indices:$}=v5(e,M,D,{location:l+ee,distance:u,threshold:m,findAllMatches:p,minMatchCharLength:x,includeMatches:a,ignoreLocation:g});K&&(j=!0),b+=Z,K&&$&&(w=[...w,...$])});let k={isMatch:j,score:j?b/this.chunks.length:1};return j&&a&&(k.indices=w),k}}class di{constructor(e){this.pattern=e}static isMultiMatch(e){return dv(e,this.multiRegex)}static isSingleMatch(e){return dv(e,this.singleRegex)}search(){}}function dv(r,e){const t=r.match(e);return t?t[1]:null}class w5 extends di{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class _5 extends di{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const n=e.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class N5 extends di{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class j5 extends di{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class E5 extends di{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class k5 extends di{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class Q_ extends di{constructor(e,{location:t=Te.location,threshold:n=Te.threshold,distance:a=Te.distance,includeMatches:l=Te.includeMatches,findAllMatches:u=Te.findAllMatches,minMatchCharLength:m=Te.minMatchCharLength,isCaseSensitive:p=Te.isCaseSensitive,ignoreDiacritics:x=Te.ignoreDiacritics,ignoreLocation:g=Te.ignoreLocation}={}){super(e),this._bitapSearch=new K_(e,{location:t,threshold:n,distance:a,includeMatches:l,findAllMatches:u,minMatchCharLength:m,isCaseSensitive:p,ignoreDiacritics:x,ignoreLocation:g})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class Y_ extends di{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t=0,n;const a=[],l=this.pattern.length;for(;(n=e.indexOf(this.pattern,t))>-1;)t=n+l,a.push([n,t-1]);const u=!!a.length;return{isMatch:u,score:u?0:1,indices:a}}}const Up=[w5,Y_,N5,j5,k5,E5,_5,Q_],hv=Up.length,T5=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,S5="|";function I5(r,e={}){return r.split(S5).map(t=>{let n=t.trim().split(T5).filter(l=>l&&!!l.trim()),a=[];for(let l=0,u=n.length;l<u;l+=1){const m=n[l];let p=!1,x=-1;for(;!p&&++x<hv;){const g=Up[x];let w=g.isMultiMatch(m);w&&(a.push(new g(w,e)),p=!0)}if(!p)for(x=-1;++x<hv;){const g=Up[x];let w=g.isSingleMatch(m);if(w){a.push(new g(w,e));break}}}return a})}const C5=new Set([Q_.type,Y_.type]);class A5{constructor(e,{isCaseSensitive:t=Te.isCaseSensitive,ignoreDiacritics:n=Te.ignoreDiacritics,includeMatches:a=Te.includeMatches,minMatchCharLength:l=Te.minMatchCharLength,ignoreLocation:u=Te.ignoreLocation,findAllMatches:m=Te.findAllMatches,location:p=Te.location,threshold:x=Te.threshold,distance:g=Te.distance}={}){this.query=null,this.options={isCaseSensitive:t,ignoreDiacritics:n,includeMatches:a,minMatchCharLength:l,findAllMatches:m,ignoreLocation:u,location:p,threshold:x,distance:g},e=t?e:e.toLowerCase(),e=n?Sd(e):e,this.pattern=e,this.query=I5(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:a,ignoreDiacritics:l}=this.options;e=a?e:e.toLowerCase(),e=l?Sd(e):e;let u=0,m=[],p=0;for(let x=0,g=t.length;x<g;x+=1){const w=t[x];m.length=0,u=0;for(let b=0,j=w.length;b<j;b+=1){const k=w[b],{isMatch:M,indices:D,score:ee}=k.search(e);if(M){if(u+=1,p+=ee,n){const K=k.constructor.type;C5.has(K)?m=[...m,...D]:m.push(D)}}else{p=0,u=0,m.length=0;break}}if(u){let b={isMatch:!0,score:p/u};return n&&(b.indices=m),b}}return{isMatch:!1,score:1}}}const $p=[];function P5(...r){$p.push(...r)}function Bp(r,e){for(let t=0,n=$p.length;t<n;t+=1){let a=$p[t];if(a.condition(r,e))return new a(r,e)}return new K_(r,e)}const Id={AND:"$and",OR:"$or"},zp={PATH:"$path",PATTERN:"$val"},qp=r=>!!(r[Id.AND]||r[Id.OR]),R5=r=>!!r[zp.PATH],D5=r=>!hn(r)&&q_(r)&&!qp(r),mv=r=>({[Id.AND]:Object.keys(r).map(e=>({[e]:r[e]}))});function X_(r,e,{auto:t=!0}={}){const n=a=>{let l=Object.keys(a);const u=R5(a);if(!u&&l.length>1&&!qp(a))return n(mv(a));if(D5(a)){const p=u?a[zp.PATH]:l[0],x=u?a[zp.PATTERN]:a[p];if(!Ns(x))throw new Error(i5(p));const g={keyId:Fp(p),pattern:x};return t&&(g.searcher=Bp(x,e)),g}let m={children:[],operator:l[0]};return l.forEach(p=>{const x=a[p];hn(x)&&x.forEach(g=>{m.children.push(n(g))})}),m};return qp(r)||(r=mv(r)),n(r)}function M5(r,{ignoreFieldNorm:e=Te.ignoreFieldNorm}){r.forEach(t=>{let n=1;t.matches.forEach(({key:a,norm:l,score:u})=>{const m=a?a.weight:null;n*=Math.pow(u===0&&m?Number.EPSILON:u,(m||1)*(e?1:l))}),t.score=n})}function O5(r,e){const t=r.matches;e.matches=[],Tr(t)&&t.forEach(n=>{if(!Tr(n.indices)||!n.indices.length)return;const{indices:a,value:l}=n;let u={indices:a,value:l};n.key&&(u.key=n.key.src),n.idx>-1&&(u.refIndex=n.idx),e.matches.push(u)})}function L5(r,e){e.score=r.score}function V5(r,e,{includeMatches:t=Te.includeMatches,includeScore:n=Te.includeScore}={}){const a=[];return t&&a.push(O5),n&&a.push(L5),r.map(l=>{const{idx:u}=l,m={item:e[u],refIndex:u};return a.length&&a.forEach(p=>{p(l,m)}),m})}class Co{constructor(e,t={},n){this.options={...Te,...t},this.options.useExtendedSearch,this._keyStore=new c5(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof ug))throw new Error(n5);this._myIndex=t||G_(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){Tr(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const t=[];for(let n=0,a=this._docs.length;n<a;n+=1){const l=this._docs[n];e(l,n)&&(this.removeAt(n),n-=1,a-=1,t.push(l))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:n,includeScore:a,shouldSort:l,sortFn:u,ignoreFieldNorm:m}=this.options;let p=Ns(e)?Ns(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return M5(p,{ignoreFieldNorm:m}),l&&p.sort(u),z_(t)&&t>-1&&(p=p.slice(0,t)),V5(p,this._docs,{includeMatches:n,includeScore:a})}_searchStringList(e){const t=Bp(e,this.options),{records:n}=this._myIndex,a=[];return n.forEach(({v:l,i:u,n:m})=>{if(!Tr(l))return;const{isMatch:p,score:x,indices:g}=t.searchIn(l);p&&a.push({item:l,idx:u,matches:[{score:x,value:l,norm:m,indices:g}]})}),a}_searchLogical(e){const t=X_(e,this.options),n=(m,p,x)=>{if(!m.children){const{keyId:w,searcher:b}=m,j=this._findMatches({key:this._keyStore.get(w),value:this._myIndex.getValueForItemAtKeyId(p,w),searcher:b});return j&&j.length?[{idx:x,item:p,matches:j}]:[]}const g=[];for(let w=0,b=m.children.length;w<b;w+=1){const j=m.children[w],k=n(j,p,x);if(k.length)g.push(...k);else if(m.operator===Id.AND)return[]}return g},a=this._myIndex.records,l={},u=[];return a.forEach(({$:m,i:p})=>{if(Tr(m)){let x=n(t,m,p);x.length&&(l[p]||(l[p]={idx:p,item:m,matches:[]},u.push(l[p])),x.forEach(({matches:g})=>{l[p].matches.push(...g)}))}}),u}_searchObjectList(e){const t=Bp(e,this.options),{keys:n,records:a}=this._myIndex,l=[];return a.forEach(({$:u,i:m})=>{if(!Tr(u))return;let p=[];n.forEach((x,g)=>{p.push(...this._findMatches({key:x,value:u[g],searcher:t}))}),p.length&&l.push({idx:m,item:u,matches:p})}),l}_findMatches({key:e,value:t,searcher:n}){if(!Tr(t))return[];let a=[];if(hn(t))t.forEach(({v:l,i:u,n:m})=>{if(!Tr(l))return;const{isMatch:p,score:x,indices:g}=n.searchIn(l);p&&a.push({score:x,key:e,value:l,idx:u,norm:m,indices:g})});else{const{v:l,n:u}=t,{isMatch:m,score:p,indices:x}=n.searchIn(l);m&&a.push({score:p,key:e,value:l,norm:u,indices:x})}return a}}Co.version="7.1.0";Co.createIndex=G_;Co.parseIndex=x5;Co.config=Te;Co.parseQuery=X_;P5(A5);class F5{constructor(){this.fuse=null,this.products=[],this.options={keys:[{name:"name",weight:.7},{name:"description",weight:.2},{name:"category",weight:.1},{name:"tags",weight:.3},{name:"brand",weight:.4}],threshold:.4,ignoreLocation:!0,findAllMatches:!0,minMatchCharLength:2,useExtendedSearch:!0,includeScore:!0,includeMatches:!0}}async loadProducts(){try{const e=await ko(ln(Dt,"products"));return this.products=e.docs.map(t=>({id:t.id,...t.data(),normalizedName:t.data().name?.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),searchableText:this.generateSearchableText(t.data())})),this.fuse=new Co(this.products,this.options),console.log(` ${this.products.length} productos cargados para bsqueda`),this.products}catch(e){return console.error("Error loading products for search:",e),[]}}generateSearchableText(e){return[e.name,e.description,e.category,e.brand,...e.tags||[]].filter(Boolean).join(" ").toLowerCase()}search(e,t=20){return!this.fuse||!e||e.trim().length<2?[]:this.fuse.search(e).slice(0,t).map(a=>({...a.item,score:a.score,matches:a.matches}))}searchByCategory(e,t){const n=this.search(e);return t&&t!=="all"?n.filter(a=>a.category===t):n}getSuggestions(e,t=5){return this.search(e,t).map(a=>({id:a.id,name:a.name,image:a.imageUrl,price:a.price,category:a.category}))}}const tp=new F5,J_=P.createContext(),Z_=()=>{const r=P.useContext(J_);if(!r)throw new Error("useSearch debe usarse dentro de SearchProvider");return r},U5=({children:r})=>{const[e,t]=P.useState(!1),[n,a]=P.useState([]),[l,u]=P.useState(["celular","ropa","zapatos","electrnica","hogar"]);P.useEffect(()=>{(async()=>(await tp.loadProducts(),t(!0)))();const j=localStorage.getItem("recent_searches");j&&a(JSON.parse(j))},[]);const w={isInitialized:e,search:(b,j)=>tp.search(b,j),getSuggestions:b=>tp.getSuggestions(b),recentSearches:n,popularSearches:l,addRecentSearch:b=>{if(!b.trim())return;const j=[b,...n.filter(k=>k!==b)].slice(0,5);a(j),localStorage.setItem("recent_searches",JSON.stringify(j))},clearRecentSearches:()=>{a([]),localStorage.removeItem("recent_searches")}};return s.jsx(J_.Provider,{value:w,children:r})},pv=({variant:r="default",onClose:e})=>{const[t,n]=P.useState(""),[a,l]=P.useState([]),[u,m]=P.useState(!1),[p,x]=P.useState(!1),g=P.useRef(null),w=P.useRef(null),{getSuggestions:b,recentSearches:j,popularSearches:k,addRecentSearch:M}=Z_(),{t:D}=fn(),ee=Wt();P.useEffect(()=>{const G=setTimeout(()=>{if(t.length>=2){m(!0);const se=b(t);l(se),m(!1)}else l([])},300);return()=>clearTimeout(G)},[t,b]),P.useEffect(()=>{const G=se=>{w.current&&!w.current.contains(se.target)&&x(!1)};return document.addEventListener("mousedown",G),()=>document.removeEventListener("mousedown",G)},[]);const K=G=>{G.preventDefault(),t.trim()&&(M(t),ee(`/buscar?q=${encodeURIComponent(t)}`),x(!1),e&&e())},Z=G=>{M(G.name),ee(`/producto/${G.id}`),x(!1),e&&e()},$=()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const G=window.SpeechRecognition||window.webkitSpeechRecognition,se=new G;se.lang="es-ES",se.start(),se.onresult=L=>{const R=L.results[0][0].transcript;n(R)}}else alert(D("voice_search_not_supported"))};return s.jsxs("div",{className:"relative w-full",ref:w,children:[s.jsxs("form",{onSubmit:K,className:"relative",children:[s.jsx("input",{ref:g,type:"text",value:t,onChange:G=>n(G.target.value),onFocus:()=>x(!0),placeholder:D("search_placeholder"),className:`
            w-full px-4 py-3 pl-12 pr-24 
            border border-gray-300 rounded-full 
            focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent
            ${r==="hero"?"text-lg py-4":""}
          `}),s.jsx(dn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsxs("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 flex items-center gap-1",children:[s.jsx("button",{type:"button",onClick:$,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",title:D("voice_search"),children:s.jsx(U_,{className:"h-4 w-4 text-gray-500"})}),s.jsx("button",{type:"submit",className:"px-4 py-1.5 bg-amber-500 text-white rounded-full text-sm font-medium hover:bg-amber-600 transition-colors",children:D("search")})]})]}),p&&(a.length>0||j.length>0||k.length>0)&&s.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-2xl border border-gray-200 z-50 max-h-96 overflow-y-auto",children:[u&&s.jsx("div",{className:"p-4 text-center text-gray-500",children:s.jsx(kd,{className:"h-5 w-5 animate-spin mx-auto"})}),a.length>0&&s.jsxs("div",{className:"p-2",children:[s.jsx("h4",{className:"text-xs font-semibold text-gray-500 px-3 py-2",children:D("suggestions")}),a.map(G=>s.jsxs("button",{onClick:()=>Z(G),className:"w-full flex items-center gap-3 px-3 py-2 hover:bg-gray-50 rounded-lg transition-colors",children:[G.image?s.jsx("img",{src:G.image,alt:G.name,className:"w-10 h-10 object-cover rounded"}):s.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded flex items-center justify-center",children:s.jsx(dn,{className:"h-4 w-4 text-gray-400"})}),s.jsxs("div",{className:"flex-1 text-left",children:[s.jsx("p",{className:"text-sm font-medium text-gray-800",children:G.name}),s.jsxs("p",{className:"text-xs text-gray-500",children:["$",G.price]})]})]},G.id))]}),j.length>0&&s.jsxs("div",{className:"p-2 border-t",children:[s.jsxs("h4",{className:"text-xs font-semibold text-gray-500 px-3 py-2 flex items-center gap-1",children:[s.jsx(tr,{className:"h-3 w-3"}),D("recent_searches")]}),j.map((G,se)=>s.jsxs("button",{onClick:()=>{n(G),K(new Event("submit"))},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-gray-50 rounded-lg transition-colors text-left",children:[s.jsx(tr,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-sm text-gray-700",children:G})]},se))]}),s.jsxs("div",{className:"p-2 border-t",children:[s.jsxs("h4",{className:"text-xs font-semibold text-gray-500 px-3 py-2 flex items-center gap-1",children:[s.jsx(Mt,{className:"h-3 w-3"}),D("popular_searches")]}),s.jsx("div",{className:"flex flex-wrap gap-2 px-3",children:k.map((G,se)=>s.jsx("button",{onClick:()=>{n(G),K(new Event("submit"))},className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-full text-sm hover:bg-gray-200 transition-colors",children:G},se))})]})]})]})},$5=()=>{const[r,e]=P.useState(!1),[t,n]=P.useState(!1),{cartCount:a}=sh(),{t:l,language:u,setLanguage:m}=fn(),{user:p,isAuthenticated:x}=ui(),g=Wt();P.useEffect(()=>{const k=()=>{n(window.scrollY>50)};return window.addEventListener("scroll",k),()=>window.removeEventListener("scroll",k)},[]);const w=()=>{m(u==="es"?"en":"es")},b=()=>{g("/"),e(!1)},j=()=>{g("/admin-login"),e(!1)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"h-24 lg:h-28"}),s.jsx("header",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${t?"bg-gradient-to-r from-gray-900 to-black shadow-lg py-6":"bg-gradient-to-r from-black to-gray-900 py-8"}`,children:s.jsxs("div",{className:"w-full px-6 lg:px-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 lg:gap-4",children:[s.jsx("button",{onClick:b,className:"flex items-center h-14 lg:h-16","aria-label":"Ir al inicio",children:s.jsx("img",{src:"/images/logo-icon.png",alt:"Batista",className:"h-full w-auto"})}),s.jsx("button",{onClick:b,className:"flex items-center",children:s.jsx("img",{src:"/images/logo-text.png",alt:"Batista Global Service",className:"h-8 lg:h-12 w-auto"})}),s.jsxs("button",{onClick:j,className:"p-2 lg:p-3 hover:bg-amber-600/20 rounded-full transition-colors relative group","aria-label":"Panel de Administracin",title:"Acceso Administrativo",children:[s.jsx(nc,{className:"h-5 w-5 lg:h-6 lg:w-6 text-amber-400 group-hover:text-amber-300"}),s.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 lg:w-3 lg:h-3 bg-amber-500 rounded-full animate-pulse"})]})]}),s.jsx("div",{className:"hidden lg:block flex-1 max-w-2xl mx-8",children:s.jsx(pv,{})}),s.jsxs("div",{className:"flex items-center gap-2 lg:gap-3",children:[s.jsx("button",{onClick:w,className:"p-2 lg:p-3 hover:bg-white/10 rounded-full transition-colors",children:u==="es"?s.jsx("img",{src:"https://flagcdn.com/w40/es.png",alt:"Espaol",className:"w-6 h-6 lg:w-7 lg:h-7 rounded-full border border-white/30"}):s.jsx("img",{src:"https://flagcdn.com/w40/us.png",alt:"English",className:"w-6 h-6 lg:w-7 lg:h-7 rounded-full border border-white/30"})}),s.jsxs(at,{to:"/cart",className:"p-2 lg:p-3 hover:bg-white/10 rounded-full transition-colors relative",children:[s.jsx(ic,{className:"h-5 w-5 lg:h-6 lg:w-6 text-white/80"}),a>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-amber-500 text-white text-xs font-bold rounded-full min-w-[18px] h-4 lg:min-w-[20px] lg:h-5 px-1 flex items-center justify-center border-2 border-black",children:a})]}),s.jsxs(at,{to:x?"/cliente/perfil":"/cliente/login",className:"hidden lg:block p-3 hover:bg-white/10 rounded-full transition-colors relative",children:[s.jsx(yo,{className:"h-6 w-6 text-white/80"}),x&&s.jsx("span",{className:"absolute top-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-black"})]}),s.jsx("button",{onClick:()=>e(!r),className:"lg:hidden p-2 hover:bg-white/10 rounded-full transition-colors",children:r?s.jsx(Ye,{className:"h-6 w-6 text-white"}):s.jsx(lg,{className:"h-6 w-6 text-white"})})]})]}),r&&s.jsxs("div",{className:"lg:hidden py-4 border-t border-white/10 mt-4",children:[s.jsx("div",{className:"mb-4",children:s.jsx(pv,{onClose:()=>e(!1)})}),s.jsxs("nav",{className:"flex flex-col space-y-2",children:[s.jsxs("button",{onClick:b,className:"flex items-center gap-3 px-4 py-4 hover:bg-white/10 rounded-lg text-white/80 hover:text-amber-400 text-lg",children:[s.jsx(sc,{className:"h-6 w-6"})," ",s.jsx("span",{children:l("inicio")})]}),s.jsxs(at,{to:"/tienda",className:"flex items-center gap-3 px-4 py-4 hover:bg-white/10 rounded-lg text-white/80 hover:text-amber-400 text-lg",onClick:()=>e(!1),children:[s.jsx(ic,{className:"h-6 w-6"})," ",s.jsx("span",{children:l("tienda")})]}),s.jsxs(at,{to:"/servicios",className:"flex items-center gap-3 px-4 py-4 hover:bg-white/10 rounded-lg text-white/80 hover:text-amber-400 text-lg",onClick:()=>e(!1),children:[s.jsx(un,{className:"h-6 w-6"})," ",s.jsx("span",{children:l("servicios")})]}),s.jsxs(at,{to:x?"/cliente/perfil":"/cliente/login",className:"flex items-center gap-3 px-4 py-4 hover:bg-white/10 rounded-lg text-white/80 hover:text-amber-400 text-lg",onClick:()=>e(!1),children:[s.jsx(yo,{className:"h-6 w-6"})," ",s.jsx("span",{children:l(x?"perfil":"ingresar")})]}),s.jsxs("button",{onClick:j,className:"flex items-center gap-3 px-4 py-4 hover:bg-amber-600/20 rounded-lg text-amber-400 text-lg",children:[s.jsx(nc,{className:"h-6 w-6"})," ",s.jsx("span",{children:"Admin"})]})]})]})]})})]})},B5=()=>{const{t:r}=fn(),e=new Date().getFullYear();return s.jsx("footer",{className:"bg-gradient-to-r from-gray-900 to-black text-white border-t border-amber-500/20",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs(at,{to:"/",className:"flex items-center gap-3",children:[s.jsx("img",{src:"/images/logo-icon.png",alt:"Batista Global",className:"h-10 w-auto"}),s.jsxs("span",{className:"font-bold text-xl",children:["Batista ",s.jsx("span",{className:"text-amber-400",children:"Global"})]})]}),s.jsx("p",{className:"text-gray-400 text-sm",children:r("descripcion_servicios")})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg mb-4 text-amber-400",children:r("enlaces_rapidos")}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx(at,{to:"/",className:"text-gray-400 hover:text-amber-400",children:r("inicio")})}),s.jsx("li",{children:s.jsx(at,{to:"/tienda",className:"text-gray-400 hover:text-amber-400",children:r("tienda")})}),s.jsx("li",{children:s.jsx(at,{to:"/servicios",className:"text-gray-400 hover:text-amber-400",children:r("servicios")})}),s.jsx("li",{children:s.jsx(at,{to:"/cart",className:"text-gray-400 hover:text-amber-400",children:r("carrito")})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg mb-4 text-amber-400",children:r("contactanos")}),s.jsxs("ul",{className:"space-y-3",children:[s.jsx("li",{children:s.jsxs("a",{href:"tel:+17866583567",className:"flex items-start gap-3 group hover:bg-white/5 p-2 rounded-lg",children:[s.jsx(ih,{className:"h-5 w-5 text-amber-400 flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-gray-400 group-hover:text-white",children:"+1 (786) 658-3567"})]})}),s.jsx("li",{children:s.jsxs("a",{href:"mailto:batistaglobalservice25@gmail.com",className:"flex items-start gap-3 group hover:bg-white/5 p-2 rounded-lg",children:[s.jsx(ra,{className:"h-5 w-5 text-amber-400 flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-gray-400 group-hover:text-white break-all",children:"batistaglobalservice25@gmail.com"})]})}),s.jsx("li",{children:s.jsxs("a",{href:"https://www.google.com/maps/search/?api=1&query=700+SW+57th+Ave+Miami+FL+33144",target:"_blank",rel:"noopener noreferrer",className:"flex items-start gap-3 group hover:bg-white/5 p-2 rounded-lg",children:[s.jsx(Cr,{className:"h-5 w-5 text-amber-400 flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-gray-400 group-hover:text-white",children:"700 SW 57th Ave, Miami FL"})]})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg mb-4 text-amber-400",children:r("horarios")}),s.jsx("div",{className:"space-y-2 mb-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(tr,{className:"h-5 w-5 text-amber-400"}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-gray-400",children:[r("lun_vie"),": 9:00 - 18:00"]}),s.jsxs("p",{className:"text-gray-400",children:[r("sabado"),": 10:00 - 16:00"]}),s.jsxs("p",{className:"text-gray-400",children:[r("domingo"),": 10:00 - 14:00"]})]})]})}),s.jsx("h3",{className:"font-bold text-lg mb-4 text-amber-400",children:r("siguenos")}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("a",{href:"https://facebook.com/BatistaGlobalServices",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-[#1877F2] rounded-full flex items-center justify-center hover:scale-110 transition-transform",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"white",children:s.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),s.jsx("a",{href:"https://instagram.com/batistaglobalservice",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-gradient-to-br from-[#833AB4] via-[#E4405F] to-[#FDC830] rounded-full flex items-center justify-center hover:scale-110 transition-transform",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"white",children:s.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zM5.838 12a6.162 6.162 0 1112.324 0 6.162 6.162 0 01-12.324 0zM12 16a4 4 0 110-8 4 4 0 010 8zm4.965-10.405a1.44 1.44 0 112.881.001 1.44 1.44 0 01-2.881-.001z"})})}),s.jsx("a",{href:"https://tiktok.com/@batista.global",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-black rounded-full flex items-center justify-center hover:scale-110 transition-transform border border-white/20",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"white",children:s.jsx("path",{d:"M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"})})})]})]})]}),s.jsx("div",{className:"border-t border-gray-800 mt-8 pt-6 text-center",children:s.jsx("p",{className:"text-gray-500 text-sm",children:r("copyright",{year:e,rights:r("derechos")})})})]})})},z5=()=>{const[r,e]=P.useState(!1),[t,n]=P.useState(""),[a,l]=P.useState(!1),{cartCount:u}=sh(),{t:m}=fn(),{user:p,logout:x,isAuthenticated:g}=ui(),w=Wt(),b=D=>{D.preventDefault(),t.trim()&&(w(`/tienda?buscar=${encodeURIComponent(t)}`),e(!1),n(""))},j=()=>{x(),l(!1),pe.success("Sesin cerrada correctamente"),w("/")},k=()=>{g?l(!a):w("/cliente/login")},M=()=>{w("/"),l(!1)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 z-50 bg-black/95 backdrop-blur-lg border-t border-amber-400/20 shadow-2xl",children:s.jsxs("div",{className:"flex items-center justify-around px-2 py-2",children:[s.jsxs("button",{onClick:M,className:"flex flex-col items-center justify-center p-2 text-white/80 hover:text-amber-400 transition-colors",children:[s.jsx(sc,{className:"w-5 h-5"}),s.jsx("span",{className:"text-[10px] mt-0.5",children:m("inicio")})]}),s.jsxs("button",{onClick:()=>e(!0),className:"flex flex-col items-center justify-center p-2 text-white/80 hover:text-amber-400 transition-colors",children:[s.jsx(dn,{className:"w-5 h-5"}),s.jsx("span",{className:"text-[10px] mt-0.5",children:m("buscar")})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:k,className:"flex flex-col items-center justify-center p-2 text-white/80 hover:text-amber-400 transition-colors",children:[g?s.jsx(xP,{className:"w-5 h-5"}):s.jsx(yo,{className:"w-5 h-5"}),s.jsx("span",{className:"text-[10px] mt-0.5",children:m(g?"mi_cuenta":"ingresar")})]}),a&&g&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>l(!1)}),s.jsxs("div",{className:"absolute bottom-full right-0 mb-2 w-48 bg-gray-900 rounded-xl shadow-2xl border border-amber-400/20 overflow-hidden z-50",children:[s.jsxs("div",{className:"p-3 border-b border-amber-400/20",children:[s.jsx("p",{className:"text-white font-medium text-sm truncate",children:p?.name||m("usuario")}),s.jsx("p",{className:"text-white/60 text-xs truncate",children:p?.email})]}),s.jsxs("div",{className:"py-1",children:[s.jsx(at,{to:"/cliente/perfil",className:"block px-4 py-2 text-sm text-white/80 hover:text-amber-400 hover:bg-white/5 transition-colors",onClick:()=>l(!1),children:m("mi_perfil")}),s.jsx(at,{to:"/cliente/pedidos",className:"block px-4 py-2 text-sm text-white/80 hover:text-amber-400 hover:bg-white/5 transition-colors",onClick:()=>l(!1),children:m("mis_pedidos")}),s.jsx(at,{to:"/cliente/favoritos",className:"block px-4 py-2 text-sm text-white/80 hover:text-amber-400 hover:bg-white/5 transition-colors",onClick:()=>l(!1),children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xo,{className:"w-4 h-4"}),m("favoritos")]})}),s.jsx("div",{className:"border-t border-amber-400/20 my-1"}),s.jsxs("button",{onClick:j,className:"w-full text-left px-4 py-2 text-sm text-red-400 hover:text-red-300 hover:bg-red-500/10 transition-colors flex items-center gap-2",children:[s.jsx(og,{className:"w-4 h-4"}),m("cerrar_sesion")]})]})]})]})]})]})}),r&&s.jsx("div",{className:"lg:hidden fixed inset-0 z-[60] bg-black/95 backdrop-blur-sm",children:s.jsx("div",{className:"flex items-start justify-center min-h-screen pt-20 px-4",children:s.jsxs("div",{className:"w-full max-w-md bg-gray-900 rounded-2xl p-6 border border-amber-400/20",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:m("buscar_productos")}),s.jsx("button",{onClick:()=>e(!1),className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:s.jsx(Ye,{className:"w-5 h-5 text-white/80"})})]}),s.jsxs("form",{onSubmit:b,children:[s.jsx("input",{type:"text",value:t,onChange:D=>n(D.target.value),placeholder:m("escribe_lo_que_buscas"),className:"w-full px-4 py-3 bg-black/50 border border-white/10 rounded-xl text-white placeholder:text-white/40 focus:outline-none focus:ring-2 focus:ring-amber-400 mb-4",autoFocus:!0}),s.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-amber-400 to-yellow-500 text-black font-semibold py-3 px-4 rounded-xl hover:shadow-lg transition-all",children:m("buscar")})]})]})})}),s.jsx("div",{className:"lg:hidden h-16"})]})},is=({children:r,showFooter:e=!0,showMobileBar:t=!0})=>s.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[s.jsx($5,{})," ",s.jsx("main",{className:"flex-grow",children:r}),e&&s.jsx(B5,{}),t&&s.jsx(z5,{}),s.jsx(wA,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]}),e1=P.createContext(),dg=()=>{const r=P.useContext(e1);if(!r)throw new Error("useAuth debe usarse dentro de AuthProvider");return r},q5=({children:r})=>{const[e,t]=P.useState(null),[n,a]=P.useState(!0);P.useEffect(()=>{const p=localStorage.getItem("adminAuth");if(p)try{t(JSON.parse(p))}catch(x){console.error("Error loading admin:",x)}a(!1)},[]);const m={user:e,loading:n,login:async(p,x)=>{try{if(p==="admin@batista.com"&&x==="Keily8520"){const g={id:"admin",email:p,name:"Administrador",role:"admin"};return t(g),localStorage.setItem("adminAuth",JSON.stringify(g)),pe.success(" Bienvenido Administrador"),{success:!0}}return pe.error(" Credenciales incorrectas"),{success:!1,error:"Credenciales invlidas"}}catch(g){return pe.error(" Error al iniciar sesin"),{success:!1,error:g.message}}},logout:()=>{t(null),localStorage.removeItem("adminAuth"),pe.success(" Sesin cerrada")},isAuthenticated:!!e};return s.jsx(e1.Provider,{value:m,children:r})},t1=P.createContext(),oh=()=>{const r=P.useContext(t1);if(!r)throw new Error("useServices debe usarse dentro de ServicesProvider");return r},H5=({children:r})=>{const[e,t]=P.useState([]),[n,a]=P.useState(!1),[l,u]=P.useState(null),m=P.useCallback(async()=>{a(!0),u(null);try{const j=(await ko(ln(Dt,"services"))).docs.map(k=>({id:k.id,...k.data()}));t(j),console.log(" Servicios cargados:",j.length),j.length===0&&console.log(" No hay servicios en Firebase")}catch(b){console.error(" Error cargando servicios:",b),u("Error al cargar los servicios")}finally{a(!1)}},[]),w={services:e,loading:n,error:l,loadServices:m,addService:async b=>{a(!0);try{const j={...b,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},M={id:(await Kf(ln(Dt,"services"),j)).id,...j};return t(D=>[M,...D]),pe.success(" Servicio creado correctamente"),M}catch(j){throw console.error(" Error agregando servicio:",j),pe.error("Error al crear el servicio"),j}finally{a(!1)}},updateService:async(b,j)=>{a(!0);try{const k=Cs(Dt,"services",b),M={...j,updatedAt:new Date().toISOString()};return await Wf(k,M),t(D=>D.map(ee=>ee.id===b?{...ee,...M}:ee)),pe.success(" Servicio actualizado correctamente"),{id:b,...M}}catch(k){throw console.error(" Error actualizando servicio:",k),pe.error("Error al actualizar el servicio"),k}finally{a(!1)}},deleteService:async b=>{a(!0);try{const j=Cs(Dt,"services",b);return await Gf(j),t(k=>k.filter(M=>M.id!==b)),pe.success(" Servicio eliminado correctamente"),b}catch(j){throw console.error(" Error eliminando servicio:",j),pe.error("Error al eliminar el servicio"),j}finally{a(!1)}},servicesCount:e.length};return s.jsx(t1.Provider,{value:w,children:r})},r1=P.createContext(),s1=()=>{const r=P.useContext(r1);if(!r)throw new Error("useDestinos debe usarse dentro de DestinosProvider");return r},fv=[{id:"destino-1",nombre:"Punta Cana",imagen:"https://images.pexels.com/photos/1285625/pexels-photo-1285625.jpeg",precioMin:499,precioMax:599,precioOfertaMin:399,precioOfertaMax:499,descripcion:"Paraso caribeo con las mejores playas",activo:!0,destacado:!0,orden:1},{id:"destino-2",nombre:"Cancn",imagen:"https://images.pexels.com/photos/1533720/pexels-photo-1533720.jpeg",precioMin:549,precioMax:699,precioOfertaMin:449,precioOfertaMax:549,descripcion:"Aguas turquesas y diversin sin lmites",activo:!0,destacado:!0,orden:2},{id:"destino-3",nombre:"Miami",imagen:"https://images.pexels.com/photos/161963/chicago-illinois-skyline-skyscrapers-161963.jpeg",precioMin:649,precioMax:799,precioOfertaMin:549,precioOfertaMax:649,descripcion:"Ciudad vibrante y playas espectaculares",activo:!0,destacado:!0,orden:3},{id:"destino-4",nombre:"La Habana",imagen:"https://images.pexels.com/photos/3581363/pexels-photo-3581363.jpeg",precioMin:399,precioMax:499,precioOfertaMin:299,precioOfertaMax:399,descripcion:"Historia, cultura y autenticidad cubana",activo:!0,destacado:!0,orden:4}],W5=({children:r})=>{const[e,t]=P.useState([]),[n,a]=P.useState(!1),[l,u]=P.useState(null),m=P.useCallback(async()=>{a(!0),u(null);try{const j=(await ko(ln(Dt,"destinos"))).docs.map(k=>({id:k.id,...k.data()}));console.log(" Destinos desde Firebase:",j),j.length>0?(t(j),console.log(" Usando datos de Firebase")):(console.log(" No hay destinos en Firebase, usando datos de ejemplo"),t(fv))}catch(b){console.error(" Error cargando destinos:",b),u("Error al cargar los destinos"),t(fv)}finally{a(!1)}},[]),w={destinos:e,loading:n,error:l,loadDestinos:m,addDestino:async b=>{a(!0);try{const j={...b,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},M={id:(await Kf(ln(Dt,"destinos"),j)).id,...j};return t(D=>[...D,M]),pe.success(" Destino agregado correctamente"),M}catch(j){throw console.error(" Error agregando destino:",j),pe.error("Error al agregar el destino"),j}finally{a(!1)}},updateDestino:async(b,j)=>{a(!0);try{const k=Cs(Dt,"destinos",b),M={...j,updatedAt:new Date().toISOString()};return await Wf(k,M),t(D=>D.map(ee=>ee.id===b?{...ee,...M}:ee)),pe.success(" Destino actualizado correctamente"),{id:b,...M}}catch(k){throw console.error(" Error actualizando destino:",k),pe.error("Error al actualizar el destino"),k}finally{a(!1)}},deleteDestino:async b=>{a(!0);try{const j=Cs(Dt,"destinos",b);return await Gf(j),t(k=>k.filter(M=>M.id!==b)),pe.success(" Destino eliminado correctamente"),b}catch(j){throw console.error(" Error eliminando destino:",j),pe.error("Error al eliminar el destino"),j}finally{a(!1)}}};return s.jsx(r1.Provider,{value:w,children:r})},n1=()=>{const[r,e]=P.useState(!1),[t,n]=P.useState(!1);P.useEffect(()=>{const p=()=>{n(window.innerWidth<768)};return p(),window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]);const a="17866583567",l="Hola%20Batista%20Global%20Service%2C%20necesito%20informaci%C3%B3n",u=()=>{window.open(`https://wa.me/${a}?text=${l}`,"_blank")},m=()=>t?"80px":"24px";return s.jsxs("button",{onClick:u,onMouseEnter:()=>e(!0),onMouseLeave:()=>e(!1),className:"fixed z-50 group",style:{bottom:m(),left:"24px"},"aria-label":"Chatear por WhatsApp",children:[s.jsx("span",{className:"absolute inset-0 rounded-full bg-green-500 animate-ping opacity-75"}),s.jsx("span",{className:"absolute inset-0 rounded-full bg-green-400 animate-ping opacity-50",style:{animationDelay:"0.5s"}}),s.jsx("span",{className:"absolute inset-0 rounded-full bg-green-300 animate-ping opacity-25",style:{animationDelay:"1s"}}),s.jsx("div",{className:`
        relative bg-gradient-to-r from-green-500 to-green-600 
        text-white rounded-full p-4 shadow-lg
        transition-all duration-300 transform
        ${r?"scale-110 rotate-12 shadow-2xl":"scale-100"}
      `,children:s.jsx(lR,{className:"h-8 w-8"})}),r&&!t&&s.jsxs("div",{className:"absolute bottom-16 left-0 bg-gray-800 text-white px-4 py-2 rounded-lg shadow-lg whitespace-nowrap",children:[s.jsx("p",{className:"text-sm font-medium",children:"Chatea con nosotros!"}),s.jsx("div",{className:"absolute bottom-0 left-6 transform translate-y-1/2 rotate-45 w-3 h-3 bg-gray-800"})]})]})},G5=()=>{const[r,e]=id.useState(!1),{user:t,logout:n}=dg(),a=ai(),l=Wt(),u=[{path:"/admin/dashboard",icon:QP,label:"Dashboard"},{path:"/admin/products",icon:xr,label:"Productos"},{path:"/admin/services",icon:Io,label:"Servicios"},{path:"/admin/destinos",icon:Cr,label:"Destinos Populares"},{path:"/admin/orders",icon:lo,label:"Pedidos"},{path:"/admin/analytics",icon:cP,label:"Analticas"},{path:"/admin/users",icon:_c,label:"Usuarios"},{path:"/admin/settings",icon:cg,label:"Configuracin"}],m=()=>{n(),l("/admin-login")},p=()=>{l("/")},x=()=>{l(-1)};return id.useEffect(()=>{e(!1)},[a]),s.jsxs("div",{className:"min-h-screen bg-gray-100",children:[s.jsx("div",{className:"bg-white shadow-sm sticky top-0 z-30 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>e(!0),className:"lg:hidden p-2 hover:bg-gray-100 rounded-lg",children:s.jsx(lg,{className:"h-6 w-6"})}),s.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-3 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors shadow-sm",children:[s.jsx(sc,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Inicio"})]}),s.jsx("button",{onClick:x,className:"flex items-center gap-2 px-3 py-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors sm:hidden",children:s.jsx(ea,{className:"h-5 w-5"})})]}),s.jsx("h1",{className:"text-base lg:text-lg font-bold text-gray-800",children:"Panel Administrativo"}),s.jsx("div",{className:"hidden md:block text-sm text-gray-600 truncate max-w-[200px]",children:t?.email||"admin@batista.com"}),s.jsx("div",{className:"w-10 md:hidden"})]})}),r&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>e(!1)}),s.jsx("div",{className:`fixed inset-y-0 left-0 w-64 bg-white shadow-xl z-50 transform transition-transform duration-300 ease-in-out ${r?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,children:s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b flex justify-between items-center bg-gradient-to-r from-amber-50 to-orange-50",children:[s.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Batista Admin"}),s.jsx("button",{onClick:()=>e(!1),className:"lg:hidden p-2 hover:bg-white/50 rounded-lg",children:s.jsx(Ye,{className:"h-5 w-5"})})]}),s.jsxs("button",{onClick:()=>{l("/"),e(!1)},className:"flex items-center gap-3 px-4 py-3 mx-4 mt-4 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors shadow-md",children:[s.jsx(sc,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Volver al sitio web"})]}),s.jsx("div",{className:"px-4 mt-4 mb-2",children:s.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Men de Administracin"})}),s.jsx("nav",{className:"flex-1 px-4 space-y-1 overflow-y-auto",children:u.map(g=>{const w=g.icon,b=a.pathname===g.path||g.path==="/admin/services"&&a.pathname.includes("/admin/services");return s.jsxs(at,{to:g.path,className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${b?"bg-amber-50 text-amber-600 font-medium":"text-gray-600 hover:bg-gray-100"}`,onClick:()=>e(!1),children:[s.jsx(w,{className:"h-5 w-5"}),s.jsx("span",{children:g.label})]},g.path)})}),s.jsxs("div",{className:"p-4 border-t bg-gray-50",children:[s.jsxs("div",{className:"mb-4 px-4 py-3 bg-white rounded-lg shadow-sm",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Administrador"}),s.jsx("p",{className:"text-sm font-medium truncate text-gray-800",children:t?.email||"admin@batista.com"})]}),s.jsxs("button",{onClick:m,className:"flex items-center gap-3 px-4 py-3 w-full text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[s.jsx(og,{className:"h-5 w-5"}),s.jsx("span",{children:"Cerrar Sesin"})]})]})]})}),s.jsx("div",{className:"lg:pl-64",children:s.jsx("main",{className:"p-4 sm:p-6",children:s.jsx(d2,{})})})]})},Nc="products",hg=async()=>{try{const r=ln(Dt,Nc),e=zf(r,qw("createdAt","desc")),t=await ko(e),n=[];return t.forEach(a=>{n.push({id:a.id,...a.data()})}),{success:!0,data:n}}catch(r){return console.error("Error getting products:",r),{success:!1,error:r.message}}},K5=async r=>{try{const e=Cs(Dt,Nc,r),t=await Kw(e);return t.exists()?{success:!0,data:{id:t.id,...t.data()}}:{success:!1,error:"Producto no encontrado"}}catch(e){return console.error("Error getting product:",e),{success:!1,error:e.message}}},Q5=async(r,e=null)=>{try{let t=null;if(e){const l=tc(rc,`products/${Date.now()}_${e.name}`);await tg(l,e),t=await rg(l)}const n=ln(Dt,Nc);return{success:!0,data:{id:(await Kf(n,{...r,imageUrl:t,createdAt:Ap(),updatedAt:Ap()})).id,...r,imageUrl:t}}}catch(t){return console.error("Error creating product:",t),{success:!1,error:t.message}}},Y5=async(r,e,t=null)=>{try{const n=Cs(Dt,Nc,r);let a=e.imageUrl;if(t){if(e.imageUrl)try{const u=tc(rc,e.imageUrl);await h_(u)}catch(u){console.warn("Error deleting old image:",u)}const l=tc(rc,`products/${Date.now()}_${t.name}`);await tg(l,t),a=await rg(l)}return await Wf(n,{...e,imageUrl:a,updatedAt:Ap()}),{success:!0}}catch(n){return console.error("Error updating product:",n),{success:!1,error:n.message}}},X5=async(r,e=null)=>{try{if(e)try{const n=tc(rc,e);await h_(n)}catch(n){console.warn("Error deleting image:",n)}const t=Cs(Dt,Nc,r);return await Gf(t),{success:!0}}catch(t){return console.error("Error deleting product:",t),{success:!1,error:t.message}}},J5="orders",Z5=async()=>{try{const r=ln(Dt,J5),e=zf(r,qw("createdAt","desc")),t=await ko(e),n=[];return t.forEach(a=>{n.push({id:a.id,...a.data()})}),{success:!0,data:n}}catch(r){return console.error("Error getting orders:",r),{success:!0,data:[{id:"ORD-001",customer:{name:"Juan Prez",email:"juan@email.com"},total:125.99,status:"delivered",createdAt:new Date().toISOString(),items:[]},{id:"ORD-002",customer:{name:"Mara Garca",email:"maria@email.com"},total:89.99,status:"processing",createdAt:new Date().toISOString(),items:[]},{id:"ORD-003",customer:{name:"Carlos Rodrguez",email:"carlos@email.com"},total:299.99,status:"pending",createdAt:new Date().toISOString(),items:[]},{id:"ORD-004",customer:{name:"Ana Martnez",email:"ana@email.com"},total:54.5,status:"shipped",createdAt:new Date().toISOString(),items:[]},{id:"ORD-005",customer:{name:"Pedro Snchez",email:"pedro@email.com"},total:199.99,status:"delivered",createdAt:new Date().toISOString(),items:[]}]}}},e6=()=>{const[r,e]=P.useState({totalSales:0,totalOrders:0,totalVisits:12456,totalProducts:0,pendingOrders:0,completedOrders:0,lowStockProducts:0,revenue:0}),[t,n]=P.useState([]),[a,l]=P.useState(!0);P.useEffect(()=>{u()},[]);const u=async()=>{l(!0);try{const g=await hg(),w=await Z5();if(g.success){const b=g.data,j=b.filter(k=>k.stock<10).length;e(k=>({...k,totalProducts:b.length,lowStockProducts:j}))}if(w.success){const b=w.data,j=b.filter(D=>D.status==="pending"||D.status==="processing").length,k=b.filter(D=>D.status==="delivered"||D.status==="completed").length,M=b.reduce((D,ee)=>D+(ee.total||0),0);e(D=>({...D,totalOrders:b.length,pendingOrders:j,completedOrders:k,totalSales:M,revenue:M*.3})),n(b.slice(0,5))}}catch(g){console.error("Error cargando dashboard:",g),pe.error("Error al cargar datos del dashboard")}finally{l(!1)}},m=g=>new Intl.NumberFormat("es-CU",{style:"currency",currency:"CUP",minimumFractionDigits:0,maximumFractionDigits:0}).format(g||0),p=g=>{const w={pending:{color:"bg-yellow-100 text-yellow-800",icon:tr,text:"Pendiente"},processing:{color:"bg-blue-100 text-blue-800",icon:xr,text:"Procesando"},shipped:{color:"bg-purple-100 text-purple-800",icon:Io,text:"Enviado"},delivered:{color:"bg-green-100 text-green-800",icon:yr,text:"Entregado"},cancelled:{color:"bg-red-100 text-red-800",icon:ta,text:"Cancelado"}};return w[g]||w.pending},x=g=>new Date(g).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"});return a?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:"Dashboard"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Bienvenido de nuevo, Administrador"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:[s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl shadow-lg",children:s.jsx(Ed,{className:"w-6 h-6 text-white"})}),s.jsx("span",{className:"text-xs font-medium text-green-600 bg-green-100 px-3 py-1.5 rounded-full",children:"+12.5%"})]}),s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Ventas Totales"}),s.jsxs("div",{className:"flex items-end justify-between",children:[s.jsx("span",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:m(r.totalSales)}),s.jsx("span",{className:"text-sm text-gray-500",children:"ltimo mes"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-xl shadow-lg",children:s.jsx(lo,{className:"w-6 h-6 text-white"})}),s.jsx("span",{className:"text-xs font-medium text-blue-600 bg-blue-100 px-3 py-1.5 rounded-full",children:"+8.2%"})]}),s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"rdenes Totales"}),s.jsxs("div",{className:"flex items-end justify-between",children:[s.jsx("span",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:r.totalOrders}),s.jsxs("span",{className:"text-sm text-gray-500",children:[r.pendingOrders," pendientes"]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl shadow-lg",children:s.jsx(_c,{className:"w-6 h-6 text-white"})}),s.jsx("span",{className:"text-xs font-medium text-purple-600 bg-purple-100 px-3 py-1.5 rounded-full",children:"+5.3%"})]}),s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Visitantes"}),s.jsxs("div",{className:"flex items-end justify-between",children:[s.jsx("span",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:r.totalVisits.toLocaleString()}),s.jsx("span",{className:"text-sm text-gray-500",children:"este mes"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-orange-500 to-red-600 rounded-xl shadow-lg",children:s.jsx(xr,{className:"w-6 h-6 text-white"})}),s.jsxs("span",{className:"text-xs font-medium text-orange-600 bg-orange-100 px-3 py-1.5 rounded-full",children:[r.lowStockProducts," bajo stock"]})]}),s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Productos"}),s.jsxs("div",{className:"flex items-end justify-between",children:[s.jsx("span",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:r.totalProducts}),s.jsx("span",{className:"text-sm text-gray-500",children:"en catlogo"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 bg-white rounded-2xl shadow-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"rdenes Recientes"}),s.jsx("button",{onClick:()=>window.location.href="/admin/orders",className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Ver todas"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Orden"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cliente"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Fecha"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Estado"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:t.length>0?t.map((g,w)=>{const b=p(g.status),j=b.icon;return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsxs("td",{className:"px-4 py-4 text-sm font-medium text-gray-900",children:["#",g.id?.slice(-6)||`ORD-${w+1}`]}),s.jsx("td",{className:"px-4 py-4 text-sm text-gray-600",children:g.customer?.name||"Cliente"}),s.jsx("td",{className:"px-4 py-4 text-sm text-gray-600",children:x(g.createdAt)}),s.jsx("td",{className:"px-4 py-4 text-sm font-medium text-gray-900",children:m(g.total)}),s.jsx("td",{className:"px-4 py-4",children:s.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1.5 rounded-full text-xs font-medium ${b.color}`,children:[s.jsx(j,{className:"w-3 h-3"}),b.text]})})]},w)}):s.jsx("tr",{children:s.jsx("td",{colSpan:"5",className:"px-4 py-8 text-center text-gray-500",children:"No hay rdenes recientes"})})})]})})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Resumen de Ventas"}),s.jsx(Mt,{className:"w-5 h-5 text-gray-400"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Ingresos totales"}),s.jsx("span",{className:"font-semibold text-gray-900",children:m(r.totalSales)})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"rdenes completadas"}),s.jsx("span",{className:"font-semibold text-gray-900",children:r.completedOrders})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Ticket promedio"}),s.jsx("span",{className:"font-semibold text-gray-900",children:m(r.completedOrders>0?r.totalSales/r.completedOrders:0)})]}),s.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Margen estimado"}),s.jsx("span",{className:"font-semibold text-green-600",children:m(r.revenue)})]})]}),s.jsxs("div",{className:"mt-6 pt-6 border-t",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Productos con stock bajo"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Necesitan reabastecimiento"}),s.jsx("span",{className:"font-semibold text-orange-600",children:r.lowStockProducts})]}),s.jsx("button",{onClick:()=>window.location.href="/admin/products?filter=low-stock",className:"w-full bg-blue-50 text-blue-600 px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-100 transition-colors",children:"Ver productos"})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Acciones Rpidas"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("button",{onClick:()=>window.location.href="/admin/products/new",className:"flex flex-col items-center gap-3 p-4 bg-gray-50 rounded-xl hover:bg-blue-50 hover:text-blue-600 transition-colors group",children:[s.jsx("div",{className:"p-3 bg-white rounded-lg shadow-sm group-hover:bg-blue-600 group-hover:text-white transition-colors",children:s.jsx(xr,{className:"w-5 h-5"})}),s.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-blue-600",children:"Nuevo Producto"})]}),s.jsxs("button",{onClick:()=>window.location.href="/admin/orders",className:"flex flex-col items-center gap-3 p-4 bg-gray-50 rounded-xl hover:bg-blue-50 hover:text-blue-600 transition-colors group",children:[s.jsx("div",{className:"p-3 bg-white rounded-lg shadow-sm group-hover:bg-blue-600 group-hover:text-white transition-colors",children:s.jsx(lo,{className:"w-5 h-5"})}),s.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-blue-600",children:"Ver rdenes"})]}),s.jsxs("button",{onClick:()=>window.location.href="/admin/products?filter=low-stock",className:"flex flex-col items-center gap-3 p-4 bg-gray-50 rounded-xl hover:bg-blue-50 hover:text-blue-600 transition-colors group",children:[s.jsx("div",{className:"p-3 bg-white rounded-lg shadow-sm group-hover:bg-blue-600 group-hover:text-white transition-colors",children:s.jsx(Mt,{className:"w-5 h-5"})}),s.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-blue-600",children:"Stock Bajo"})]}),s.jsxs("button",{onClick:()=>window.location.href="/admin/analytics",className:"flex flex-col items-center gap-3 p-4 bg-gray-50 rounded-xl hover:bg-blue-50 hover:text-blue-600 transition-colors group",children:[s.jsx("div",{className:"p-3 bg-white rounded-lg shadow-sm group-hover:bg-blue-600 group-hover:text-white transition-colors",children:s.jsx(Ed,{className:"w-5 h-5"})}),s.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-blue-600",children:"Reportes"})]})]})]})]})},t6=()=>{const[r,e]=P.useState([]),[t,n]=P.useState(!0);P.useEffect(()=>{a()},[]);const a=async()=>{const u=await hg();u.success?e(u.data):pe.error("Error al cargar productos"),n(!1)},l=async(u,m)=>{window.confirm(`Eliminar "${m}"?`)&&(await X5(u)).success&&(pe.success("Producto eliminado"),a())};return t?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Productos"}),s.jsx(at,{to:"/admin/products/new",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:"+ Nuevo Producto"})]}),r.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[s.jsx("p",{className:"text-gray-500 text-lg mb-4",children:"No hay productos disponibles"}),s.jsx(at,{to:"/admin/products/new",className:"text-blue-600 hover:text-blue-800 font-medium",children:"Crear el primer producto "})]}):s.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Producto"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categora"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Precio"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:r.map(u=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center",children:[u.imageUrl?s.jsx("img",{src:u.imageUrl,alt:u.name,className:"w-10 h-10 rounded object-cover mr-3"}):s.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded mr-3"}),s.jsx("span",{className:"font-medium text-gray-900",children:u.name})]})}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:u.category||"Sin categora"}),s.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:["$",u.price||0]}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:s.jsxs("span",{className:`px-2 py-1 rounded-full text-xs ${u.stock>10?"bg-green-100 text-green-800":u.stock>0?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[u.stock||0," unidades"]})}),s.jsxs("td",{className:"px-6 py-4 text-sm",children:[s.jsx(at,{to:`/admin/products/edit/${u.id}`,className:"text-blue-600 hover:text-blue-900 mr-4 font-medium",children:"Editar"}),s.jsx("button",{onClick:()=>l(u.id,u.name),className:"text-red-600 hover:text-red-900 font-medium",children:"Eliminar"})]})]},u.id))})]})})]})},r6=()=>{const[r]=P.useState([{id:"ORD-001",customer:"Juan Prez",email:"juan@email.com",total:149.99,date:"2024-02-10",status:"Completado",payment:"Tarjeta"},{id:"ORD-002",customer:"Mara Garca",email:"maria@email.com",total:89.5,date:"2024-02-10",status:"Pendiente",payment:"PayPal"},{id:"ORD-003",customer:"Carlos Lpez",email:"carlos@email.com",total:299.99,date:"2024-02-09",status:"Enviado",payment:"Tarjeta"},{id:"ORD-004",customer:"Ana Rodrguez",email:"ana@email.com",total:45.99,date:"2024-02-09",status:"Completado",payment:"Transferencia"},{id:"ORD-005",customer:"Pedro Martnez",email:"pedro@email.com",total:189.99,date:"2024-02-08",status:"Cancelado",payment:"Tarjeta"},{id:"ORD-006",customer:"Laura Snchez",email:"laura@email.com",total:75.25,date:"2024-02-08",status:"Procesando",payment:"PayPal"},{id:"ORD-007",customer:"Roberto Daz",email:"roberto@email.com",total:320,date:"2024-02-07",status:"Enviado",payment:"Tarjeta"},{id:"ORD-008",customer:"Sofa Ruiz",email:"sofia@email.com",total:55.5,date:"2024-02-07",status:"Completado",payment:"PayPal"}]),e={Completado:"bg-green-100 text-green-800",Pendiente:"bg-yellow-100 text-yellow-800",Enviado:"bg-blue-100 text-blue-800",Procesando:"bg-purple-100 text-purple-800",Cancelado:"bg-red-100 text-red-800"};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestin de rdenes"}),s.jsx("p",{className:"text-gray-600",children:"Administra y procesa las rdenes de los clientes"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Total rdenes"}),s.jsx("p",{className:"text-2xl font-bold",children:"156"}),s.jsx("p",{className:"text-sm text-green-500",children:"+12% este mes"})]}),s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Ventas Totales"}),s.jsx("p",{className:"text-2xl font-bold",children:"$12,450"}),s.jsx("p",{className:"text-sm text-green-500",children:"+8% este mes"})]}),s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"rdenes Pendientes"}),s.jsx("p",{className:"text-2xl font-bold",children:"8"}),s.jsx("p",{className:"text-sm text-yellow-500",children:"Necesitan atencin"})]}),s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Ticket Promedio"}),s.jsx("p",{className:"text-2xl font-bold",children:"$79.81"}),s.jsx("p",{className:"text-sm text-green-500",children:"+5% este mes"})]})]}),s.jsx("div",{className:"bg-white p-4 rounded-xl shadow",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(dn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Buscar rdenes...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("select",{className:"px-4 py-2 border rounded-lg",children:[s.jsx("option",{children:"Todos los estados"}),s.jsx("option",{children:"Completado"}),s.jsx("option",{children:"Pendiente"}),s.jsx("option",{children:"Enviado"}),s.jsx("option",{children:"Cancelado"})]}),s.jsx("input",{type:"date",className:"px-4 py-2 border rounded-lg"}),s.jsxs("button",{className:"flex items-center px-4 py-2 border rounded-lg hover:bg-gray-50",children:[s.jsx(L_,{className:"w-5 h-5 mr-2"}),"Filtros"]})]})}),s.jsxs("div",{className:"bg-white rounded-xl shadow overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"rdenes Recientes"}),s.jsxs("button",{className:"flex items-center text-gray-600 hover:text-gray-900",children:[s.jsx(M_,{className:"w-5 h-5 mr-2"}),"Exportar CSV"]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"ID Orden"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cliente"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Fecha"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Estado"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Pago"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Acciones"})]})}),s.jsx("tbody",{className:"divide-y",children:r.map(t=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 font-medium",children:t.id}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:t.customer}),s.jsx("p",{className:"text-sm text-gray-500",children:t.email})]})}),s.jsx("td",{className:"px-6 py-4",children:t.date}),s.jsxs("td",{className:"px-6 py-4 font-bold",children:["$",t.total.toFixed(2)]}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${e[t.status]}`,children:t.status})}),s.jsx("td",{className:"px-6 py-4",children:t.payment}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"Ver detalles",children:s.jsx(O_,{className:"w-4 h-4"})}),t.status==="Pendiente"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"p-2 text-green-600 hover:bg-green-50 rounded",title:"Aprobar",children:s.jsx(yr,{className:"w-4 h-4"})}),s.jsx("button",{className:"p-2 text-red-600 hover:bg-red-50 rounded",title:"Rechazar",children:s.jsx(ta,{className:"w-4 h-4"})})]}),t.status==="Procesando"&&s.jsx("button",{className:"p-2 text-purple-600 hover:bg-purple-50 rounded",title:"Marcar como enviado",children:s.jsx(Io,{className:"w-4 h-4"})})]})})]},t.id))})]})})]})]})},s6=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Analticas y Reportes"}),s.jsx("p",{className:"text-gray-600",children:"Mtricas y anlisis de rendimiento de tu tienda"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("select",{className:"px-4 py-2 border rounded-lg",children:[s.jsx("option",{children:"ltimos 7 das"}),s.jsx("option",{children:"ltimos 30 das"}),s.jsx("option",{children:"ltimos 3 meses"}),s.jsx("option",{children:"Este ao"})]}),s.jsxs("button",{className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[s.jsx(M_,{className:"w-5 h-5 mr-2"}),"Exportar Reporte"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white p-6 rounded-xl shadow",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Ingresos Totales"}),s.jsx("p",{className:"text-2xl font-bold mt-2",children:"$12,450"}),s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsx(Mt,{className:"w-4 h-4 text-green-500 mr-1"}),s.jsx("span",{className:"text-sm text-green-500",children:"+18.2%"}),s.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"vs mes pasado"})]})]}),s.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:s.jsx(Ed,{className:"w-6 h-6 text-green-600"})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"rdenes Totales"}),s.jsx("p",{className:"text-2xl font-bold mt-2",children:"156"}),s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsx(Mt,{className:"w-4 h-4 text-green-500 mr-1"}),s.jsx("span",{className:"text-sm text-green-500",children:"+12.5%"}),s.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"vs mes pasado"})]})]}),s.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:s.jsx(ic,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Clientes Nuevos"}),s.jsx("p",{className:"text-2xl font-bold mt-2",children:"48"}),s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsx(Mt,{className:"w-4 h-4 text-green-500 mr-1"}),s.jsx("span",{className:"text-sm text-green-500",children:"+8.7%"}),s.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"vs mes pasado"})]})]}),s.jsx("div",{className:"bg-purple-100 p-3 rounded-lg",children:s.jsx(_c,{className:"w-6 h-6 text-purple-600"})})]})}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Ticket Promedio"}),s.jsx("p",{className:"text-2xl font-bold mt-2",children:"$79.81"}),s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsx(Mt,{className:"w-4 h-4 text-green-500 mr-1"}),s.jsx("span",{className:"text-sm text-green-500",children:"+5.4%"}),s.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"vs mes pasado"})]})]}),s.jsx("div",{className:"bg-orange-100 p-3 rounded-lg",children:s.jsx(Ed,{className:"w-6 h-6 text-orange-600"})})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Ventas por Da"}),s.jsx(Wi,{className:"w-5 h-5 text-gray-400"})]}),s.jsx("div",{className:"h-64 flex items-end space-x-2",children:[40,65,80,60,75,90,85].map((r,e)=>s.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[s.jsx("div",{className:"w-full bg-blue-500 rounded-t",style:{height:`${r}%`}}),s.jsx("span",{className:"text-xs text-gray-500 mt-2",children:["Lun","Mar","Mi","Jue","Vie","Sb","Dom"][e]})]},e))})]}),s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow",children:[s.jsx("h2",{className:"text-lg font-semibold mb-6",children:"Productos Ms Vendidos"}),s.jsx("div",{className:"space-y-4",children:[{name:"Smartphone X",sales:45,revenue:"$13,500"},{name:"Audfonos Bluetooth",sales:32,revenue:"$2,880"},{name:"Smart Watch Pro",sales:28,revenue:"$5,600"},{name:"Camiseta Casual",sales:25,revenue:"$625"},{name:"Zapatos Deportivos",sales:18,revenue:"$1,440"}].map((r,e)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:r.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:[r.sales," unidades"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-bold",children:r.revenue}),s.jsxs("p",{className:"text-sm text-green-500",children:["+",Math.floor(Math.random()*20)+5,"%"]})]})]},e))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow",children:[s.jsx("h3",{className:"font-semibold mb-4",children:"Dispositivos de Acceso"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("span",{children:"Mvil"}),s.jsx("span",{className:"font-medium",children:"62%"})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"62%"}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("span",{children:"Desktop"}),s.jsx("span",{className:"font-medium",children:"32%"})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"32%"}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("span",{children:"Tablet"}),s.jsx("span",{className:"font-medium",children:"6%"})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:"6%"}})})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow",children:[s.jsx("h3",{className:"font-semibold mb-4",children:"Fuentes de Trfico"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Bsqueda Orgnica"}),s.jsx("span",{className:"font-medium",children:"42%"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Redes Sociales"}),s.jsx("span",{className:"font-medium",children:"28%"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Marketing por Email"}),s.jsx("span",{className:"font-medium",children:"18%"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Directo"}),s.jsx("span",{className:"font-medium",children:"12%"})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow",children:[s.jsx("h3",{className:"font-semibold mb-4",children:"Tasa de Conversin"}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-32 h-32 rounded-full border-8 border-blue-500 mb-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-3xl font-bold",children:"4.2%"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Conversin"})]})}),s.jsx("p",{className:"text-sm text-gray-600",children:"+0.8% respecto al mes anterior"})]})]})]})]}),n6=[{id:"shipping",name:"Paquetera",icon:xr,color:"green",desc:"Envos nacionales e internacionales"},{id:"tours",name:"Tours",icon:LR,color:"blue",desc:"Excursiones y paquetes tursticos"},{id:"rental",name:"Renta de Autos",icon:$r,color:"amber",desc:"Vehculos de todo tipo"},{id:"hotels",name:"Hoteles",icon:Yn,color:"purple",desc:"Alojamientos y resorts"},{id:"flights",name:"Vuelos",icon:So,color:"sky",desc:"Reservas de vuelos"},{id:"visas",name:"Visas",icon:To,color:"emerald",desc:"Trmites migratorios"}],i6=({selected:r,onChange:e,disabled:t})=>s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Tipo de Servicio"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n6.map(n=>{const a=n.icon,l=r===n.id;return s.jsxs("button",{type:"button",onClick:()=>!t&&e(n.id),disabled:t,className:`
                relative p-6 rounded-xl border-2 transition-all text-left
                ${l?`border-${n.color}-500 bg-${n.color}-50 shadow-lg`:"border-gray-200 hover:border-gray-300 bg-white"}
                ${t?"opacity-50 cursor-not-allowed":"cursor-pointer"}
              `,children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`p-3 rounded-xl ${l?`bg-${n.color}-500 text-white`:`bg-${n.color}-100 text-${n.color}-600`}`,children:s.jsx(a,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:`font-semibold ${l?`text-${n.color}-700`:"text-gray-700"}`,children:n.name}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:n.desc})]})]}),l&&s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx("span",{className:"text-2xl",children:""})})]},n.id)})})]}),a6=({title:r,subtitle:e,onChange:t})=>s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Informacin Bsica"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ttulo del Servicio *"}),s.jsx("input",{type:"text",value:r,onChange:n=>t("title",n.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Ej: Paquetera Express Internacional",required:!0}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Nombre principal que vern los clientes"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subttulo"}),s.jsx("input",{type:"text",value:e,onChange:n=>t("subtitle",n.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Ej: Envos rpidos y seguros a todo el mundo"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Breve descripcin que acompaa al ttulo"})]})]})]}),o6=({mainImage:r,gallery:e=[],onChange:t})=>{const[n,a]=P.useState("main"),l=x=>{const g=x.target.files[0];if(!g)return;if(!g.type.startsWith("image/")){alert("Por favor selecciona una imagen vlida");return}if(g.size>5*1024*1024){alert("La imagen no debe superar los 5MB");return}const w=new FileReader;w.onloadend=()=>t("mainImage",w.result),w.readAsDataURL(g)},u=x=>{const w=Array.from(x.target.files).filter(b=>b.type.startsWith("image/")&&b.size<=5*1024*1024);Promise.all(w.map(b=>new Promise(j=>{const k=new FileReader;k.onloadend=()=>j(k.result),k.readAsDataURL(b)}))).then(b=>{t("gallery",[...e,...b])})},m=x=>{t("gallery",e.filter((g,w)=>w!==x))},p=()=>{t("mainImage","")};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Imgenes"}),s.jsxs("div",{className:"flex gap-2 border-b",children:[s.jsx("button",{onClick:()=>a("main"),className:`px-4 py-2 font-medium transition-colors ${n==="main"?"text-amber-500 border-b-2 border-amber-500":"text-gray-500 hover:text-gray-700"}`,children:"Imagen Principal"}),s.jsxs("button",{onClick:()=>a("gallery"),className:`px-4 py-2 font-medium transition-colors ${n==="gallery"?"text-amber-500 border-b-2 border-amber-500":"text-gray-500 hover:text-gray-700"}`,children:["Galera (",e.length,")"]})]}),n==="main"&&s.jsx("div",{className:"p-4 bg-gray-50 rounded-xl",children:r?s.jsxs("div",{className:"relative inline-block",children:[s.jsx("img",{src:r,alt:"Principal",className:"w-64 h-64 object-cover rounded-lg border-2 border-gray-200"}),s.jsx("button",{onClick:p,className:"absolute -top-2 -right-2 p-1.5 bg-red-500 text-white rounded-full hover:bg-red-600",children:s.jsx(Ye,{className:"h-4 w-4"})})]}):s.jsxs("label",{className:"block cursor-pointer",children:[s.jsxs("div",{className:"border-3 border-dashed border-gray-300 rounded-2xl p-12 text-center hover:border-amber-400 hover:bg-amber-50 transition-colors",children:[s.jsx(Td,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 font-medium mb-2",children:"Haz clic para subir la imagen principal"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Recomendado: 800x600px  Mximo 5MB"})]}),s.jsx("input",{type:"file",accept:"image/*",onChange:l,className:"hidden"})]})}),n==="gallery"&&s.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:e.map((x,g)=>s.jsxs("div",{className:"relative aspect-square group",children:[s.jsx("img",{src:x,alt:`Galera ${g+1}`,className:"w-full h-full object-cover rounded-lg border-2 border-gray-200"}),s.jsx("button",{onClick:()=>m(g),className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(Ye,{className:"h-3 w-3"})})]},g))}),s.jsxs("label",{className:"block cursor-pointer",children:[s.jsxs("div",{className:"border-3 border-dashed border-gray-300 rounded-2xl p-8 text-center hover:border-amber-400 hover:bg-amber-50 transition-colors",children:[s.jsx(Td,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-600",children:"Agregar ms imgenes a la galera"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Puedes seleccionar mltiples imgenes"})]}),s.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:u,className:"hidden"})]})]})]})},l6=({data:r,onChange:e})=>{const[t,n]=P.useState(""),[a,l]=P.useState({peso:"",precioMin:"",precioMax:"",tiempo:""}),[u,m]=P.useState({pais:"",precioMin:"",precioMax:"",tiempo:""}),p={rangosPrecios:r?.rangosPrecios||{minimo:15,maximo:250},productosPermitidos:r?.productosPermitidos||[],productosRestringidos:r?.productosRestringidos||[],tarifas:r?.tarifas||[],destinos:r?.destinos||[],tiempos:r?.tiempos||{nacional:"2-4 das",internacional:"5-10 das",express:"24-48h"}},x=()=>{t.trim()&&(e({...p,productosPermitidos:[...p.productosPermitidos,t.trim()]}),n(""))},g=()=>{a.peso&&a.precioMin&&(e({...p,tarifas:[...p.tarifas,{...a,precioMin:parseFloat(a.precioMin),precioMax:parseFloat(a.precioMax)||parseFloat(a.precioMin)*1.5}]}),l({peso:"",precioMin:"",precioMax:"",tiempo:""}))},w=()=>{u.pais&&(e({...p,destinos:[...p.destinos,{...u,precioMin:parseFloat(u.precioMin)||25,precioMax:parseFloat(u.precioMax)||50}]}),m({pais:"",precioMin:"",precioMax:"",tiempo:""}))},b=(j,k)=>{e({...p,[j]:p[j].filter((M,D)=>D!==k)})};return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-xl p-6",children:[s.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Mt,{className:"h-5 w-5"})," Rango de Precios"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm opacity-90 block mb-1",children:"Mnimo ($)"}),s.jsx("input",{type:"number",value:p.rangosPrecios.minimo,onChange:j=>e({...p,rangosPrecios:{...p.rangosPrecios,minimo:parseFloat(j.target.value)}}),className:"w-full px-4 py-2 bg-white/20 backdrop-blur-sm border border-white/30 rounded-lg text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm opacity-90 block mb-1",children:"Mximo ($)"}),s.jsx("input",{type:"number",value:p.rangosPrecios.maximo,onChange:j=>e({...p,rangosPrecios:{...p.rangosPrecios,maximo:parseFloat(j.target.value)}}),className:"w-full px-4 py-2 bg-white/20 backdrop-blur-sm border border-white/30 rounded-lg text-white"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[s.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[s.jsx(xr,{className:"h-5 w-5 text-green-600"})," Productos Permitidos"]}),s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsx("input",{type:"text",value:t,onChange:j=>n(j.target.value),placeholder:"Ej: Electrnicos, Ropa...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg"}),s.jsx("button",{onClick:x,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:s.jsx(rt,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:p.productosPermitidos.map((j,k)=>s.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm flex items-center gap-2",children:[j," ",s.jsx("button",{onClick:()=>b("productosPermitidos",k),children:s.jsx(Ye,{className:"h-3 w-3 text-red-500"})})]},k))})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[s.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[s.jsx(B_,{className:"h-5 w-5 text-amber-600"})," Tarifas por Peso"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3 mb-4",children:[s.jsx("input",{type:"text",placeholder:"Peso",value:a.peso,onChange:j=>l({...a,peso:j.target.value}),className:"px-3 py-2 border rounded-lg"}),s.jsx("input",{type:"number",placeholder:"Mnimo $",value:a.precioMin,onChange:j=>l({...a,precioMin:j.target.value}),className:"px-3 py-2 border rounded-lg"}),s.jsx("input",{type:"number",placeholder:"Mximo $",value:a.precioMax,onChange:j=>l({...a,precioMax:j.target.value}),className:"px-3 py-2 border rounded-lg"}),s.jsx("input",{type:"text",placeholder:"Tiempo",value:a.tiempo,onChange:j=>l({...a,tiempo:j.target.value}),className:"px-3 py-2 border rounded-lg"}),s.jsx("button",{onClick:g,className:"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700",children:s.jsx(rt,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"space-y-2",children:p.tarifas.map((j,k)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"font-medium w-24",children:j.peso}),s.jsxs("span",{className:"text-green-600 font-semibold w-32",children:["$",j.precioMin," - $",j.precioMax]}),s.jsx("span",{className:"text-gray-600 w-32",children:j.tiempo}),s.jsx("button",{onClick:()=>b("tarifas",k),children:s.jsx(zr,{className:"h-4 w-4 text-red-500"})})]},k))})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[s.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Cr,{className:"h-5 w-5 text-blue-600"})," Destinos"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3 mb-4",children:[s.jsx("input",{type:"text",placeholder:"Pas",value:u.pais,onChange:j=>m({...u,pais:j.target.value}),className:"px-3 py-2 border rounded-lg"}),s.jsx("input",{type:"number",placeholder:"Mnimo $",value:u.precioMin,onChange:j=>m({...u,precioMin:j.target.value}),className:"px-3 py-2 border rounded-lg"}),s.jsx("input",{type:"number",placeholder:"Mximo $",value:u.precioMax,onChange:j=>m({...u,precioMax:j.target.value}),className:"px-3 py-2 border rounded-lg"}),s.jsx("input",{type:"text",placeholder:"Tiempo",value:u.tiempo,onChange:j=>m({...u,tiempo:j.target.value}),className:"px-3 py-2 border rounded-lg"}),s.jsx("button",{onClick:w,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:s.jsx(rt,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:p.destinos.map((j,k)=>s.jsxs("div",{className:"relative bg-gray-50 rounded-lg p-4 border group",children:[s.jsx("button",{onClick:()=>b("destinos",k),className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100",children:s.jsx(Ye,{className:"h-4 w-4 text-red-500"})}),s.jsx("h5",{className:"font-bold",children:j.pais}),s.jsxs("p",{className:"text-sm text-green-600",children:["$",j.precioMin," - $",j.precioMax]}),s.jsx("p",{className:"text-sm text-gray-600",children:j.tiempo})]},k))})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[s.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[s.jsx(tr,{className:"h-5 w-5 text-purple-600"})," Tiempos de Entrega"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nacional"}),s.jsx("input",{type:"text",value:p.tiempos.nacional,onChange:j=>e({...p,tiempos:{...p.tiempos,nacional:j.target.value}}),className:"w-full px-4 py-2 border rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Internacional"}),s.jsx("input",{type:"text",value:p.tiempos.internacional,onChange:j=>e({...p,tiempos:{...p.tiempos,internacional:j.target.value}}),className:"w-full px-4 py-2 border rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Express"}),s.jsx("input",{type:"text",value:p.tiempos.express,onChange:j=>e({...p,tiempos:{...p.tiempos,express:j.target.value}}),className:"w-full px-4 py-2 border rounded-lg"})]})]})]})]})},c6=({data:r,onChange:e})=>{const[t,n]=P.useState(""),[a,l]=P.useState({nombre:"",duracion:"",hotel:"",precioMin:"",precioMax:"",descripcion:"",incluye:[]}),[u,m]=P.useState(""),[p,x]=P.useState(null),[g,w]=P.useState(null),b={rangosPrecios:{minimo:r?.rangosPrecios?.minimo||79,maximo:r?.rangosPrecios?.maximo||599,promedio:r?.rangosPrecios?.promedio||250},destinos:r?.destinos||[],paquetes:r?.paquetes||[],ofertas:r?.ofertas||[],incluye:r?.incluye||["Transporte ida y vuelta","Gua profesional","Almuerzo tpico","Seguro de viaje"],noIncluye:r?.noIncluye||["Bebidas alcohlicas","Fotografas profesionales","Propinas"],recomendaciones:r?.recomendaciones||["Ropa cmoda","Bloqueador solar","Cmara fotogrfica"]},j=(S,T)=>{e({...b,rangosPrecios:{...b.rangosPrecios,[S]:parseFloat(T)||0}})},k=()=>{t.trim()&&(e({...b,destinos:[...b.destinos,{nombre:t,paquetes:[],descripcion:"",imagen:""}]}),n(""))},M=S=>{e({...b,destinos:b.destinos.filter((T,C)=>C!==S)})},D=()=>{if(p!==null&&a.nombre&&a.precioMin){const S=[...b.destinos];S[p].paquetes||(S[p].paquetes=[]),S[p].paquetes.push({...a,precioMin:parseFloat(a.precioMin),precioMax:parseFloat(a.precioMax)||parseFloat(a.precioMin)*1.5,incluye:a.incluye||[]}),e({...b,destinos:S}),$(),x(null)}},ee=()=>{if(p!==null&&g!==null&&a.nombre){const S=[...b.destinos];S[p].paquetes[g]={...a,precioMin:parseFloat(a.precioMin),precioMax:parseFloat(a.precioMax)||parseFloat(a.precioMin)*1.5},e({...b,destinos:S}),$(),x(null),w(null)}},K=(S,T)=>{const C=b.destinos[S].paquetes[T];l({nombre:C.nombre||"",duracion:C.duracion||"",hotel:C.hotel||"",precioMin:C.precioMin||"",precioMax:C.precioMax||"",descripcion:C.descripcion||"",incluye:C.incluye||[]}),x(S),w(T)},Z=(S,T)=>{const C=[...b.destinos];C[S].paquetes=C[S].paquetes.filter((A,ue)=>ue!==T),e({...b,destinos:C})},$=()=>{l({nombre:"",duracion:"",hotel:"",precioMin:"",precioMax:"",descripcion:"",incluye:[]}),m("")},G=()=>{u.trim()&&(l({...a,incluye:[...a.incluye,u.trim()]}),m(""))},se=S=>{l({...a,incluye:a.incluye.filter((T,C)=>C!==S)})},L=(S,T)=>{T.trim()&&e({...b,[S]:[...b[S],T.trim()]})},R=(S,T)=>{e({...b,[S]:b[S].filter((C,A)=>A!==T)})},E=(S,T,C)=>{const A=[...b[S]];A[T]=C,e({...b,[S]:A})};return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-gradient-to-r from-amber-600 to-orange-600 text-white rounded-xl p-6 shadow-lg",children:[s.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[s.jsx(Mt,{className:"h-6 w-6"}),"Rango General de Precios"]}),s.jsx("p",{className:"text-sm text-amber-100 mb-4",children:'Estos valores aparecern en las tarjetas como "Desde $X hasta $Y"'}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm opacity-90 block mb-1",children:"Precio mnimo ($)"}),s.jsx("input",{type:"number",value:b.rangosPrecios.minimo,onChange:S=>j("minimo",S.target.value),className:"w-full px-4 py-2 bg-white/20 backdrop-blur-sm border border-white/30 rounded-lg text-white placeholder-white/60",placeholder:"79"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm opacity-90 block mb-1",children:"Precio mximo ($)"}),s.jsx("input",{type:"number",value:b.rangosPrecios.maximo,onChange:S=>j("maximo",S.target.value),className:"w-full px-4 py-2 bg-white/20 backdrop-blur-sm border border-white/30 rounded-lg text-white placeholder-white/60",placeholder:"599"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm opacity-90 block mb-1",children:"Precio promedio ($)"}),s.jsx("input",{type:"number",value:b.rangosPrecios.promedio,onChange:S=>j("promedio",S.target.value),className:"w-full px-4 py-2 bg-white/20 backdrop-blur-sm border border-white/30 rounded-lg text-white placeholder-white/60",placeholder:"250"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 px-6 py-4 border-b",children:s.jsxs("h3",{className:"font-semibold text-gray-800 flex items-center gap-2",children:[s.jsx(Cr,{className:"h-5 w-5 text-amber-600"}),"Destinos Tursticos"]})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex gap-2 mb-6",children:[s.jsx("input",{type:"text",value:t,onChange:S=>n(S.target.value),placeholder:"Nombre del destino (ej: Punta Cana)",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500"}),s.jsxs("button",{onClick:k,className:"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 flex items-center gap-2",children:[s.jsx(rt,{className:"h-4 w-4"}),"Agregar Destino"]})]}),s.jsx("div",{className:"space-y-4",children:b.destinos.map((S,T)=>s.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"bg-gray-50 px-4 py-3 flex justify-between items-center",children:[s.jsx("h4",{className:"font-bold text-lg",children:S.nombre}),s.jsx("button",{onClick:()=>M(T),className:"text-red-500 hover:text-red-700",children:s.jsx(zr,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin"}),s.jsx("input",{type:"text",value:S.descripcion||"",onChange:C=>{const A=[...b.destinos];A[T].descripcion=C.target.value,e({...b,destinos:A})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"Breve descripcin del destino"})]}),s.jsxs("div",{className:"space-y-3 mb-4",children:[s.jsx("h5",{className:"font-medium",children:"Paquetes disponibles"}),S.paquetes?.map((C,A)=>s.jsx("div",{className:"bg-amber-50 rounded-lg p-4 relative group",children:s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("input",{type:"text",value:C.nombre||"",onChange:ue=>{const X=[...b.destinos];X[T].paquetes[A].nombre=ue.target.value,e({...b,destinos:X})},className:"font-bold text-lg bg-transparent border-b border-dashed border-gray-300 focus:outline-none focus:border-amber-500",placeholder:"Nombre del paquete"}),s.jsx("span",{className:"text-sm text-gray-500",children:C.duracion})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Precio mnimo"}),s.jsx("input",{type:"number",value:C.precioMin||"",onChange:ue=>{const X=[...b.destinos];X[T].paquetes[A].precioMin=parseFloat(ue.target.value),e({...b,destinos:X})},className:"w-full px-2 py-1 border rounded text-sm",placeholder:"Mnimo"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Precio mximo"}),s.jsx("input",{type:"number",value:C.precioMax||"",onChange:ue=>{const X=[...b.destinos];X[T].paquetes[A].precioMax=parseFloat(ue.target.value),e({...b,destinos:X})},className:"w-full px-2 py-1 border rounded text-sm",placeholder:"Mximo"})]})]}),s.jsx("input",{type:"text",value:C.hotel||"",onChange:ue=>{const X=[...b.destinos];X[T].paquetes[A].hotel=ue.target.value,e({...b,destinos:X})},className:"w-full px-2 py-1 border rounded text-sm mb-2",placeholder:"Hotel"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:(C.incluye||[]).map((ue,X)=>s.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs flex items-center gap-1",children:[ue,s.jsx("button",{onClick:()=>{const W=[...b.destinos];W[T].paquetes[A].incluye=C.incluye.filter((B,Q)=>Q!==X),e({...b,destinos:W})},children:s.jsx(Ye,{className:"h-3 w-3"})})]},X))})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:()=>K(T,A),className:"text-blue-600 hover:text-blue-800",children:s.jsx(ah,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>Z(T,A),className:"text-red-600 hover:text-red-800",children:s.jsx(zr,{className:"h-4 w-4"})})]})]})},A))]}),p===T&&s.jsxs("div",{className:"mt-4 p-4 bg-amber-50 rounded-lg",children:[s.jsx("h5",{className:"font-medium mb-3",children:g!==null?"Editar Paquete":"Nuevo Paquete"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("input",{type:"text",placeholder:"Nombre del paquete",value:a.nombre,onChange:C=>l({...a,nombre:C.target.value}),className:"w-full px-3 py-2 border rounded-lg"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx("input",{type:"text",placeholder:"Duracin",value:a.duracion,onChange:C=>l({...a,duracion:C.target.value}),className:"px-3 py-2 border rounded-lg"}),s.jsx("input",{type:"text",placeholder:"Hotel",value:a.hotel,onChange:C=>l({...a,hotel:C.target.value}),className:"px-3 py-2 border rounded-lg"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx("input",{type:"number",placeholder:"Precio mnimo $",value:a.precioMin,onChange:C=>l({...a,precioMin:C.target.value}),className:"px-3 py-2 border rounded-lg"}),s.jsx("input",{type:"number",placeholder:"Precio mximo $",value:a.precioMax,onChange:C=>l({...a,precioMax:C.target.value}),className:"px-3 py-2 border rounded-lg"})]}),s.jsx("textarea",{placeholder:"Descripcin",value:a.descripcion,onChange:C=>l({...a,descripcion:C.target.value}),className:"w-full px-3 py-2 border rounded-lg",rows:"2"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Incluye"}),s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx("input",{type:"text",value:u,onChange:C=>m(C.target.value),className:"flex-1 px-3 py-2 border rounded-lg",placeholder:"Ej: Transporte"}),s.jsx("button",{onClick:G,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:s.jsx(rt,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:a.incluye.map((C,A)=>s.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs flex items-center gap-1",children:[C,s.jsx("button",{onClick:()=>se(A),children:s.jsx(Ye,{className:"h-3 w-3"})})]},A))})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:g!==null?ee:D,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[g!==null?"Actualizar":"Guardar"," Paquete"]}),s.jsx("button",{onClick:()=>{x(null),w(null),$()},className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:"Cancelar"})]})]})]}),p!==T&&s.jsxs("button",{onClick:()=>{x(T),w(null),$()},className:"text-sm text-amber-600 hover:text-amber-700 flex items-center gap-1",children:[s.jsx(rt,{className:"h-4 w-4"}),"Agregar paquete"]})]})]},T))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[s.jsx(yr,{className:"h-5 w-5 text-green-600"}),"Incluye"]}),s.jsxs("div",{className:"space-y-2",children:[b.incluye.map((S,T)=>s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:S,onChange:C=>E("incluye",T,C.target.value),className:"flex-1 px-3 py-2 border rounded-lg"}),s.jsx("button",{onClick:()=>R("incluye",T),className:"text-red-500",children:s.jsx(Ye,{className:"h-5 w-5"})})]},T)),s.jsxs("button",{onClick:()=>L("incluye",""),className:"mt-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2",children:[s.jsx(rt,{className:"h-4 w-4"}),"Agregar"]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[s.jsx(ta,{className:"h-5 w-5 text-red-600"}),"No incluye"]}),s.jsxs("div",{className:"space-y-2",children:[b.noIncluye.map((S,T)=>s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:S,onChange:C=>E("noIncluye",T,C.target.value),className:"flex-1 px-3 py-2 border rounded-lg"}),s.jsx("button",{onClick:()=>R("noIncluye",T),className:"text-red-500",children:s.jsx(Ye,{className:"h-5 w-5"})})]},T)),s.jsxs("button",{onClick:()=>L("noIncluye",""),className:"mt-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center gap-2",children:[s.jsx(rt,{className:"h-4 w-4"}),"Agregar"]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[s.jsx(ac,{className:"h-5 w-5 text-blue-600"}),"Recomendaciones"]}),s.jsxs("div",{className:"space-y-2",children:[b.recomendaciones.map((S,T)=>s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:S,onChange:C=>E("recomendaciones",T,C.target.value),className:"flex-1 px-3 py-2 border rounded-lg"}),s.jsx("button",{onClick:()=>R("recomendaciones",T),className:"text-red-500",children:s.jsx(Ye,{className:"h-5 w-5"})})]},T)),s.jsxs("button",{onClick:()=>L("recomendaciones",""),className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(rt,{className:"h-4 w-4"}),"Agregar"]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[s.jsx(vr,{className:"h-5 w-5 text-purple-600"}),"Ofertas Especiales"]}),s.jsxs("div",{className:"space-y-4",children:[b.ofertas.map((S,T)=>s.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-2",children:[s.jsx("input",{type:"text",value:S.nombre||"",onChange:C=>{const A=[...b.ofertas];A[T].nombre=C.target.value,e({...b,ofertas:A})},placeholder:"Nombre",className:"px-3 py-2 border rounded-lg"}),s.jsx("input",{type:"text",value:S.descuento||"",onChange:C=>{const A=[...b.ofertas];A[T].descuento=C.target.value,e({...b,ofertas:A})},placeholder:"Descuento",className:"px-3 py-2 border rounded-lg"}),s.jsx("input",{type:"text",value:S.condiciones||"",onChange:C=>{const A=[...b.ofertas];A[T].condiciones=C.target.value,e({...b,ofertas:A})},placeholder:"Condiciones",className:"px-3 py-2 border rounded-lg"})]}),s.jsx("button",{onClick:()=>R("ofertas",T),className:"text-red-500 text-sm",children:"Eliminar oferta"})]},T)),s.jsxs("button",{onClick:()=>{const S=[...b.ofertas,{nombre:"",descuento:"",condiciones:""}];e({...b,ofertas:S})},className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[s.jsx(rt,{className:"h-4 w-4"}),"Agregar Oferta"]})]})]})]})},u6=({data:r,onChange:e})=>{const[t,n]=P.useState({ciudad:"",direccion:"",telefono:""}),[a,l]=P.useState({nombre:"",categoria:"",precioMin:"",precioMax:"",disponible:!0,transmision:"Automtico",combustible:"Gasolina",pasajeros:5,imagen:""}),[u,m]=P.useState(""),p={rangosPrecios:{economicoMin:r?.rangosPrecios?.economicoMin||35,economicoMax:r?.rangosPrecios?.economicoMax||65,intermedioMin:r?.rangosPrecios?.intermedioMin||65,intermedioMax:r?.rangosPrecios?.intermedioMax||120,premiumMin:r?.rangosPrecios?.premiumMin||120,premiumMax:r?.rangosPrecios?.premiumMax||250},sucursales:r?.sucursales||[],vehiculos:r?.vehiculos||[],tarifas:r?.tarifas||[{tipo:"Diaria",descuento:0},{tipo:"Semanal",descuento:15},{tipo:"Mensual",descuento:30}],seguros:r?.seguros||[],requisitos:r?.requisitos||["Licencia de conducir vigente","Tarjeta de crdito","Edad mnima 25 aos","Pasaporte"],extras:r?.extras||[]},x=k=>{const M=k.target.files[0];if(!M)return;if(!M.type.startsWith("image/")){alert("Por favor selecciona una imagen vlida");return}if(M.size>5*1024*1024){alert("La imagen no debe superar los 5MB");return}const D=new FileReader;D.onloadend=()=>{m(D.result),l({...a,imagen:D.result})},D.readAsDataURL(M)},g=()=>{t.ciudad&&t.direccion&&(e({...p,sucursales:[...p.sucursales,t]}),n({ciudad:"",direccion:"",telefono:""}))},w=()=>{a.nombre&&a.precioMin&&(e({...p,vehiculos:[...p.vehiculos,{...a,precioMin:parseFloat(a.precioMin),precioMax:parseFloat(a.precioMax)||parseFloat(a.precioMin)*1.5}]}),l({nombre:"",categoria:"",precioMin:"",precioMax:"",disponible:!0,transmision:"Automtico",combustible:"Gasolina",pasajeros:5,imagen:""}),m(""))},b=(k,M)=>{e({...p,[k]:p[k].filter((D,ee)=>ee!==M)})},j=k=>{const M=[...p.vehiculos];M[k].disponible=!M[k].disponible,e({...p,vehiculos:M})};return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl p-6",children:[s.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[s.jsx(Mt,{className:"h-6 w-6"}),"Rangos de Precios por Categora"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm opacity-90 block mb-1",children:"Econmico ($)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"number",value:p.rangosPrecios.economicoMin,onChange:k=>e({...p,rangosPrecios:{...p.rangosPrecios,economicoMin:parseFloat(k.target.value)}}),className:"w-1/2 px-3 py-2 bg-white/20 border border-white/30 rounded-lg text-white"}),s.jsx("input",{type:"number",value:p.rangosPrecios.economicoMax,onChange:k=>e({...p,rangosPrecios:{...p.rangosPrecios,economicoMax:parseFloat(k.target.value)}}),className:"w-1/2 px-3 py-2 bg-white/20 border border-white/30 rounded-lg text-white"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm opacity-90 block mb-1",children:"Intermedio ($)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"number",value:p.rangosPrecios.intermedioMin,onChange:k=>e({...p,rangosPrecios:{...p.rangosPrecios,intermedioMin:parseFloat(k.target.value)}}),className:"w-1/2 px-3 py-2 bg-white/20 border border-white/30 rounded-lg text-white"}),s.jsx("input",{type:"number",value:p.rangosPrecios.intermedioMax,onChange:k=>e({...p,rangosPrecios:{...p.rangosPrecios,intermedioMax:parseFloat(k.target.value)}}),className:"w-1/2 px-3 py-2 bg-white/20 border border-white/30 rounded-lg text-white"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm opacity-90 block mb-1",children:"Premium ($)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"number",value:p.rangosPrecios.premiumMin,onChange:k=>e({...p,rangosPrecios:{...p.rangosPrecios,premiumMin:parseFloat(k.target.value)}}),className:"w-1/2 px-3 py-2 bg-white/20 border border-white/30 rounded-lg text-white"}),s.jsx("input",{type:"number",value:p.rangosPrecios.premiumMax,onChange:k=>e({...p,rangosPrecios:{...p.rangosPrecios,premiumMax:parseFloat(k.target.value)}}),className:"w-1/2 px-3 py-2 bg-white/20 border border-white/30 rounded-lg text-white"})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx($r,{className:"h-5 w-5 text-blue-600"}),"Agregar Nuevo Vehculo"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("input",{type:"text",placeholder:"Modelo del vehculo",value:a.nombre,onChange:k=>l({...a,nombre:k.target.value}),className:"w-full px-4 py-2 border rounded-lg"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx("input",{type:"text",placeholder:"Categora",value:a.categoria,onChange:k=>l({...a,categoria:k.target.value}),className:"px-4 py-2 border rounded-lg"}),s.jsxs("select",{value:a.transmision,onChange:k=>l({...a,transmision:k.target.value}),className:"px-4 py-2 border rounded-lg",children:[s.jsx("option",{value:"Automtico",children:"Automtico"}),s.jsx("option",{value:"Manual",children:"Manual"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("select",{value:a.combustible,onChange:k=>l({...a,combustible:k.target.value}),className:"px-4 py-2 border rounded-lg",children:[s.jsx("option",{value:"Gasolina",children:"Gasolina"}),s.jsx("option",{value:"Diesel",children:"Diesel"}),s.jsx("option",{value:"Hbrido",children:"Hbrido"}),s.jsx("option",{value:"Elctrico",children:"Elctrico"})]}),s.jsx("input",{type:"number",placeholder:"Pasajeros",value:a.pasajeros,onChange:k=>l({...a,pasajeros:parseInt(k.target.value)}),className:"px-4 py-2 border rounded-lg"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx("input",{type:"number",placeholder:"Precio mnimo $",value:a.precioMin,onChange:k=>l({...a,precioMin:k.target.value}),className:"px-4 py-2 border rounded-lg"}),s.jsx("input",{type:"number",placeholder:"Precio mximo $",value:a.precioMax,onChange:k=>l({...a,precioMax:k.target.value}),className:"px-4 py-2 border rounded-lg"})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:a.disponible,onChange:k=>l({...a,disponible:k.target.checked}),className:"w-4 h-4"}),s.jsx("span",{children:"Vehculo disponible inmediatamente"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Foto del vehculo"}),u?s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:u,alt:"Preview",className:"w-full h-40 object-cover rounded-lg border-2 border-gray-200"}),s.jsx("button",{onClick:()=>{m(""),l({...a,imagen:""})},className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full",children:s.jsx(Ye,{className:"h-4 w-4"})})]}):s.jsxs("label",{className:"block cursor-pointer",children:[s.jsxs("div",{className:"border-3 border-dashed border-gray-300 rounded-xl p-6 text-center hover:border-blue-400 hover:bg-blue-50 transition-colors",children:[s.jsx(Td,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Haz clic para subir imagen"}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Mximo 5MB"})]}),s.jsx("input",{type:"file",accept:"image/*",onChange:x,className:"hidden"})]})]})]}),s.jsxs("button",{onClick:w,className:"mt-4 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2",children:[s.jsx(rt,{className:"h-4 w-4"}),"Agregar Vehculo"]})]}),p.vehiculos.length>0&&s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Vehculos en Flota (",p.vehiculos.length,")"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p.vehiculos.map((k,M)=>s.jsxs("div",{className:"border rounded-lg overflow-hidden bg-white hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"h-32 bg-gray-100 overflow-hidden",children:k.imagen?s.jsx("img",{src:k.imagen,alt:k.nombre,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-100 to-gray-200",children:s.jsx($r,{className:"h-10 w-10 text-gray-400"})})}),s.jsxs("div",{className:"p-3",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold",children:k.nombre}),s.jsx("p",{className:"text-xs text-gray-600",children:k.categoria})]}),s.jsx("button",{onClick:()=>j(M),className:`text-xs px-2 py-1 rounded ${k.disponible?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:k.disponible?"Disponible":"No disponible"})]}),s.jsxs("p",{className:"text-green-600 font-bold text-sm mt-1",children:["$",k.precioMin," - $",k.precioMax,"/da"]}),s.jsx("div",{className:"flex justify-end mt-2",children:s.jsx("button",{onClick:()=>b("vehiculos",M),className:"text-red-500 hover:text-red-700",children:s.jsx(zr,{className:"h-4 w-4"})})})]})]},M))})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Cr,{className:"h-5 w-5 text-blue-600"}),"Sucursales"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 mb-4",children:[s.jsx("input",{type:"text",placeholder:"Ciudad",value:t.ciudad,onChange:k=>n({...t,ciudad:k.target.value}),className:"px-3 py-2 border rounded-lg"}),s.jsx("input",{type:"text",placeholder:"Direccin",value:t.direccion,onChange:k=>n({...t,direccion:k.target.value}),className:"px-3 py-2 border rounded-lg"}),s.jsx("input",{type:"text",placeholder:"Telfono",value:t.telefono,onChange:k=>n({...t,telefono:k.target.value}),className:"px-3 py-2 border rounded-lg"}),s.jsx("button",{onClick:g,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:s.jsx(rt,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:p.sucursales.map((k,M)=>s.jsxs("div",{className:"relative bg-gray-50 rounded-lg p-3 border group",children:[s.jsx("button",{onClick:()=>b("sucursales",M),className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100",children:s.jsx(Ye,{className:"h-4 w-4 text-red-500"})}),s.jsx("h4",{className:"font-bold",children:k.ciudad}),s.jsx("p",{className:"text-sm text-gray-600",children:k.direccion}),k.telefono&&s.jsx("p",{className:"text-sm text-blue-600 mt-1",children:k.telefono})]},M))})]})]})},d6=({data:r,onChange:e})=>{const[t,n]=P.useState({ciudad:"",pais:""}),[a,l]=P.useState({nombre:"",precioMin:"",precioMax:"",estrellas:4}),[u,m]=P.useState(null),p={destinos:r?.destinos||[],serviciosGenerales:r?.serviciosGenerales||["WiFi","Desayuno","Piscina"],politicas:r?.politicas||{checkIn:"15:00",checkOut:"12:00"}},x=()=>{t.ciudad&&(e({...p,destinos:[...p.destinos,{...t,hoteles:[]}]}),n({ciudad:"",pais:""}))},g=()=>{if(u!==null&&a.nombre&&a.precioMin){const j=[...p.destinos];j[u].hoteles.push({...a,precioMin:parseFloat(a.precioMin),precioMax:parseFloat(a.precioMax)||parseFloat(a.precioMin)*1.5}),e({...p,destinos:j}),l({nombre:"",precioMin:"",precioMax:"",estrellas:4}),m(null)}},w=j=>{e({...p,destinos:p.destinos.filter((k,M)=>M!==j)})},b=(j,k)=>{const M=[...p.destinos];M[j].hoteles=M[j].hoteles.filter((D,ee)=>ee!==k),e({...p,destinos:M})};return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-xl p-6",children:[s.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Yn,{className:"h-5 w-5"})," Destinos Hoteleros"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsx("input",{type:"text",placeholder:"Ciudad",value:t.ciudad,onChange:j=>n({...t,ciudad:j.target.value}),className:"px-4 py-2 bg-white/20 backdrop-blur-sm border border-white/30 rounded-lg text-white placeholder-white/60"}),s.jsx("input",{type:"text",placeholder:"Pas",value:t.pais,onChange:j=>n({...t,pais:j.target.value}),className:"px-4 py-2 bg-white/20 backdrop-blur-sm border border-white/30 rounded-lg text-white placeholder-white/60"}),s.jsx("button",{onClick:x,className:"px-4 py-2 bg-white text-purple-600 rounded-lg hover:bg-purple-50",children:s.jsx(rt,{className:"h-4 w-4"})})]})]}),p.destinos.map((j,k)=>s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[s.jsxs("div",{className:"bg-gray-50 px-4 py-3 flex justify-between items-center",children:[s.jsxs("h4",{className:"font-bold text-lg",children:[s.jsx(Cr,{className:"h-4 w-4 inline mr-2 text-purple-600"})," ",j.ciudad,", ",j.pais]}),s.jsx("button",{onClick:()=>w(k),children:s.jsx(zr,{className:"h-4 w-4 text-red-500"})})]}),s.jsxs("div",{className:"p-4",children:[j.hoteles.map((M,D)=>s.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 mb-3 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold",children:M.nombre}),s.jsx("span",{className:"ml-4 flex items-center gap-1",children:[...Array(5)].map((ee,K)=>s.jsx(vr,{className:`h-4 w-4 ${K<M.estrellas?"text-yellow-500 fill-yellow-500":"text-gray-300"}`},K))})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("span",{className:"text-green-600 font-bold",children:["$",M.precioMin," - $",M.precioMax]}),s.jsx("button",{onClick:()=>b(k,D),children:s.jsx(Ye,{className:"h-4 w-4 text-red-500"})})]})]},D)),u===k?s.jsxs("div",{className:"mt-4 p-4 bg-purple-50 rounded-lg",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 mb-3",children:[s.jsx("input",{type:"text",placeholder:"Nombre",value:a.nombre,onChange:M=>l({...a,nombre:M.target.value}),className:"px-3 py-2 border rounded-lg"}),s.jsx("input",{type:"number",placeholder:"Mnimo $",value:a.precioMin,onChange:M=>l({...a,precioMin:M.target.value}),className:"px-3 py-2 border rounded-lg"}),s.jsx("input",{type:"number",placeholder:"Mximo $",value:a.precioMax,onChange:M=>l({...a,precioMax:M.target.value}),className:"px-3 py-2 border rounded-lg"}),s.jsxs("select",{value:a.estrellas,onChange:M=>l({...a,estrellas:parseInt(M.target.value)}),className:"px-3 py-2 border rounded-lg",children:[s.jsx("option",{value:"5",children:"5 Estrellas"}),s.jsx("option",{value:"4",children:"4 Estrellas"}),s.jsx("option",{value:"3",children:"3 Estrellas"}),s.jsx("option",{value:"2",children:"2 Estrellas"}),s.jsx("option",{value:"1",children:"1 Estrella"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:g,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Guardar"}),s.jsx("button",{onClick:()=>m(null),className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:"Cancelar"})]})]}):s.jsxs("button",{onClick:()=>m(k),className:"text-sm text-purple-600 hover:text-purple-700 flex items-center gap-1",children:[s.jsx(rt,{className:"h-4 w-4"})," Agregar hotel"]})]})]},k))]})},h6=({data:r,onChange:e})=>{const[t,n]=P.useState({origen:"",destino:""}),[a,l]=P.useState({aerolinea:"",precioMin:"",precioMax:"",clase:"Econmica",equipaje:"23kg",comida:"Incluida",horario:"",beneficios:[]}),[u,m]=P.useState(""),[p,x]=P.useState(null),[g,w]=P.useState(null),b={rangosPrecios:{minimo:r?.rangosPrecios?.minimo||150,maximo:r?.rangosPrecios?.maximo||950,promedio:r?.rangosPrecios?.promedio||450},rutas:r?.rutas||[],clases:r?.clases||[],aerolineas:r?.aerolineas||[],ofertas:r?.ofertas||[],destinosPopulares:r?.destinosPopulares||[],equipaje:r?.equipaje||{cabina:"10 kg",bodega:"23 kg",precioExtra:35}},j=(E,S)=>{e({...b,rangosPrecios:{...b.rangosPrecios,[E]:parseFloat(S)||0}})},k=()=>{t.origen&&t.destino&&(e({...b,rutas:[...b.rutas,{...t,vuelos:[]}]}),n({origen:"",destino:""}))},M=E=>{e({...b,rutas:b.rutas.filter((S,T)=>T!==E)})},D=()=>{if(p!==null&&a.aerolinea&&a.precioMin){const E=[...b.rutas];E[p].vuelos||(E[p].vuelos=[]),E[p].vuelos.push({...a,precioMin:parseFloat(a.precioMin),precioMax:parseFloat(a.precioMax)||parseFloat(a.precioMin)*2,beneficios:a.beneficios||[]}),e({...b,rutas:E}),$(),x(null)}},ee=()=>{if(p!==null&&g!==null&&a.aerolinea){const E=[...b.rutas];E[p].vuelos[g]={...a,precioMin:parseFloat(a.precioMin),precioMax:parseFloat(a.precioMax)||parseFloat(a.precioMin)*2},e({...b,rutas:E}),$(),x(null),w(null)}},K=(E,S)=>{const T=b.rutas[E].vuelos[S];l({aerolinea:T.aerolinea||"",precioMin:T.precioMin||"",precioMax:T.precioMax||"",clase:T.clase||"Econmica",equipaje:T.equipaje||"23kg",comida:T.comida||"Incluida",horario:T.horario||"",beneficios:T.beneficios||[]}),x(E),w(S)},Z=(E,S)=>{const T=[...b.rutas];T[E].vuelos=T[E].vuelos.filter((C,A)=>A!==S),e({...b,rutas:T})},$=()=>{l({aerolinea:"",precioMin:"",precioMax:"",clase:"Econmica",equipaje:"23kg",comida:"Incluida",horario:"",beneficios:[]}),m("")},G=()=>{u.trim()&&(l({...a,beneficios:[...a.beneficios,u.trim()]}),m(""))},se=E=>{l({...a,beneficios:a.beneficios.filter((S,T)=>T!==E)})},L=(E,S)=>{S.trim()&&e({...b,[E]:[...b[E],S.trim()]})},R=(E,S)=>{e({...b,[E]:b[E].filter((T,C)=>C!==S)})};return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-gradient-to-r from-sky-600 to-blue-600 text-white rounded-xl p-6 shadow-lg",children:[s.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[s.jsx(Mt,{className:"h-6 w-6"}),"Rango General de Precios"]}),s.jsx("p",{className:"text-sm text-sky-100 mb-4",children:'Estos valores aparecern en las tarjetas como "Desde $X hasta $Y"'}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm opacity-90 block mb-1",children:"Precio mnimo ($)"}),s.jsx("input",{type:"number",value:b.rangosPrecios.minimo,onChange:E=>j("minimo",E.target.value),className:"w-full px-4 py-2 bg-white/20 backdrop-blur-sm border border-white/30 rounded-lg text-white placeholder-white/60",placeholder:"150"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm opacity-90 block mb-1",children:"Precio mximo ($)"}),s.jsx("input",{type:"number",value:b.rangosPrecios.maximo,onChange:E=>j("maximo",E.target.value),className:"w-full px-4 py-2 bg-white/20 backdrop-blur-sm border border-white/30 rounded-lg text-white placeholder-white/60",placeholder:"950"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm opacity-90 block mb-1",children:"Precio promedio ($)"}),s.jsx("input",{type:"number",value:b.rangosPrecios.promedio,onChange:E=>j("promedio",E.target.value),className:"w-full px-4 py-2 bg-white/20 backdrop-blur-sm border border-white/30 rounded-lg text-white placeholder-white/60",placeholder:"450"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-sky-50 to-blue-50 px-6 py-4 border-b",children:s.jsxs("h3",{className:"font-semibold text-gray-800 flex items-center gap-2",children:[s.jsx(So,{className:"h-5 w-5 text-sky-600"}),"Rutas Areas"]})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-6",children:[s.jsx("input",{type:"text",placeholder:"Origen (ej: Miami - MIA)",value:t.origen,onChange:E=>n({...t,origen:E.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500"}),s.jsx("input",{type:"text",placeholder:"Destino (ej: Madrid - MAD)",value:t.destino,onChange:E=>n({...t,destino:E.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500"}),s.jsxs("button",{onClick:k,className:"px-4 py-2 bg-sky-600 text-white rounded-lg hover:bg-sky-700 flex items-center justify-center gap-2",children:[s.jsx(rt,{className:"h-4 w-4"}),"Agregar Ruta"]})]}),s.jsx("div",{className:"space-y-4",children:b.rutas.map((E,S)=>s.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"bg-gray-50 px-4 py-3 flex justify-between items-center",children:[s.jsxs("h4",{className:"font-bold text-lg",children:[E.origen,"  ",E.destino]}),s.jsx("button",{onClick:()=>M(S),className:"text-red-500 hover:text-red-700",children:s.jsx(zr,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duracin del vuelo"}),s.jsx("input",{type:"text",value:E.duracion||"",onChange:T=>{const C=[...b.rutas];C[S].duracion=T.target.value,e({...b,rutas:C})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"Ej: 8h 30m"})]}),s.jsxs("div",{className:"space-y-3 mb-4",children:[s.jsx("h5",{className:"font-medium",children:"Vuelos disponibles"}),(E.vuelos||[]).map((T,C)=>s.jsx("div",{className:"bg-sky-50 rounded-lg p-4 relative group",children:s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("input",{type:"text",value:T.aerolinea||"",onChange:A=>{const ue=[...b.rutas];ue[S].vuelos[C].aerolinea=A.target.value,e({...b,rutas:ue})},className:"font-bold text-lg bg-transparent border-b border-dashed border-gray-300 focus:outline-none focus:border-sky-500",placeholder:"Aerolnea"}),s.jsxs("select",{value:T.clase||"Econmica",onChange:A=>{const ue=[...b.rutas];ue[S].vuelos[C].clase=A.target.value,e({...b,rutas:ue})},className:"px-2 py-1 border rounded text-sm",children:[s.jsx("option",{value:"Econmica",children:"Econmica"}),s.jsx("option",{value:"Ejecutiva",children:"Ejecutiva"}),s.jsx("option",{value:"Primera Clase",children:"Primera Clase"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Precio mnimo"}),s.jsx("input",{type:"number",value:T.precioMin||"",onChange:A=>{const ue=[...b.rutas];ue[S].vuelos[C].precioMin=parseFloat(A.target.value),e({...b,rutas:ue})},className:"w-full px-2 py-1 border rounded text-sm",placeholder:"Mnimo"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Precio mximo"}),s.jsx("input",{type:"number",value:T.precioMax||"",onChange:A=>{const ue=[...b.rutas];ue[S].vuelos[C].precioMax=parseFloat(A.target.value),e({...b,rutas:ue})},className:"w-full px-2 py-1 border rounded text-sm",placeholder:"Mximo"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-2",children:[s.jsx("input",{type:"text",value:T.horario||"",onChange:A=>{const ue=[...b.rutas];ue[S].vuelos[C].horario=A.target.value,e({...b,rutas:ue})},className:"px-2 py-1 border rounded text-sm",placeholder:"Horario"}),s.jsx("input",{type:"text",value:T.equipaje||"23kg",onChange:A=>{const ue=[...b.rutas];ue[S].vuelos[C].equipaje=A.target.value,e({...b,rutas:ue})},className:"px-2 py-1 border rounded text-sm",placeholder:"Equipaje"}),s.jsx("input",{type:"text",value:T.comida||"Incluida",onChange:A=>{const ue=[...b.rutas];ue[S].vuelos[C].comida=A.target.value,e({...b,rutas:ue})},className:"px-2 py-1 border rounded text-sm",placeholder:"Comida"})]}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:(T.beneficios||[]).map((A,ue)=>s.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs flex items-center gap-1",children:[A,s.jsx("button",{onClick:()=>{const X=[...b.rutas];X[S].vuelos[C].beneficios=T.beneficios.filter((W,B)=>B!==ue),e({...b,rutas:X})},children:s.jsx(Ye,{className:"h-3 w-3"})})]},ue))})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:()=>K(S,C),className:"text-blue-600 hover:text-blue-800",children:s.jsx(ah,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>Z(S,C),className:"text-red-600 hover:text-red-800",children:s.jsx(zr,{className:"h-4 w-4"})})]})]})},C))]}),p===S&&s.jsxs("div",{className:"mt-4 p-4 bg-sky-50 rounded-lg",children:[s.jsx("h5",{className:"font-medium mb-3",children:g!==null?"Editar Vuelo":"Nuevo Vuelo"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("input",{type:"text",placeholder:"Aerolnea",value:a.aerolinea,onChange:T=>l({...a,aerolinea:T.target.value}),className:"w-full px-3 py-2 border rounded-lg"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("select",{value:a.clase,onChange:T=>l({...a,clase:T.target.value}),className:"px-3 py-2 border rounded-lg",children:[s.jsx("option",{value:"Econmica",children:"Econmica"}),s.jsx("option",{value:"Ejecutiva",children:"Ejecutiva"}),s.jsx("option",{value:"Primera Clase",children:"Primera Clase"})]}),s.jsx("input",{type:"text",placeholder:"Horario",value:a.horario,onChange:T=>l({...a,horario:T.target.value}),className:"px-3 py-2 border rounded-lg"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx("input",{type:"number",placeholder:"Precio mnimo $",value:a.precioMin,onChange:T=>l({...a,precioMin:T.target.value}),className:"px-3 py-2 border rounded-lg"}),s.jsx("input",{type:"number",placeholder:"Precio mximo $",value:a.precioMax,onChange:T=>l({...a,precioMax:T.target.value}),className:"px-3 py-2 border rounded-lg"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx("input",{type:"text",placeholder:"Equipaje",value:a.equipaje,onChange:T=>l({...a,equipaje:T.target.value}),className:"px-3 py-2 border rounded-lg"}),s.jsx("input",{type:"text",placeholder:"Comida",value:a.comida,onChange:T=>l({...a,comida:T.target.value}),className:"px-3 py-2 border rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Beneficios"}),s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx("input",{type:"text",value:u,onChange:T=>m(T.target.value),className:"flex-1 px-3 py-2 border rounded-lg",placeholder:"Ej: Sala VIP"}),s.jsx("button",{onClick:G,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:s.jsx(rt,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:a.beneficios.map((T,C)=>s.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs flex items-center gap-1",children:[T,s.jsx("button",{onClick:()=>se(C),children:s.jsx(Ye,{className:"h-3 w-3"})})]},C))})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:g!==null?ee:D,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[g!==null?"Actualizar":"Guardar"," Vuelo"]}),s.jsx("button",{onClick:()=>{x(null),w(null),$()},className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:"Cancelar"})]})]})]}),p!==S&&s.jsxs("button",{onClick:()=>{x(S),w(null),$()},className:"text-sm text-sky-600 hover:text-sky-700 flex items-center gap-1",children:[s.jsx(rt,{className:"h-4 w-4"}),"Agregar vuelo"]})]})]},S))})]})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[s.jsx(nh,{className:"h-5 w-5 text-amber-600"}),"Clases y Tarifas"]}),s.jsxs("div",{className:"space-y-4",children:[b.clases.map((E,S)=>s.jsxs("div",{className:"bg-amber-50 rounded-lg p-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[s.jsx("input",{type:"text",value:E.nombre||"",onChange:T=>{const C=[...b.clases];C[S].nombre=T.target.value,e({...b,clases:C})},placeholder:"Nombre de la clase",className:"px-3 py-2 border rounded-lg"}),s.jsx("input",{type:"text",value:E.precio||"",onChange:T=>{const C=[...b.clases];C[S].precio=T.target.value,e({...b,clases:C})},placeholder:"Precio (ej: $350-750)",className:"px-3 py-2 border rounded-lg"})]}),s.jsx("textarea",{value:E.descripcion||"",onChange:T=>{const C=[...b.clases];C[S].descripcion=T.target.value,e({...b,clases:C})},placeholder:"Descripcin",className:"w-full px-3 py-2 border rounded-lg mb-2",rows:"2"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h6",{className:"text-sm font-medium",children:"Beneficios"}),E.beneficios?.map((T,C)=>s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:T,onChange:A=>{const ue=[...b.clases];ue[S].beneficios[C]=A.target.value,e({...b,clases:ue})},className:"flex-1 px-3 py-2 border rounded-lg"}),s.jsx("button",{onClick:()=>{const A=[...b.clases];A[S].beneficios=E.beneficios.filter((ue,X)=>X!==C),e({...b,clases:A})},className:"text-red-500",children:s.jsx(Ye,{className:"h-5 w-5"})})]},C)),s.jsxs("button",{onClick:()=>{const T=[...b.clases];T[S].beneficios||(T[S].beneficios=[]),T[S].beneficios.push(""),e({...b,clases:T})},className:"text-sm text-amber-600 hover:text-amber-700 flex items-center gap-1",children:[s.jsx(rt,{className:"h-4 w-4"}),"Agregar beneficio"]})]})]},S)),s.jsxs("button",{onClick:()=>{const E=[...b.clases,{nombre:"",precio:"",descripcion:"",beneficios:[]}];e({...b,clases:E})},className:"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 flex items-center gap-2",children:[s.jsx(rt,{className:"h-4 w-4"}),"Agregar Clase"]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-bold mb-3",children:"Aerolneas"}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:b.aerolineas.map((E,S)=>s.jsxs("span",{className:"flex items-center gap-2 px-3 py-2 bg-sky-100 text-sky-700 rounded-lg",children:[s.jsx("input",{type:"text",value:E,onChange:T=>{const C=[...b.aerolineas];C[S]=T.target.value,e({...b,aerolineas:C})},className:"bg-transparent border-none focus:outline-none w-auto"}),s.jsx("button",{onClick:()=>R("aerolineas",S),children:s.jsx(Ye,{className:"h-4 w-4 text-red-500"})})]},S))}),s.jsxs("button",{onClick:()=>L("aerolineas",""),className:"px-4 py-2 bg-sky-600 text-white rounded-lg hover:bg-sky-700 flex items-center gap-2",children:[s.jsx(rt,{className:"h-4 w-4"}),"Agregar Aerolnea"]})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[s.jsx(To,{className:"h-5 w-5 text-blue-600"}),"Polticas de Equipaje"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Equipaje de cabina"}),s.jsx("input",{type:"text",value:b.equipaje.cabina,onChange:E=>e({...b,equipaje:{...b.equipaje,cabina:E.target.value}}),className:"w-full px-4 py-2 border rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Equipaje en bodega"}),s.jsx("input",{type:"text",value:b.equipaje.bodega,onChange:E=>e({...b,equipaje:{...b.equipaje,bodega:E.target.value}}),className:"w-full px-4 py-2 border rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Precio por kg extra ($)"}),s.jsx("input",{type:"number",value:b.equipaje.precioExtra,onChange:E=>e({...b,equipaje:{...b.equipaje,precioExtra:parseFloat(E.target.value)}}),className:"w-full px-4 py-2 border rounded-lg"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-bold mb-4",children:"Destinos Populares"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:b.destinosPopulares.map((E,S)=>s.jsxs("div",{className:"flex gap-2 p-3 bg-gray-50 rounded-lg",children:[s.jsx("input",{type:"text",value:E.ciudad||"",onChange:T=>{const C=[...b.destinosPopulares];C[S].ciudad=T.target.value,e({...b,destinosPopulares:C})},placeholder:"Ciudad",className:"flex-1 px-3 py-2 border rounded-lg"}),s.jsx("input",{type:"text",value:E.precio||"",onChange:T=>{const C=[...b.destinosPopulares];C[S].precio=T.target.value,e({...b,destinosPopulares:C})},placeholder:"Precio",className:"w-24 px-3 py-2 border rounded-lg"}),s.jsx("input",{type:"number",value:E.vuelos||"",onChange:T=>{const C=[...b.destinosPopulares];C[S].vuelos=parseInt(T.target.value),e({...b,destinosPopulares:C})},placeholder:"Vuelos",className:"w-20 px-3 py-2 border rounded-lg"}),s.jsx("button",{onClick:()=>R("destinosPopulares",S),children:s.jsx(zr,{className:"h-5 w-5 text-red-500"})})]},S))}),s.jsxs("button",{onClick:()=>L("destinosPopulares",{ciudad:"",precio:"",vuelos:0}),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2",children:[s.jsx(rt,{className:"h-4 w-4"}),"Agregar Destino Popular"]})]})]})},m6=({data:r,onChange:e})=>{const[t,n]=P.useState({nombre:"",precioMin:"",precioMax:"",tiempo:""}),[a,l]=P.useState(""),u={paises:r?.paises||[],requisitos:r?.requisitos||[],documentos:r?.documentos||[],tiempos:r?.tiempos||{minimo:"5 das",promedio:"15 das",maximo:"30 das"}},m=()=>{t.nombre&&(e({...u,paises:[...u.paises,{...t,precioMin:parseFloat(t.precioMin)||120,precioMax:parseFloat(t.precioMax)||180}]}),n({nombre:"",precioMin:"",precioMax:"",tiempo:""}))},p=()=>{a.trim()&&(e({...u,requisitos:[...u.requisitos,a.trim()]}),l(""))},x=(g,w)=>{e({...u,[g]:u[g].filter((b,j)=>j!==w)})};return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-gradient-to-r from-emerald-600 to-emerald-700 text-white rounded-xl p-6",children:[s.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[s.jsx(un,{className:"h-5 w-5"})," Pases"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3",children:[s.jsx("input",{type:"text",placeholder:"Pas",value:t.nombre,onChange:g=>n({...t,nombre:g.target.value}),className:"px-3 py-2 bg-white/20 backdrop-blur-sm border border-white/30 rounded-lg text-white placeholder-white/60"}),s.jsx("input",{type:"number",placeholder:"Mnimo $",value:t.precioMin,onChange:g=>n({...t,precioMin:g.target.value}),className:"px-3 py-2 bg-white/20 backdrop-blur-sm border border-white/30 rounded-lg text-white placeholder-white/60"}),s.jsx("input",{type:"number",placeholder:"Mximo $",value:t.precioMax,onChange:g=>n({...t,precioMax:g.target.value}),className:"px-3 py-2 bg-white/20 backdrop-blur-sm border border-white/30 rounded-lg text-white placeholder-white/60"}),s.jsx("input",{type:"text",placeholder:"Tiempo",value:t.tiempo,onChange:g=>n({...t,tiempo:g.target.value}),className:"px-3 py-2 bg-white/20 backdrop-blur-sm border border-white/30 rounded-lg text-white placeholder-white/60"}),s.jsx("button",{onClick:m,className:"px-4 py-2 bg-white text-emerald-600 rounded-lg hover:bg-emerald-50",children:s.jsx(rt,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[s.jsx("h4",{className:"font-semibold mb-4",children:"Pases Agregados"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:u.paises.map((g,w)=>s.jsxs("div",{className:"relative bg-gray-50 rounded-lg p-4 border group",children:[s.jsx("button",{onClick:()=>x("paises",w),className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100",children:s.jsx(Ye,{className:"h-4 w-4 text-red-500"})}),s.jsx("h5",{className:"font-bold",children:g.nombre}),s.jsxs("p",{className:"text-sm text-green-600",children:["$",g.precioMin," - $",g.precioMax]}),g.tiempo&&s.jsx("p",{className:"text-sm text-gray-600",children:g.tiempo})]},w))})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[s.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[s.jsx(MP,{className:"h-5 w-5 text-amber-600"})," Requisitos"]}),s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsx("input",{type:"text",value:a,onChange:g=>l(g.target.value),placeholder:"Ej: Pasaporte vigente",className:"flex-1 px-4 py-2 border rounded-lg"}),s.jsx("button",{onClick:p,className:"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700",children:s.jsx(rt,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"space-y-2",children:u.requisitos.map((g,w)=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[s.jsx("span",{children:g}),s.jsx("button",{onClick:()=>x("requisitos",w),children:s.jsx(Ye,{className:"h-4 w-4 text-red-500"})})]},w))})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[s.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[s.jsx(tr,{className:"h-5 w-5 text-purple-600"})," Tiempos"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mnimo"}),s.jsx("input",{type:"text",value:u.tiempos.minimo,onChange:g=>e({...u,tiempos:{...u.tiempos,minimo:g.target.value}}),className:"w-full px-4 py-2 border rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Promedio"}),s.jsx("input",{type:"text",value:u.tiempos.promedio,onChange:g=>e({...u,tiempos:{...u.tiempos,promedio:g.target.value}}),className:"w-full px-4 py-2 border rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mximo"}),s.jsx("input",{type:"text",value:u.tiempos.maximo,onChange:g=>e({...u,tiempos:{...u.tiempos,maximo:g.target.value}}),className:"w-full px-4 py-2 border rounded-lg"})]})]})]})]})},Sl=r=>({...{title:"",subtitle:"",mainImage:"",gallery:[],isActive:!0,isFeatured:!1},type:r,content:{shipping:{rangosPrecios:{minimo:15,maximo:250},productosPermitidos:[],productosRestringidos:[],tarifas:[],destinos:[],tiempos:{nacional:"2-4 das",internacional:"5-10 das",express:"24-48h"}},tours:{destinos:[],incluye:[],noIncluye:[],recomendaciones:[]},rental:{sucursales:[],vehiculos:[],seguros:[],requisitos:[]},hotels:{destinos:[],serviciosGenerales:["WiFi","Desayuno","Piscina"],politicas:{checkIn:"15:00",checkOut:"12:00"}},flights:{rutas:[],clases:[{nombre:"Econmica",beneficios:["Asiento estndar","Comida incluida"]},{nombre:"Ejecutiva",beneficios:["Asiento reclinable","Sala VIP"]}],aerolineas:[]},visas:{paises:[],requisitos:[],documentos:[],tiempos:{minimo:"5 das",promedio:"15 das",maximo:"30 das"}}}[r]||{}}),p6=()=>{const{services:r,loading:e,addService:t,updateService:n,deleteService:a}=oh(),[l,u]=P.useState("shipping"),[m,p]=P.useState(null),[x,g]=P.useState(Sl("shipping")),[w,b]=P.useState(""),[j,k]=P.useState("all"),[M,D]=P.useState(!1);P.useEffect(()=>{m||g(Sl(l))},[l]);const ee=r.filter(E=>{const S=E.title?.toLowerCase().includes(w.toLowerCase())||E.subtitle?.toLowerCase().includes(w.toLowerCase()),T=j==="all"||E.type===j;return S&&T}),K=(E,S)=>{g(T=>({...T,[E]:S}))},Z=E=>{g(S=>({...S,content:E}))},$=async E=>{if(E.preventDefault(),!x.title.trim()){pe.error("El ttulo es obligatorio");return}D(!0);try{const S={...x,updatedAt:new Date().toISOString()};m?(await n(m,S),pe.success(" Servicio actualizado")):(await t(S),pe.success(" Servicio creado")),p(null),g(Sl(l))}catch{pe.error("Error al guardar")}finally{D(!1)}},G=E=>{p(E.id),u(E.type),g({title:E.title||"",subtitle:E.subtitle||"",mainImage:E.mainImage||"",gallery:E.gallery||[],content:E.content||Sl(E.type).content,isActive:E.isActive!==!1,isFeatured:E.isFeatured||!1,type:E.type}),window.scrollTo({top:0,behavior:"smooth"})},se=async E=>{window.confirm("Eliminar este servicio?")&&await a(E)},L=()=>{p(null),g(Sl(l))},R=()=>{const E={data:x.content,onChange:Z};switch(l){case"shipping":return s.jsx(l6,{...E});case"tours":return s.jsx(c6,{...E});case"rental":return s.jsx(u6,{...E});case"hotels":return s.jsx(d6,{...E});case"flights":return s.jsx(h6,{...E});case"visas":return s.jsx(m6,{...E});default:return null}};return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-amber-600 text-white rounded-2xl p-8 shadow-xl",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Gestin de Servicios"}),s.jsx("p",{className:"text-amber-100",children:"Administra todos tus servicios tursticos"})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:m?" Editar Servicio":" Nuevo Servicio"}),m&&s.jsxs("button",{onClick:L,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:[s.jsx(Ye,{className:"h-4 w-4"}),"Cancelar"]})]}),s.jsxs("form",{onSubmit:$,className:"space-y-8",children:[s.jsx(i6,{selected:l,onChange:u,disabled:!!m}),s.jsx(a6,{title:x.title,subtitle:x.subtitle,onChange:K}),s.jsx(o6,{mainImage:x.mainImage,gallery:x.gallery,onChange:(E,S)=>K(E,S)}),s.jsxs("div",{className:"border-t pt-8",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Configuracin Especfica"}),R()]}),s.jsxs("div",{className:"flex gap-6 pt-4 border-t",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:x.isActive,onChange:E=>K("isActive",E.target.checked),className:"w-5 h-5 text-amber-500 rounded"}),s.jsx("span",{className:"text-gray-700",children:"Servicio activo"})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:x.isFeatured,onChange:E=>K("isFeatured",E.target.checked),className:"w-5 h-5 text-amber-500 rounded"}),s.jsx("span",{className:"text-gray-700",children:"Destacar en inicio"})]})]}),s.jsxs("div",{className:"flex justify-end gap-4",children:[s.jsx("button",{type:"button",onClick:L,className:"px-6 py-3 border border-gray-300 rounded-lg font-medium hover:bg-gray-50",children:"Cancelar"}),s.jsxs("button",{type:"submit",disabled:M,className:"flex items-center gap-2 px-8 py-3 bg-amber-500 text-white rounded-lg font-medium hover:bg-amber-600 disabled:opacity-50",children:[s.jsx($_,{className:"h-5 w-5"}),M?"Guardando...":m?"Actualizar":"Crear Servicio"]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Servicios Creados"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(dn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"text",placeholder:"Buscar...",value:w,onChange:E=>b(E.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500"})]}),s.jsxs("select",{value:j,onChange:E=>k(E.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500",children:[s.jsx("option",{value:"all",children:"Todos"}),s.jsx("option",{value:"shipping",children:" Paquetera"}),s.jsx("option",{value:"tours",children:" Tours"}),s.jsx("option",{value:"rental",children:" Autos"}),s.jsx("option",{value:"hotels",children:" Hoteles"}),s.jsx("option",{value:"flights",children:" Vuelos"}),s.jsx("option",{value:"visas",children:" Visas"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ee.map(E=>s.jsxs("div",{className:"border border-gray-200 rounded-xl overflow-hidden hover:shadow-lg transition-shadow",children:[s.jsxs("div",{className:"relative h-40 bg-gray-100",children:[E.mainImage?s.jsx("img",{src:E.mainImage,alt:E.title,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:"Sin imagen"}),s.jsx("div",{className:"absolute top-2 left-2",children:s.jsxs("span",{className:"px-2 py-1 bg-white/90 backdrop-blur-sm rounded-full text-xs font-medium",children:[E.type==="shipping"&&"",E.type==="tours"&&"",E.type==="rental"&&"",E.type==="hotels"&&"",E.type==="flights"&&"",E.type==="visas"&&""]})}),E.isFeatured&&s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx("span",{className:"px-2 py-1 bg-amber-500 text-white rounded-full text-xs",children:" Destacado"})})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-bold text-gray-800 mb-1",children:E.title}),s.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:E.subtitle}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{onClick:()=>G(E),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",children:s.jsx(ah,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>se(E.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:s.jsx(zr,{className:"h-4 w-4"})})]})]})]},E.id))})]})]})},f6=()=>s.jsx(p6,{}),Ut=[];for(let r=0;r<256;++r)Ut.push((r+256).toString(16).slice(1));function g6(r,e=0){return(Ut[r[e+0]]+Ut[r[e+1]]+Ut[r[e+2]]+Ut[r[e+3]]+"-"+Ut[r[e+4]]+Ut[r[e+5]]+"-"+Ut[r[e+6]]+Ut[r[e+7]]+"-"+Ut[r[e+8]]+Ut[r[e+9]]+"-"+Ut[r[e+10]]+Ut[r[e+11]]+Ut[r[e+12]]+Ut[r[e+13]]+Ut[r[e+14]]+Ut[r[e+15]]).toLowerCase()}let rp;const x6=new Uint8Array(16);function y6(){if(!rp){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");rp=crypto.getRandomValues.bind(crypto)}return rp(x6)}const v6=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),gv={randomUUID:v6};function b6(r,e,t){r=r||{};const n=r.random??r.rng?.()??y6();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,g6(n)}function w6(r,e,t){return gv.randomUUID&&!r?gv.randomUUID():b6(r)}const _6=async(r,e="destinos")=>{try{if(console.log(" Subiendo imagen...",r.name),!r)throw new Error("No se proporcion un archivo");const t=`${e}/${w6()}_${r.name.replace(/[^a-zA-Z0-9.]/g,"_")}`,n=tc(rc,t);console.log(" Referencia de storage:",t);const a=await tg(n,r);console.log(" Archivo subido a storage");const l=await rg(a.ref);return console.log(" URL obtenida:",l),{success:!0,url:l,path:t}}catch(t){return console.error(" Error subiendo imagen:",t),{success:!1,error:t.message}}},N6=()=>{const{destinos:r,loading:e,loadDestinos:t,addDestino:n,updateDestino:a,deleteDestino:l}=s1(),[u,m]=P.useState(""),[p,x]=P.useState(null),[g,w]=P.useState({nombre:"",imagenes:[],precioMin:"",precioMax:"",precioOfertaMin:"",precioOfertaMax:"",descripcion:"",activo:!0,destacado:!1,orden:0}),[b,j]=P.useState([]),[k,M]=P.useState(!1),[D,ee]=P.useState(!1),[K,Z]=P.useState([]);P.useEffect(()=>{t()},[]),P.useEffect(()=>{p&&g.imagenes&&g.imagenes.length>0&&j(g.imagenes)},[p,g.imagenes]);const $=W=>{const{name:B,value:Q,type:de,checked:oe}=W.target;w(U=>({...U,[B]:de==="checkbox"?oe:Q}))},G=async W=>{const Q=Array.from(W.target.files).filter(oe=>oe.type.startsWith("image/")?oe.size>5*1024*1024?(pe.error(`${oe.name} no debe superar los 5MB`),!1):!0:(pe.error(`${oe.name} no es una imagen vlida`),!1));if(Q.length===0)return;Z(oe=>[...oe,...Q]);const de=[];Q.forEach(oe=>{const U=new FileReader;U.onloadend=()=>{de.push(U.result),de.length===Q.length&&j(te=>[...te,...de])},U.readAsDataURL(oe)}),pe.success(` ${Q.length} imagen(es) seleccionada(s)`)},se=W=>{j(B=>B.filter((Q,de)=>de!==W)),Z(B=>B.filter((Q,de)=>de!==W))},L=W=>{if(W===0)return;const B=[...b];if([B[W-1],B[W]]=[B[W],B[W-1]],j(B),K.length>0){const Q=[...K];[Q[W-1],Q[W]]=[Q[W],Q[W-1]],Z(Q)}},R=W=>{if(W===b.length-1)return;const B=[...b];if([B[W],B[W+1]]=[B[W+1],B[W]],j(B),K.length>0){const Q=[...K];[Q[W],Q[W+1]]=[Q[W+1],Q[W]],Z(Q)}},E=W=>{const B=[...b],[Q]=B.splice(W,1);if(B.unshift(Q),j(B),K.length>0){const de=[...K],[oe]=de.splice(W,1);de.unshift(oe),Z(de)}pe.success(" Imagen establecida como portada")},S=async W=>{if(W.preventDefault(),!g.nombre.trim()){pe.error("El nombre del destino es obligatorio");return}if(b.length===0){pe.error("Debes seleccionar al menos una imagen");return}ee(!0),M(!0);try{let B=[];if(K.length>0){pe.loading(`Subiendo ${K.length} imgenes...`,{id:"upload"});for(const de of K){const oe=await _6(de,"destinos");if(oe.success)B.push(oe.url);else{pe.error("Error al subir una imagen"),ee(!1),M(!1);return}}pe.dismiss("upload"),pe.success(" Imgenes subidas correctamente")}else B=g.imagenes||[];const Q={...g,imagenes:B,precioMin:parseFloat(g.precioMin)||0,precioMax:parseFloat(g.precioMax)||0,precioOfertaMin:parseFloat(g.precioOfertaMin)||0,precioOfertaMax:parseFloat(g.precioOfertaMax)||0,orden:parseInt(g.orden)||0};p?(await a(p,Q),await t(),pe.success(" Destino actualizado")):(await n(Q),await t(),pe.success(" Destino agregado")),ue()}catch(B){console.error("Error:",B),pe.error("Error al guardar")}finally{ee(!1),M(!1)}},T=W=>{x(W.id),w({nombre:W.nombre||"",imagenes:W.imagenes||(W.imagen?[W.imagen]:[]),precioMin:W.precioMin||"",precioMax:W.precioMax||"",precioOfertaMin:W.precioOfertaMin||"",precioOfertaMax:W.precioOfertaMax||"",descripcion:W.descripcion||"",activo:W.activo!==!1,destacado:W.destacado||!1,orden:W.orden||0}),j(W.imagenes||(W.imagen?[W.imagen]:[])),Z([]),window.scrollTo({top:0,behavior:"smooth"})},C=async W=>{window.confirm("Ests seguro de eliminar este destino?")&&(await l(W),await t())},A=async W=>{await a(W.id,{...W,activo:!W.activo}),await t()},ue=()=>{x(null),w({nombre:"",imagenes:[],precioMin:"",precioMax:"",precioOfertaMin:"",precioOfertaMax:"",descripcion:"",activo:!0,destacado:!1,orden:0}),j([]),Z([])},X=r.filter(W=>W.nombre?.toLowerCase().includes(u.toLowerCase())||W.descripcion?.toLowerCase().includes(u.toLowerCase()));return e&&r.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Cargando destinos..."})]}):s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-2xl p-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Gestin de Destinos Populares"}),s.jsx("p",{className:"text-blue-100",children:"Administra los destinos que se muestran en la pgina principal"})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:p?" Editar Destino":" Agregar Nuevo Destino"}),s.jsxs("form",{onSubmit:S,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre del Destino *"}),s.jsx("input",{type:"text",name:"nombre",value:g.nombre,onChange:$,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ej: Punta Cana",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripcin"}),s.jsx("textarea",{name:"descripcion",value:g.descripcion,onChange:$,rows:"3",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Breve descripcin del destino"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Precio Mnimo ($)"}),s.jsx("input",{type:"number",name:"precioMin",value:g.precioMin,onChange:$,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"499"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Precio Mximo ($)"}),s.jsx("input",{type:"number",name:"precioMax",value:g.precioMax,onChange:$,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"599"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Precio Oferta Mnimo ($)"}),s.jsx("input",{type:"number",name:"precioOfertaMin",value:g.precioOfertaMin,onChange:$,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"399"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Precio Oferta Mximo ($)"}),s.jsx("input",{type:"number",name:"precioOfertaMax",value:g.precioOfertaMax,onChange:$,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"499"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Imgenes del Destino * (Mltiples)"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4 max-h-96 overflow-y-auto p-2 border rounded-lg",children:[b.map((W,B)=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:W,alt:`Preview ${B+1}`,className:"w-full h-24 object-cover rounded-lg border-2 border-gray-200"}),s.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center gap-1",children:[s.jsx("button",{type:"button",onClick:()=>E(B),className:"p-1 bg-amber-500 text-white rounded-full hover:bg-amber-600",title:"Establecer como portada",children:s.jsx(vr,{className:"h-3 w-3"})}),s.jsx("button",{type:"button",onClick:()=>L(B),className:"p-1 bg-blue-500 text-white rounded-full hover:bg-blue-600",title:"Mover arriba",disabled:B===0,children:s.jsx(gR,{className:"h-3 w-3"})}),s.jsx("button",{type:"button",onClick:()=>R(B),className:"p-1 bg-blue-500 text-white rounded-full hover:bg-blue-600",title:"Mover abajo",disabled:B===b.length-1,children:s.jsx(pR,{className:"h-3 w-3"})}),s.jsx("button",{type:"button",onClick:()=>se(B),className:"p-1 bg-red-500 text-white rounded-full hover:bg-red-600",title:"Eliminar imagen",children:s.jsx(Ye,{className:"h-3 w-3"})})]}),B===0&&s.jsx("span",{className:"absolute top-1 left-1 px-1 py-0.5 bg-amber-500 text-white text-xs rounded-full",children:"Portada"})]},B)),b.length===0&&s.jsxs("div",{className:"col-span-2 p-8 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300 text-center",children:[s.jsx(GP,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-500",children:"No hay imgenes seleccionadas"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block w-full cursor-pointer",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[k?s.jsx(kd,{className:"h-5 w-5 animate-spin"}):s.jsx(fP,{className:"h-5 w-5"}),s.jsx("span",{children:k?"Subiendo...":"Agregar imgenes"})]}),s.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:G,className:"hidden",disabled:k})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"* Puedes seleccionar mltiples imgenes. La primera ser la portada."})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Orden de aparicin"}),s.jsx("input",{type:"number",name:"orden",value:g.orden,onChange:$,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"1"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",name:"activo",checked:g.activo,onChange:$,className:"w-5 h-5 text-blue-600 rounded"}),s.jsx("span",{className:"text-gray-700",children:"Destino activo"})]}),s.jsxs("label",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",name:"destacado",checked:g.destacado,onChange:$,className:"w-5 h-5 text-blue-600 rounded"}),s.jsx("span",{className:"text-gray-700",children:"Destacado"})]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t",children:[s.jsx("button",{type:"button",onClick:ue,className:"px-6 py-3 border border-gray-300 rounded-lg font-medium hover:bg-gray-50",children:"Cancelar"}),s.jsxs("button",{type:"submit",disabled:D||k,className:"flex items-center gap-2 px-8 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50",children:[D||k?s.jsx(kd,{className:"h-5 w-5 animate-spin"}):s.jsx($_,{className:"h-5 w-5"}),D||k?"Guardando...":p?"Actualizar":"Agregar"]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Destinos Creados"}),s.jsxs("div",{className:"relative",children:[s.jsx(dn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Buscar...",value:u,onChange:W=>m(W.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 w-64"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:X.map(W=>s.jsxs("div",{className:`border rounded-xl overflow-hidden hover:shadow-lg transition-shadow ${W.activo?"":"opacity-60"}`,children:[s.jsxs("div",{className:"relative h-48",children:[s.jsx("img",{src:W.imagenes?.[0]||W.imagen||"https://via.placeholder.com/400x200?text=Sin+Imagen",alt:W.nombre,className:"w-full h-full object-cover",onError:B=>{B.target.onerror=null,B.target.src="https://via.placeholder.com/400x200?text=Error+Imagen"}}),W.destacado&&s.jsx("div",{className:"absolute top-2 left-2",children:s.jsx("span",{className:"px-2 py-1 bg-amber-500 text-white rounded-full text-xs font-bold",children:" Destacado"})}),W.imagenes?.length>1&&s.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/50 text-white text-xs px-2 py-1 rounded-full",children:["+",W.imagenes.length-1," fotos"]})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-bold text-lg mb-2",children:W.nombre}),s.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:W.descripcion}),s.jsxs("div",{className:"space-y-1 text-sm mb-4",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Precio:"}),s.jsxs("span",{className:"font-semibold",children:["$",W.precioMin," - $",W.precioMax]})]}),W.precioOfertaMin>0&&s.jsxs("div",{className:"flex justify-between text-green-600",children:[s.jsx("span",{className:"text-gray-600",children:"Oferta:"}),s.jsxs("span",{className:"font-semibold",children:["$",W.precioOfertaMin," - $",W.precioOfertaMax]})]})]}),s.jsxs("div",{className:"flex justify-between items-center pt-3 border-t",children:[s.jsxs("div",{className:"text-xs text-gray-500",children:["Orden: ",W.orden]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>T(W),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",children:s.jsx(ah,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>A(W),className:`p-2 rounded-lg ${W.activo?"text-yellow-600 hover:bg-yellow-50":"text-green-600 hover:bg-green-50"}`,children:W.activo?s.jsx(RP,{className:"h-4 w-4"}):s.jsx(O_,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>C(W.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:s.jsx(zr,{className:"h-4 w-4"})})]})]})]})]},W.id))})]})]})},j6=({value:r,onChange:e,folder:t="services"})=>{const[n,a]=P.useState(r||""),[l,u]=P.useState(!1),m=x=>{const g=x.target.files[0];if(!g)return;if(!g.type.startsWith("image/")){alert("Por favor selecciona una imagen vlida");return}if(g.size>5*1024*1024){alert("La imagen no debe superar los 5MB");return}u(!0);const w=new FileReader;w.onloadend=()=>{a(w.result),e(w.result),u(!1)},w.readAsDataURL(g)},p=()=>{a(""),e("")};return s.jsx("div",{className:"space-y-4",children:n?s.jsxs("div",{className:"relative inline-block",children:[s.jsx("img",{src:n,alt:"Preview",className:"w-48 h-48 object-cover rounded-lg border-2 border-gray-200"}),s.jsx("button",{type:"button",onClick:p,className:"absolute -top-2 -right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",children:s.jsx(Ye,{className:"h-4 w-4"})})]}):s.jsxs("label",{className:"block cursor-pointer",children:[s.jsxs("div",{className:"border-3 border-dashed border-gray-300 rounded-2xl p-8 text-center hover:border-amber-400 hover:bg-amber-50 transition-colors w-48",children:[s.jsx(Td,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-gray-600",children:l?"Subiendo...":"Seleccionar imagen"}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"PNG, JPG hasta 5MB"})]}),s.jsx("input",{type:"file",accept:"image/*",onChange:m,className:"hidden",disabled:l})]})})},xv=()=>{const{id:r}=kv(),e=Wt(),t=!!r,[n,a]=P.useState(!1),[l,u]=P.useState([]),[m,p]=P.useState([]),[x,g]=P.useState({name:"",description:"",category:"electronics",price:"",stock:"",specifications:"",isFeatured:!1,isNew:!0,status:"active"});P.useEffect(()=>{t&&w()},[r]);const w=async()=>{a(!0);const k=await K5(r);k.success?(g(k.data),k.data.imageUrl&&p([{url:k.data.imageUrl,isExisting:!0}])):pe.error("Error al cargar el producto"),a(!1)},b=k=>{const{name:M,value:D,type:ee,checked:K}=k.target;g(Z=>({...Z,[M]:ee==="checkbox"?K:D}))},j=async k=>{k.preventDefault(),a(!0);try{const M={...x,price:parseFloat(x.price)||0,stock:parseInt(x.stock)||0,imageUrl:l.length>0?l[0]:m[0]?.url||null,additionalImages:l.slice(1)};let D;if(t?D=await Y5(r,M):D=await Q5(M),D.success)pe.success(t?"Producto actualizado":"Producto creado"),e("/admin/products");else throw new Error(D.error)}catch{pe.error("Error al guardar el producto")}finally{a(!1)}};return n&&t?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"max-w-5xl mx-auto p-6",children:[s.jsx("div",{className:"mb-6",children:s.jsx(at,{to:"/admin/products",className:"text-blue-600 hover:text-blue-800 flex items-center gap-2",children:" Volver a productos"})}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:t?"Editar Producto":"Nuevo Producto"}),s.jsxs("form",{onSubmit:j,className:"space-y-8",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 p-6 rounded-2xl border-2 border-blue-100",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-8 bg-gradient-to-b from-blue-600 to-purple-600 rounded-full"}),"Imgenes del Producto"]}),s.jsx(j6,{onImagesChange:u,maxFiles:5,existingImages:m})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Nombre del Producto *"}),s.jsx("input",{type:"text",name:"name",value:x.name||"",onChange:b,required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",placeholder:"Ej: Smartphone X Pro"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Categora"}),s.jsxs("select",{name:"category",value:x.category||"electronics",onChange:b,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",children:[s.jsx("option",{value:"electronics",children:"Electrnica"}),s.jsx("option",{value:"fashion",children:"Moda"}),s.jsx("option",{value:"home",children:"Hogar"}),s.jsx("option",{value:"sports",children:"Deportes"}),s.jsx("option",{value:"beauty",children:"Belleza"}),s.jsx("option",{value:"tourism",children:"Turismo"}),s.jsx("option",{value:"others",children:"Otros"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Precio *"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),s.jsx("input",{type:"number",name:"price",value:x.price||"",onChange:b,required:!0,min:"0",step:"0.01",className:"w-full pl-8 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",placeholder:"0.00"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Stock *"}),s.jsx("input",{type:"number",name:"stock",value:x.stock||"",onChange:b,required:!0,min:"0",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",placeholder:"0"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Descripcin"}),s.jsx("textarea",{name:"description",value:x.description||"",onChange:b,rows:"5",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",placeholder:"Describe las caractersticas del producto..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Especificaciones Tcnicas"}),s.jsx("textarea",{name:"specifications",value:x.specifications||"",onChange:b,rows:"3",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",placeholder:"Color: Rojo, Material: Plstico, Dimensiones: 10x5x2cm..."})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 p-6 bg-gray-50 rounded-xl",children:[s.jsxs("label",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",name:"isFeatured",checked:x.isFeatured||!1,onChange:b,className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Producto Destacado"})]}),s.jsxs("label",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",name:"isNew",checked:x.isNew||!1,onChange:b,className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Marcar como Nuevo"})]}),s.jsx("div",{children:s.jsxs("select",{name:"status",value:x.status||"active",onChange:b,className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",children:[s.jsx("option",{value:"active",children:" Activo"}),s.jsx("option",{value:"inactive",children:" Inactivo"}),s.jsx("option",{value:"draft",children:" Borrador"})]})})]}),s.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t-2 border-gray-100",children:[s.jsx(at,{to:"/admin/products",className:"px-6 py-3 border-2 border-gray-300 rounded-xl font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:n,className:`px-8 py-3 rounded-xl font-medium text-white transition-all ${n?"bg-blue-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-purple-600 hover:shadow-lg hover:scale-105"}`,children:n?"Guardando...":t?"Actualizar Producto":"Crear Producto"})]})]})]})]})},E6=()=>{const[r,e]=P.useState("admin@batista.com"),[t,n]=P.useState(""),[a,l]=P.useState(""),[u,m]=P.useState(!1),{login:p}=dg(),x=Wt(),g=async w=>{w.preventDefault(),l(""),m(!0);try{const b=await p(r,t);b.success?x("/admin/dashboard"):l(b.error||"Credenciales incorrectas")}catch{l("Error al iniciar sesin")}finally{m(!1)}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl w-full max-w-md p-6 border border-amber-500/20",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-amber-500 to-amber-600 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:s.jsx(nc,{className:"h-8 w-8 text-white"})}),s.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Acceso Administrativo"}),s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Panel de control Batista Global Service"})]}),s.jsxs("form",{onSubmit:g,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Administrador"}),s.jsxs("div",{className:"relative",children:[s.jsx(ra,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"email",value:r,onChange:w=>e(w.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent text-base",placeholder:"admin@batista.com",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrasea"}),s.jsxs("div",{className:"relative",children:[s.jsx(ag,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"password",value:t,onChange:w=>n(w.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent text-base",placeholder:"",required:!0})]})]}),a&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 p-3 rounded-lg text-sm",children:a}),s.jsx("button",{type:"submit",disabled:u,className:"w-full bg-gradient-to-r from-amber-500 to-amber-600 text-white py-3 rounded-lg font-medium hover:from-amber-600 hover:to-amber-700 transition-all duration-300 disabled:opacity-50 flex items-center justify-center gap-2 shadow-lg text-base",children:u?"Iniciando sesin...":s.jsxs(s.Fragment,{children:[s.jsx(eR,{className:"h-5 w-5"}),"Acceder al Panel"]})})]})]})})},k6=()=>{const{t:r}=fn(),e=Wt(),{services:t,loadServices:n}=oh(),{destinos:a,loadDestinos:l}=s1(),[u,m]=P.useState([]),[p,x]=P.useState([]),[g,w]=P.useState({}),[b,j]=P.useState(0),[k,M]=P.useState(!0),[D,ee]=P.useState({}),K=P.useRef({}),Z=P.useRef(),$=P.useRef({}),G=[{url:"/images/imagen1.png",nombre:"Imagen 1"},{url:"/images/imagen2.png",nombre:"Imagen 2"},{url:"/images/imagen3.png",nombre:"Imagen 3"},{url:"/images/imagen4.png",nombre:"Imagen 4"},{url:"/images/hero1.png",nombre:"Hero original"}];P.useEffect(()=>{n(),l()},[]),P.useEffect(()=>{if(t.length>0){const X=t.filter(W=>W.isActive!==!1);m(X.slice(0,12))}},[t]),P.useEffect(()=>{if(a.length>0){const X=a.filter(B=>B.activo!==!1).sort((B,Q)=>(B.orden||0)-(Q.orden||0));console.log("Destinos activos cargados:",X),x(X);const W={};X.forEach(B=>{W[B.id]=0}),ee(W)}},[a]),P.useEffect(()=>(k&&(Z.current=setInterval(()=>{j(X=>(X+1)%G.length)},5e3)),()=>clearInterval(Z.current)),[k,G.length]),P.useEffect(()=>(Object.values($.current).forEach(clearInterval),p.forEach(X=>{const W=E(X);if(W.length>1){const B=setInterval(()=>{ee(Q=>{const de=Q[X.id]||0;return{...Q,[X.id]:(de+1)%W.length}})},4e3);$.current[X.id]=B}}),()=>{Object.values($.current).forEach(clearInterval)}),[p]),P.useEffect(()=>{const X=new IntersectionObserver(W=>{W.forEach(B=>{B.isIntersecting&&w(Q=>({...Q,[B.target.id]:!0}))})},{threshold:.1,rootMargin:"0px"});return Object.values(K.current).forEach(W=>{W&&X.observe(W)}),()=>X.disconnect()},[]);const se=X=>{K.current.services?.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(()=>{e(`/servicio/${X}`)},300)},L=(X,W)=>{K.current.destinos?.scrollIntoView({behavior:"smooth",block:"start"})},R=X=>{const W=X.mainImage||X.imageUrl;return W?W.startsWith("http")||W.startsWith("data:")||W.startsWith("/")?W:`/images/${W}`:"https://images.pexels.com/photos/1285625/pexels-photo-1285625.jpeg"},E=X=>X.imagenes&&Array.isArray(X.imagenes)&&X.imagenes.length>0?X.imagenes:X.imagen?[X.imagen]:["https://via.placeholder.com/800x600?text=Sin+Imagen"],S=()=>{j(X=>(X+1)%G.length),M(!1)},T=()=>{j(X=>(X-1+G.length)%G.length),M(!1)},C=[{icon:_c,value:"15K+",label:r("clientes"),color:"blue"},{icon:xr,value:"25K+",label:r("envios"),color:"green"},{icon:un,value:"25+",label:r("paises"),color:"amber"},{icon:nh,value:"10 aos",label:r("experiencia"),color:"purple"},{icon:vr,value:"4.9/5",label:r("calificacion"),color:"yellow"},{icon:xo,value:"98%",label:r("recomendacion"),color:"red"},{icon:Io,value:"5K+",label:r("entregas"),color:"orange"},{icon:So,value:"3K+",label:r("vuelos"),color:"sky"}],A=[{nombre:"Mara Gonzlez",avatar:"https://randomuser.me/api/portraits/women/44.jpg",texto:"Excelente servicio, mis envos siempre llegan a tiempo. Muy profesionales.",rating:5,pais:"Espaa"},{nombre:"Carlos Rodrguez",avatar:"https://randomuser.me/api/portraits/men/32.jpg",texto:"Los tours son increbles, conoc lugares maravillosos. Volver a reservar.",rating:5,pais:"Mxico"},{nombre:"Ana Martnez",avatar:"https://randomuser.me/api/portraits/women/68.jpg",texto:"La renta de autos fue perfecta, el vehculo impecable y el precio justo.",rating:5,pais:"Colombia"},{nombre:"Javier Lpez",avatar:"https://randomuser.me/api/portraits/men/75.jpg",texto:"Me ayudaron con todos los trmites de visa, sper recomendados.",rating:5,pais:"Argentina"},{nombre:"Laura Snchez",avatar:"https://randomuser.me/api/portraits/women/33.jpg",texto:"Increble experiencia, volver a contratar sus servicios sin duda.",rating:5,pais:"Chile"},{nombre:"Pedro Gmez",avatar:"https://randomuser.me/api/portraits/men/46.jpg",texto:"Profesionales y confiables, 100% recomendados.",rating:5,pais:"Per"}],ue=[{icon:nc,titulo:r("beneficios_lista.seguridad"),desc:r("beneficios_lista.seguridad")},{icon:bP,titulo:r("beneficios_lista.atencion"),desc:r("beneficios_lista.atencion")},{icon:jP,titulo:r("beneficios_lista.pagos"),desc:r("beneficios_lista.pagos")},{icon:Vp,titulo:r("beneficios_lista.seguimiento"),desc:r("beneficios_lista.seguimiento")},{icon:UP,titulo:r("beneficios_lista.precios"),desc:r("beneficios_lista.precios")},{icon:kP,titulo:r("beneficios_lista.premium"),desc:r("beneficios_lista.premium")},{icon:kR,titulo:r("beneficios_lista.envios_rapidos"),desc:r("beneficios_lista.envios_rapidos")},{icon:V_,titulo:r("beneficios_lista.ofertas_exclusivas"),desc:r("beneficios_lista.ofertas_exclusivas")}];return s.jsxs("div",{className:"min-h-screen bg-white overflow-hidden pt-20",children:[s.jsx("div",{className:"fixed z-50",style:{bottom:"96px",right:"24px"},children:s.jsx(n1,{})}),s.jsxs("section",{className:"relative h-[calc(100vh-5rem)] flex items-center justify-center overflow-hidden -mt-16 md:-mt-20 lg:-mt-24",children:[s.jsxs("div",{className:"absolute inset-0",children:[G.map((X,W)=>s.jsx("div",{className:`absolute inset-0 transition-opacity duration-1000 ${W===b?"opacity-100":"opacity-0"}`,children:s.jsx("img",{src:X.url,alt:X.nombre,className:"w-full h-full object-cover",onError:B=>{console.log("Error cargando imagen:",X.url),B.target.onerror=null,B.target.src="/images/hero1.png"}})},W)),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 via-black/30 to-black/60"})]}),s.jsx("button",{onClick:T,className:"absolute left-4 top-1/2 -translate-y-1/2 z-20 w-12 h-12 bg-white/10 backdrop-blur-md rounded-full flex items-center justify-center text-white hover:bg-white/20",children:s.jsx(D_,{className:"h-6 w-6"})}),s.jsx("button",{onClick:S,className:"absolute right-4 top-1/2 -translate-y-1/2 z-20 w-12 h-12 bg-white/10 backdrop-blur-md rounded-full flex items-center justify-center text-white hover:bg-white/20",children:s.jsx(jd,{className:"h-6 w-6"})}),s.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 z-20 flex gap-2",children:G.map((X,W)=>s.jsx("button",{onClick:()=>{j(W),M(!1)},className:`w-2 h-2 rounded-full transition-all duration-300 ${W===b?"w-6 bg-amber-500":"bg-white/50 hover:bg-white"}`},W))}),s.jsx("button",{onClick:()=>M(!k),className:"absolute bottom-8 right-8 z-20 w-8 h-8 bg-white/10 backdrop-blur-md rounded-full flex items-center justify-center text-white hover:bg-white/20",children:k?s.jsx(vR,{className:"h-4 w-4"}):s.jsx(_R,{className:"h-4 w-4"})}),s.jsx("div",{className:"container mx-auto px-4 relative z-10",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[s.jsx("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-bold text-white mb-4",children:"Batista Global Service"}),s.jsx("p",{className:"text-xl text-white/80 max-w-2xl mx-auto",children:"Tu mejor opcin para viajes y envos en el Caribe"})]})})]}),s.jsx("section",{id:"services",ref:X=>K.current.services=X,className:"py-16 bg-white",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Nuestros Servicios"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Descubre todo lo que tenemos para ti"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:u.slice(0,12).map((X,W)=>s.jsx("div",{onClick:()=>se(X.id),className:`group cursor-pointer transform transition-all duration-500 hover:-translate-y-2 ${g.services?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,style:{transitionDelay:`${W*100}ms`},children:s.jsxs("div",{className:"relative h-64 rounded-xl overflow-hidden shadow-lg group-hover:shadow-xl",children:[s.jsx("img",{src:R(X),alt:X.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",onError:B=>{B.target.onerror=null,B.target.src="https://images.pexels.com/photos/1285625/pexels-photo-1285625.jpeg"}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-white mb-1",children:X.title}),s.jsx("p",{className:"text-white/80 text-sm line-clamp-2",children:X.subtitle})]})]})},X.id))})]})}),s.jsx("section",{id:"stats",ref:X=>K.current.stats=X,className:"py-16 bg-gradient-to-br from-amber-50 via-white to-amber-50",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-6",children:C.map((X,W)=>{const B=X.icon;return s.jsxs("div",{className:`text-center ${g.stats?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,style:{transitionDelay:`${W*100}ms`},children:[s.jsx("div",{className:`w-16 h-16 bg-${X.color}-100 rounded-2xl flex items-center justify-center mx-auto mb-3`,children:s.jsx(B,{className:`h-8 w-8 text-${X.color}-600`})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:X.value}),s.jsx("p",{className:"text-sm text-gray-600",children:X.label})]},W)})})})}),s.jsx("section",{id:"destinos",ref:X=>K.current.destinos=X,className:"py-16 bg-gray-50",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Destinos Populares"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Los lugares ms visitados por nuestros clientes"})]}),p.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map((X,W)=>{const B=E(X),Q=D[X.id]||0;return s.jsxs("div",{onClick:de=>L(X.id),className:`group relative h-96 rounded-xl overflow-hidden cursor-pointer transform transition-all duration-500 hover:-translate-y-2 ${g.destinos?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,style:{transitionDelay:`${W*150}ms`},children:[s.jsx("div",{className:"absolute inset-0",children:B.map((de,oe)=>s.jsx("img",{src:de,alt:`${X.nombre} - Imagen ${oe+1}`,className:`absolute inset-0 w-full h-full object-cover transition-opacity duration-1000 ${oe===Q?"opacity-100":"opacity-0"}`,onError:U=>{console.log("Error cargando imagen:",de),U.target.onerror=null,U.target.src="https://via.placeholder.com/800x600?text=Error+Imagen"}},oe))}),B.length>1&&s.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-20 flex gap-1",children:B.map((de,oe)=>s.jsx("div",{className:`rounded-full transition-all duration-300 ${oe===Q?"w-2 h-0.5 bg-amber-400/70":"w-1 h-0.5 bg-white/40"}`},oe))}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:X.nombre}),s.jsx("p",{className:"text-white/80 text-sm mb-3 line-clamp-2",children:X.descripcion}),s.jsxs("div",{className:"space-y-1",children:[(X.precioOfertaMin>0||X.precioOfertaMax>0)&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-gray-300 line-through text-sm",children:["$",X.precioMin," - $",X.precioMax]}),s.jsx("span",{className:"bg-red-500 text-white text-xs px-2 py-0.5 rounded-full",children:"OFERTA"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-2xl font-bold text-amber-400",children:["$",X.precioOfertaMin||X.precioMin]}),s.jsx("span",{className:"text-white/60",children:"-"}),s.jsxs("span",{className:"text-2xl font-bold text-amber-400",children:["$",X.precioOfertaMax||X.precioMax]})]})]})]}),X.destacado&&s.jsx("div",{className:"absolute top-4 left-4",children:s.jsx("span",{className:"px-3 py-1 bg-amber-500 text-white rounded-full text-sm font-bold shadow-lg",children:" Destacado"})}),(X.precioOfertaMin>0||X.precioOfertaMax>0)&&s.jsxs("div",{className:"absolute top-4 right-4 bg-red-500 text-white px-3 py-1 rounded-full text-sm font-bold animate-pulse",children:["-",Math.round(100-(X.precioOfertaMin||X.precioMin)/(X.precioMin||1)*100),"%"]})]},X.id)})}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Cr,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No hay destinos disponibles"}),s.jsx("p",{className:"text-gray-600",children:"Pronto agregaremos nuevos destinos para ti"})]})]})}),s.jsx("section",{id:"beneficios",ref:X=>K.current.beneficios=X,className:"py-16 bg-white",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Por qu elegirnos?"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Beneficios exclusivos"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:ue.map((X,W)=>{const B=X.icon;return s.jsxs("div",{className:`bg-gradient-to-br from-gray-50 to-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-500 hover:-translate-y-2 ${g.beneficios?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,style:{transitionDelay:`${W*100}ms`},children:[s.jsx("div",{className:"w-16 h-16 bg-amber-100 rounded-2xl flex items-center justify-center mb-4",children:s.jsx(B,{className:"h-8 w-8 text-amber-600"})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:X.titulo}),s.jsx("p",{className:"text-gray-600",children:X.desc})]},W)})})]})}),s.jsx("section",{id:"testimonios",ref:X=>K.current.testimonios=X,className:"py-16 bg-white",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Lo que dicen nuestros clientes"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Experiencias reales"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:A.map((X,W)=>s.jsxs("div",{className:`bg-gradient-to-br from-gray-50 to-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-500 hover:-translate-y-2 ${g.testimonios?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,style:{transitionDelay:`${W*150}ms`},children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("img",{src:X.avatar,alt:X.nombre,className:"w-12 h-12 rounded-full object-cover"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-900",children:X.nombre}),s.jsx("p",{className:"text-sm text-gray-500",children:X.pais})]})]}),s.jsxs("p",{className:"text-gray-700 mb-4",children:['"',X.texto,'"']}),s.jsx("div",{className:"flex items-center gap-1",children:[...Array(X.rating)].map((B,Q)=>s.jsx(vr,{className:"h-5 w-5 text-yellow-500 fill-yellow-500"},Q))})]},W))})]})})]})},T6=()=>{const r=Wt(),{services:e,loading:t,loadServices:n}=oh(),{t:a}=fn();P.useEffect(()=>{n()},[]);const l=g=>{r(`/servicio/${g}`)},u=g=>g?g.startsWith("http")||g.startsWith("/")||g.startsWith("data:")?g:`/images/${g}`:"https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",m=g=>{switch(g){case"shipping":return s.jsx(xr,{className:"h-5 w-5"});case"tours":return s.jsx(un,{className:"h-5 w-5"});case"rental":return s.jsx($r,{className:"h-5 w-5"});case"hotels":return s.jsx(Yn,{className:"h-5 w-5"});case"flights":return s.jsx(So,{className:"h-5 w-5"});case"visas":return s.jsx(To,{className:"h-5 w-5"});default:return s.jsx(vr,{className:"h-5 w-5"})}},p=g=>{switch(g){case"shipping":return"bg-green-100 text-green-700";case"tours":return"bg-blue-100 text-blue-700";case"rental":return"bg-amber-100 text-amber-700";case"hotels":return"bg-purple-100 text-purple-700";case"flights":return"bg-sky-100 text-sky-700";case"visas":return"bg-emerald-100 text-emerald-700";default:return"bg-gray-100 text-gray-700"}};if(t)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-amber-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:a("cargando")})]})});const x=e.filter(g=>g.isActive!==!1);return s.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white",children:[s.jsx("div",{className:"bg-gradient-to-r from-amber-600 to-amber-800 text-white py-16",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6",children:[s.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-4 text-center",children:a("nuestros_servicios")}),s.jsx("p",{className:"text-xl text-white/90 max-w-3xl mx-auto text-center",children:a("descripcion_servicios")})]})}),s.jsx("div",{className:"container mx-auto px-4 sm:px-6 py-16",children:x.length===0?s.jsxs("div",{className:"text-center py-16",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:a("proximamente")}),s.jsx("p",{className:"text-gray-600",children:a("preparando_servicios")})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:x.map(g=>s.jsxs("div",{onClick:()=>l(g.id),className:"group bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 overflow-hidden cursor-pointer",children:[s.jsxs("div",{className:"relative h-64 overflow-hidden bg-gray-100",children:[s.jsx("img",{src:u(g.mainImage),alt:g.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700",onError:w=>{w.target.onerror=null,w.target.src="https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),s.jsx("div",{className:"absolute top-4 left-4",children:s.jsxs("span",{className:`px-3 py-1.5 rounded-full text-sm font-medium shadow-lg flex items-center gap-1 ${p(g.type)}`,children:[m(g.type),g.type==="shipping"?a("paqueteria_express"):g.type==="tours"?a("paquetes_turisticos"):g.type==="rental"?a("renta_autos"):g.type==="hotels"?a("reservas_hoteles"):g.type==="flights"?a("reservas_vuelos"):g.type==="visas"?a("visas"):a("servicios")]})}),g.isFeatured&&s.jsx("div",{className:"absolute top-4 right-4",children:s.jsxs("span",{className:"px-3 py-1.5 bg-gradient-to-r from-amber-500 to-amber-600 text-white rounded-full text-sm font-medium shadow-lg flex items-center gap-1",children:[s.jsx(vr,{className:"h-4 w-4 fill-white"}),a("destacado")]})}),s.jsxs("div",{className:"absolute bottom-4 left-4 right-4",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-1 line-clamp-2",children:g.title}),s.jsx("p",{className:"text-white/90 text-sm line-clamp-2",children:g.subtitle})]})]}),s.jsx("div",{className:"p-5 bg-white",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-amber-600 font-medium text-sm group-hover:underline",children:a("ver_detalles")}),s.jsx("span",{className:"text-amber-600 group-hover:translate-x-2 transition-transform text-xl",children:""})]})})]},g.id))})})]})},S6=({data:r,service:e})=>{const t=r||{},n=t.productosPermitidos||[],a=t.productosRestringidos||[],l=t.tarifas||[],u=t.destinos||[],m=t.rangosPrecios||{minimo:15,maximo:250},p=t.tiempos||{nacional:"2-4 das",internacional:"5-10 das",express:"24-48h"},x=t.seguros||[];return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-xl p-6 shadow-lg",children:[s.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[s.jsx(Mt,{className:"h-6 w-6"}),"Rango de Precios"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm opacity-90",children:"Desde"}),s.jsxs("p",{className:"text-3xl font-bold",children:["$",m.minimo]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm opacity-90",children:"Hasta"}),s.jsxs("p",{className:"text-3xl font-bold",children:["$",m.maximo]})]})]})]}),n.length>0&&s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[s.jsx(xr,{className:"h-5 w-5 text-green-600"}),"Productos Permitidos"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:n.map((g,w)=>s.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm",children:g},w))})]}),a.length>0&&s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[s.jsx(ta,{className:"h-5 w-5 text-red-600"}),"Productos Restringidos"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:a.map((g,w)=>s.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-sm",children:g},w))})]}),l.length>0&&s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[s.jsx(B_,{className:"h-5 w-5 text-amber-600"}),"Tarifas por Peso"]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Peso"}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Precio"}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Tiempo"})]})}),s.jsx("tbody",{className:"divide-y",children:l.map((g,w)=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3",children:g.peso||"N/A"}),s.jsxs("td",{className:"px-4 py-3 font-semibold text-green-600",children:["$",g.precioMin||g.precio||0," - $",g.precioMax||g.precio||0]}),s.jsx("td",{className:"px-4 py-3 text-gray-600",children:g.tiempo||"N/A"})]},w))})]})})]}),u.length>0&&s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[s.jsx(Cr,{className:"h-5 w-5 text-blue-600"}),"Destinos"]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:u.map((g,w)=>s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[s.jsx("h4",{className:"font-bold text-lg mb-2",children:g.pais||"N/A"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("p",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Tarifa:"}),s.jsxs("span",{className:"font-semibold text-green-600",children:["$",g.precioMin||g.tarifaBase||0," - $",g.precioMax||g.tarifaBase||0]})]}),s.jsxs("p",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Tiempo:"}),s.jsx("span",{children:g.tiempo||g.tiempoEstimado||"N/A"})]})]})]},w))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200 shadow-sm",children:[s.jsx(tr,{className:"h-6 w-6 text-blue-500 mb-2"}),s.jsx("h4",{className:"font-semibold",children:"Nacional"}),s.jsx("p",{className:"text-lg font-bold",children:p.nacional})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200 shadow-sm",children:[s.jsx(un,{className:"h-6 w-6 text-green-500 mb-2"}),s.jsx("h4",{className:"font-semibold",children:"Internacional"}),s.jsx("p",{className:"text-lg font-bold",children:p.internacional})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200 shadow-sm",children:[s.jsx(Io,{className:"h-6 w-6 text-amber-500 mb-2"}),s.jsx("h4",{className:"font-semibold",children:"Express"}),s.jsx("p",{className:"text-lg font-bold",children:p.express})]})]}),x.length>0&&s.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 border border-blue-200",children:[s.jsxs("h3",{className:"text-lg font-bold text-blue-800 mb-3 flex items-center gap-2",children:[s.jsx(yr,{className:"h-5 w-5"}),"Seguros disponibles"]}),s.jsx("div",{className:"space-y-2",children:x.map((g,w)=>s.jsxs("div",{className:"bg-white rounded-lg p-3",children:[s.jsx("p",{className:"font-medium",children:g.nombre||g}),g.descripcion&&s.jsx("p",{className:"text-sm text-gray-600",children:g.descripcion}),g.precio&&s.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["+$",g.precio]})]},w))})]})]})},I6=({data:r,service:e})=>{const t=r||{},n=t.destinos||[],a=t.paquetes||[],l=t.ofertas||[],u=t.incluye||["Transporte ida y vuelta","Gua profesional","Almuerzo tpico","Seguro de viaje"],m=t.noIncluye||["Bebidas alcohlicas","Fotografas profesionales","Propinas"],p=t.recomendaciones||["Ropa cmoda","Bloqueador solar","Cmara fotogrfica"],x=t.rangosPrecios||{minimo:79,maximo:599};return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-gradient-to-r from-amber-600 to-orange-600 text-white rounded-xl p-6 shadow-lg",children:[s.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[s.jsx(Mt,{className:"h-6 w-6"}),"Rango de Precios"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm opacity-90",children:"Desde"}),s.jsxs("p",{className:"text-3xl font-bold",children:["$",x.minimo]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm opacity-90",children:"Hasta"}),s.jsxs("p",{className:"text-3xl font-bold",children:["$",x.maximo]})]})]})]}),n.length>0&&s.jsx("div",{className:"space-y-6",children:n.map((g,w)=>s.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border border-gray-200",children:[s.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white px-6 py-4",children:[s.jsxs("h3",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(Cr,{className:"h-6 w-6"}),g.nombre||"Destino"]}),g.descripcion&&s.jsx("p",{className:"text-amber-100 mt-1",children:g.descripcion})]}),g.imagen&&s.jsx("div",{className:"h-64 overflow-hidden",children:s.jsx("img",{src:g.imagen,alt:g.nombre,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"p-6",children:[s.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Paquetes disponibles"}),s.jsx("div",{className:"space-y-4",children:(g.paquetes||[]).map((b,j)=>s.jsxs("div",{className:"bg-amber-50 rounded-xl p-5 border border-amber-200",children:[s.jsxs("div",{className:"flex flex-wrap justify-between items-start gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"font-bold text-xl text-gray-800",children:b.nombre||"Paquete"}),s.jsx("p",{className:"text-sm text-gray-600",children:b.duracion})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:b.precio}),b.precioRegular&&s.jsx("p",{className:"text-sm text-gray-400 line-through",children:b.precioRegular})]})]}),b.descripcion&&s.jsx("p",{className:"text-gray-700 mb-3",children:b.descripcion}),b.hotel&&s.jsxs("p",{className:"text-sm mb-2",children:[s.jsx("span",{className:"font-medium",children:"Hotel:"})," ",b.hotel]}),b.incluye&&b.incluye.length>0&&s.jsxs("div",{className:"mb-3",children:[s.jsx("p",{className:"text-sm font-medium mb-2",children:"Incluye:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:b.incluye.map((k,M)=>s.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:k},M))})]}),b.itinerario&&b.itinerario.length>0&&s.jsxs("div",{className:"mt-3 pt-3 border-t border-amber-200",children:[s.jsx("p",{className:"text-sm font-medium mb-2",children:"Itinerario:"}),s.jsx("div",{className:"space-y-2",children:b.itinerario.map((k,M)=>s.jsxs("div",{className:"flex gap-3 text-sm",children:[s.jsx("span",{className:"font-medium w-16",children:k.hora}),s.jsx("span",{className:"text-gray-700",children:k.descripcion})]},M))})]})]},j))})]})]},w))}),n.length===0&&a.length>0&&s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-200",children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:"Paquetes disponibles"}),s.jsx("div",{className:"space-y-4",children:a.map((g,w)=>s.jsxs("div",{className:"bg-amber-50 rounded-xl p-5 border border-amber-200",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsx("h4",{className:"font-bold text-lg",children:g.nombre||"Paquete"}),s.jsx("span",{className:"text-xl font-bold text-green-600",children:g.precio})]}),s.jsx("p",{className:"text-gray-700 mb-3",children:g.descripcion}),s.jsx("p",{className:"text-sm text-gray-600",children:g.duracion})]},w))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[s.jsx(yr,{className:"h-5 w-5 text-green-600"}),"Incluye"]}),s.jsx("ul",{className:"space-y-3",children:u.map((g,w)=>s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(yr,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-gray-700",children:g})]},w))})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[s.jsx(ta,{className:"h-5 w-5 text-red-600"}),"No incluye"]}),s.jsx("ul",{className:"space-y-3",children:m.map((g,w)=>s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(ta,{className:"h-5 w-5 text-red-500 flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-gray-700",children:g})]},w))})]})]}),p.length>0&&s.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 border border-blue-200",children:[s.jsxs("h3",{className:"text-lg font-bold text-blue-800 mb-3 flex items-center gap-2",children:[s.jsx(ac,{className:"h-5 w-5"}),"Recomendaciones"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:p.map((g,w)=>s.jsx("span",{className:"px-3 py-2 bg-white text-blue-700 rounded-lg text-sm shadow-sm",children:g},w))})]}),l.length>0&&s.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 rounded-xl p-6 text-white",children:[s.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[s.jsx(vr,{className:"h-5 w-5"}),"Ofertas Especiales"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.map((g,w)=>s.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-4",children:[s.jsx("h4",{className:"font-bold text-lg",children:g.nombre||"Oferta"}),s.jsx("p",{className:"text-amber-100",children:g.descripcion||g.texto}),g.condiciones&&s.jsx("p",{className:"text-xs text-amber-200 mt-2",children:g.condiciones})]},w))})]})]})},C6=({data:r,service:e})=>{const t={sucursales:r?.sucursales||[],vehiculos:r?.vehiculos||[],tarifas:r?.tarifas||[],seguros:r?.seguros||[],requisitos:r?.requisitos||[],rangosPrecios:{economico:r?.rangosPrecios?.economico||35,intermedio:r?.rangosPrecios?.intermedio||65,premium:r?.rangosPrecios?.premium||120,lujo:r?.rangosPrecios?.lujo||250},tiposVehiculo:r?.tiposVehiculo||["Econmico","Compacto","Sedn","SUV","Camioneta","Deportivo","Lujo"],combustibles:r?.combustibles||["Gasolina","Diesel","Hbrido","Elctrico"],extras:r?.extras||["GPS","Silla para nios","Cobertura adicional","Conductor adicional"]};return s.jsxs("div",{className:"space-y-8",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-2xl p-8 shadow-xl",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold mb-2",children:e?.title||"Renta de Autos"}),s.jsx("p",{className:"text-blue-100 text-lg",children:e?.subtitle||"La mejor flota del Caribe"})]}),s.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl px-6 py-3 text-center",children:[s.jsx("p",{className:"text-sm opacity-90",children:"Desde"}),s.jsxs("p",{className:"text-3xl font-bold",children:["$",t.rangosPrecios.economico]}),s.jsxs("p",{className:"text-sm opacity-90",children:["Hasta $",t.rangosPrecios.lujo]})]})]})}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[s.jsx(Mt,{className:"h-6 w-6 text-blue-600"}),"Tarifas por categora"]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-green-50 rounded-xl p-4 text-center",children:[s.jsx($r,{className:"h-8 w-8 mx-auto text-green-600 mb-2"}),s.jsx("h4",{className:"font-semibold",children:"Econmico"}),s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",t.rangosPrecios.economico]}),s.jsx("p",{className:"text-xs text-gray-500",children:"por da"})]}),s.jsxs("div",{className:"bg-amber-50 rounded-xl p-4 text-center",children:[s.jsx($r,{className:"h-8 w-8 mx-auto text-amber-600 mb-2"}),s.jsx("h4",{className:"font-semibold",children:"Intermedio"}),s.jsxs("p",{className:"text-2xl font-bold text-amber-600",children:["$",t.rangosPrecios.intermedio]}),s.jsx("p",{className:"text-xs text-gray-500",children:"por da"})]}),s.jsxs("div",{className:"bg-orange-50 rounded-xl p-4 text-center",children:[s.jsx($r,{className:"h-8 w-8 mx-auto text-orange-600 mb-2"}),s.jsx("h4",{className:"font-semibold",children:"Premium"}),s.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:["$",t.rangosPrecios.premium]}),s.jsx("p",{className:"text-xs text-gray-500",children:"por da"})]}),s.jsxs("div",{className:"bg-purple-50 rounded-xl p-4 text-center",children:[s.jsx($r,{className:"h-8 w-8 mx-auto text-purple-600 mb-2"}),s.jsx("h4",{className:"font-semibold",children:"Lujo"}),s.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["$",t.rangosPrecios.lujo]}),s.jsx("p",{className:"text-xs text-gray-500",children:"por da"})]})]})]}),t.vehiculos.length>0&&s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[s.jsx($r,{className:"h-6 w-6 text-amber-600"}),"Nuestra Flota - Modelos Disponibles"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.vehiculos.map((n,a)=>s.jsxs("div",{className:"bg-white rounded-xl overflow-hidden border border-gray-200 hover:shadow-xl transition-shadow group",children:[s.jsxs("div",{className:"relative h-48 bg-gray-100",children:[n.imagen?s.jsx("img",{src:n.imagen,alt:n.nombre,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-100 to-gray-200",children:s.jsx($r,{className:"h-16 w-16 text-gray-400"})}),s.jsx("div",{className:"absolute top-3 right-3",children:n.disponible?s.jsx("span",{className:"px-3 py-1 bg-green-500 text-white text-xs font-bold rounded-full shadow-lg",children:"DISPONIBLE"}):s.jsx("span",{className:"px-3 py-1 bg-red-500 text-white text-xs font-bold rounded-full shadow-lg",children:"NO DISPONIBLE"})}),n.categoria&&s.jsx("div",{className:"absolute top-3 left-3",children:s.jsx("span",{className:"px-3 py-1 bg-blue-600 text-white text-xs font-bold rounded-full shadow-lg",children:n.categoria})})]}),s.jsxs("div",{className:"p-5",children:[s.jsx("h4",{className:"font-bold text-xl text-gray-800 mb-2",children:n.nombre}),s.jsx("div",{className:"mb-3",children:s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",n.precioMin,n.precioMax&&n.precioMax>n.precioMin&&s.jsxs("span",{className:"text-lg text-gray-500 font-normal",children:[" - $",n.precioMax]}),s.jsx("span",{className:"text-sm text-gray-500 font-normal ml-1",children:"/da"})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4 text-sm",children:[n.transmision&&s.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[s.jsx(cg,{className:"h-4 w-4"}),s.jsx("span",{children:n.transmision})]}),n.combustible&&s.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[s.jsx(LP,{className:"h-4 w-4"}),s.jsx("span",{children:n.combustible})]}),n.pasajeros&&s.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[s.jsx(_c,{className:"h-4 w-4"}),s.jsxs("span",{children:[n.pasajeros," pasajeros"]})]}),n.aireAcondicionado&&s.jsx("div",{className:"flex items-center gap-1 text-gray-600",children:s.jsx("span",{children:" A/C"})})]}),s.jsxs("button",{className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-semibold transition-colors flex items-center justify-center gap-2",children:[s.jsx(Wi,{className:"h-4 w-4"}),"Reservar ahora"]})]})]},a))})]}),t.sucursales.length>0&&s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[s.jsx(Cr,{className:"h-6 w-6 text-blue-600"}),"Nuestras Sucursales"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.sucursales.map((n,a)=>s.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-white rounded-xl p-5 border border-gray-200 hover:shadow-md transition-shadow",children:[s.jsx("h4",{className:"font-bold text-lg text-gray-800 mb-2",children:n.ciudad}),s.jsx("p",{className:"text-gray-600 text-sm mb-3",children:n.direccion}),n.telefono&&s.jsxs("a",{href:`tel:${n.telefono}`,className:"text-blue-600 text-sm flex items-center gap-1 hover:underline",children:[s.jsx(ih,{className:"h-4 w-4"}),n.telefono]}),n.horario&&s.jsxs("p",{className:"text-xs text-gray-500 mt-2 flex items-center gap-1",children:[s.jsx(tr,{className:"h-3 w-3"}),n.horario]})]},a))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[s.jsx(tr,{className:"h-8 w-8 text-blue-500 mb-3"}),s.jsx("h4",{className:"font-bold text-gray-800",children:"Tarifa diaria"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",t.rangosPrecios.economico," - $",t.rangosPrecios.lujo]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[s.jsx(Wi,{className:"h-8 w-8 text-green-500 mb-3"}),s.jsx("h4",{className:"font-bold text-gray-800",children:"Tarifa semanal"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",t.rangosPrecios.economico*6," - $",t.rangosPrecios.lujo*6]}),s.jsx("p",{className:"text-xs text-green-600 mt-1",children:"15% descuento"})]}),s.jsxs("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[s.jsx(Wi,{className:"h-8 w-8 text-purple-500 mb-3"}),s.jsx("h4",{className:"font-bold text-gray-800",children:"Tarifa mensual"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",t.rangosPrecios.economico*25," - $",t.rangosPrecios.lujo*25]}),s.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"30% descuento"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.seguros.length>0&&s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:[s.jsx(nc,{className:"h-5 w-5 text-blue-600"}),"Coberturas disponibles"]}),s.jsx("div",{className:"space-y-3",children:t.seguros.map((n,a)=>s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg",children:[s.jsx(yr,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-800",children:n.nombre}),n.descripcion&&s.jsx("p",{className:"text-sm text-gray-600",children:n.descripcion}),n.precio&&s.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["+$",n.precio,"/da"]})]})]},a))})]}),t.requisitos.length>0&&s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Requisitos para rentar"}),s.jsx("ul",{className:"space-y-3",children:t.requisitos.map((n,a)=>s.jsxs("li",{className:"flex items-center gap-3 p-3 bg-amber-50 rounded-lg",children:[s.jsx(yr,{className:"h-5 w-5 text-amber-600"}),s.jsx("span",{className:"text-gray-700",children:n})]},a))})]})]}),t.extras.length>0&&s.jsxs("div",{className:"bg-amber-50 rounded-2xl p-6 border border-amber-200",children:[s.jsxs("h3",{className:"text-lg font-bold text-amber-800 mb-3 flex items-center gap-2",children:[s.jsx(rP,{className:"h-5 w-5"}),"Extras disponibles"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:t.extras.map((n,a)=>s.jsxs("span",{className:"px-3 py-2 bg-white text-amber-700 rounded-lg text-sm shadow-sm flex items-center gap-1",children:[s.jsx(rt,{className:"h-3 w-3"}),n]},a))})]})]})},A6=({data:r,service:e})=>{const t={destinos:r?.destinos||[],hoteles:r?.hoteles||[],ofertas:r?.ofertas||[],rangosPrecios:{economico:r?.rangosPrecios?.economico||80,intermedio:r?.rangosPrecios?.intermedio||150,premium:r?.rangosPrecios?.premium||280,lujo:r?.rangosPrecios?.lujo||500},categorias:r?.categorias||["Econmico","3 Estrellas","4 Estrellas","5 Estrellas","Boutique","Todo incluido"],servicios:r?.servicios||["WiFi gratis","Desayuno incluido","Piscina","Gimnasio","Spa","Restaurante","Estacionamiento","Recepcin 24h"],politicas:{checkIn:r?.politicas?.checkIn||"15:00",checkOut:r?.politicas?.checkOut||"12:00",cancelacion:r?.politicas?.cancelacion||"24 horas antes sin cargo"}};return s.jsxs("div",{className:"space-y-8",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-2xl p-8 shadow-xl",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold mb-2",children:e?.title||"Reservas de Hoteles"}),s.jsx("p",{className:"text-purple-100 text-lg",children:e?.subtitle||"Los mejores hoteles del Caribe"})]}),s.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl px-6 py-3 text-center",children:[s.jsx("p",{className:"text-sm opacity-90",children:"Desde"}),s.jsxs("p",{className:"text-3xl font-bold",children:["$",t.rangosPrecios.economico]}),s.jsxs("p",{className:"text-sm opacity-90",children:["Hasta $",t.rangosPrecios.lujo]})]})]})}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[s.jsx(Mt,{className:"h-6 w-6 text-purple-600"}),"Precios por noche segn categora"]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-green-50 rounded-xl p-4 text-center",children:[s.jsx(Yn,{className:"h-8 w-8 mx-auto text-green-600 mb-2"}),s.jsx("h4",{className:"font-semibold",children:"Econmico"}),s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",t.rangosPrecios.economico]})]}),s.jsxs("div",{className:"bg-amber-50 rounded-xl p-4 text-center",children:[s.jsx(Yn,{className:"h-8 w-8 mx-auto text-amber-600 mb-2"}),s.jsx("h4",{className:"font-semibold",children:"3 Estrellas"}),s.jsxs("p",{className:"text-2xl font-bold text-amber-600",children:["$",t.rangosPrecios.intermedio]})]}),s.jsxs("div",{className:"bg-orange-50 rounded-xl p-4 text-center",children:[s.jsx(Yn,{className:"h-8 w-8 mx-auto text-orange-600 mb-2"}),s.jsx("h4",{className:"font-semibold",children:"4 Estrellas"}),s.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:["$",t.rangosPrecios.premium]})]}),s.jsxs("div",{className:"bg-purple-50 rounded-xl p-4 text-center",children:[s.jsx(Yn,{className:"h-8 w-8 mx-auto text-purple-600 mb-2"}),s.jsx("h4",{className:"font-semibold",children:"5 Estrellas"}),s.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["$",t.rangosPrecios.lujo]})]})]})]}),t.destinos.length>0&&s.jsx("div",{className:"space-y-6",children:t.destinos.map((n,a)=>s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden border border-gray-100",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 px-6 py-4 border-b",children:s.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(Cr,{className:"h-5 w-5 text-purple-600"}),n.ciudad,", ",n.pais]})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.hoteles?.map((l,u)=>s.jsxs("div",{className:"bg-gray-50 rounded-xl p-5 border border-gray-200 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsx("h4",{className:"font-bold text-lg text-gray-800",children:l.nombre}),s.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((m,p)=>s.jsx(vr,{className:`h-4 w-4 ${p<l.estrellas?"text-yellow-500 fill-yellow-500":"text-gray-300"}`},p))})]}),s.jsxs("p",{className:"text-2xl font-bold text-green-600 mb-3",children:["$",l.precio,s.jsx("span",{className:"text-sm text-gray-500 font-normal",children:"/noche"})]}),l.precioRango&&s.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Rango: $",l.precioRango.min," - $",l.precioRango.max]}),l.servicios?.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[l.servicios.slice(0,4).map((m,p)=>s.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full flex items-center gap-1",children:[m==="WiFi"&&s.jsx(Vp,{className:"h-3 w-3"}),m==="Desayuno"&&s.jsx(Op,{className:"h-3 w-3"}),m==="Piscina"&&s.jsx(lv,{className:"h-3 w-3"}),m==="Restaurante"&&s.jsx(ov,{className:"h-3 w-3"}),m]},p)),l.servicios.length>4&&s.jsxs("span",{className:"px-2 py-1 bg-gray-200 text-gray-700 text-xs rounded-full",children:["+",l.servicios.length-4]})]}),s.jsx("button",{className:"w-full mt-2 bg-purple-600 text-white py-2 rounded-lg hover:bg-purple-700 transition-colors text-sm font-medium",children:"Ver disponibilidad"})]},u))})})]},a))}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Servicios disponibles en nuestros hoteles"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:t.servicios.map((n,a)=>s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-50 rounded-lg",children:[n==="WiFi gratis"&&s.jsx(Vp,{className:"h-4 w-4 text-blue-500"}),n==="Desayuno incluido"&&s.jsx(Op,{className:"h-4 w-4 text-amber-500"}),n==="Piscina"&&s.jsx(lv,{className:"h-4 w-4 text-blue-500"}),n==="Gimnasio"&&s.jsx(CP,{className:"h-4 w-4 text-green-500"}),n==="Spa"&&s.jsx(av,{className:"h-4 w-4 text-purple-500"}),n==="Restaurante"&&s.jsx(ov,{className:"h-4 w-4 text-orange-500"}),n==="Estacionamiento"&&s.jsx($r,{className:"h-4 w-4 text-gray-500"}),n==="Recepcin 24h"&&s.jsx(tr,{className:"h-4 w-4 text-blue-500"}),s.jsx("span",{className:"text-sm",children:n})]},a))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[s.jsx(ac,{className:"h-8 w-8 text-amber-500 mb-3"}),s.jsx("h4",{className:"font-bold text-gray-800",children:"Check-in"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.politicas.checkIn})]}),s.jsxs("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[s.jsx(Lp,{className:"h-8 w-8 text-indigo-500 mb-3"}),s.jsx("h4",{className:"font-bold text-gray-800",children:"Check-out"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.politicas.checkOut})]}),s.jsxs("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[s.jsx(Wi,{className:"h-8 w-8 text-red-500 mb-3"}),s.jsx("h4",{className:"font-bold text-gray-800",children:"Cancelacin"}),s.jsx("p",{className:"text-sm text-gray-900",children:t.politicas.cancelacion})]})]}),t.ofertas.length>0&&s.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 rounded-2xl p-6 text-white",children:[s.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[s.jsx(av,{className:"h-5 w-5"}),"Ofertas Especiales"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.ofertas.map((n,a)=>s.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-4",children:[s.jsx("h4",{className:"font-bold text-lg",children:n.titulo}),s.jsx("p",{className:"text-amber-100 text-sm",children:n.descripcion}),n.vigencia&&s.jsxs("p",{className:"text-xs text-amber-200 mt-2",children:["Vlido: ",n.vigencia]})]},a))})]})]})},P6=({data:r,service:e})=>{const t=r||{},n=t.rutas||[],a=t.clases||[],l=t.aerolineas||[],u=t.ofertas||[],m=t.destinosPopulares||[{ciudad:"Miami",precio:"$250 - $450",vuelos:12},{ciudad:"Madrid",precio:"$650 - $950",vuelos:8},{ciudad:"Cancn",precio:"$320 - $550",vuelos:15}],p=t.rangosPrecios||{minimo:150,maximo:950},x=t.equipaje||{cabina:"10 kg",bodega:"23 kg",precioExtra:35};return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-gradient-to-r from-sky-600 to-blue-600 text-white rounded-xl p-6 shadow-lg",children:[s.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[s.jsx(Mt,{className:"h-6 w-6"}),"Rango de Precios"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm opacity-90",children:"Desde"}),s.jsxs("p",{className:"text-3xl font-bold",children:["$",p.minimo]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm opacity-90",children:"Hasta"}),s.jsxs("p",{className:"text-3xl font-bold",children:["$",p.maximo]})]})]})]}),n.length>0&&s.jsx("div",{className:"space-y-6",children:n.map((g,w)=>s.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border border-gray-200",children:[s.jsxs("div",{className:"bg-gradient-to-r from-sky-600 to-blue-600 text-white px-6 py-4",children:[s.jsxs("h3",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(So,{className:"h-6 w-6"}),g.origen||"Origen","  ",g.destino||"Destino"]}),g.duracion&&s.jsxs("p",{className:"text-sky-100 mt-1 flex items-center gap-2",children:[s.jsx(tr,{className:"h-4 w-4"}),"Duracin: ",g.duracion]})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Vuelos disponibles"}),s.jsx("div",{className:"space-y-4",children:(g.vuelos||[]).map((b,j)=>s.jsxs("div",{className:"bg-sky-50 rounded-xl p-5 border border-sky-200 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex flex-wrap justify-between items-start gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h5",{className:"font-bold text-xl text-gray-800",children:b.aerolinea}),s.jsx("span",{className:"px-3 py-1 bg-blue-600 text-white rounded-full text-xs font-bold",children:b.clase||"Econmica"})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[b.horario&&s.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[s.jsx(tr,{className:"h-4 w-4"}),s.jsx("span",{children:b.horario})]}),s.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[s.jsx(sR,{className:"h-4 w-4"}),s.jsx("span",{children:b.equipaje||x.bodega})]}),s.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[s.jsx(Op,{className:"h-4 w-4"}),s.jsx("span",{children:b.comida||"Incluida"})]}),b.escalas&&s.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[s.jsx("span",{className:"font-medium",children:"Escalas:"}),s.jsx("span",{children:b.escalas})]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",b.precioMin||b.precio||0]}),b.precioMax&&s.jsxs("p",{className:"text-sm text-gray-500",children:["hasta $",b.precioMax]})]})]}),b.beneficios&&b.beneficios.length>0&&s.jsx("div",{className:"mt-3 pt-3 border-t border-sky-200",children:s.jsx("div",{className:"flex flex-wrap gap-2",children:b.beneficios.map((k,M)=>s.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:k},M))})})]},j))})]})]},w))}),a.length>0&&s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-200",children:[s.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[s.jsx(nh,{className:"h-6 w-6 text-amber-600"}),"Clases y Tarifas"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:a.map((g,w)=>s.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 rounded-xl p-5 border border-amber-200",children:[s.jsx("h4",{className:"font-bold text-lg text-gray-800 mb-2",children:g.nombre}),s.jsx("p",{className:"text-2xl font-bold text-green-600 mb-2",children:g.precio}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:g.descripcion}),g.beneficios&&g.beneficios.length>0&&s.jsx("ul",{className:"space-y-2 text-sm",children:g.beneficios.map((b,j)=>s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(yr,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{children:b})]},j))})]},w))})]}),m.length>0&&s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-200",children:[s.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[s.jsx(un,{className:"h-6 w-6 text-amber-600"}),"Destinos Populares"]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:m.map((g,w)=>s.jsxs("div",{className:"bg-gradient-to-br from-sky-50 to-blue-50 rounded-xl p-4 border border-sky-200",children:[s.jsx("h4",{className:"font-bold text-lg text-gray-800 mb-1",children:g.ciudad}),s.jsx("p",{className:"text-green-600 font-bold",children:g.precio}),g.vuelos&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[g.vuelos," vuelos diarios"]})]},w))})]}),l.length>0&&s.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-bold mb-3",children:"Aerolneas disponibles"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:l.map((g,w)=>s.jsx("span",{className:"px-4 py-2 bg-sky-100 text-sky-700 rounded-full text-sm font-medium",children:g},w))})]}),s.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 border border-blue-200",children:[s.jsxs("h3",{className:"text-lg font-bold text-blue-800 mb-3 flex items-center gap-2",children:[s.jsx(To,{className:"h-5 w-5"}),"Poltica de Equipaje"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-xl p-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Equipaje de cabina"}),s.jsx("p",{className:"text-xl font-bold",children:x.cabina})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Equipaje en bodega"}),s.jsx("p",{className:"text-xl font-bold",children:x.bodega})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Kg extra"}),s.jsxs("p",{className:"text-xl font-bold",children:["$",x.precioExtra]})]})]})]}),u.length>0&&s.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 rounded-xl p-6 text-white",children:[s.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[s.jsx(vr,{className:"h-5 w-5"}),"Ofertas Especiales"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.map((g,w)=>s.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-4",children:[s.jsx("h4",{className:"font-bold text-lg",children:g.nombre||"Oferta"}),s.jsx("p",{className:"text-amber-100",children:g.descripcion}),g.vigencia&&s.jsxs("p",{className:"text-xs text-amber-200 mt-2",children:["Vlido: ",g.vigencia]})]},w))})]})]})},R6=({data:r,service:e})=>{const t={paises:r?.paises||[],tiposVisa:r?.tiposVisa||[],requisitos:r?.requisitos||[],documentos:r?.documentos||[],tiempos:r?.tiempos||{minimo:"5 das",promedio:"15 das",maximo:"30 das"},rangosPrecios:{minima:r?.rangosPrecios?.minima||120,promedio:r?.rangosPrecios?.promedio||185,maxima:r?.rangosPrecios?.maxima||350},procesos:r?.procesos||["Completar formulario en lnea","Pagar arancel consular","Agendar cita","Entrevista personal","Esperar aprobacin"],advertencias:r?.advertencias||["Los tiempos pueden variar segn la temporada","No se garantiza la aprobacin de la visa","Recomendamos iniciar con 2 meses de anticipacin"]};return s.jsxs("div",{className:"space-y-8",children:[s.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-2xl p-8 shadow-xl",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold mb-2",children:e?.title||"Trmites de Visas"}),s.jsx("p",{className:"text-indigo-100 text-lg",children:e?.subtitle||"Asesora profesional"})]}),s.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl px-6 py-3 text-center",children:[s.jsx("p",{className:"text-sm opacity-90",children:"Desde"}),s.jsxs("p",{className:"text-3xl font-bold",children:["$",t.rangosPrecios.minima]}),s.jsxs("p",{className:"text-sm opacity-90",children:["Hasta $",t.rangosPrecios.maxima]})]})]})}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[s.jsx(Mt,{className:"h-6 w-6 text-indigo-600"}),"Rangos de precios por tipo de visa"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-green-50 rounded-xl p-5 text-center",children:[s.jsx("h4",{className:"font-bold text-lg mb-2",children:"Turista"}),s.jsxs("p",{className:"text-3xl font-bold text-green-600 mb-2",children:["$",t.rangosPrecios.minima]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Estada corta"})]}),s.jsxs("div",{className:"bg-amber-50 rounded-xl p-5 text-center",children:[s.jsx("h4",{className:"font-bold text-lg mb-2",children:"Negocios"}),s.jsxs("p",{className:"text-3xl font-bold text-amber-600 mb-2",children:["$",t.rangosPrecios.promedio]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Mltiples entradas"})]}),s.jsxs("div",{className:"bg-purple-50 rounded-xl p-5 text-center",children:[s.jsx("h4",{className:"font-bold text-lg mb-2",children:"Residencia"}),s.jsxs("p",{className:"text-3xl font-bold text-purple-600 mb-2",children:["$",t.rangosPrecios.maxima]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Largo plazo"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[s.jsx(un,{className:"h-6 w-6 text-indigo-600"}),"Pases con trmite disponible"]}),t.paises.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.paises.map((n,a)=>{const l=typeof n=="string"?n:n.nombre||"Pas",u=typeof n=="object"&&n.precio?n.precio:130,m=typeof n=="object"&&n.tipo?n.tipo:"Turista";return s.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-white rounded-xl p-5 border border-indigo-100 hover:shadow-md transition-shadow",children:[s.jsx("h4",{className:"font-bold text-xl text-gray-800 mb-3",children:l}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Precio:"}),s.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["$",u]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Tipo:"}),s.jsx("span",{className:"bg-indigo-100 text-indigo-700 px-3 py-1 rounded-full text-sm",children:m})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Tiempo:"}),s.jsx("span",{className:"text-gray-800",children:"15-20 das"})]})]})]},a)})}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(un,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No hay pases configurados"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[s.jsx(tr,{className:"h-8 w-8 text-green-500 mb-3"}),s.jsx("h4",{className:"font-bold text-gray-800",children:"Mnimo"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.tiempos.minimo})]}),s.jsxs("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[s.jsx(Wi,{className:"h-8 w-8 text-amber-500 mb-3"}),s.jsx("h4",{className:"font-bold text-gray-800",children:"Promedio"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.tiempos.promedio})]}),s.jsxs("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[s.jsx(Mp,{className:"h-8 w-8 text-red-500 mb-3"}),s.jsx("h4",{className:"font-bold text-gray-800",children:"Mximo"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.tiempos.maximo})]})]}),t.requisitos.length>0&&s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:[s.jsx(yr,{className:"h-5 w-5 text-green-600"}),"Requisitos generales"]}),s.jsx("ul",{className:"space-y-3",children:t.requisitos.map((n,a)=>s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(yr,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-gray-700",children:n})]},a))})]}),t.procesos.length>0&&s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[s.jsx(To,{className:"h-6 w-6 text-amber-600"}),"Proceso de solicitud"]}),s.jsx("div",{className:"space-y-4",children:t.procesos.map((n,a)=>s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-8 h-8 bg-amber-100 text-amber-700 rounded-full flex items-center justify-center font-bold",children:a+1}),s.jsx("div",{className:"flex-1 p-4 bg-gray-50 rounded-lg",children:s.jsx("p",{className:"text-gray-800",children:n})})]},a))})]}),t.advertencias.length>0&&s.jsxs("div",{className:"bg-amber-50 rounded-2xl p-6 border border-amber-200",children:[s.jsxs("h3",{className:"text-lg font-bold text-amber-800 mb-3 flex items-center gap-2",children:[s.jsx(Mp,{className:"h-5 w-5"}),"Informacin importante"]}),s.jsx("ul",{className:"space-y-2",children:t.advertencias.map((n,a)=>s.jsxs("li",{className:"flex items-start gap-2 text-amber-700",children:[s.jsx("span",{className:"text-lg font-bold",children:""}),s.jsx("span",{children:n})]},a))})]})]})},D6=()=>{const{id:r}=kv(),e=Wt(),{services:t,loadServices:n}=oh(),[a,l]=P.useState(null),[u,m]=P.useState(!0),[p,x]=P.useState(0),[g,w]=P.useState(!1);P.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"instant"})},[]),P.useEffect(()=>{(async()=>(m(!0),await n(),m(!1)))()},[]),P.useEffect(()=>{if(t.length>0){const $=t.find(G=>G.id===r);console.log(" Servicio encontrado:",$),l($||null)}},[t,r]);const b=$=>$?$.startsWith("http")||$.startsWith("/")||$.startsWith("data:")?$:`/images/${$}`:"https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",j=a?.gallery?.length>0?a.gallery:a?.mainImage?[a.mainImage]:a?.imageUrl?[a.imageUrl]:[],k=()=>{navigator.share?navigator.share({title:a.title,text:a.subtitle,url:window.location.href}):w(!g)},M=()=>{navigator.clipboard.writeText(window.location.href),alert(" Enlace copiado al portapapeles"),w(!1)},D=()=>{const $=`Hola, estoy interesado en el servicio: ${a.title} - ${window.location.href}`;window.open(`https://wa.me/17866583567?text=${encodeURIComponent($)}`,"_blank")},ee=()=>{switch(a?.type){case"shipping":return s.jsx(Io,{className:"h-8 w-8"});case"tours":return s.jsx(un,{className:"h-8 w-8"});case"rental":return s.jsx($r,{className:"h-8 w-8"});case"hotels":return s.jsx(Yn,{className:"h-8 w-8"});case"flights":return s.jsx(So,{className:"h-8 w-8"});case"visas":return s.jsx(To,{className:"h-8 w-8"});default:return s.jsx(vr,{className:"h-8 w-8"})}},K=()=>{switch(a?.type){case"shipping":return"from-green-600 to-emerald-600";case"tours":return"from-amber-600 to-orange-600";case"rental":return"from-blue-600 to-indigo-600";case"hotels":return"from-purple-600 to-pink-600";case"flights":return"from-sky-600 to-blue-600";case"visas":return"from-indigo-600 to-purple-600";default:return"from-amber-600 to-amber-800"}},Z=()=>{if(!a||!a.type)return console.log(" No hay servicio o tipo"),null;switch(console.log(" Renderizando detalle para tipo:",a.type),console.log(" Datos del servicio:",a.content),a.type){case"shipping":return s.jsx(S6,{data:a.content||{},service:a});case"tours":return s.jsx(I6,{data:a.content||{},service:a});case"rental":return s.jsx(C6,{data:a.content||{},service:a});case"hotels":return s.jsx(A6,{data:a.content||{},service:a});case"flights":return s.jsx(P6,{data:a.content||{},service:a});case"visas":return s.jsx(R6,{data:a.content||{},service:a});default:return s.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-gray-200",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Informacin del Servicio"}),s.jsx("p",{className:"text-gray-600 text-lg leading-relaxed",children:a.description})]})}};return u?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-amber-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"Cargando detalles del servicio..."})]})}):a?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b sticky top-0 z-10 shadow-sm",children:s.jsx("div",{className:"container mx-auto px-4 sm:px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("button",{onClick:()=>e("/servicios"),className:"flex items-center gap-2 text-gray-600 hover:text-amber-500 transition-colors",children:[s.jsx(ea,{className:"h-5 w-5"}),s.jsx("span",{className:"hidden sm:inline",children:"Volver a servicios"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(xo,{className:"h-5 w-5 text-gray-600"})}),s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:k,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(DR,{className:"h-5 w-5 text-gray-600"})}),g&&s.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-xl border py-2 z-20",children:[s.jsx("button",{onClick:M,className:"w-full text-left px-4 py-2 hover:bg-gray-50 transition-colors",children:"Copiar enlace"}),s.jsx("button",{onClick:D,className:"w-full text-left px-4 py-2 hover:bg-gray-50 transition-colors text-green-600",children:"Compartir por WhatsApp"})]})]})]})]})})}),s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-8",children:[s.jsx("div",{className:`bg-gradient-to-r ${K()} text-white rounded-2xl p-8 mb-8 shadow-xl`,children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-4 bg-white/20 backdrop-blur-sm rounded-2xl",children:ee()}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold mb-2",children:a.title}),s.jsx("p",{className:"text-white/90 text-xl",children:a.subtitle})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:s.jsxs("div",{className:"relative aspect-square lg:aspect-auto lg:h-[500px] bg-gray-100",children:[s.jsx("img",{src:b(j[p]),alt:a.title,className:"w-full h-full object-contain lg:object-cover",onError:$=>{$.target.onerror=null,$.target.src="https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"}}),a.isFeatured&&s.jsx("div",{className:"absolute top-4 left-4",children:s.jsxs("span",{className:"px-3 py-1.5 bg-gradient-to-r from-amber-500 to-amber-600 text-white rounded-full text-sm font-medium shadow-lg flex items-center gap-1",children:[s.jsx(vr,{className:"h-4 w-4 fill-white"}),"Destacado"]})})]})}),j.length>1&&s.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:j.map(($,G)=>s.jsx("button",{onClick:()=>x(G),className:`flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 transition-all ${p===G?"border-amber-500 scale-105":"border-transparent opacity-70 hover:opacity-100"}`,children:s.jsx("img",{src:b($),alt:`${a.title} ${G+1}`,className:"w-full h-full object-cover",onError:se=>{se.target.onerror=null,se.target.src="https://via.placeholder.com/100x100?text=Imagen"}})},G))})]}),s.jsxs("div",{className:"space-y-6",children:[Z(),s.jsxs("div",{className:"hidden lg:block bg-white rounded-2xl p-6 shadow-lg border border-gray-200 sticky bottom-6",children:[s.jsx("h3",{className:"font-semibold text-xl mb-4 text-gray-800",children:"Necesitas ayuda?"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs("button",{onClick:D,className:"flex-1 flex items-center justify-center gap-2 bg-green-600 text-white py-4 rounded-xl font-medium hover:bg-green-700 transition-all transform hover:scale-105 shadow-lg",children:[s.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12.04 2C6.58 2 2.13 6.45 2.13 11.91C2.13 14.12 2.91 16.2 4.3 17.82L2.44 21.94L6.7 20.11C8.24 20.93 10 21.4 11.82 21.4H11.84C17.3 21.4 21.75 16.95 21.75 11.49C21.75 6.03 17.3 2 12.04 2ZM12.05 19.56C10.54 19.56 9.07 19.15 7.79 18.38L7.47 18.19L4.96 19.07L5.86 16.64L5.65 16.31C4.78 14.97 4.31 13.44 4.31 11.86C4.31 7.54 7.79 4.06 12.11 4.06C16.43 4.06 19.91 7.54 19.91 11.86C19.91 16.18 16.43 19.56 12.05 19.56Z"})}),"WhatsApp"]}),s.jsxs("a",{href:"tel:+17866583567",className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 text-white py-4 rounded-xl font-medium hover:bg-blue-700 transition-all transform hover:scale-105 shadow-lg",children:[s.jsx(ih,{className:"h-5 w-5"}),"Llamar ahora"]})]}),s.jsxs("p",{className:"text-center text-sm text-gray-500 mt-4 flex items-center justify-center gap-2",children:[s.jsx(ra,{className:"h-4 w-4"}),"batistaglobalservice25@gmail.com"]})]})]})]})]})]}):s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Servicio no encontrado"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"El servicio que buscas no existe o ha sido eliminado"}),s.jsxs("button",{onClick:()=>e("/servicios"),className:"inline-flex items-center gap-2 px-6 py-3 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors",children:[s.jsx(ea,{className:"h-4 w-4"}),"Volver a servicios"]})]})})},yv=()=>{const[r,e]=P.useState([]),[t,n]=P.useState([]),[a,l]=P.useState(!0),[u,m]=P.useState(""),[p,x]=P.useState("todas"),[g,w]=P.useState([]),[b,j]=P.useState(null),[k,M]=P.useState(!1),[D,ee]=P.useState(1),[K,Z]=P.useState([]),[$,G]=P.useState("recomendados"),{addToCart:se}=sh(),{t:L,language:R}=fn(),E=ai();P.useEffect(()=>{S(),T()},[]),P.useEffect(()=>{const Q=new URLSearchParams(E.search).get("buscar");Q&&m(Q)},[E]);const S=async()=>{l(!0);const B=await hg();if(B.success){const Q=B.data.filter(oe=>oe.status==="active"||!oe.status);e(Q),n(Q);const de=["todas",...new Set(Q.map(oe=>oe.category).filter(Boolean))];w(de)}else pe.error(L("error_cargar_productos"));l(!1)},T=()=>{const B=localStorage.getItem("batistaFavorites");if(B)try{Z(JSON.parse(B))}catch(Q){console.error("Error loading favorites:",Q)}},C=B=>{const Q=K.includes(B)?K.filter(de=>de!==B):[...K,B];Z(Q),localStorage.setItem("batistaFavorites",JSON.stringify(Q)),pe.success(K.includes(B)?"Eliminado de favoritos":"Aadido a favoritos",{icon:K.includes(B)?"":""})};P.useEffect(()=>{let B=[...r];switch(u&&(B=B.filter(Q=>Q.name?.toLowerCase().includes(u.toLowerCase())||Q.description?.toLowerCase().includes(u.toLowerCase())||Q.category?.toLowerCase().includes(u.toLowerCase()))),p&&p!=="todas"&&(B=B.filter(Q=>Q.category===p)),$){case"precio-asc":B.sort((Q,de)=>(Q.price||0)-(de.price||0));break;case"precio-desc":B.sort((Q,de)=>(de.price||0)-(Q.price||0));break;case"nombre":B.sort((Q,de)=>(Q.name||"").localeCompare(de.name||""));break}n(B)},[u,p,r,$]);const A=B=>{se({id:B.id,name:B.name,price:B.price,imageUrl:B.imageUrl,category:B.category})},ue=B=>{j(B),ee(1),M(!0),document.body.style.overflow="hidden"},X=()=>{M(!1),j(null),ee(1),document.body.style.overflow="auto"},W=B=>new Intl.NumberFormat(R==="es"?"es-CU":"en-US",{style:"currency",currency:R==="es"?"CUP":"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(B||0);return a?s.jsxs("div",{className:"flex flex-col items-center justify-center h-96",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-[#00A8B5] mb-4"}),s.jsx("p",{className:"text-gray-600",children:L("cargando_productos")})]}):s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 lg:py-8 pb-20 lg:pb-8",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900 mb-1",children:L("nuestra_tienda")}),s.jsxs("p",{className:"text-gray-500 text-sm lg:text-base",children:[t.length," ",t.length===1?"producto":"productos"," disponibles"]})]}),s.jsxs("div",{className:"hidden lg:flex items-center gap-2 mt-3 lg:mt-0",children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Ordenar por:"}),s.jsxs("select",{value:$,onChange:B=>G(B.target.value),className:"text-sm border border-gray-200 rounded-lg px-3 py-2 focus:border-[#00A8B5] focus:ring-1 focus:ring-[#00A8B5] outline-none",children:[s.jsx("option",{value:"recomendados",children:"Recomendados"}),s.jsx("option",{value:"precio-asc",children:"Precio: menor a mayor"}),s.jsx("option",{value:"precio-desc",children:"Precio: mayor a menor"}),s.jsx("option",{value:"nombre",children:"Nombre"})]})]}),s.jsx("div",{className:"lg:hidden mt-2",children:s.jsxs("select",{value:$,onChange:B=>G(B.target.value),className:"w-full text-sm border border-gray-200 rounded-lg px-3 py-2 focus:border-[#00A8B5] focus:ring-1 focus:ring-[#00A8B5] outline-none bg-white",children:[s.jsx("option",{value:"recomendados",children:"Recomendados"}),s.jsx("option",{value:"precio-asc",children:"Precio: menor a mayor"}),s.jsx("option",{value:"precio-desc",children:"Precio: mayor a menor"}),s.jsx("option",{value:"nombre",children:"Nombre"})]})})]}),s.jsxs("div",{className:"flex flex-col lg:flex-row gap-3 mb-6",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(dn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:L("buscar_productos"),value:u,onChange:B=>m(B.target.value),className:"w-full pl-9 pr-8 py-2.5 border border-gray-200 rounded-lg focus:border-[#00A8B5] focus:ring-1 focus:ring-[#00A8B5] transition-all outline-none text-sm"}),u&&s.jsx("button",{onClick:()=>m(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:s.jsx(Ye,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"lg:w-48 relative",children:[s.jsx(L_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx("select",{value:p,onChange:B=>x(B.target.value),className:"w-full pl-9 pr-4 py-2.5 border border-gray-200 rounded-lg focus:border-[#00A8B5] focus:ring-1 focus:ring-[#00A8B5] transition-all outline-none appearance-none bg-white text-sm",children:g.map(B=>s.jsx("option",{value:B,children:B==="todas"?L("todas_categorias"):B},B))})]})]}),t.length===0?s.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[s.jsx(ic,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:L("no_productos")}),s.jsx("p",{className:"text-sm text-gray-500 mb-4",children:L("intentar_otros_filtros")}),s.jsx("button",{onClick:()=>{m(""),x("todas")},className:"px-4 py-2 bg-[#00A8B5] text-white rounded-lg text-sm hover:bg-[#00909B] transition-colors",children:L("ver_todos")})]}):s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3 lg:gap-4",children:t.map(B=>s.jsxs("div",{className:"group bg-white rounded-lg shadow-sm hover:shadow-lg transition-all duration-300 overflow-hidden border border-gray-100 hover:border-[#00A8B5]/30 relative",children:[s.jsx("button",{onClick:()=>C(B.id),className:"absolute top-2 right-2 z-10 w-7 h-7 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center shadow-md hover:scale-110 transition-transform",children:s.jsx(xo,{className:`w-3.5 h-3.5 ${K.includes(B.id)?"fill-red-500 text-red-500":"text-gray-400"}`})}),s.jsxs("div",{className:"relative aspect-square overflow-hidden bg-gray-100 cursor-pointer",onClick:()=>ue(B),children:[s.jsx("img",{src:B.imageUrl||"https://via.placeholder.com/300x300?text=Sin+imagen",alt:B.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:Q=>{Q.target.onerror=null,Q.target.src="https://via.placeholder.com/300x300?text=Sin+imagen"}}),s.jsxs("div",{className:"absolute top-2 left-2 flex flex-col gap-1",children:[B.discount>0&&s.jsxs("div",{className:"bg-red-500 text-white text-[10px] font-bold px-1.5 py-0.5 rounded",children:["-",B.discount,"%"]}),B.isNew&&s.jsx("div",{className:"bg-[#00A8B5] text-white text-[10px] font-bold px-1.5 py-0.5 rounded",children:"NUEVO"})]})]}),s.jsxs("div",{className:"p-2 lg:p-3",children:[s.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[s.jsx("div",{className:"flex",children:[1,2,3,4,5].map(Q=>s.jsx(vr,{className:`w-3 h-3 ${Q<=4?"text-yellow-400 fill-yellow-400":"text-gray-200"}`},Q))}),s.jsx("span",{className:"text-[10px] text-gray-400",children:"(128)"})]}),s.jsx("h3",{className:"font-medium text-gray-900 text-xs lg:text-sm mb-1 line-clamp-2 h-8 lg:h-10",children:B.name}),s.jsxs("div",{className:"mb-2",children:[s.jsx("span",{className:"text-sm lg:text-base font-bold text-[#00A8B5]",children:W(B.price)}),B.originalPrice>B.price&&s.jsx("span",{className:"text-[10px] lg:text-xs text-gray-400 line-through ml-1",children:W(B.originalPrice)})]}),B.stock<=5&&B.stock>0&&s.jsxs("p",{className:"text-[10px] text-orange-600 mb-2",children:["Solo ",B.stock," uds!"]}),s.jsx("button",{onClick:()=>A(B),disabled:B.stock===0,className:`w-full bg-[#00A8B5] hover:bg-[#00909B] text-white py-1.5 lg:py-2 rounded text-xs lg:text-sm font-medium transition-all hover:scale-[1.02] ${B.stock===0?"opacity-50 cursor-not-allowed":""}`,children:B.stock===0?L("agotado"):L("agregar")})]})]},B.id))}),k&&b&&s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 py-4",children:[s.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm",onClick:X}),s.jsxs("div",{className:"relative bg-white rounded-xl max-w-5xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-white border-b px-4 py-3 flex items-center justify-between z-10",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate pr-4",children:b.name}),s.jsx("button",{onClick:X,className:"p-1.5 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(Ye,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{className:"relative aspect-square bg-gray-100 rounded-lg overflow-hidden",children:[s.jsx("div",{className:"w-full h-full transition-transform duration-300 cursor-zoom-in",style:{transform:`scale(${D})`},onClick:()=>ee(D===1?2:1),children:s.jsx("img",{src:b.imageUrl||"https://via.placeholder.com/600x600?text=Sin+imagen",alt:b.name,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"absolute bottom-3 right-3 flex gap-2",children:[s.jsx("button",{onClick:()=>ee(B=>Math.max(B-.5,1)),className:"p-1.5 bg-white/90 backdrop-blur-sm rounded shadow hover:bg-white",children:s.jsx(D_,{className:"w-4 h-4"})}),s.jsxs("span",{className:"px-2 py-1.5 bg-white/90 backdrop-blur-sm rounded text-xs font-medium",children:[Math.round(D*100),"%"]}),s.jsx("button",{onClick:()=>ee(B=>Math.min(B+.5,3)),className:"p-1.5 bg-white/90 backdrop-blur-sm rounded shadow hover:bg-white",children:s.jsx(jd,{className:"w-4 h-4"})})]})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsx("span",{className:"text-2xl lg:text-3xl font-bold text-[#00A8B5]",children:W(b.price)}),b.originalPrice>b.price&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-base text-gray-400 line-through",children:W(b.originalPrice)}),s.jsxs("span",{className:"bg-red-500 text-white text-xs font-bold px-2 py-1 rounded",children:["-",b.discount||Math.round((1-b.price/b.originalPrice)*100),"%"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex",children:[1,2,3,4,5].map(B=>s.jsx(vr,{className:`w-4 h-4 ${B<=4?"text-yellow-400 fill-yellow-400":"text-gray-200"}`},B))}),s.jsx("span",{className:"text-sm text-gray-500",children:"128 opiniones"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Descripcin"}),s.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:b.description})]}),b.specifications&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Especificaciones"}),s.jsx("p",{className:"text-sm text-gray-600 whitespace-pre-line",children:b.specifications})]}),s.jsxs("div",{className:"flex items-center gap-4 pt-2",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Categora:"}),s.jsx("span",{className:"text-xs font-medium px-2 py-1 bg-gray-100 rounded",children:b.category||"General"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Stock:"}),s.jsx("span",{className:`text-xs font-medium ${b.stock>10?"text-green-600":b.stock>0?"text-orange-600":"text-red-600"}`,children:b.stock>10?"Disponible":b.stock>0?`ltimas ${b.stock}`:"Agotado"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsxs("button",{onClick:()=>{A(b),X()},disabled:b.stock===0,className:`flex-1 bg-[#00A8B5] hover:bg-[#00909B] text-white py-3 px-4 rounded-lg font-medium transition-all hover:scale-[1.02] flex items-center justify-center gap-2 ${b.stock===0?"opacity-50 cursor-not-allowed":""}`,children:[s.jsx(ic,{className:"w-4 h-4"}),b.stock===0?L("agotado"):L("agregar_carrito")]}),s.jsx("button",{onClick:X,className:"px-4 py-3 border border-gray-200 rounded-lg font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Seguir comprando"})]})]})]})})]})]})})]})},M6=()=>{const{cart:r,cartTotal:e,cartCount:t,removeFromCart:n,updateQuantity:a,clearCart:l}=sh();return r.length===0?s.jsxs("div",{className:"min-h-[60vh] flex flex-col items-center justify-center py-16 px-4",children:[s.jsx(lo,{className:"w-24 h-24 text-gray-300 mb-6"}),s.jsx("h2",{className:"text-2xl lg:text-3xl font-bold text-gray-900 mb-3",children:"Tu carrito est vaco"}),s.jsx("p",{className:"text-gray-600 mb-8 text-center max-w-md",children:"Parece que an no has agregado productos a tu carrito."}),s.jsxs(at,{to:"/tienda",className:"inline-flex items-center gap-2 px-6 py-3 bg-[#00A8B5] text-white font-medium rounded-lg hover:bg-[#00909B] transition-colors",children:[s.jsx(ea,{className:"w-4 h-4"}),"Ir a la tienda"]})]}):s.jsxs("div",{className:"max-w-7xl mx-auto py-8 lg:py-12 px-4",children:[s.jsxs("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900 mb-8 flex items-center gap-3",children:[s.jsx(lo,{className:"w-6 h-6 lg:w-8 lg:h-8"}),"Carrito de Compras (",t," ",t===1?"producto":"productos",")"]}),s.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 lg:gap-12",children:[s.jsxs("div",{className:"flex-1 space-y-4",children:[r.map(u=>s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 p-4 bg-white rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"w-20 h-20 lg:w-24 lg:h-24 flex-shrink-0 bg-gray-100 rounded-lg overflow-hidden",children:u.imageUrl?s.jsx("img",{src:u.imageUrl,alt:u.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-200 to-gray-300",children:s.jsx(lo,{className:"w-8 h-8 text-gray-400"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-base lg:text-lg font-semibold text-gray-900 mb-1 line-clamp-1",children:u.name}),s.jsx("p",{className:"text-sm text-gray-500 mb-2 line-clamp-1",children:u.category||"Sin categora"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("span",{className:"text-lg lg:text-xl font-bold text-[#00A8B5]",children:["$",(u.price*u.quantity).toFixed(2)]}),s.jsxs("span",{className:"text-sm text-gray-500",children:["$",u.price," c/u"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:()=>a(u.id,u.quantity-1),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Disminuir cantidad",children:s.jsx(dR,{className:"w-4 h-4 text-gray-600"})}),s.jsx("span",{className:"w-10 text-center font-medium text-gray-900",children:u.quantity}),s.jsx("button",{onClick:()=>a(u.id,u.quantity+1),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Aumentar cantidad",children:s.jsx(rt,{className:"w-4 h-4 text-gray-600"})}),s.jsx("button",{onClick:()=>n(u.id),className:"p-2 ml-2 text-red-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors","aria-label":"Eliminar producto",children:s.jsx(zr,{className:"w-4 h-4"})})]})]},u.id)),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-4 py-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors text-sm font-medium",children:[s.jsx(zr,{className:"w-4 h-4"}),"Vaciar carrito"]})})]}),s.jsx("div",{className:"lg:w-80 xl:w-96",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 lg:p-8 sticky top-24",children:[s.jsx("h2",{className:"text-xl lg:text-2xl font-bold text-gray-900 mb-6",children:"Resumen de compra"}),s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsxs("div",{className:"flex justify-between text-gray-600",children:[s.jsxs("span",{children:["Subtotal (",t," productos)"]}),s.jsxs("span",{className:"font-medium",children:["$",e.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-gray-600",children:[s.jsx("span",{children:"Envo"}),s.jsx("span",{className:"text-green-600",children:"Gratis"})]}),s.jsx("div",{className:"border-t border-gray-200 pt-4 mt-4",children:s.jsxs("div",{className:"flex justify-between text-lg font-bold text-gray-900",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{className:"text-[#00A8B5]",children:["$",e.toFixed(2)]})]})})]}),s.jsx("button",{className:"w-full bg-gradient-to-r from-[#00A8B5] to-[#00909B] text-white font-semibold py-4 px-6 rounded-xl hover:shadow-lg hover:scale-105 transition-all duration-300 mb-3",children:"Proceder al pago"}),s.jsx(at,{to:"/tienda",className:"block text-center text-sm text-gray-500 hover:text-gray-700 hover:underline",children:"Seguir comprando"})]})})]})]})},O6=()=>{const[r,e]=P.useState(""),[t,n]=P.useState(""),[a,l]=P.useState(""),[u,m]=P.useState(!1),[p,x]=P.useState(!1),{login:g}=ui(),w=Wt(),b=k=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(k),j=async k=>{if(k.preventDefault(),l(""),!b(r)){l("Por favor ingresa un email vlido");return}if(t.length<6){l("La contrasea debe tener al menos 6 caracteres");return}m(!0);try{const M=await g(r,t);M.success?w("/tienda"):M.necesitaVerificacion?w("/verificacion-codigo",{state:{email:r,message:" Debes verificar tu email antes de iniciar sesin"}}):l(M.error||"Error al iniciar sesin")}catch{l("Error al procesar la solicitud")}finally{m(!1)}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 to-orange-100 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-amber-200 rounded-full -mr-16 -mt-16 opacity-20"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-orange-200 rounded-full -ml-16 -mb-16 opacity-20"}),s.jsxs("button",{onClick:()=>w("/"),className:"flex items-center gap-2 text-gray-600 hover:text-amber-500 mb-6 transition-colors relative z-10",children:[s.jsx(ea,{className:"h-4 w-4"}),s.jsx("span",{children:"Volver al inicio"})]}),s.jsxs("div",{className:"text-center mb-8 relative z-10",children:[s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-amber-600 to-orange-600 bg-clip-text text-transparent",children:"Batista Global Service"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Inicia sesin en tu cuenta"})]}),s.jsxs("form",{onSubmit:j,className:"space-y-5 relative z-10",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(ra,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"email",value:r,onChange:k=>e(k.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-all duration-300",placeholder:"tu@email.com",required:!0,disabled:u})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contrasea"}),s.jsxs("div",{className:"relative",children:[s.jsx(ag,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:p?"text":"password",value:t,onChange:k=>n(k.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-all duration-300",placeholder:"",required:!0,disabled:u}),s.jsx("button",{type:"button",onClick:()=>x(!p),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-amber-500",children:p?"":""})]})]}),a&&s.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-600 p-3 rounded-lg text-sm flex items-start gap-2 animate-shake",children:[s.jsx(Mp,{className:"h-5 w-5 flex-shrink-0"}),s.jsx("span",{children:a})]}),s.jsx("button",{type:"submit",disabled:u,className:"w-full bg-gradient-to-r from-amber-500 to-orange-500 text-white py-3 rounded-lg font-medium hover:from-amber-600 hover:to-orange-600 transition-all duration-300 disabled:opacity-50 transform hover:scale-105",children:u?s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Iniciando sesin..."})]}):"Iniciar sesin"})]}),s.jsxs("div",{className:"mt-6 text-center text-sm relative z-10",children:[s.jsxs("p",{className:"text-gray-600",children:["No tienes cuenta?"," ",s.jsx(at,{to:"/registro",className:"text-amber-600 hover:text-amber-700 font-medium transition-colors",children:"Regstrate aqu"})]}),s.jsx(at,{to:"/recuperar-password",className:"text-gray-500 hover:text-amber-600 text-sm block mt-2 transition-colors",children:"Olvidaste tu contrasea?"})]})]})})},L6=()=>{const{user:r,userData:e,logout:t}=ui(),{t:n,language:a}=fn(),l=Wt(),[u,m]=P.useState("resumen"),[p,x]=P.useState(!1),[g,w]=P.useState(!1),[b,j]=P.useState({ordersCount:0,favoritesCount:0,daysAsMember:0,addressesCount:0}),[k,M]=P.useState([]);P.useEffect(()=>{(async()=>{if(r)try{console.log(" Cargando datos para usuario:",r.uid);const G=e?.createdAt?Math.floor((new Date-new Date(e.createdAt))/(1e3*60*60*24)):0;let se=0,L=[];try{const S=zf(ln(Dt,"orders"),fI("userId","==",r.uid)),T=await ko(S);se=T.size,L=T.docs.map(C=>({id:C.id,...C.data()})).sort((C,A)=>new Date(A.createdAt)-new Date(C.createdAt)).slice(0,3)}catch(S){console.log(" No se pudieron cargar pedidos:",S.message)}const R=e?.favorites?.length||0,E=e?.addresses?.length||0;j({ordersCount:se,favoritesCount:R,daysAsMember:G,addressesCount:E}),M(L)}catch(G){console.error("Error loading user stats:",G)}})()},[r,e]);const D=()=>{t(),l("/")},ee=()=>{l("/tienda")},K=[{id:"resumen",label:n("resumen"),icon:yo,color:"blue"},{id:"pedidos",label:n("mis_pedidos"),icon:xr,color:"green"},{id:"favoritos",label:n("favoritos"),icon:xo,color:"red"},{id:"direcciones",label:n("direcciones"),icon:Cr,color:"amber"},{id:"ajustes",label:n("ajustes"),icon:cg,color:"gray"}];if(!r)return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 flex items-center justify-center p-4 pt-24 lg:pt-28",children:s.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-8 text-center border border-white/20 max-w-md w-full",children:[s.jsx(yo,{className:"h-20 w-20 text-amber-400 mx-auto mb-4"}),s.jsx("p",{className:"text-white text-lg mb-6",children:n("no_sesion")}),s.jsx("button",{onClick:()=>l("/cliente/login"),className:"w-full px-6 py-3 bg-gradient-to-r from-amber-500 to-amber-600 text-white rounded-xl font-semibold hover:from-amber-600 hover:to-amber-700 transition-all shadow-lg",children:n("iniciar_sesion")})]})});const Z=[{label:n("pedidos"),value:b.ordersCount,icon:xr,color:"blue",bg:"bg-blue-50 dark:bg-blue-900/20",text:"text-blue-600 dark:text-blue-400"},{label:n("favoritos"),value:b.favoritesCount,icon:xo,color:"red",bg:"bg-red-50 dark:bg-red-900/20",text:"text-red-600 dark:text-red-400"},{label:n("miembro"),value:`${b.daysAsMember} ${n("dias")}`,icon:Wi,color:"green",bg:"bg-green-50 dark:bg-green-900/20",text:"text-green-600 dark:text-green-400"},{label:n("direcciones"),value:b.addressesCount,icon:Cr,color:"amber",bg:"bg-amber-50 dark:bg-amber-900/20",text:"text-amber-600 dark:text-amber-400"}];return s.jsxs("div",{className:`min-h-screen transition-colors duration-300 pt-20 lg:pt-24 ${p?"bg-gray-900":"bg-gray-50"}`,children:[s.jsx("div",{className:"lg:hidden bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 sticky top-20 z-30",children:s.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[s.jsx("button",{onClick:()=>w(!g),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:g?s.jsx(Ye,{className:"h-6 w-6 text-gray-600 dark:text-gray-300"}):s.jsx(lg,{className:"h-6 w-6 text-gray-600 dark:text-gray-300"})}),s.jsx("h1",{className:"text-lg font-bold text-gray-800 dark:text-white",children:n("mi_perfil")}),s.jsx("button",{onClick:()=>x(!p),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:p?s.jsx(ac,{className:"h-5 w-5 text-amber-500"}):s.jsx(Lp,{className:"h-5 w-5 text-gray-600"})})]})}),s.jsxs("div",{className:"flex flex-col lg:flex-row min-h-[calc(100vh-80px)] lg:min-h-[calc(100vh-96px)]",children:[s.jsxs("div",{className:`
          fixed inset-0 z-40 lg:static lg:inset-auto lg:z-auto
          transform transition-transform duration-300 lg:transform-none
          ${g?"translate-x-0":"-translate-x-full lg:translate-x-0"}
        `,children:[s.jsx("div",{className:`absolute inset-0 bg-black/50 lg:hidden ${g?"block":"hidden"}`,onClick:()=>w(!1)}),s.jsxs("div",{className:"relative w-72 lg:w-80 bg-white dark:bg-gray-800 h-full overflow-y-auto shadow-xl lg:shadow-none border-r border-gray-200 dark:border-gray-700",children:[s.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-r from-amber-400 to-amber-600 flex items-center justify-center text-white text-2xl font-bold",children:e?.name?.charAt(0).toUpperCase()||r?.email?.charAt(0).toUpperCase()}),s.jsx("button",{className:"absolute bottom-0 right-0 p-1 bg-white dark:bg-gray-700 rounded-full shadow-lg border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600",children:s.jsx(aP,{className:"h-3 w-3 text-gray-600 dark:text-gray-300"})})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h2",{className:"font-bold text-gray-800 dark:text-white truncate",children:e?.name||n("usuario")}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:r?.email}),s.jsxs("p",{className:"text-xs text-amber-500 mt-1 flex items-center gap-1",children:[s.jsx(nh,{className:"h-3 w-3"}),n("miembro_desde")," ",new Date(e?.createdAt).toLocaleDateString()]})]})]})}),s.jsxs("nav",{className:"p-4",children:[K.map($=>{const G=$.icon;return s.jsxs("button",{onClick:()=>{m($.id),w(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl mb-1 transition-all ${u===$.id?`bg-${$.color}-50 dark:bg-${$.color}-900/20 text-${$.color}-600 dark:text-${$.color}-400`:"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:[s.jsx(G,{className:`h-5 w-5 ${u===$.id?`text-${$.color}-500`:""}`}),s.jsx("span",{className:"flex-1 text-left",children:$.label}),s.jsx(jd,{className:`h-4 w-4 transition-transform ${u===$.id?"rotate-90":""}`})]},$.id)}),s.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-4 pt-4",children:s.jsxs("button",{onClick:D,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-all",children:[s.jsx(og,{className:"h-5 w-5"}),s.jsx("span",{className:"flex-1 text-left",children:n("cerrar_sesion")})]})})]}),s.jsx("div",{className:"absolute bottom-6 left-6 right-6",children:s.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-amber-600 rounded-xl p-4 text-white",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(V_,{className:"h-5 w-5"}),s.jsx("span",{className:"font-semibold",children:n("beneficios")})]}),s.jsx("p",{className:"text-xs text-amber-100",children:n("beneficios_texto")})]})})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4 lg:p-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"hidden lg:flex items-center justify-between mb-8",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:n("mi_perfil")}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:()=>l("/"),className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg flex items-center gap-2",children:[s.jsx(sc,{className:"h-4 w-4"}),n("inicio")]}),s.jsx("button",{onClick:()=>x(!p),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:p?s.jsx(ac,{className:"h-5 w-5 text-amber-500"}):s.jsx(Lp,{className:"h-5 w-5 text-gray-600"})})]})]}),u==="resumen"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:Z.map(($,G)=>{const se=$.icon;return s.jsxs("div",{className:`${$.bg} rounded-2xl p-6 transition-all hover:scale-105 cursor-default border border-gray-200 dark:border-gray-700`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:`p-3 rounded-xl ${$.bg}`,children:s.jsx(se,{className:`h-6 w-6 ${$.text}`})}),s.jsx("span",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:$.value})]}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm font-medium",children:$.label})]},G)})}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[s.jsx(xr,{className:"h-5 w-5 text-amber-500"}),n("pedidos_recientes")]}),s.jsxs("button",{onClick:()=>m("pedidos"),className:"text-amber-500 hover:text-amber-600 text-sm font-medium flex items-center gap-1",children:[n("ver_todos")," ",s.jsx(jd,{className:"h-4 w-4"})]})]}),k.length>0?s.jsx("div",{className:"space-y-3",children:k.map(($,G)=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-2 bg-amber-100 dark:bg-amber-900/20 rounded-lg",children:s.jsx(xr,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-800 dark:text-white",children:$.id}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date($.createdAt).toLocaleDateString()})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-bold text-green-600",children:["$",$.total]}),s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${$.status==="entregado"?"bg-green-100 text-green-700":$.status==="en_camino"?"bg-blue-100 text-blue-700":"bg-amber-100 text-amber-700"}`,children:n($.status)})]})]},G))}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(xr,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:n("sin_pedidos")}),s.jsx("button",{onClick:ee,className:"px-6 py-3 bg-amber-500 text-white rounded-xl hover:bg-amber-600 transition-colors font-medium",children:n("comprar_ahora")})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-800 dark:text-white mb-6 flex items-center gap-2",children:[s.jsx(tr,{className:"h-5 w-5 text-amber-500"}),n("actividad_reciente")]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-4 text-gray-600 dark:text-gray-400",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("p",{className:"flex-1",children:n("bienvenida")}),s.jsx("span",{className:"text-sm",children:n("hace_un_momento")})]}),s.jsxs("div",{className:"flex items-center gap-4 text-gray-600 dark:text-gray-400",children:[s.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full"}),s.jsx("p",{className:"flex-1",children:n("cuenta_creada")}),s.jsxs("span",{className:"text-sm",children:[b.daysAsMember," ",n("dias")]})]})]})]})]}),u!=="resumen"&&s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8 text-center border border-gray-200 dark:border-gray-700",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-2",children:n("en_construccion")}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:n("proximamente")})]})]})})]})]})},V6=({variant:r="default",onClose:e})=>{const[t,n]=P.useState(""),[a,l]=P.useState([]),[u,m]=P.useState(!1),[p,x]=P.useState(!1),g=P.useRef(null),w=P.useRef(null),{getSuggestions:b,recentSearches:j,popularSearches:k,addRecentSearch:M}=Z_(),{t:D}=fn(),ee=Wt();P.useEffect(()=>{const G=setTimeout(()=>{if(t.length>=2){m(!0);const se=b?b(t):[];l(se),m(!1)}else l([])},300);return()=>clearTimeout(G)},[t,b]),P.useEffect(()=>{const G=se=>{w.current&&!w.current.contains(se.target)&&x(!1)};return document.addEventListener("mousedown",G),()=>document.removeEventListener("mousedown",G)},[]);const K=G=>{G.preventDefault(),t.trim()&&(M&&M(t),ee(`/buscar?q=${encodeURIComponent(t)}`),x(!1),e&&e())},Z=G=>{M&&M(G.name),ee(`/producto/${G.id}`),x(!1),e&&e()},$=()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const G=window.SpeechRecognition||window.webkitSpeechRecognition,se=new G;se.lang="es-ES",se.start(),se.onresult=L=>{const R=L.results[0][0].transcript;n(R)}}else alert(D("voice_search_not_supported"))};return s.jsxs("div",{className:"relative w-full",ref:w,children:[s.jsxs("form",{onSubmit:K,className:"relative",children:[s.jsx("input",{ref:g,type:"text",value:t,onChange:G=>n(G.target.value),onFocus:()=>x(!0),placeholder:D("search_placeholder"),className:`
            w-full px-4 py-3 pl-12 pr-24 
            border border-gray-300 rounded-full 
            focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent
            ${r==="hero"?"text-lg py-4":""}
          `}),s.jsx(dn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsxs("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 flex items-center gap-1",children:[s.jsx("button",{type:"button",onClick:$,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",title:D("voice_search"),children:s.jsx(U_,{className:"h-4 w-4 text-gray-500"})}),s.jsx("button",{type:"submit",className:"px-4 py-1.5 bg-amber-500 text-white rounded-full text-sm font-medium hover:bg-amber-600 transition-colors",children:D("search")})]})]}),p&&(a.length>0||j&&j.length>0||k&&k.length>0)&&s.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-2xl border border-gray-200 z-50 max-h-96 overflow-y-auto",children:[u&&s.jsx("div",{className:"p-4 text-center text-gray-500",children:s.jsx(kd,{className:"h-5 w-5 animate-spin mx-auto"})}),a.length>0&&s.jsxs("div",{className:"p-2",children:[s.jsx("h4",{className:"text-xs font-semibold text-gray-500 px-3 py-2",children:D("suggestions")}),a.map((G,se)=>s.jsxs("button",{onClick:()=>Z(G),className:"w-full flex items-center gap-3 px-3 py-2 hover:bg-gray-50 rounded-lg transition-colors",children:[G.image?s.jsx("img",{src:G.image,alt:G.name,className:"w-10 h-10 object-cover rounded"}):s.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded flex items-center justify-center",children:s.jsx(dn,{className:"h-4 w-4 text-gray-400"})}),s.jsxs("div",{className:"flex-1 text-left",children:[s.jsx("p",{className:"text-sm font-medium text-gray-800",children:G.name}),s.jsxs("p",{className:"text-xs text-gray-500",children:["$",G.price]})]})]},G.id||se))]}),j&&j.length>0&&s.jsxs("div",{className:"p-2 border-t",children:[s.jsxs("h4",{className:"text-xs font-semibold text-gray-500 px-3 py-2 flex items-center gap-1",children:[s.jsx(tr,{className:"h-3 w-3"}),D("recent_searches")]}),j.map((G,se)=>s.jsxs("button",{onClick:()=>{n(G),K(new Event("submit"))},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-gray-50 rounded-lg transition-colors text-left",children:[s.jsx(tr,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-sm text-gray-700",children:G})]},se))]}),k&&k.length>0&&s.jsxs("div",{className:"p-2 border-t",children:[s.jsxs("h4",{className:"text-xs font-semibold text-gray-500 px-3 py-2 flex items-center gap-1",children:[s.jsx(Mt,{className:"h-3 w-3"}),D("popular_searches")]}),s.jsx("div",{className:"flex flex-wrap gap-2 px-3",children:k.map((G,se)=>s.jsx("button",{onClick:()=>{n(G),K(new Event("submit"))},className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-full text-sm hover:bg-gray-200 transition-colors",children:G},se))})]})]})]})},F6=()=>{const[r,e]=P.useState(""),[t,n]=P.useState(""),[a,l]=P.useState(!1),[u,m]=P.useState(!1),{resetPassword:p}=ui(),x=Wt(),g=async w=>{w.preventDefault(),n(""),l(!0);try{const b=await p(r);b.success?m(!0):n(b.error||"Error al enviar el email")}catch{n("Error al procesar la solicitud")}finally{l(!1)}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8",children:[s.jsxs("button",{onClick:()=>x("/cliente/login"),className:"flex items-center gap-2 text-gray-600 hover:text-amber-500 mb-6 transition-colors",children:[s.jsx(ea,{className:"h-4 w-4"}),s.jsx("span",{children:"Volver al login"})]}),u?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-green-100 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(yr,{className:"h-10 w-10 text-green-600"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-800 text-center mb-4",children:"Email enviado!"}),s.jsxs("p",{className:"text-gray-600 text-center mb-6",children:["Hemos enviado un enlace de recuperacin a ",s.jsx("strong",{children:r})]}),s.jsx("p",{className:"text-sm text-gray-500 text-center mb-8",children:"Revisa tu correo y haz clic en el enlace para restablecer tu contrasea."}),s.jsx("div",{className:"space-y-4",children:s.jsx("button",{onClick:()=>x("/cliente/login"),className:"w-full px-6 py-3 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors",children:"Ir a iniciar sesin"})})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-amber-100 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(ra,{className:"h-10 w-10 text-amber-600"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-800 text-center mb-2",children:"Recuperar contrasea"}),s.jsx("p",{className:"text-gray-600 text-center mb-8",children:"Ingresa tu correo electrnico y te enviaremos un enlace para restablecer tu contrasea."}),s.jsxs("form",{onSubmit:g,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo electrnico"}),s.jsxs("div",{className:"relative",children:[s.jsx(ra,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"email",value:r,onChange:w=>e(w.target.value),required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500",placeholder:"tu@email.com"})]})]}),t&&s.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg text-sm",children:t}),s.jsx("button",{type:"submit",disabled:a,className:"w-full bg-gradient-to-r from-amber-500 to-amber-600 text-white py-3 rounded-lg font-medium hover:from-amber-600 hover:to-amber-700 transition-all duration-300 disabled:opacity-50 flex items-center justify-center gap-2",children:a?"Enviando...":s.jsxs(s.Fragment,{children:[s.jsx(AR,{className:"h-5 w-5"}),"Enviar enlace de recuperacin"]})})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx(at,{to:"/cliente/login",className:"text-sm text-gray-500 hover:text-amber-500 transition-colors",children:" Volver a iniciar sesin"})})]})]})})},U6=()=>{const[r,e]=P.useState(""),[t,n]=P.useState(!1),[a,l]=P.useState(!1),u=Wt(),m=async p=>{p.preventDefault(),n(!0);try{const x=LA();VA(r,x),(await FA(r,x)).success?(l(!0),pe.success(" Cdigo enviado a tu correo"),setTimeout(()=>{u("/registro/paso2",{state:{email:r}})},2e3)):pe.error(" Error al enviar el cdigo. Intenta de nuevo.")}catch(x){console.error("Error:",x),pe.error("Error al procesar la solicitud")}finally{n(!1)}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 to-orange-100 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-amber-600 to-orange-600 bg-clip-text text-transparent",children:"Batista Global Service"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Verifica tu correo electrnico"})]}),a?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(yr,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Cdigo enviado!"}),s.jsxs("p",{className:"text-gray-600 mb-4",children:["Revisa tu correo ",s.jsx("span",{className:"font-semibold",children:r})]}),s.jsx("p",{className:"text-sm text-gray-500",children:"Sers redirigido automticamente..."})]}):s.jsxs("form",{onSubmit:m,className:"space-y-6",children:[s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx(ra,{className:"h-5 w-5 text-blue-600 flex-shrink-0"}),s.jsx("p",{className:"text-sm text-blue-800",children:"Te enviaremos un cdigo de 6 dgitos para verificar tu correo."})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Correo electrnico"}),s.jsx("input",{type:"email",value:r,onChange:p=>e(p.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"tu@email.com",required:!0,disabled:t})]}),s.jsx("button",{type:"submit",disabled:t||!r,className:"w-full bg-gradient-to-r from-amber-500 to-orange-500 text-white py-3 rounded-lg font-medium hover:from-amber-600 hover:to-orange-600 transition-all duration-300 disabled:opacity-50 flex items-center justify-center gap-2",children:t?s.jsxs(s.Fragment,{children:[s.jsx(F_,{className:"h-5 w-5 animate-spin"}),s.jsx("span",{children:"Enviando cdigo..."})]}):"Enviar cdigo de verificacin"})]}),s.jsx("p",{className:"text-xs text-gray-400 text-center mt-4",children:"El cdigo expirar en 10 minutos"})]})})},$6=()=>{const[r,e]=P.useState(["","","","","",""]),[t,n]=P.useState(""),[a,l]=P.useState(""),[u,m]=P.useState(""),[p,x]=P.useState(""),[g,w]=P.useState(""),[b,j]=P.useState(!1),[k,M]=P.useState(!1),[D,ee]=P.useState(!1),{register:K,verificarCodigoExitoso:Z,codigoVerificado:$}=ui(),G=Wt(),se=ai();P.useEffect(()=>{se.state?.email?(x(se.state.email),console.log(" Email recibido:",se.state.email)):(pe.error(" No hay email pendiente de verificacin"),G("/registro"))},[se.state,G]),P.useEffect(()=>{k&&(console.log(" Sincronizando verificado con contexto"),Z(p))},[k,p,Z]),P.useEffect(()=>{$&&!k&&(console.log(" Contexto ya verificado, actualizando local"),M(!0))},[$,k]);const L=async T=>{if(!(T.length!==6||D)){ee(!0);try{console.log(" Verificando cdigo:",T);const C=UA(p,T);console.log(" Resultado:",C),C.valido?(M(!0),w(""),pe.success(" Cdigo correcto")):(M(!1),w(C.error),pe.error(C.error))}catch(C){console.error(" Error:",C),M(!1),w("Error al verificar")}finally{ee(!1)}}},R=(T,C)=>{if(C.length>1)return;const A=[...r];if(A[T]=C.replace(/[^0-9]/g,""),e(A),C&&T<5&&document.getElementById(`codigo-${T+1}`)?.focus(),T===5&&C){const ue=[...A.slice(0,5),C].join("");L(ue)}},E=(T,C)=>{C.key==="Backspace"&&!r[T]&&T>0&&document.getElementById(`codigo-${T-1}`)?.focus()},S=async T=>{if(T.preventDefault(),!k){w("Primero verifica el cdigo");return}if(!t){w("Ingresa una contrasea");return}if(t.length<6){w("La contrasea debe tener al menos 6 caracteres");return}if(!a){w("Ingresa tu nombre");return}j(!0),w("");try{console.log(" Registrando usuario con cdigo verificado");const C=await K(p,t,{name:a,phone:u});console.log(" Resultado registro:",C),C.success?(G("/",{state:{message:" Cuenta creada exitosamente. Ya puedes iniciar sesin."}}),pe.success(" Cuenta creada. Bienvenido a Batista Global Service")):w(C.error||"Error al crear la cuenta")}catch(C){console.error(" Error:",C),w("Error al crear la cuenta")}finally{j(!1)}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 to-orange-100 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8",children:[s.jsxs("button",{onClick:()=>G("/registro"),className:"flex items-center gap-2 text-gray-600 hover:text-amber-500 mb-6 transition-colors",children:[s.jsx(ea,{className:"h-4 w-4"}),s.jsx("span",{children:"Volver"})]}),s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:k?" Cdigo verificado":"Ingresa el cdigo"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Cdigo enviado a:"}),s.jsx("p",{className:"text-sm font-semibold text-amber-600 break-all",children:p})]}),s.jsxs("form",{onSubmit:S,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 text-center",children:"Cdigo de verificacin"}),s.jsx("div",{className:"flex justify-center gap-2",children:r.map((T,C)=>{let A="border-gray-300";return k?A="border-green-500 bg-green-50":g&&!k&&(A="border-red-500 bg-red-50"),s.jsx("input",{id:`codigo-${C}`,type:"text",inputMode:"numeric",maxLength:1,value:T,onChange:ue=>R(C,ue.target.value),onKeyDown:ue=>E(C,ue),className:`w-14 h-14 text-center text-2xl font-bold border-2 ${A} rounded-lg focus:border-amber-500 focus:ring-2 focus:ring-amber-200 outline-none transition-all duration-300 transform hover:scale-105`,autoFocus:C===0,disabled:b||k},C)})}),k&&s.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-600 mt-2 animate-pulse",children:[s.jsx(yr,{className:"h-5 w-5"}),s.jsx("span",{className:"text-sm font-medium",children:"Cdigo correcto "})]}),g&&!k&&s.jsxs("div",{className:"flex items-center justify-center gap-2 text-red-600 mt-2 animate-shake",children:[s.jsx(ta,{className:"h-5 w-5"}),s.jsx("span",{className:"text-sm font-medium",children:g})]})]}),k&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre completo"}),s.jsxs("div",{className:"relative",children:[s.jsx(yo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",value:a,onChange:T=>l(T.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500",placeholder:"Juan Prez",required:!0,disabled:b})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telfono (opcional)"}),s.jsxs("div",{className:"relative",children:[s.jsx(ih,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"tel",value:u,onChange:T=>m(T.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500",placeholder:"+1 234 567 890",disabled:b})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contrasea"}),s.jsxs("div",{className:"relative",children:[s.jsx(ag,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"password",value:t,onChange:T=>n(T.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500",placeholder:"",required:!0,disabled:b})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Mnimo 6 caracteres"})]}),s.jsx("button",{type:"submit",disabled:b,className:"w-full bg-gradient-to-r from-amber-500 to-orange-500 text-white py-3 rounded-lg font-medium hover:from-amber-600 hover:to-orange-600 transition-all duration-300 disabled:opacity-50 flex items-center justify-center gap-2 transform hover:scale-105",children:b?s.jsxs(s.Fragment,{children:[s.jsx(F_,{className:"h-5 w-5 animate-spin"}),s.jsx("span",{children:"Creando cuenta..."})]}):"Crear cuenta"})]})]}),!k&&s.jsxs("p",{className:"text-xs text-gray-400 text-center mt-4",children:["No recibiste el cdigo?"," ",s.jsx("button",{onClick:()=>G("/registro"),className:"text-amber-600 hover:text-amber-700",children:"Reenviar cdigo"})]})]})})},B6=()=>s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-500"})}),z6=({children:r})=>{const{isAuthenticated:e}=dg();return e?r:s.jsx(Xp,{to:"/admin-login"})},sp=({children:r})=>{const{isAuthenticated:e}=ui();return e?r:s.jsx(Xp,{to:"/cliente/login"})},q6=()=>s.jsxs(P.Suspense,{fallback:s.jsx(B6,{}),children:[s.jsxs(m2,{children:[s.jsx(Qe,{path:"/",element:s.jsx(is,{children:s.jsx(k6,{})})}),s.jsx(Qe,{path:"/servicios",element:s.jsx(is,{children:s.jsx(T6,{})})}),s.jsx(Qe,{path:"/servicio/:id",element:s.jsx(is,{children:s.jsx(D6,{})})}),s.jsx(Qe,{path:"/tienda",element:s.jsx(is,{children:s.jsx(yv,{})})}),s.jsx(Qe,{path:"/cart",element:s.jsx(is,{children:s.jsx(M6,{})})}),s.jsx(Qe,{path:"/categoria/:category",element:s.jsx(is,{children:s.jsx(yv,{})})}),s.jsx(Qe,{path:"/buscar",element:s.jsx(is,{children:s.jsx(V6,{})})}),s.jsx(Qe,{path:"/registro",element:s.jsx(U6,{})}),s.jsx(Qe,{path:"/registro/paso2",element:s.jsx($6,{})}),s.jsx(Qe,{path:"/admin-login",element:s.jsx(E6,{})}),s.jsx(Qe,{path:"/cliente/login",element:s.jsx(O6,{})}),s.jsx(Qe,{path:"/recuperar-password",element:s.jsx(F6,{})}),s.jsx(Qe,{path:"/cliente/perfil",element:s.jsx(sp,{children:s.jsx(is,{children:s.jsx(L6,{})})})}),s.jsx(Qe,{path:"/cliente/pedidos",element:s.jsx(sp,{children:s.jsx(is,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Mis Pedidos"}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center",children:[s.jsx("p",{className:"text-gray-500",children:"No tienes pedidos an"}),s.jsx("a",{href:"/tienda",className:"inline-block mt-4 text-amber-500 hover:text-amber-600",children:"Ir a la tienda"})]})]})})})})}),s.jsx(Qe,{path:"/cliente/favoritos",element:s.jsx(sp,{children:s.jsx(is,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Mis Favoritos"}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center",children:[s.jsx("p",{className:"text-gray-500",children:"No tienes favoritos guardados"}),s.jsx("a",{href:"/tienda",className:"inline-block mt-4 text-amber-500 hover:text-amber-600",children:"Explorar productos"})]})]})})})})}),s.jsxs(Qe,{path:"/admin",element:s.jsx(z6,{children:s.jsx(G5,{})}),children:[s.jsx(Qe,{index:!0,element:s.jsx(Xp,{to:"dashboard",replace:!0})}),s.jsx(Qe,{path:"dashboard",element:s.jsx(e6,{})}),s.jsx(Qe,{path:"products",element:s.jsx(t6,{})}),s.jsx(Qe,{path:"products/edit/:id",element:s.jsx(xv,{})}),s.jsx(Qe,{path:"products/new",element:s.jsx(xv,{})}),s.jsx(Qe,{path:"services",element:s.jsx(f6,{})}),s.jsx(Qe,{path:"destinos",element:s.jsx(N6,{})}),s.jsx(Qe,{path:"orders",element:s.jsx(r6,{})}),s.jsx(Qe,{path:"analytics",element:s.jsx(s6,{})})]}),s.jsx(Qe,{path:"*",element:s.jsx(is,{children:s.jsxs("div",{className:"text-center py-20",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),s.jsx("p",{className:"text-xl mb-8",children:"Pgina no encontrada"}),s.jsx("a",{href:"/",className:"bg-amber-500 text-white px-6 py-2 rounded-lg hover:bg-amber-600",children:"Volver al inicio"})]})})})]}),s.jsx(n1,{})]}),H6=()=>s.jsx(GA,{children:s.jsx(BA,{children:s.jsx(q5,{children:s.jsx(H5,{children:s.jsx(W5,{children:s.jsx(U5,{children:s.jsx(WA,{children:s.jsx(q6,{})})})})})})})});yN.createRoot(document.getElementById("root")).render(s.jsx(id.StrictMode,{children:s.jsx(b2,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:s.jsx(H6,{})})}));
