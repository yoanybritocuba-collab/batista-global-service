function Hx(n,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in n)){const l=Object.getOwnPropertyDescriptor(s,o);l&&Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function Pv(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Th={exports:{}},Ma={},Ih={exports:{}},Ae={};var Lg;function Kx(){if(Lg)return Ae;Lg=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),T=Symbol.iterator;function A(O){return O===null||typeof O!="object"?null:(O=T&&O[T]||O["@@iterator"],typeof O=="function"?O:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,W={};function F(O,K,fe){this.props=O,this.context=K,this.refs=W,this.updater=fe||D}F.prototype.isReactComponent={},F.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},F.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ie(){}ie.prototype=F.prototype;function ue(O,K,fe){this.props=O,this.context=K,this.refs=W,this.updater=fe||D}var ee=ue.prototype=new ie;ee.constructor=ue,q(ee,F.prototype),ee.isPureReactComponent=!0;var ae=Array.isArray,Re=Object.prototype.hasOwnProperty,Te={current:null},b={key:!0,ref:!0,__self:!0,__source:!0};function S(O,K,fe){var Ie,Se={},Pe=null,Le=null;if(K!=null)for(Ie in K.ref!==void 0&&(Le=K.ref),K.key!==void 0&&(Pe=""+K.key),K)Re.call(K,Ie)&&!b.hasOwnProperty(Ie)&&(Se[Ie]=K[Ie]);var Me=arguments.length-2;if(Me===1)Se.children=fe;else if(1<Me){for(var $e=Array(Me),vt=0;vt<Me;vt++)$e[vt]=arguments[vt+2];Se.children=$e}if(O&&O.defaultProps)for(Ie in Me=O.defaultProps,Me)Se[Ie]===void 0&&(Se[Ie]=Me[Ie]);return{$$typeof:n,type:O,key:Pe,ref:Le,props:Se,_owner:Te.current}}function N(O,K){return{$$typeof:n,type:O.type,key:K,ref:O.ref,props:O.props,_owner:O._owner}}function C(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function j(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(fe){return K[fe]})}var V=/\/+/g;function R(O,K){return typeof O=="object"&&O!==null&&O.key!=null?j(""+O.key):K.toString(36)}function rt(O,K,fe,Ie,Se){var Pe=typeof O;(Pe==="undefined"||Pe==="boolean")&&(O=null);var Le=!1;if(O===null)Le=!0;else switch(Pe){case"string":case"number":Le=!0;break;case"object":switch(O.$$typeof){case n:case e:Le=!0}}if(Le)return Le=O,Se=Se(Le),O=Ie===""?"."+R(Le,0):Ie,ae(Se)?(fe="",O!=null&&(fe=O.replace(V,"$&/")+"/"),rt(Se,K,fe,"",function(vt){return vt})):Se!=null&&(C(Se)&&(Se=N(Se,fe+(!Se.key||Le&&Le.key===Se.key?"":(""+Se.key).replace(V,"$&/")+"/")+O)),K.push(Se)),1;if(Le=0,Ie=Ie===""?".":Ie+":",ae(O))for(var Me=0;Me<O.length;Me++){Pe=O[Me];var $e=Ie+R(Pe,Me);Le+=rt(Pe,K,fe,$e,Se)}else if($e=A(O),typeof $e=="function")for(O=$e.call(O),Me=0;!(Pe=O.next()).done;)Pe=Pe.value,$e=Ie+R(Pe,Me++),Le+=rt(Pe,K,fe,$e,Se);else if(Pe==="object")throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return Le}function jt(O,K,fe){if(O==null)return O;var Ie=[],Se=0;return rt(O,Ie,"","",function(Pe){return K.call(fe,Pe,Se++)}),Ie}function Dt(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(fe){(O._status===0||O._status===-1)&&(O._status=1,O._result=fe)},function(fe){(O._status===0||O._status===-1)&&(O._status=2,O._result=fe)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var Be={current:null},te={transition:null},me={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:te,ReactCurrentOwner:Te};function re(){throw Error("act(...) is not supported in production builds of React.")}return Ae.Children={map:jt,forEach:function(O,K,fe){jt(O,function(){K.apply(this,arguments)},fe)},count:function(O){var K=0;return jt(O,function(){K++}),K},toArray:function(O){return jt(O,function(K){return K})||[]},only:function(O){if(!C(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ae.Component=F,Ae.Fragment=t,Ae.Profiler=o,Ae.PureComponent=ue,Ae.StrictMode=s,Ae.Suspense=p,Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,Ae.act=re,Ae.cloneElement=function(O,K,fe){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var Ie=q({},O.props),Se=O.key,Pe=O.ref,Le=O._owner;if(K!=null){if(K.ref!==void 0&&(Pe=K.ref,Le=Te.current),K.key!==void 0&&(Se=""+K.key),O.type&&O.type.defaultProps)var Me=O.type.defaultProps;for($e in K)Re.call(K,$e)&&!b.hasOwnProperty($e)&&(Ie[$e]=K[$e]===void 0&&Me!==void 0?Me[$e]:K[$e])}var $e=arguments.length-2;if($e===1)Ie.children=fe;else if(1<$e){Me=Array($e);for(var vt=0;vt<$e;vt++)Me[vt]=arguments[vt+2];Ie.children=Me}return{$$typeof:n,type:O.type,key:Se,ref:Pe,props:Ie,_owner:Le}},Ae.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:l,_context:O},O.Consumer=O},Ae.createElement=S,Ae.createFactory=function(O){var K=S.bind(null,O);return K.type=O,K},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(O){return{$$typeof:h,render:O}},Ae.isValidElement=C,Ae.lazy=function(O){return{$$typeof:x,_payload:{_status:-1,_result:O},_init:Dt}},Ae.memo=function(O,K){return{$$typeof:v,type:O,compare:K===void 0?null:K}},Ae.startTransition=function(O){var K=te.transition;te.transition={};try{O()}finally{te.transition=K}},Ae.unstable_act=re,Ae.useCallback=function(O,K){return Be.current.useCallback(O,K)},Ae.useContext=function(O){return Be.current.useContext(O)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(O){return Be.current.useDeferredValue(O)},Ae.useEffect=function(O,K){return Be.current.useEffect(O,K)},Ae.useId=function(){return Be.current.useId()},Ae.useImperativeHandle=function(O,K,fe){return Be.current.useImperativeHandle(O,K,fe)},Ae.useInsertionEffect=function(O,K){return Be.current.useInsertionEffect(O,K)},Ae.useLayoutEffect=function(O,K){return Be.current.useLayoutEffect(O,K)},Ae.useMemo=function(O,K){return Be.current.useMemo(O,K)},Ae.useReducer=function(O,K,fe){return Be.current.useReducer(O,K,fe)},Ae.useRef=function(O){return Be.current.useRef(O)},Ae.useState=function(O){return Be.current.useState(O)},Ae.useSyncExternalStore=function(O,K,fe){return Be.current.useSyncExternalStore(O,K,fe)},Ae.useTransition=function(){return Be.current.useTransition()},Ae.version="18.3.1",Ae}var Mg;function If(){return Mg||(Mg=1,Ih.exports=Kx()),Ih.exports}var Fg;function Gx(){if(Fg)return Ma;Fg=1;var n=If(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(h,p,v){var x,T={},A=null,D=null;v!==void 0&&(A=""+v),p.key!==void 0&&(A=""+p.key),p.ref!==void 0&&(D=p.ref);for(x in p)s.call(p,x)&&!l.hasOwnProperty(x)&&(T[x]=p[x]);if(h&&h.defaultProps)for(x in p=h.defaultProps,p)T[x]===void 0&&(T[x]=p[x]);return{$$typeof:e,type:h,key:A,ref:D,props:T,_owner:o.current}}return Ma.Fragment=t,Ma.jsx=c,Ma.jsxs=c,Ma}var Ug;function Qx(){return Ug||(Ug=1,Th.exports=Gx()),Th.exports}var m=Qx(),$=If();const bv=Pv($),Yx=Hx({__proto__:null,default:bv},[$]);var Uu={},Sh={exports:{}},nn={},Ah={exports:{}},Rh={};var Bg;function Xx(){return Bg||(Bg=1,(function(n){function e(te,me){var re=te.length;te.push(me);e:for(;0<re;){var O=re-1>>>1,K=te[O];if(0<o(K,me))te[O]=me,te[re]=K,re=O;else break e}}function t(te){return te.length===0?null:te[0]}function s(te){if(te.length===0)return null;var me=te[0],re=te.pop();if(re!==me){te[0]=re;e:for(var O=0,K=te.length,fe=K>>>1;O<fe;){var Ie=2*(O+1)-1,Se=te[Ie],Pe=Ie+1,Le=te[Pe];if(0>o(Se,re))Pe<K&&0>o(Le,Se)?(te[O]=Le,te[Pe]=re,O=Pe):(te[O]=Se,te[Ie]=re,O=Ie);else if(Pe<K&&0>o(Le,re))te[O]=Le,te[Pe]=re,O=Pe;else break e}}return me}function o(te,me){var re=te.sortIndex-me.sortIndex;return re!==0?re:te.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var p=[],v=[],x=1,T=null,A=3,D=!1,q=!1,W=!1,F=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,ue=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ee(te){for(var me=t(v);me!==null;){if(me.callback===null)s(v);else if(me.startTime<=te)s(v),me.sortIndex=me.expirationTime,e(p,me);else break;me=t(v)}}function ae(te){if(W=!1,ee(te),!q)if(t(p)!==null)q=!0,Dt(Re);else{var me=t(v);me!==null&&Be(ae,me.startTime-te)}}function Re(te,me){q=!1,W&&(W=!1,ie(S),S=-1),D=!0;var re=A;try{for(ee(me),T=t(p);T!==null&&(!(T.expirationTime>me)||te&&!j());){var O=T.callback;if(typeof O=="function"){T.callback=null,A=T.priorityLevel;var K=O(T.expirationTime<=me);me=n.unstable_now(),typeof K=="function"?T.callback=K:T===t(p)&&s(p),ee(me)}else s(p);T=t(p)}if(T!==null)var fe=!0;else{var Ie=t(v);Ie!==null&&Be(ae,Ie.startTime-me),fe=!1}return fe}finally{T=null,A=re,D=!1}}var Te=!1,b=null,S=-1,N=5,C=-1;function j(){return!(n.unstable_now()-C<N)}function V(){if(b!==null){var te=n.unstable_now();C=te;var me=!0;try{me=b(!0,te)}finally{me?R():(Te=!1,b=null)}}else Te=!1}var R;if(typeof ue=="function")R=function(){ue(V)};else if(typeof MessageChannel<"u"){var rt=new MessageChannel,jt=rt.port2;rt.port1.onmessage=V,R=function(){jt.postMessage(null)}}else R=function(){F(V,0)};function Dt(te){b=te,Te||(Te=!0,R())}function Be(te,me){S=F(function(){te(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(te){te.callback=null},n.unstable_continueExecution=function(){q||D||(q=!0,Dt(Re))},n.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<te?Math.floor(1e3/te):5},n.unstable_getCurrentPriorityLevel=function(){return A},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(te){switch(A){case 1:case 2:case 3:var me=3;break;default:me=A}var re=A;A=me;try{return te()}finally{A=re}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(te,me){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var re=A;A=te;try{return me()}finally{A=re}},n.unstable_scheduleCallback=function(te,me,re){var O=n.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?O+re:O):re=O,te){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=re+K,te={id:x++,callback:me,priorityLevel:te,startTime:re,expirationTime:K,sortIndex:-1},re>O?(te.sortIndex=re,e(v,te),t(p)===null&&te===t(v)&&(W?(ie(S),S=-1):W=!0,Be(ae,re-O))):(te.sortIndex=K,e(p,te),q||D||(q=!0,Dt(Re))),te},n.unstable_shouldYield=j,n.unstable_wrapCallback=function(te){var me=A;return function(){var re=A;A=me;try{return te.apply(this,arguments)}finally{A=re}}}})(Rh)),Rh}var zg;function Jx(){return zg||(zg=1,Ah.exports=Xx()),Ah.exports}var $g;function Zx(){if($g)return nn;$g=1;var n=If(),e=Jx();function t(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(r,i){c(r,i),c(r+"Capture",i)}function c(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},T={};function A(r){return p.call(T,r)?!0:p.call(x,r)?!1:v.test(r)?T[r]=!0:(x[r]=!0,!1)}function D(r,i,a,d){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return d?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function q(r,i,a,d){if(i===null||typeof i>"u"||D(r,i,a,d))return!0;if(d)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function W(r,i,a,d,f,y,w){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=d,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=r,this.type=i,this.sanitizeURL=y,this.removeEmptyString=w}var F={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){F[r]=new W(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];F[i]=new W(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){F[r]=new W(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){F[r]=new W(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){F[r]=new W(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){F[r]=new W(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){F[r]=new W(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){F[r]=new W(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){F[r]=new W(r,5,!1,r.toLowerCase(),null,!1,!1)});var ie=/[\-:]([a-z])/g;function ue(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(ie,ue);F[i]=new W(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(ie,ue);F[i]=new W(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(ie,ue);F[i]=new W(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){F[r]=new W(r,1,!1,r.toLowerCase(),null,!1,!1)}),F.xlinkHref=new W("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){F[r]=new W(r,1,!1,r.toLowerCase(),null,!0,!0)});function ee(r,i,a,d){var f=F.hasOwnProperty(i)?F[i]:null;(f!==null?f.type!==0:d||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(q(i,a,f,d)&&(a=null),d||f===null?A(i)&&(a===null?r.removeAttribute(i):r.setAttribute(i,""+a)):f.mustUseProperty?r[f.propertyName]=a===null?f.type===3?!1:"":a:(i=f.attributeName,d=f.attributeNamespace,a===null?r.removeAttribute(i):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,d?r.setAttributeNS(d,i,a):r.setAttribute(i,a))))}var ae=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Re=Symbol.for("react.element"),Te=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),j=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),rt=Symbol.for("react.suspense_list"),jt=Symbol.for("react.memo"),Dt=Symbol.for("react.lazy"),Be=Symbol.for("react.offscreen"),te=Symbol.iterator;function me(r){return r===null||typeof r!="object"?null:(r=te&&r[te]||r["@@iterator"],typeof r=="function"?r:null)}var re=Object.assign,O;function K(r){if(O===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);O=i&&i[1]||""}return`
`+O+r}var fe=!1;function Ie(r,i){if(!r||fe)return"";fe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(B){var d=B}Reflect.construct(r,[],i)}else{try{i.call()}catch(B){d=B}r.call(i.prototype)}else{try{throw Error()}catch(B){d=B}r()}}catch(B){if(B&&d&&typeof B.stack=="string"){for(var f=B.stack.split(`
`),y=d.stack.split(`
`),w=f.length-1,I=y.length-1;1<=w&&0<=I&&f[w]!==y[I];)I--;for(;1<=w&&0<=I;w--,I--)if(f[w]!==y[I]){if(w!==1||I!==1)do if(w--,I--,0>I||f[w]!==y[I]){var k=`
`+f[w].replace(" at new "," at ");return r.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",r.displayName)),k}while(1<=w&&0<=I);break}}}finally{fe=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?K(r):""}function Se(r){switch(r.tag){case 5:return K(r.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return r=Ie(r.type,!1),r;case 11:return r=Ie(r.type.render,!1),r;case 1:return r=Ie(r.type,!0),r;default:return""}}function Pe(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case b:return"Fragment";case Te:return"Portal";case N:return"Profiler";case S:return"StrictMode";case R:return"Suspense";case rt:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case j:return(r.displayName||"Context")+".Consumer";case C:return(r._context.displayName||"Context")+".Provider";case V:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case jt:return i=r.displayName||null,i!==null?i:Pe(r.type)||"Memo";case Dt:i=r._payload,r=r._init;try{return Pe(r(i))}catch{}}return null}function Le(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pe(i);case 8:return i===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Me(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function $e(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function vt(r){var i=$e(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),d=""+r[i];if(!r.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,y=a.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return f.call(this)},set:function(w){d=""+w,y.call(this,w)}}),Object.defineProperty(r,i,{enumerable:a.enumerable}),{getValue:function(){return d},setValue:function(w){d=""+w},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function pr(r){r._valueTracker||(r._valueTracker=vt(r))}function Si(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var a=i.getValue(),d="";return r&&(d=$e(r)?r.checked?"true":"false":r.value),r=d,r!==a?(i.setValue(r),!0):!1}function qr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Os(r,i){var a=i.checked;return re({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function Ai(r,i){var a=i.defaultValue==null?"":i.defaultValue,d=i.checked!=null?i.checked:i.defaultChecked;a=Me(i.value!=null?i.value:a),r._wrapperState={initialChecked:d,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function qo(r,i){i=i.checked,i!=null&&ee(r,"checked",i,!1)}function Wo(r,i){qo(r,i);var a=Me(i.value),d=i.type;if(a!=null)d==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?Ri(r,i.type,a):i.hasOwnProperty("defaultValue")&&Ri(r,i.type,Me(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function Sl(r,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var d=i.type;if(!(d!=="submit"&&d!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,a||i===r.value||(r.value=i),r.defaultValue=i}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Ri(r,i,a){(i!=="number"||qr(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var mr=Array.isArray;function gr(r,i,a,d){if(r=r.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=i.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&d&&(r[a].defaultSelected=!0)}else{for(a=""+Me(a),i=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,d&&(r[f].defaultSelected=!0);return}i!==null||r[f].disabled||(i=r[f])}i!==null&&(i.selected=!0)}}function Ho(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return re({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Ni(r,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(t(92));if(mr(a)){if(1<a.length)throw Error(t(93));a=a[0]}i=a}i==null&&(i=""),a=i}r._wrapperState={initialValue:Me(a)}}function ki(r,i){var a=Me(i.value),d=Me(i.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),i.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),d!=null&&(r.defaultValue=""+d)}function Ko(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function ht(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ft(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?ht(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var yr,Go=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,d,f){MSApp.execUnsafeLocalFunction(function(){return r(i,a,d,f)})}:r})(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(yr=yr||document.createElement("div"),yr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=yr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function Wr(r,i){if(i){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=i;return}}r.textContent=i}var Vs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ls=["Webkit","ms","Moz","O"];Object.keys(Vs).forEach(function(r){Ls.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),Vs[i]=Vs[r]})});function Qo(r,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||Vs.hasOwnProperty(r)&&Vs[r]?(""+i).trim():i+"px"}function Yo(r,i){r=r.style;for(var a in i)if(i.hasOwnProperty(a)){var d=a.indexOf("--")===0,f=Qo(a,i[a],d);a==="float"&&(a="cssFloat"),d?r.setProperty(a,f):r[a]=f}}var Xo=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jo(r,i){if(i){if(Xo[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function Zo(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ms=null;function Ci(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Pi=null,yn=null,Gn=null;function bi(r){if(r=Ta(r)){if(typeof Pi!="function")throw Error(t(280));var i=r.stateNode;i&&(i=tu(i),Pi(r.stateNode,r.type,i))}}function Qn(r){yn?Gn?Gn.push(r):Gn=[r]:yn=r}function ea(){if(yn){var r=yn,i=Gn;if(Gn=yn=null,bi(r),i)for(r=0;r<i.length;r++)bi(i[r])}}function Fs(r,i){return r(i)}function ta(){}var vr=!1;function na(r,i,a){if(vr)return r(i,a);vr=!0;try{return Fs(r,i,a)}finally{vr=!1,(yn!==null||Gn!==null)&&(ta(),ea())}}function st(r,i){var a=r.stateNode;if(a===null)return null;var d=tu(a);if(d===null)return null;a=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,i,typeof a));return a}var ji=!1;if(h)try{var kn={};Object.defineProperty(kn,"passive",{get:function(){ji=!0}}),window.addEventListener("test",kn,kn),window.removeEventListener("test",kn,kn)}catch{ji=!1}function Us(r,i,a,d,f,y,w,I,k){var B=Array.prototype.slice.call(arguments,3);try{i.apply(a,B)}catch(Q){this.onError(Q)}}var Bs=!1,Di=null,Cn=!1,ra=null,Xc={onError:function(r){Bs=!0,Di=r}};function Oi(r,i,a,d,f,y,w,I,k){Bs=!1,Di=null,Us.apply(Xc,arguments)}function Al(r,i,a,d,f,y,w,I,k){if(Oi.apply(this,arguments),Bs){if(Bs){var B=Di;Bs=!1,Di=null}else throw Error(t(198));Cn||(Cn=!0,ra=B)}}function Pn(r){var i=r,a=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(a=i.return),r=i.return;while(r)}return i.tag===3?a:null}function zs(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function bn(r){if(Pn(r)!==r)throw Error(t(188))}function Rl(r){var i=r.alternate;if(!i){if(i=Pn(r),i===null)throw Error(t(188));return i!==r?null:r}for(var a=r,d=i;;){var f=a.return;if(f===null)break;var y=f.alternate;if(y===null){if(d=f.return,d!==null){a=d;continue}break}if(f.child===y.child){for(y=f.child;y;){if(y===a)return bn(f),r;if(y===d)return bn(f),i;y=y.sibling}throw Error(t(188))}if(a.return!==d.return)a=f,d=y;else{for(var w=!1,I=f.child;I;){if(I===a){w=!0,a=f,d=y;break}if(I===d){w=!0,d=f,a=y;break}I=I.sibling}if(!w){for(I=y.child;I;){if(I===a){w=!0,a=y,d=f;break}if(I===d){w=!0,d=y,a=f;break}I=I.sibling}if(!w)throw Error(t(189))}}if(a.alternate!==d)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:i}function sa(r){return r=Rl(r),r!==null?Vi(r):null}function Vi(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=Vi(r);if(i!==null)return i;r=r.sibling}return null}var Li=e.unstable_scheduleCallback,ia=e.unstable_cancelCallback,Nl=e.unstable_shouldYield,Jc=e.unstable_requestPaint,qe=e.unstable_now,kl=e.unstable_getCurrentPriorityLevel,$s=e.unstable_ImmediatePriority,Hr=e.unstable_UserBlockingPriority,vn=e.unstable_NormalPriority,oa=e.unstable_LowPriority,Cl=e.unstable_IdlePriority,qs=null,ln=null;function Pl(r){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(qs,r,void 0,(r.current.flags&128)===128)}catch{}}var qt=Math.clz32?Math.clz32:jl,aa=Math.log,bl=Math.LN2;function jl(r){return r>>>=0,r===0?32:31-(aa(r)/bl|0)|0}var Mi=64,Fi=4194304;function Kr(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Ws(r,i){var a=r.pendingLanes;if(a===0)return 0;var d=0,f=r.suspendedLanes,y=r.pingedLanes,w=a&268435455;if(w!==0){var I=w&~f;I!==0?d=Kr(I):(y&=w,y!==0&&(d=Kr(y)))}else w=a&~f,w!==0?d=Kr(w):y!==0&&(d=Kr(y));if(d===0)return 0;if(i!==0&&i!==d&&(i&f)===0&&(f=d&-d,y=i&-i,f>=y||f===16&&(y&4194240)!==0))return i;if((d&4)!==0&&(d|=a&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=d;0<i;)a=31-qt(i),f=1<<a,d|=r[a],i&=~f;return d}function Zc(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _r(r,i){for(var a=r.suspendedLanes,d=r.pingedLanes,f=r.expirationTimes,y=r.pendingLanes;0<y;){var w=31-qt(y),I=1<<w,k=f[w];k===-1?((I&a)===0||(I&d)!==0)&&(f[w]=Zc(I,i)):k<=i&&(r.expiredLanes|=I),y&=~I}}function un(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Hs(){var r=Mi;return Mi<<=1,(Mi&4194240)===0&&(Mi=64),r}function Gr(r){for(var i=[],a=0;31>a;a++)i.push(r);return i}function Qr(r,i,a){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-qt(i),r[i]=a}function ze(r,i){var a=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<a;){var f=31-qt(a),y=1<<f;i[f]=0,d[f]=-1,r[f]=-1,a&=~y}}function Yr(r,i){var a=r.entangledLanes|=i;for(r=r.entanglements;a;){var d=31-qt(a),f=1<<d;f&i|r[d]&i&&(r[d]|=i),a&=~f}}var ke=0;function Xr(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Dl,Ui,Ol,Vl,Ll,la=!1,Yn=[],St=null,jn=null,Dn=null,Jr=new Map,_n=new Map,Xn=[],ed="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ml(r,i){switch(r){case"focusin":case"focusout":St=null;break;case"dragenter":case"dragleave":jn=null;break;case"mouseover":case"mouseout":Dn=null;break;case"pointerover":case"pointerout":Jr.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":_n.delete(i.pointerId)}}function Qt(r,i,a,d,f,y){return r===null||r.nativeEvent!==y?(r={blockedOn:i,domEventName:a,eventSystemFlags:d,nativeEvent:y,targetContainers:[f]},i!==null&&(i=Ta(i),i!==null&&Ui(i)),r):(r.eventSystemFlags|=d,i=r.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),r)}function td(r,i,a,d,f){switch(i){case"focusin":return St=Qt(St,r,i,a,d,f),!0;case"dragenter":return jn=Qt(jn,r,i,a,d,f),!0;case"mouseover":return Dn=Qt(Dn,r,i,a,d,f),!0;case"pointerover":var y=f.pointerId;return Jr.set(y,Qt(Jr.get(y)||null,r,i,a,d,f)),!0;case"gotpointercapture":return y=f.pointerId,_n.set(y,Qt(_n.get(y)||null,r,i,a,d,f)),!0}return!1}function Fl(r){var i=Xs(r.target);if(i!==null){var a=Pn(i);if(a!==null){if(i=a.tag,i===13){if(i=zs(a),i!==null){r.blockedOn=i,Ll(r.priority,function(){Ol(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function wr(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var a=Bi(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var d=new a.constructor(a.type,a);Ms=d,a.target.dispatchEvent(d),Ms=null}else return i=Ta(a),i!==null&&Ui(i),r.blockedOn=a,!1;i.shift()}return!0}function Ks(r,i,a){wr(r)&&a.delete(i)}function Ul(){la=!1,St!==null&&wr(St)&&(St=null),jn!==null&&wr(jn)&&(jn=null),Dn!==null&&wr(Dn)&&(Dn=null),Jr.forEach(Ks),_n.forEach(Ks)}function On(r,i){r.blockedOn===i&&(r.blockedOn=null,la||(la=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ul)))}function Vn(r){function i(f){return On(f,r)}if(0<Yn.length){On(Yn[0],r);for(var a=1;a<Yn.length;a++){var d=Yn[a];d.blockedOn===r&&(d.blockedOn=null)}}for(St!==null&&On(St,r),jn!==null&&On(jn,r),Dn!==null&&On(Dn,r),Jr.forEach(i),_n.forEach(i),a=0;a<Xn.length;a++)d=Xn[a],d.blockedOn===r&&(d.blockedOn=null);for(;0<Xn.length&&(a=Xn[0],a.blockedOn===null);)Fl(a),a.blockedOn===null&&Xn.shift()}var xr=ae.ReactCurrentBatchConfig,Zr=!0;function Qe(r,i,a,d){var f=ke,y=xr.transition;xr.transition=null;try{ke=1,ua(r,i,a,d)}finally{ke=f,xr.transition=y}}function nd(r,i,a,d){var f=ke,y=xr.transition;xr.transition=null;try{ke=4,ua(r,i,a,d)}finally{ke=f,xr.transition=y}}function ua(r,i,a,d){if(Zr){var f=Bi(r,i,a,d);if(f===null)fd(r,i,d,Gs,a),Ml(r,d);else if(td(f,r,i,a,d))d.stopPropagation();else if(Ml(r,d),i&4&&-1<ed.indexOf(r)){for(;f!==null;){var y=Ta(f);if(y!==null&&Dl(y),y=Bi(r,i,a,d),y===null&&fd(r,i,d,Gs,a),y===f)break;f=y}f!==null&&d.stopPropagation()}else fd(r,i,d,null,a)}}var Gs=null;function Bi(r,i,a,d){if(Gs=null,r=Ci(d),r=Xs(r),r!==null)if(i=Pn(r),i===null)r=null;else if(a=i.tag,a===13){if(r=zs(i),r!==null)return r;r=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return Gs=r,null}function ca(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kl()){case $s:return 1;case Hr:return 4;case vn:case oa:return 16;case Cl:return 536870912;default:return 16}default:return 16}}var cn=null,zi=null,Yt=null;function da(){if(Yt)return Yt;var r,i=zi,a=i.length,d,f="value"in cn?cn.value:cn.textContent,y=f.length;for(r=0;r<a&&i[r]===f[r];r++);var w=a-r;for(d=1;d<=w&&i[a-d]===f[y-d];d++);return Yt=f.slice(r,1<d?1-d:void 0)}function $i(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Jn(){return!0}function ha(){return!1}function At(r){function i(a,d,f,y,w){this._reactName=a,this._targetInst=f,this.type=d,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var I in r)r.hasOwnProperty(I)&&(a=r[I],this[I]=a?a(y):y[I]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Jn:ha,this.isPropagationStopped=ha,this}return re(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Jn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Jn)},persist:function(){},isPersistent:Jn}),i}var Ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qi=At(Ln),Zn=re({},Ln,{view:0,detail:0}),rd=At(Zn),Wi,Er,es,Qs=re({},Zn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:er,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==es&&(es&&r.type==="mousemove"?(Wi=r.screenX-es.screenX,Er=r.screenY-es.screenY):Er=Wi=0,es=r),Wi)},movementY:function(r){return"movementY"in r?r.movementY:Er}}),Hi=At(Qs),fa=re({},Qs,{dataTransfer:0}),Bl=At(fa),Ki=re({},Zn,{relatedTarget:0}),Gi=At(Ki),zl=re({},Ln,{animationName:0,elapsedTime:0,pseudoElement:0}),Tr=At(zl),$l=re({},Ln,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),ql=At($l),Wl=re({},Ln,{data:0}),pa=At(Wl),Qi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kl(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Hl[r])?!!i[r]:!1}function er(){return Kl}var u=re({},Zn,{key:function(r){if(r.key){var i=Qi[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=$i(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Wt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:er,charCode:function(r){return r.type==="keypress"?$i(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?$i(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),g=At(u),_=re({},Qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=At(_),L=re({},Zn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:er}),z=At(L),Z=re({},Ln,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fe=At(Z),pt=re({},Qs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),be=At(pt),_t=[9,13,27,32],lt=h&&"CompositionEvent"in window,wn=null;h&&"documentMode"in document&&(wn=document.documentMode);var dn=h&&"TextEvent"in window&&!wn,Ys=h&&(!lt||wn&&8<wn&&11>=wn),Yi=" ",Pp=!1;function bp(r,i){switch(r){case"keyup":return _t.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Xi=!1;function $w(r,i){switch(r){case"compositionend":return jp(i);case"keypress":return i.which!==32?null:(Pp=!0,Yi);case"textInput":return r=i.data,r===Yi&&Pp?null:r;default:return null}}function qw(r,i){if(Xi)return r==="compositionend"||!lt&&bp(r,i)?(r=da(),Yt=zi=cn=null,Xi=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ys&&i.locale!=="ko"?null:i.data;default:return null}}var Ww={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dp(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!Ww[r.type]:i==="textarea"}function Op(r,i,a,d){Qn(d),i=Jl(i,"onChange"),0<i.length&&(a=new qi("onChange","change",null,a,d),r.push({event:a,listeners:i}))}var ma=null,ga=null;function Hw(r){Zp(r,0)}function Gl(r){var i=no(r);if(Si(i))return r}function Kw(r,i){if(r==="change")return i}var Vp=!1;if(h){var sd;if(h){var id="oninput"in document;if(!id){var Lp=document.createElement("div");Lp.setAttribute("oninput","return;"),id=typeof Lp.oninput=="function"}sd=id}else sd=!1;Vp=sd&&(!document.documentMode||9<document.documentMode)}function Mp(){ma&&(ma.detachEvent("onpropertychange",Fp),ga=ma=null)}function Fp(r){if(r.propertyName==="value"&&Gl(ga)){var i=[];Op(i,ga,r,Ci(r)),na(Hw,i)}}function Gw(r,i,a){r==="focusin"?(Mp(),ma=i,ga=a,ma.attachEvent("onpropertychange",Fp)):r==="focusout"&&Mp()}function Qw(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Gl(ga)}function Yw(r,i){if(r==="click")return Gl(i)}function Xw(r,i){if(r==="input"||r==="change")return Gl(i)}function Jw(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Mn=typeof Object.is=="function"?Object.is:Jw;function ya(r,i){if(Mn(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var a=Object.keys(r),d=Object.keys(i);if(a.length!==d.length)return!1;for(d=0;d<a.length;d++){var f=a[d];if(!p.call(i,f)||!Mn(r[f],i[f]))return!1}return!0}function Up(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Bp(r,i){var a=Up(r);r=0;for(var d;a;){if(a.nodeType===3){if(d=r+a.textContent.length,r<=i&&d>=i)return{node:a,offset:i-r};r=d}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Up(a)}}function zp(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?zp(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function $p(){for(var r=window,i=qr();i instanceof r.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)r=i.contentWindow;else break;i=qr(r.document)}return i}function od(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function Zw(r){var i=$p(),a=r.focusedElem,d=r.selectionRange;if(i!==a&&a&&a.ownerDocument&&zp(a.ownerDocument.documentElement,a)){if(d!==null&&od(a)){if(i=d.start,r=d.end,r===void 0&&(r=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(r,a.value.length);else if(r=(i=a.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var f=a.textContent.length,y=Math.min(d.start,f);d=d.end===void 0?y:Math.min(d.end,f),!r.extend&&y>d&&(f=d,d=y,y=f),f=Bp(a,y);var w=Bp(a,d);f&&w&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(i=i.createRange(),i.setStart(f.node,f.offset),r.removeAllRanges(),y>d?(r.addRange(i),r.extend(w.node,w.offset)):(i.setEnd(w.node,w.offset),r.addRange(i)))}}for(i=[],r=a;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)r=i[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var ex=h&&"documentMode"in document&&11>=document.documentMode,Ji=null,ad=null,va=null,ld=!1;function qp(r,i,a){var d=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ld||Ji==null||Ji!==qr(d)||(d=Ji,"selectionStart"in d&&od(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),va&&ya(va,d)||(va=d,d=Jl(ad,"onSelect"),0<d.length&&(i=new qi("onSelect","select",null,i,a),r.push({event:i,listeners:d}),i.target=Ji)))}function Ql(r,i){var a={};return a[r.toLowerCase()]=i.toLowerCase(),a["Webkit"+r]="webkit"+i,a["Moz"+r]="moz"+i,a}var Zi={animationend:Ql("Animation","AnimationEnd"),animationiteration:Ql("Animation","AnimationIteration"),animationstart:Ql("Animation","AnimationStart"),transitionend:Ql("Transition","TransitionEnd")},ud={},Wp={};h&&(Wp=document.createElement("div").style,"AnimationEvent"in window||(delete Zi.animationend.animation,delete Zi.animationiteration.animation,delete Zi.animationstart.animation),"TransitionEvent"in window||delete Zi.transitionend.transition);function Yl(r){if(ud[r])return ud[r];if(!Zi[r])return r;var i=Zi[r],a;for(a in i)if(i.hasOwnProperty(a)&&a in Wp)return ud[r]=i[a];return r}var Hp=Yl("animationend"),Kp=Yl("animationiteration"),Gp=Yl("animationstart"),Qp=Yl("transitionend"),Yp=new Map,Xp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ts(r,i){Yp.set(r,i),l(i,[r])}for(var cd=0;cd<Xp.length;cd++){var dd=Xp[cd],tx=dd.toLowerCase(),nx=dd[0].toUpperCase()+dd.slice(1);ts(tx,"on"+nx)}ts(Hp,"onAnimationEnd"),ts(Kp,"onAnimationIteration"),ts(Gp,"onAnimationStart"),ts("dblclick","onDoubleClick"),ts("focusin","onFocus"),ts("focusout","onBlur"),ts(Qp,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _a="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rx=new Set("cancel close invalid load scroll toggle".split(" ").concat(_a));function Jp(r,i,a){var d=r.type||"unknown-event";r.currentTarget=a,Al(d,i,void 0,r),r.currentTarget=null}function Zp(r,i){i=(i&4)!==0;for(var a=0;a<r.length;a++){var d=r[a],f=d.event;d=d.listeners;e:{var y=void 0;if(i)for(var w=d.length-1;0<=w;w--){var I=d[w],k=I.instance,B=I.currentTarget;if(I=I.listener,k!==y&&f.isPropagationStopped())break e;Jp(f,I,B),y=k}else for(w=0;w<d.length;w++){if(I=d[w],k=I.instance,B=I.currentTarget,I=I.listener,k!==y&&f.isPropagationStopped())break e;Jp(f,I,B),y=k}}}if(Cn)throw r=ra,Cn=!1,ra=null,r}function He(r,i){var a=i[_d];a===void 0&&(a=i[_d]=new Set);var d=r+"__bubble";a.has(d)||(em(i,r,2,!1),a.add(d))}function hd(r,i,a){var d=0;i&&(d|=4),em(a,r,d,i)}var Xl="_reactListening"+Math.random().toString(36).slice(2);function wa(r){if(!r[Xl]){r[Xl]=!0,s.forEach(function(a){a!=="selectionchange"&&(rx.has(a)||hd(a,!1,r),hd(a,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Xl]||(i[Xl]=!0,hd("selectionchange",!1,i))}}function em(r,i,a,d){switch(ca(i)){case 1:var f=Qe;break;case 4:f=nd;break;default:f=ua}a=f.bind(null,i,a,r),f=void 0,!ji||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),d?f!==void 0?r.addEventListener(i,a,{capture:!0,passive:f}):r.addEventListener(i,a,!0):f!==void 0?r.addEventListener(i,a,{passive:f}):r.addEventListener(i,a,!1)}function fd(r,i,a,d,f){var y=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var w=d.tag;if(w===3||w===4){var I=d.stateNode.containerInfo;if(I===f||I.nodeType===8&&I.parentNode===f)break;if(w===4)for(w=d.return;w!==null;){var k=w.tag;if((k===3||k===4)&&(k=w.stateNode.containerInfo,k===f||k.nodeType===8&&k.parentNode===f))return;w=w.return}for(;I!==null;){if(w=Xs(I),w===null)return;if(k=w.tag,k===5||k===6){d=y=w;continue e}I=I.parentNode}}d=d.return}na(function(){var B=y,Q=Ci(a),X=[];e:{var G=Yp.get(r);if(G!==void 0){var ne=qi,le=r;switch(r){case"keypress":if($i(a)===0)break e;case"keydown":case"keyup":ne=g;break;case"focusin":le="focus",ne=Gi;break;case"focusout":le="blur",ne=Gi;break;case"beforeblur":case"afterblur":ne=Gi;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Hi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Bl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=z;break;case Hp:case Kp:case Gp:ne=Tr;break;case Qp:ne=Fe;break;case"scroll":ne=rd;break;case"wheel":ne=be;break;case"copy":case"cut":case"paste":ne=ql;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=E}var ce=(i&4)!==0,it=!ce&&r==="scroll",M=ce?G!==null?G+"Capture":null:G;ce=[];for(var P=B,U;P!==null;){U=P;var J=U.stateNode;if(U.tag===5&&J!==null&&(U=J,M!==null&&(J=st(P,M),J!=null&&ce.push(xa(P,J,U)))),it)break;P=P.return}0<ce.length&&(G=new ne(G,le,null,a,Q),X.push({event:G,listeners:ce}))}}if((i&7)===0){e:{if(G=r==="mouseover"||r==="pointerover",ne=r==="mouseout"||r==="pointerout",G&&a!==Ms&&(le=a.relatedTarget||a.fromElement)&&(Xs(le)||le[Ir]))break e;if((ne||G)&&(G=Q.window===Q?Q:(G=Q.ownerDocument)?G.defaultView||G.parentWindow:window,ne?(le=a.relatedTarget||a.toElement,ne=B,le=le?Xs(le):null,le!==null&&(it=Pn(le),le!==it||le.tag!==5&&le.tag!==6)&&(le=null)):(ne=null,le=B),ne!==le)){if(ce=Hi,J="onMouseLeave",M="onMouseEnter",P="mouse",(r==="pointerout"||r==="pointerover")&&(ce=E,J="onPointerLeave",M="onPointerEnter",P="pointer"),it=ne==null?G:no(ne),U=le==null?G:no(le),G=new ce(J,P+"leave",ne,a,Q),G.target=it,G.relatedTarget=U,J=null,Xs(Q)===B&&(ce=new ce(M,P+"enter",le,a,Q),ce.target=U,ce.relatedTarget=it,J=ce),it=J,ne&&le)t:{for(ce=ne,M=le,P=0,U=ce;U;U=eo(U))P++;for(U=0,J=M;J;J=eo(J))U++;for(;0<P-U;)ce=eo(ce),P--;for(;0<U-P;)M=eo(M),U--;for(;P--;){if(ce===M||M!==null&&ce===M.alternate)break t;ce=eo(ce),M=eo(M)}ce=null}else ce=null;ne!==null&&tm(X,G,ne,ce,!1),le!==null&&it!==null&&tm(X,it,le,ce,!0)}}e:{if(G=B?no(B):window,ne=G.nodeName&&G.nodeName.toLowerCase(),ne==="select"||ne==="input"&&G.type==="file")var he=Kw;else if(Dp(G))if(Vp)he=Xw;else{he=Qw;var ge=Gw}else(ne=G.nodeName)&&ne.toLowerCase()==="input"&&(G.type==="checkbox"||G.type==="radio")&&(he=Yw);if(he&&(he=he(r,B))){Op(X,he,a,Q);break e}ge&&ge(r,G,B),r==="focusout"&&(ge=G._wrapperState)&&ge.controlled&&G.type==="number"&&Ri(G,"number",G.value)}switch(ge=B?no(B):window,r){case"focusin":(Dp(ge)||ge.contentEditable==="true")&&(Ji=ge,ad=B,va=null);break;case"focusout":va=ad=Ji=null;break;case"mousedown":ld=!0;break;case"contextmenu":case"mouseup":case"dragend":ld=!1,qp(X,a,Q);break;case"selectionchange":if(ex)break;case"keydown":case"keyup":qp(X,a,Q)}var ye;if(lt)e:{switch(r){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Xi?bp(r,a)&&(ve="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(Ys&&a.locale!=="ko"&&(Xi||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Xi&&(ye=da()):(cn=Q,zi="value"in cn?cn.value:cn.textContent,Xi=!0)),ge=Jl(B,ve),0<ge.length&&(ve=new pa(ve,r,null,a,Q),X.push({event:ve,listeners:ge}),ye?ve.data=ye:(ye=jp(a),ye!==null&&(ve.data=ye)))),(ye=dn?$w(r,a):qw(r,a))&&(B=Jl(B,"onBeforeInput"),0<B.length&&(Q=new pa("onBeforeInput","beforeinput",null,a,Q),X.push({event:Q,listeners:B}),Q.data=ye))}Zp(X,i)})}function xa(r,i,a){return{instance:r,listener:i,currentTarget:a}}function Jl(r,i){for(var a=i+"Capture",d=[];r!==null;){var f=r,y=f.stateNode;f.tag===5&&y!==null&&(f=y,y=st(r,a),y!=null&&d.unshift(xa(r,y,f)),y=st(r,i),y!=null&&d.push(xa(r,y,f))),r=r.return}return d}function eo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function tm(r,i,a,d,f){for(var y=i._reactName,w=[];a!==null&&a!==d;){var I=a,k=I.alternate,B=I.stateNode;if(k!==null&&k===d)break;I.tag===5&&B!==null&&(I=B,f?(k=st(a,y),k!=null&&w.unshift(xa(a,k,I))):f||(k=st(a,y),k!=null&&w.push(xa(a,k,I)))),a=a.return}w.length!==0&&r.push({event:i,listeners:w})}var sx=/\r\n?/g,ix=/\u0000|\uFFFD/g;function nm(r){return(typeof r=="string"?r:""+r).replace(sx,`
`).replace(ix,"")}function Zl(r,i,a){if(i=nm(i),nm(r)!==i&&a)throw Error(t(425))}function eu(){}var pd=null,md=null;function gd(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var yd=typeof setTimeout=="function"?setTimeout:void 0,ox=typeof clearTimeout=="function"?clearTimeout:void 0,rm=typeof Promise=="function"?Promise:void 0,ax=typeof queueMicrotask=="function"?queueMicrotask:typeof rm<"u"?function(r){return rm.resolve(null).then(r).catch(lx)}:yd;function lx(r){setTimeout(function(){throw r})}function vd(r,i){var a=i,d=0;do{var f=a.nextSibling;if(r.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(d===0){r.removeChild(f),Vn(i);return}d--}else a!=="$"&&a!=="$?"&&a!=="$!"||d++;a=f}while(a);Vn(i)}function ns(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function sm(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return r;i--}else a==="/$"&&i++}r=r.previousSibling}return null}var to=Math.random().toString(36).slice(2),tr="__reactFiber$"+to,Ea="__reactProps$"+to,Ir="__reactContainer$"+to,_d="__reactEvents$"+to,ux="__reactListeners$"+to,cx="__reactHandles$"+to;function Xs(r){var i=r[tr];if(i)return i;for(var a=r.parentNode;a;){if(i=a[Ir]||a[tr]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(r=sm(r);r!==null;){if(a=r[tr])return a;r=sm(r)}return i}r=a,a=r.parentNode}return null}function Ta(r){return r=r[tr]||r[Ir],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function no(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function tu(r){return r[Ea]||null}var wd=[],ro=-1;function rs(r){return{current:r}}function Ke(r){0>ro||(r.current=wd[ro],wd[ro]=null,ro--)}function We(r,i){ro++,wd[ro]=r.current,r.current=i}var ss={},Ot=rs(ss),Xt=rs(!1),Js=ss;function so(r,i){var a=r.type.contextTypes;if(!a)return ss;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===i)return d.__reactInternalMemoizedMaskedChildContext;var f={},y;for(y in a)f[y]=i[y];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=f),f}function Jt(r){return r=r.childContextTypes,r!=null}function nu(){Ke(Xt),Ke(Ot)}function im(r,i,a){if(Ot.current!==ss)throw Error(t(168));We(Ot,i),We(Xt,a)}function om(r,i,a){var d=r.stateNode;if(i=i.childContextTypes,typeof d.getChildContext!="function")return a;d=d.getChildContext();for(var f in d)if(!(f in i))throw Error(t(108,Le(r)||"Unknown",f));return re({},a,d)}function ru(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ss,Js=Ot.current,We(Ot,r),We(Xt,Xt.current),!0}function am(r,i,a){var d=r.stateNode;if(!d)throw Error(t(169));a?(r=om(r,i,Js),d.__reactInternalMemoizedMergedChildContext=r,Ke(Xt),Ke(Ot),We(Ot,r)):Ke(Xt),We(Xt,a)}var Sr=null,su=!1,xd=!1;function lm(r){Sr===null?Sr=[r]:Sr.push(r)}function dx(r){su=!0,lm(r)}function is(){if(!xd&&Sr!==null){xd=!0;var r=0,i=ke;try{var a=Sr;for(ke=1;r<a.length;r++){var d=a[r];do d=d(!0);while(d!==null)}Sr=null,su=!1}catch(f){throw Sr!==null&&(Sr=Sr.slice(r+1)),Li($s,is),f}finally{ke=i,xd=!1}}return null}var io=[],oo=0,iu=null,ou=0,xn=[],En=0,Zs=null,Ar=1,Rr="";function ei(r,i){io[oo++]=ou,io[oo++]=iu,iu=r,ou=i}function um(r,i,a){xn[En++]=Ar,xn[En++]=Rr,xn[En++]=Zs,Zs=r;var d=Ar;r=Rr;var f=32-qt(d)-1;d&=~(1<<f),a+=1;var y=32-qt(i)+f;if(30<y){var w=f-f%5;y=(d&(1<<w)-1).toString(32),d>>=w,f-=w,Ar=1<<32-qt(i)+f|a<<f|d,Rr=y+r}else Ar=1<<y|a<<f|d,Rr=r}function Ed(r){r.return!==null&&(ei(r,1),um(r,1,0))}function Td(r){for(;r===iu;)iu=io[--oo],io[oo]=null,ou=io[--oo],io[oo]=null;for(;r===Zs;)Zs=xn[--En],xn[En]=null,Rr=xn[--En],xn[En]=null,Ar=xn[--En],xn[En]=null}var hn=null,fn=null,Ye=!1,Fn=null;function cm(r,i){var a=An(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=r,i=r.deletions,i===null?(r.deletions=[a],r.flags|=16):i.push(a)}function dm(r,i){switch(r.tag){case 5:var a=r.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,hn=r,fn=ns(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,hn=r,fn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=Zs!==null?{id:Ar,overflow:Rr}:null,r.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=An(18,null,null,0),a.stateNode=i,a.return=r,r.child=a,hn=r,fn=null,!0):!1;default:return!1}}function Id(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Sd(r){if(Ye){var i=fn;if(i){var a=i;if(!dm(r,i)){if(Id(r))throw Error(t(418));i=ns(a.nextSibling);var d=hn;i&&dm(r,i)?cm(d,a):(r.flags=r.flags&-4097|2,Ye=!1,hn=r)}}else{if(Id(r))throw Error(t(418));r.flags=r.flags&-4097|2,Ye=!1,hn=r}}}function hm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;hn=r}function au(r){if(r!==hn)return!1;if(!Ye)return hm(r),Ye=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!gd(r.type,r.memoizedProps)),i&&(i=fn)){if(Id(r))throw fm(),Error(t(418));for(;i;)cm(r,i),i=ns(i.nextSibling)}if(hm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(i===0){fn=ns(r.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}r=r.nextSibling}fn=null}}else fn=hn?ns(r.stateNode.nextSibling):null;return!0}function fm(){for(var r=fn;r;)r=ns(r.nextSibling)}function ao(){fn=hn=null,Ye=!1}function Ad(r){Fn===null?Fn=[r]:Fn.push(r)}var hx=ae.ReactCurrentBatchConfig;function Ia(r,i,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var d=a.stateNode}if(!d)throw Error(t(147,r));var f=d,y=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===y?i.ref:(i=function(w){var I=f.refs;w===null?delete I[y]:I[y]=w},i._stringRef=y,i)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function lu(r,i){throw r=Object.prototype.toString.call(i),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function pm(r){var i=r._init;return i(r._payload)}function mm(r){function i(M,P){if(r){var U=M.deletions;U===null?(M.deletions=[P],M.flags|=16):U.push(P)}}function a(M,P){if(!r)return null;for(;P!==null;)i(M,P),P=P.sibling;return null}function d(M,P){for(M=new Map;P!==null;)P.key!==null?M.set(P.key,P):M.set(P.index,P),P=P.sibling;return M}function f(M,P){return M=fs(M,P),M.index=0,M.sibling=null,M}function y(M,P,U){return M.index=U,r?(U=M.alternate,U!==null?(U=U.index,U<P?(M.flags|=2,P):U):(M.flags|=2,P)):(M.flags|=1048576,P)}function w(M){return r&&M.alternate===null&&(M.flags|=2),M}function I(M,P,U,J){return P===null||P.tag!==6?(P=yh(U,M.mode,J),P.return=M,P):(P=f(P,U),P.return=M,P)}function k(M,P,U,J){var he=U.type;return he===b?Q(M,P,U.props.children,J,U.key):P!==null&&(P.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===Dt&&pm(he)===P.type)?(J=f(P,U.props),J.ref=Ia(M,P,U),J.return=M,J):(J=bu(U.type,U.key,U.props,null,M.mode,J),J.ref=Ia(M,P,U),J.return=M,J)}function B(M,P,U,J){return P===null||P.tag!==4||P.stateNode.containerInfo!==U.containerInfo||P.stateNode.implementation!==U.implementation?(P=vh(U,M.mode,J),P.return=M,P):(P=f(P,U.children||[]),P.return=M,P)}function Q(M,P,U,J,he){return P===null||P.tag!==7?(P=li(U,M.mode,J,he),P.return=M,P):(P=f(P,U),P.return=M,P)}function X(M,P,U){if(typeof P=="string"&&P!==""||typeof P=="number")return P=yh(""+P,M.mode,U),P.return=M,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Re:return U=bu(P.type,P.key,P.props,null,M.mode,U),U.ref=Ia(M,null,P),U.return=M,U;case Te:return P=vh(P,M.mode,U),P.return=M,P;case Dt:var J=P._init;return X(M,J(P._payload),U)}if(mr(P)||me(P))return P=li(P,M.mode,U,null),P.return=M,P;lu(M,P)}return null}function G(M,P,U,J){var he=P!==null?P.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return he!==null?null:I(M,P,""+U,J);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Re:return U.key===he?k(M,P,U,J):null;case Te:return U.key===he?B(M,P,U,J):null;case Dt:return he=U._init,G(M,P,he(U._payload),J)}if(mr(U)||me(U))return he!==null?null:Q(M,P,U,J,null);lu(M,U)}return null}function ne(M,P,U,J,he){if(typeof J=="string"&&J!==""||typeof J=="number")return M=M.get(U)||null,I(P,M,""+J,he);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case Re:return M=M.get(J.key===null?U:J.key)||null,k(P,M,J,he);case Te:return M=M.get(J.key===null?U:J.key)||null,B(P,M,J,he);case Dt:var ge=J._init;return ne(M,P,U,ge(J._payload),he)}if(mr(J)||me(J))return M=M.get(U)||null,Q(P,M,J,he,null);lu(P,J)}return null}function le(M,P,U,J){for(var he=null,ge=null,ye=P,ve=P=0,Et=null;ye!==null&&ve<U.length;ve++){ye.index>ve?(Et=ye,ye=null):Et=ye.sibling;var Oe=G(M,ye,U[ve],J);if(Oe===null){ye===null&&(ye=Et);break}r&&ye&&Oe.alternate===null&&i(M,ye),P=y(Oe,P,ve),ge===null?he=Oe:ge.sibling=Oe,ge=Oe,ye=Et}if(ve===U.length)return a(M,ye),Ye&&ei(M,ve),he;if(ye===null){for(;ve<U.length;ve++)ye=X(M,U[ve],J),ye!==null&&(P=y(ye,P,ve),ge===null?he=ye:ge.sibling=ye,ge=ye);return Ye&&ei(M,ve),he}for(ye=d(M,ye);ve<U.length;ve++)Et=ne(ye,M,ve,U[ve],J),Et!==null&&(r&&Et.alternate!==null&&ye.delete(Et.key===null?ve:Et.key),P=y(Et,P,ve),ge===null?he=Et:ge.sibling=Et,ge=Et);return r&&ye.forEach(function(ps){return i(M,ps)}),Ye&&ei(M,ve),he}function ce(M,P,U,J){var he=me(U);if(typeof he!="function")throw Error(t(150));if(U=he.call(U),U==null)throw Error(t(151));for(var ge=he=null,ye=P,ve=P=0,Et=null,Oe=U.next();ye!==null&&!Oe.done;ve++,Oe=U.next()){ye.index>ve?(Et=ye,ye=null):Et=ye.sibling;var ps=G(M,ye,Oe.value,J);if(ps===null){ye===null&&(ye=Et);break}r&&ye&&ps.alternate===null&&i(M,ye),P=y(ps,P,ve),ge===null?he=ps:ge.sibling=ps,ge=ps,ye=Et}if(Oe.done)return a(M,ye),Ye&&ei(M,ve),he;if(ye===null){for(;!Oe.done;ve++,Oe=U.next())Oe=X(M,Oe.value,J),Oe!==null&&(P=y(Oe,P,ve),ge===null?he=Oe:ge.sibling=Oe,ge=Oe);return Ye&&ei(M,ve),he}for(ye=d(M,ye);!Oe.done;ve++,Oe=U.next())Oe=ne(ye,M,ve,Oe.value,J),Oe!==null&&(r&&Oe.alternate!==null&&ye.delete(Oe.key===null?ve:Oe.key),P=y(Oe,P,ve),ge===null?he=Oe:ge.sibling=Oe,ge=Oe);return r&&ye.forEach(function(Wx){return i(M,Wx)}),Ye&&ei(M,ve),he}function it(M,P,U,J){if(typeof U=="object"&&U!==null&&U.type===b&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case Re:e:{for(var he=U.key,ge=P;ge!==null;){if(ge.key===he){if(he=U.type,he===b){if(ge.tag===7){a(M,ge.sibling),P=f(ge,U.props.children),P.return=M,M=P;break e}}else if(ge.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===Dt&&pm(he)===ge.type){a(M,ge.sibling),P=f(ge,U.props),P.ref=Ia(M,ge,U),P.return=M,M=P;break e}a(M,ge);break}else i(M,ge);ge=ge.sibling}U.type===b?(P=li(U.props.children,M.mode,J,U.key),P.return=M,M=P):(J=bu(U.type,U.key,U.props,null,M.mode,J),J.ref=Ia(M,P,U),J.return=M,M=J)}return w(M);case Te:e:{for(ge=U.key;P!==null;){if(P.key===ge)if(P.tag===4&&P.stateNode.containerInfo===U.containerInfo&&P.stateNode.implementation===U.implementation){a(M,P.sibling),P=f(P,U.children||[]),P.return=M,M=P;break e}else{a(M,P);break}else i(M,P);P=P.sibling}P=vh(U,M.mode,J),P.return=M,M=P}return w(M);case Dt:return ge=U._init,it(M,P,ge(U._payload),J)}if(mr(U))return le(M,P,U,J);if(me(U))return ce(M,P,U,J);lu(M,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,P!==null&&P.tag===6?(a(M,P.sibling),P=f(P,U),P.return=M,M=P):(a(M,P),P=yh(U,M.mode,J),P.return=M,M=P),w(M)):a(M,P)}return it}var lo=mm(!0),gm=mm(!1),uu=rs(null),cu=null,uo=null,Rd=null;function Nd(){Rd=uo=cu=null}function kd(r){var i=uu.current;Ke(uu),r._currentValue=i}function Cd(r,i,a){for(;r!==null;){var d=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),r===a)break;r=r.return}}function co(r,i){cu=r,Rd=uo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(Zt=!0),r.firstContext=null)}function Tn(r){var i=r._currentValue;if(Rd!==r)if(r={context:r,memoizedValue:i,next:null},uo===null){if(cu===null)throw Error(t(308));uo=r,cu.dependencies={lanes:0,firstContext:r}}else uo=uo.next=r;return i}var ti=null;function Pd(r){ti===null?ti=[r]:ti.push(r)}function ym(r,i,a,d){var f=i.interleaved;return f===null?(a.next=a,Pd(i)):(a.next=f.next,f.next=a),i.interleaved=a,Nr(r,d)}function Nr(r,i){r.lanes|=i;var a=r.alternate;for(a!==null&&(a.lanes|=i),a=r,r=r.return;r!==null;)r.childLanes|=i,a=r.alternate,a!==null&&(a.childLanes|=i),a=r,r=r.return;return a.tag===3?a.stateNode:null}var os=!1;function bd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vm(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function kr(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function as(r,i,a){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(De&2)!==0){var f=d.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),d.pending=i,Nr(r,a)}return f=d.interleaved,f===null?(i.next=i,Pd(d)):(i.next=f.next,f.next=i),d.interleaved=i,Nr(r,a)}function du(r,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var d=i.lanes;d&=r.pendingLanes,a|=d,i.lanes=a,Yr(r,a)}}function _m(r,i){var a=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,a===d)){var f=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var w={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};y===null?f=y=w:y=y.next=w,a=a.next}while(a!==null);y===null?f=y=i:y=y.next=i}else f=y=i;a={baseState:d.baseState,firstBaseUpdate:f,lastBaseUpdate:y,shared:d.shared,effects:d.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=i:r.next=i,a.lastBaseUpdate=i}function hu(r,i,a,d){var f=r.updateQueue;os=!1;var y=f.firstBaseUpdate,w=f.lastBaseUpdate,I=f.shared.pending;if(I!==null){f.shared.pending=null;var k=I,B=k.next;k.next=null,w===null?y=B:w.next=B,w=k;var Q=r.alternate;Q!==null&&(Q=Q.updateQueue,I=Q.lastBaseUpdate,I!==w&&(I===null?Q.firstBaseUpdate=B:I.next=B,Q.lastBaseUpdate=k))}if(y!==null){var X=f.baseState;w=0,Q=B=k=null,I=y;do{var G=I.lane,ne=I.eventTime;if((d&G)===G){Q!==null&&(Q=Q.next={eventTime:ne,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var le=r,ce=I;switch(G=i,ne=a,ce.tag){case 1:if(le=ce.payload,typeof le=="function"){X=le.call(ne,X,G);break e}X=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ce.payload,G=typeof le=="function"?le.call(ne,X,G):le,G==null)break e;X=re({},X,G);break e;case 2:os=!0}}I.callback!==null&&I.lane!==0&&(r.flags|=64,G=f.effects,G===null?f.effects=[I]:G.push(I))}else ne={eventTime:ne,lane:G,tag:I.tag,payload:I.payload,callback:I.callback,next:null},Q===null?(B=Q=ne,k=X):Q=Q.next=ne,w|=G;if(I=I.next,I===null){if(I=f.shared.pending,I===null)break;G=I,I=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);if(Q===null&&(k=X),f.baseState=k,f.firstBaseUpdate=B,f.lastBaseUpdate=Q,i=f.shared.interleaved,i!==null){f=i;do w|=f.lane,f=f.next;while(f!==i)}else y===null&&(f.shared.lanes=0);si|=w,r.lanes=w,r.memoizedState=X}}function wm(r,i,a){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var d=r[i],f=d.callback;if(f!==null){if(d.callback=null,d=a,typeof f!="function")throw Error(t(191,f));f.call(d)}}}var Sa={},nr=rs(Sa),Aa=rs(Sa),Ra=rs(Sa);function ni(r){if(r===Sa)throw Error(t(174));return r}function jd(r,i){switch(We(Ra,i),We(Aa,r),We(nr,Sa),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:ft(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=ft(i,r)}Ke(nr),We(nr,i)}function ho(){Ke(nr),Ke(Aa),Ke(Ra)}function xm(r){ni(Ra.current);var i=ni(nr.current),a=ft(i,r.type);i!==a&&(We(Aa,r),We(nr,a))}function Dd(r){Aa.current===r&&(Ke(nr),Ke(Aa))}var Xe=rs(0);function fu(r){for(var i=r;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Od=[];function Vd(){for(var r=0;r<Od.length;r++)Od[r]._workInProgressVersionPrimary=null;Od.length=0}var pu=ae.ReactCurrentDispatcher,Ld=ae.ReactCurrentBatchConfig,ri=0,Je=null,mt=null,wt=null,mu=!1,Na=!1,ka=0,fx=0;function Vt(){throw Error(t(321))}function Md(r,i){if(i===null)return!1;for(var a=0;a<i.length&&a<r.length;a++)if(!Mn(r[a],i[a]))return!1;return!0}function Fd(r,i,a,d,f,y){if(ri=y,Je=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,pu.current=r===null||r.memoizedState===null?yx:vx,r=a(d,f),Na){y=0;do{if(Na=!1,ka=0,25<=y)throw Error(t(301));y+=1,wt=mt=null,i.updateQueue=null,pu.current=_x,r=a(d,f)}while(Na)}if(pu.current=vu,i=mt!==null&&mt.next!==null,ri=0,wt=mt=Je=null,mu=!1,i)throw Error(t(300));return r}function Ud(){var r=ka!==0;return ka=0,r}function rr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Je.memoizedState=wt=r:wt=wt.next=r,wt}function In(){if(mt===null){var r=Je.alternate;r=r!==null?r.memoizedState:null}else r=mt.next;var i=wt===null?Je.memoizedState:wt.next;if(i!==null)wt=i,mt=r;else{if(r===null)throw Error(t(310));mt=r,r={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},wt===null?Je.memoizedState=wt=r:wt=wt.next=r}return wt}function Ca(r,i){return typeof i=="function"?i(r):i}function Bd(r){var i=In(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var d=mt,f=d.baseQueue,y=a.pending;if(y!==null){if(f!==null){var w=f.next;f.next=y.next,y.next=w}d.baseQueue=f=y,a.pending=null}if(f!==null){y=f.next,d=d.baseState;var I=w=null,k=null,B=y;do{var Q=B.lane;if((ri&Q)===Q)k!==null&&(k=k.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),d=B.hasEagerState?B.eagerState:r(d,B.action);else{var X={lane:Q,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};k===null?(I=k=X,w=d):k=k.next=X,Je.lanes|=Q,si|=Q}B=B.next}while(B!==null&&B!==y);k===null?w=d:k.next=I,Mn(d,i.memoizedState)||(Zt=!0),i.memoizedState=d,i.baseState=w,i.baseQueue=k,a.lastRenderedState=d}if(r=a.interleaved,r!==null){f=r;do y=f.lane,Je.lanes|=y,si|=y,f=f.next;while(f!==r)}else f===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function zd(r){var i=In(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var d=a.dispatch,f=a.pending,y=i.memoizedState;if(f!==null){a.pending=null;var w=f=f.next;do y=r(y,w.action),w=w.next;while(w!==f);Mn(y,i.memoizedState)||(Zt=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),a.lastRenderedState=y}return[y,d]}function Em(){}function Tm(r,i){var a=Je,d=In(),f=i(),y=!Mn(d.memoizedState,f);if(y&&(d.memoizedState=f,Zt=!0),d=d.queue,$d(Am.bind(null,a,d,r),[r]),d.getSnapshot!==i||y||wt!==null&&wt.memoizedState.tag&1){if(a.flags|=2048,Pa(9,Sm.bind(null,a,d,f,i),void 0,null),xt===null)throw Error(t(349));(ri&30)!==0||Im(a,i,f)}return f}function Im(r,i,a){r.flags|=16384,r={getSnapshot:i,value:a},i=Je.updateQueue,i===null?(i={lastEffect:null,stores:null},Je.updateQueue=i,i.stores=[r]):(a=i.stores,a===null?i.stores=[r]:a.push(r))}function Sm(r,i,a,d){i.value=a,i.getSnapshot=d,Rm(i)&&Nm(r)}function Am(r,i,a){return a(function(){Rm(i)&&Nm(r)})}function Rm(r){var i=r.getSnapshot;r=r.value;try{var a=i();return!Mn(r,a)}catch{return!0}}function Nm(r){var i=Nr(r,1);i!==null&&$n(i,r,1,-1)}function km(r){var i=rr();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:r},i.queue=r,r=r.dispatch=gx.bind(null,Je,r),[i.memoizedState,r]}function Pa(r,i,a,d){return r={tag:r,create:i,destroy:a,deps:d,next:null},i=Je.updateQueue,i===null?(i={lastEffect:null,stores:null},Je.updateQueue=i,i.lastEffect=r.next=r):(a=i.lastEffect,a===null?i.lastEffect=r.next=r:(d=a.next,a.next=r,r.next=d,i.lastEffect=r)),r}function Cm(){return In().memoizedState}function gu(r,i,a,d){var f=rr();Je.flags|=r,f.memoizedState=Pa(1|i,a,void 0,d===void 0?null:d)}function yu(r,i,a,d){var f=In();d=d===void 0?null:d;var y=void 0;if(mt!==null){var w=mt.memoizedState;if(y=w.destroy,d!==null&&Md(d,w.deps)){f.memoizedState=Pa(i,a,y,d);return}}Je.flags|=r,f.memoizedState=Pa(1|i,a,y,d)}function Pm(r,i){return gu(8390656,8,r,i)}function $d(r,i){return yu(2048,8,r,i)}function bm(r,i){return yu(4,2,r,i)}function jm(r,i){return yu(4,4,r,i)}function Dm(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Om(r,i,a){return a=a!=null?a.concat([r]):null,yu(4,4,Dm.bind(null,i,r),a)}function qd(){}function Vm(r,i){var a=In();i=i===void 0?null:i;var d=a.memoizedState;return d!==null&&i!==null&&Md(i,d[1])?d[0]:(a.memoizedState=[r,i],r)}function Lm(r,i){var a=In();i=i===void 0?null:i;var d=a.memoizedState;return d!==null&&i!==null&&Md(i,d[1])?d[0]:(r=r(),a.memoizedState=[r,i],r)}function Mm(r,i,a){return(ri&21)===0?(r.baseState&&(r.baseState=!1,Zt=!0),r.memoizedState=a):(Mn(a,i)||(a=Hs(),Je.lanes|=a,si|=a,r.baseState=!0),i)}function px(r,i){var a=ke;ke=a!==0&&4>a?a:4,r(!0);var d=Ld.transition;Ld.transition={};try{r(!1),i()}finally{ke=a,Ld.transition=d}}function Fm(){return In().memoizedState}function mx(r,i,a){var d=ds(r);if(a={lane:d,action:a,hasEagerState:!1,eagerState:null,next:null},Um(r))Bm(i,a);else if(a=ym(r,i,a,d),a!==null){var f=Kt();$n(a,r,d,f),zm(a,i,d)}}function gx(r,i,a){var d=ds(r),f={lane:d,action:a,hasEagerState:!1,eagerState:null,next:null};if(Um(r))Bm(i,f);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var w=i.lastRenderedState,I=y(w,a);if(f.hasEagerState=!0,f.eagerState=I,Mn(I,w)){var k=i.interleaved;k===null?(f.next=f,Pd(i)):(f.next=k.next,k.next=f),i.interleaved=f;return}}catch{}a=ym(r,i,f,d),a!==null&&(f=Kt(),$n(a,r,d,f),zm(a,i,d))}}function Um(r){var i=r.alternate;return r===Je||i!==null&&i===Je}function Bm(r,i){Na=mu=!0;var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}function zm(r,i,a){if((a&4194240)!==0){var d=i.lanes;d&=r.pendingLanes,a|=d,i.lanes=a,Yr(r,a)}}var vu={readContext:Tn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},yx={readContext:Tn,useCallback:function(r,i){return rr().memoizedState=[r,i===void 0?null:i],r},useContext:Tn,useEffect:Pm,useImperativeHandle:function(r,i,a){return a=a!=null?a.concat([r]):null,gu(4194308,4,Dm.bind(null,i,r),a)},useLayoutEffect:function(r,i){return gu(4194308,4,r,i)},useInsertionEffect:function(r,i){return gu(4,2,r,i)},useMemo:function(r,i){var a=rr();return i=i===void 0?null:i,r=r(),a.memoizedState=[r,i],r},useReducer:function(r,i,a){var d=rr();return i=a!==void 0?a(i):i,d.memoizedState=d.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},d.queue=r,r=r.dispatch=mx.bind(null,Je,r),[d.memoizedState,r]},useRef:function(r){var i=rr();return r={current:r},i.memoizedState=r},useState:km,useDebugValue:qd,useDeferredValue:function(r){return rr().memoizedState=r},useTransition:function(){var r=km(!1),i=r[0];return r=px.bind(null,r[1]),rr().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,a){var d=Je,f=rr();if(Ye){if(a===void 0)throw Error(t(407));a=a()}else{if(a=i(),xt===null)throw Error(t(349));(ri&30)!==0||Im(d,i,a)}f.memoizedState=a;var y={value:a,getSnapshot:i};return f.queue=y,Pm(Am.bind(null,d,y,r),[r]),d.flags|=2048,Pa(9,Sm.bind(null,d,y,a,i),void 0,null),a},useId:function(){var r=rr(),i=xt.identifierPrefix;if(Ye){var a=Rr,d=Ar;a=(d&~(1<<32-qt(d)-1)).toString(32)+a,i=":"+i+"R"+a,a=ka++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=fx++,i=":"+i+"r"+a.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},vx={readContext:Tn,useCallback:Vm,useContext:Tn,useEffect:$d,useImperativeHandle:Om,useInsertionEffect:bm,useLayoutEffect:jm,useMemo:Lm,useReducer:Bd,useRef:Cm,useState:function(){return Bd(Ca)},useDebugValue:qd,useDeferredValue:function(r){var i=In();return Mm(i,mt.memoizedState,r)},useTransition:function(){var r=Bd(Ca)[0],i=In().memoizedState;return[r,i]},useMutableSource:Em,useSyncExternalStore:Tm,useId:Fm,unstable_isNewReconciler:!1},_x={readContext:Tn,useCallback:Vm,useContext:Tn,useEffect:$d,useImperativeHandle:Om,useInsertionEffect:bm,useLayoutEffect:jm,useMemo:Lm,useReducer:zd,useRef:Cm,useState:function(){return zd(Ca)},useDebugValue:qd,useDeferredValue:function(r){var i=In();return mt===null?i.memoizedState=r:Mm(i,mt.memoizedState,r)},useTransition:function(){var r=zd(Ca)[0],i=In().memoizedState;return[r,i]},useMutableSource:Em,useSyncExternalStore:Tm,useId:Fm,unstable_isNewReconciler:!1};function Un(r,i){if(r&&r.defaultProps){i=re({},i),r=r.defaultProps;for(var a in r)i[a]===void 0&&(i[a]=r[a]);return i}return i}function Wd(r,i,a,d){i=r.memoizedState,a=a(d,i),a=a==null?i:re({},i,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var _u={isMounted:function(r){return(r=r._reactInternals)?Pn(r)===r:!1},enqueueSetState:function(r,i,a){r=r._reactInternals;var d=Kt(),f=ds(r),y=kr(d,f);y.payload=i,a!=null&&(y.callback=a),i=as(r,y,f),i!==null&&($n(i,r,f,d),du(i,r,f))},enqueueReplaceState:function(r,i,a){r=r._reactInternals;var d=Kt(),f=ds(r),y=kr(d,f);y.tag=1,y.payload=i,a!=null&&(y.callback=a),i=as(r,y,f),i!==null&&($n(i,r,f,d),du(i,r,f))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var a=Kt(),d=ds(r),f=kr(a,d);f.tag=2,i!=null&&(f.callback=i),i=as(r,f,d),i!==null&&($n(i,r,d,a),du(i,r,d))}};function $m(r,i,a,d,f,y,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,y,w):i.prototype&&i.prototype.isPureReactComponent?!ya(a,d)||!ya(f,y):!0}function qm(r,i,a){var d=!1,f=ss,y=i.contextType;return typeof y=="object"&&y!==null?y=Tn(y):(f=Jt(i)?Js:Ot.current,d=i.contextTypes,y=(d=d!=null)?so(r,f):ss),i=new i(a,y),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=_u,r.stateNode=i,i._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=y),i}function Wm(r,i,a,d){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,d),i.state!==r&&_u.enqueueReplaceState(i,i.state,null)}function Hd(r,i,a,d){var f=r.stateNode;f.props=a,f.state=r.memoizedState,f.refs={},bd(r);var y=i.contextType;typeof y=="object"&&y!==null?f.context=Tn(y):(y=Jt(i)?Js:Ot.current,f.context=so(r,y)),f.state=r.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&(Wd(r,i,y,a),f.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(i=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),i!==f.state&&_u.enqueueReplaceState(f,f.state,null),hu(r,a,f,d),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function fo(r,i){try{var a="",d=i;do a+=Se(d),d=d.return;while(d);var f=a}catch(y){f=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:i,stack:f,digest:null}}function Kd(r,i,a){return{value:r,source:null,stack:a??null,digest:i??null}}function Gd(r,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var wx=typeof WeakMap=="function"?WeakMap:Map;function Hm(r,i,a){a=kr(-1,a),a.tag=3,a.payload={element:null};var d=i.value;return a.callback=function(){Au||(Au=!0,uh=d),Gd(r,i)},a}function Km(r,i,a){a=kr(-1,a),a.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var f=i.value;a.payload=function(){return d(f)},a.callback=function(){Gd(r,i)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(a.callback=function(){Gd(r,i),typeof d!="function"&&(us===null?us=new Set([this]):us.add(this));var w=i.stack;this.componentDidCatch(i.value,{componentStack:w!==null?w:""})}),a}function Gm(r,i,a){var d=r.pingCache;if(d===null){d=r.pingCache=new wx;var f=new Set;d.set(i,f)}else f=d.get(i),f===void 0&&(f=new Set,d.set(i,f));f.has(a)||(f.add(a),r=Dx.bind(null,r,i,a),i.then(r,r))}function Qm(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function Ym(r,i,a,d,f){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=kr(-1,1),i.tag=2,as(a,i,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=f,r)}var xx=ae.ReactCurrentOwner,Zt=!1;function Ht(r,i,a,d){i.child=r===null?gm(i,null,a,d):lo(i,r.child,a,d)}function Xm(r,i,a,d,f){a=a.render;var y=i.ref;return co(i,f),d=Fd(r,i,a,d,y,f),a=Ud(),r!==null&&!Zt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~f,Cr(r,i,f)):(Ye&&a&&Ed(i),i.flags|=1,Ht(r,i,d,f),i.child)}function Jm(r,i,a,d,f){if(r===null){var y=a.type;return typeof y=="function"&&!gh(y)&&y.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=y,Zm(r,i,y,d,f)):(r=bu(a.type,null,d,i,i.mode,f),r.ref=i.ref,r.return=i,i.child=r)}if(y=r.child,(r.lanes&f)===0){var w=y.memoizedProps;if(a=a.compare,a=a!==null?a:ya,a(w,d)&&r.ref===i.ref)return Cr(r,i,f)}return i.flags|=1,r=fs(y,d),r.ref=i.ref,r.return=i,i.child=r}function Zm(r,i,a,d,f){if(r!==null){var y=r.memoizedProps;if(ya(y,d)&&r.ref===i.ref)if(Zt=!1,i.pendingProps=d=y,(r.lanes&f)!==0)(r.flags&131072)!==0&&(Zt=!0);else return i.lanes=r.lanes,Cr(r,i,f)}return Qd(r,i,a,d,f)}function eg(r,i,a){var d=i.pendingProps,f=d.children,y=r!==null?r.memoizedState:null;if(d.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(mo,pn),pn|=a;else{if((a&1073741824)===0)return r=y!==null?y.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,We(mo,pn),pn|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:a,We(mo,pn),pn|=d}else y!==null?(d=y.baseLanes|a,i.memoizedState=null):d=a,We(mo,pn),pn|=d;return Ht(r,i,f,a),i.child}function tg(r,i){var a=i.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function Qd(r,i,a,d,f){var y=Jt(a)?Js:Ot.current;return y=so(i,y),co(i,f),a=Fd(r,i,a,d,y,f),d=Ud(),r!==null&&!Zt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~f,Cr(r,i,f)):(Ye&&d&&Ed(i),i.flags|=1,Ht(r,i,a,f),i.child)}function ng(r,i,a,d,f){if(Jt(a)){var y=!0;ru(i)}else y=!1;if(co(i,f),i.stateNode===null)xu(r,i),qm(i,a,d),Hd(i,a,d,f),d=!0;else if(r===null){var w=i.stateNode,I=i.memoizedProps;w.props=I;var k=w.context,B=a.contextType;typeof B=="object"&&B!==null?B=Tn(B):(B=Jt(a)?Js:Ot.current,B=so(i,B));var Q=a.getDerivedStateFromProps,X=typeof Q=="function"||typeof w.getSnapshotBeforeUpdate=="function";X||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(I!==d||k!==B)&&Wm(i,w,d,B),os=!1;var G=i.memoizedState;w.state=G,hu(i,d,w,f),k=i.memoizedState,I!==d||G!==k||Xt.current||os?(typeof Q=="function"&&(Wd(i,a,Q,d),k=i.memoizedState),(I=os||$m(i,a,I,d,G,k,B))?(X||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(i.flags|=4194308)):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=k),w.props=d,w.state=k,w.context=B,d=I):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{w=i.stateNode,vm(r,i),I=i.memoizedProps,B=i.type===i.elementType?I:Un(i.type,I),w.props=B,X=i.pendingProps,G=w.context,k=a.contextType,typeof k=="object"&&k!==null?k=Tn(k):(k=Jt(a)?Js:Ot.current,k=so(i,k));var ne=a.getDerivedStateFromProps;(Q=typeof ne=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(I!==X||G!==k)&&Wm(i,w,d,k),os=!1,G=i.memoizedState,w.state=G,hu(i,d,w,f);var le=i.memoizedState;I!==X||G!==le||Xt.current||os?(typeof ne=="function"&&(Wd(i,a,ne,d),le=i.memoizedState),(B=os||$m(i,a,B,d,G,le,k)||!1)?(Q||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(d,le,k),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(d,le,k)),typeof w.componentDidUpdate=="function"&&(i.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof w.componentDidUpdate!="function"||I===r.memoizedProps&&G===r.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||I===r.memoizedProps&&G===r.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=le),w.props=d,w.state=le,w.context=k,d=B):(typeof w.componentDidUpdate!="function"||I===r.memoizedProps&&G===r.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||I===r.memoizedProps&&G===r.memoizedState||(i.flags|=1024),d=!1)}return Yd(r,i,a,d,y,f)}function Yd(r,i,a,d,f,y){tg(r,i);var w=(i.flags&128)!==0;if(!d&&!w)return f&&am(i,a,!1),Cr(r,i,y);d=i.stateNode,xx.current=i;var I=w&&typeof a.getDerivedStateFromError!="function"?null:d.render();return i.flags|=1,r!==null&&w?(i.child=lo(i,r.child,null,y),i.child=lo(i,null,I,y)):Ht(r,i,I,y),i.memoizedState=d.state,f&&am(i,a,!0),i.child}function rg(r){var i=r.stateNode;i.pendingContext?im(r,i.pendingContext,i.pendingContext!==i.context):i.context&&im(r,i.context,!1),jd(r,i.containerInfo)}function sg(r,i,a,d,f){return ao(),Ad(f),i.flags|=256,Ht(r,i,a,d),i.child}var Xd={dehydrated:null,treeContext:null,retryLane:0};function Jd(r){return{baseLanes:r,cachePool:null,transitions:null}}function ig(r,i,a){var d=i.pendingProps,f=Xe.current,y=!1,w=(i.flags&128)!==0,I;if((I=w)||(I=r!==null&&r.memoizedState===null?!1:(f&2)!==0),I?(y=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),We(Xe,f&1),r===null)return Sd(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(w=d.children,r=d.fallback,y?(d=i.mode,y=i.child,w={mode:"hidden",children:w},(d&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=w):y=ju(w,d,0,null),r=li(r,d,a,null),y.return=i,r.return=i,y.sibling=r,i.child=y,i.child.memoizedState=Jd(a),i.memoizedState=Xd,r):Zd(i,w));if(f=r.memoizedState,f!==null&&(I=f.dehydrated,I!==null))return Ex(r,i,w,d,I,f,a);if(y){y=d.fallback,w=i.mode,f=r.child,I=f.sibling;var k={mode:"hidden",children:d.children};return(w&1)===0&&i.child!==f?(d=i.child,d.childLanes=0,d.pendingProps=k,i.deletions=null):(d=fs(f,k),d.subtreeFlags=f.subtreeFlags&14680064),I!==null?y=fs(I,y):(y=li(y,w,a,null),y.flags|=2),y.return=i,d.return=i,d.sibling=y,i.child=d,d=y,y=i.child,w=r.child.memoizedState,w=w===null?Jd(a):{baseLanes:w.baseLanes|a,cachePool:null,transitions:w.transitions},y.memoizedState=w,y.childLanes=r.childLanes&~a,i.memoizedState=Xd,d}return y=r.child,r=y.sibling,d=fs(y,{mode:"visible",children:d.children}),(i.mode&1)===0&&(d.lanes=a),d.return=i,d.sibling=null,r!==null&&(a=i.deletions,a===null?(i.deletions=[r],i.flags|=16):a.push(r)),i.child=d,i.memoizedState=null,d}function Zd(r,i){return i=ju({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function wu(r,i,a,d){return d!==null&&Ad(d),lo(i,r.child,null,a),r=Zd(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function Ex(r,i,a,d,f,y,w){if(a)return i.flags&256?(i.flags&=-257,d=Kd(Error(t(422))),wu(r,i,w,d)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(y=d.fallback,f=i.mode,d=ju({mode:"visible",children:d.children},f,0,null),y=li(y,f,w,null),y.flags|=2,d.return=i,y.return=i,d.sibling=y,i.child=d,(i.mode&1)!==0&&lo(i,r.child,null,w),i.child.memoizedState=Jd(w),i.memoizedState=Xd,y);if((i.mode&1)===0)return wu(r,i,w,null);if(f.data==="$!"){if(d=f.nextSibling&&f.nextSibling.dataset,d)var I=d.dgst;return d=I,y=Error(t(419)),d=Kd(y,d,void 0),wu(r,i,w,d)}if(I=(w&r.childLanes)!==0,Zt||I){if(d=xt,d!==null){switch(w&-w){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(d.suspendedLanes|w))!==0?0:f,f!==0&&f!==y.retryLane&&(y.retryLane=f,Nr(r,f),$n(d,r,f,-1))}return mh(),d=Kd(Error(t(421))),wu(r,i,w,d)}return f.data==="$?"?(i.flags|=128,i.child=r.child,i=Ox.bind(null,r),f._reactRetry=i,null):(r=y.treeContext,fn=ns(f.nextSibling),hn=i,Ye=!0,Fn=null,r!==null&&(xn[En++]=Ar,xn[En++]=Rr,xn[En++]=Zs,Ar=r.id,Rr=r.overflow,Zs=i),i=Zd(i,d.children),i.flags|=4096,i)}function og(r,i,a){r.lanes|=i;var d=r.alternate;d!==null&&(d.lanes|=i),Cd(r.return,i,a)}function eh(r,i,a,d,f){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:a,tailMode:f}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=a,y.tailMode=f)}function ag(r,i,a){var d=i.pendingProps,f=d.revealOrder,y=d.tail;if(Ht(r,i,d.children,a),d=Xe.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&og(r,a,i);else if(r.tag===19)og(r,a,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(We(Xe,d),(i.mode&1)===0)i.memoizedState=null;else switch(f){case"forwards":for(a=i.child,f=null;a!==null;)r=a.alternate,r!==null&&fu(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),eh(i,!1,f,a,y);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(r=f.alternate,r!==null&&fu(r)===null){i.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}eh(i,!0,a,null,y);break;case"together":eh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function xu(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function Cr(r,i,a){if(r!==null&&(i.dependencies=r.dependencies),si|=i.lanes,(a&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(t(153));if(i.child!==null){for(r=i.child,a=fs(r,r.pendingProps),i.child=a,a.return=i;r.sibling!==null;)r=r.sibling,a=a.sibling=fs(r,r.pendingProps),a.return=i;a.sibling=null}return i.child}function Tx(r,i,a){switch(i.tag){case 3:rg(i),ao();break;case 5:xm(i);break;case 1:Jt(i.type)&&ru(i);break;case 4:jd(i,i.stateNode.containerInfo);break;case 10:var d=i.type._context,f=i.memoizedProps.value;We(uu,d._currentValue),d._currentValue=f;break;case 13:if(d=i.memoizedState,d!==null)return d.dehydrated!==null?(We(Xe,Xe.current&1),i.flags|=128,null):(a&i.child.childLanes)!==0?ig(r,i,a):(We(Xe,Xe.current&1),r=Cr(r,i,a),r!==null?r.sibling:null);We(Xe,Xe.current&1);break;case 19:if(d=(a&i.childLanes)!==0,(r.flags&128)!==0){if(d)return ag(r,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),We(Xe,Xe.current),d)break;return null;case 22:case 23:return i.lanes=0,eg(r,i,a)}return Cr(r,i,a)}var lg,th,ug,cg;lg=function(r,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},th=function(){},ug=function(r,i,a,d){var f=r.memoizedProps;if(f!==d){r=i.stateNode,ni(nr.current);var y=null;switch(a){case"input":f=Os(r,f),d=Os(r,d),y=[];break;case"select":f=re({},f,{value:void 0}),d=re({},d,{value:void 0}),y=[];break;case"textarea":f=Ho(r,f),d=Ho(r,d),y=[];break;default:typeof f.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=eu)}Jo(a,d);var w;a=null;for(B in f)if(!d.hasOwnProperty(B)&&f.hasOwnProperty(B)&&f[B]!=null)if(B==="style"){var I=f[B];for(w in I)I.hasOwnProperty(w)&&(a||(a={}),a[w]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(o.hasOwnProperty(B)?y||(y=[]):(y=y||[]).push(B,null));for(B in d){var k=d[B];if(I=f?.[B],d.hasOwnProperty(B)&&k!==I&&(k!=null||I!=null))if(B==="style")if(I){for(w in I)!I.hasOwnProperty(w)||k&&k.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in k)k.hasOwnProperty(w)&&I[w]!==k[w]&&(a||(a={}),a[w]=k[w])}else a||(y||(y=[]),y.push(B,a)),a=k;else B==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,I=I?I.__html:void 0,k!=null&&I!==k&&(y=y||[]).push(B,k)):B==="children"?typeof k!="string"&&typeof k!="number"||(y=y||[]).push(B,""+k):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(o.hasOwnProperty(B)?(k!=null&&B==="onScroll"&&He("scroll",r),y||I===k||(y=[])):(y=y||[]).push(B,k))}a&&(y=y||[]).push("style",a);var B=y;(i.updateQueue=B)&&(i.flags|=4)}},cg=function(r,i,a,d){a!==d&&(i.flags|=4)};function ba(r,i){if(!Ye)switch(r.tailMode){case"hidden":i=r.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Lt(r){var i=r.alternate!==null&&r.alternate.child===r.child,a=0,d=0;if(i)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,d|=f.subtreeFlags&14680064,d|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,d|=f.subtreeFlags,d|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=d,r.childLanes=a,i}function Ix(r,i,a){var d=i.pendingProps;switch(Td(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(i),null;case 1:return Jt(i.type)&&nu(),Lt(i),null;case 3:return d=i.stateNode,ho(),Ke(Xt),Ke(Ot),Vd(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(au(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Fn!==null&&(hh(Fn),Fn=null))),th(r,i),Lt(i),null;case 5:Dd(i);var f=ni(Ra.current);if(a=i.type,r!==null&&i.stateNode!=null)ug(r,i,a,d,f),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!d){if(i.stateNode===null)throw Error(t(166));return Lt(i),null}if(r=ni(nr.current),au(i)){d=i.stateNode,a=i.type;var y=i.memoizedProps;switch(d[tr]=i,d[Ea]=y,r=(i.mode&1)!==0,a){case"dialog":He("cancel",d),He("close",d);break;case"iframe":case"object":case"embed":He("load",d);break;case"video":case"audio":for(f=0;f<_a.length;f++)He(_a[f],d);break;case"source":He("error",d);break;case"img":case"image":case"link":He("error",d),He("load",d);break;case"details":He("toggle",d);break;case"input":Ai(d,y),He("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},He("invalid",d);break;case"textarea":Ni(d,y),He("invalid",d)}Jo(a,y),f=null;for(var w in y)if(y.hasOwnProperty(w)){var I=y[w];w==="children"?typeof I=="string"?d.textContent!==I&&(y.suppressHydrationWarning!==!0&&Zl(d.textContent,I,r),f=["children",I]):typeof I=="number"&&d.textContent!==""+I&&(y.suppressHydrationWarning!==!0&&Zl(d.textContent,I,r),f=["children",""+I]):o.hasOwnProperty(w)&&I!=null&&w==="onScroll"&&He("scroll",d)}switch(a){case"input":pr(d),Sl(d,y,!0);break;case"textarea":pr(d),Ko(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=eu)}d=f,i.updateQueue=d,d!==null&&(i.flags|=4)}else{w=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=ht(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=w.createElement(a,{is:d.is}):(r=w.createElement(a),a==="select"&&(w=r,d.multiple?w.multiple=!0:d.size&&(w.size=d.size))):r=w.createElementNS(r,a),r[tr]=i,r[Ea]=d,lg(r,i,!1,!1),i.stateNode=r;e:{switch(w=Zo(a,d),a){case"dialog":He("cancel",r),He("close",r),f=d;break;case"iframe":case"object":case"embed":He("load",r),f=d;break;case"video":case"audio":for(f=0;f<_a.length;f++)He(_a[f],r);f=d;break;case"source":He("error",r),f=d;break;case"img":case"image":case"link":He("error",r),He("load",r),f=d;break;case"details":He("toggle",r),f=d;break;case"input":Ai(r,d),f=Os(r,d),He("invalid",r);break;case"option":f=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},f=re({},d,{value:void 0}),He("invalid",r);break;case"textarea":Ni(r,d),f=Ho(r,d),He("invalid",r);break;default:f=d}Jo(a,f),I=f;for(y in I)if(I.hasOwnProperty(y)){var k=I[y];y==="style"?Yo(r,k):y==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&Go(r,k)):y==="children"?typeof k=="string"?(a!=="textarea"||k!=="")&&Wr(r,k):typeof k=="number"&&Wr(r,""+k):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?k!=null&&y==="onScroll"&&He("scroll",r):k!=null&&ee(r,y,k,w))}switch(a){case"input":pr(r),Sl(r,d,!1);break;case"textarea":pr(r),Ko(r);break;case"option":d.value!=null&&r.setAttribute("value",""+Me(d.value));break;case"select":r.multiple=!!d.multiple,y=d.value,y!=null?gr(r,!!d.multiple,y,!1):d.defaultValue!=null&&gr(r,!!d.multiple,d.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=eu)}switch(a){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Lt(i),null;case 6:if(r&&i.stateNode!=null)cg(r,i,r.memoizedProps,d);else{if(typeof d!="string"&&i.stateNode===null)throw Error(t(166));if(a=ni(Ra.current),ni(nr.current),au(i)){if(d=i.stateNode,a=i.memoizedProps,d[tr]=i,(y=d.nodeValue!==a)&&(r=hn,r!==null))switch(r.tag){case 3:Zl(d.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Zl(d.nodeValue,a,(r.mode&1)!==0)}y&&(i.flags|=4)}else d=(a.nodeType===9?a:a.ownerDocument).createTextNode(d),d[tr]=i,i.stateNode=d}return Lt(i),null;case 13:if(Ke(Xe),d=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ye&&fn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)fm(),ao(),i.flags|=98560,y=!1;else if(y=au(i),d!==null&&d.dehydrated!==null){if(r===null){if(!y)throw Error(t(318));if(y=i.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[tr]=i}else ao(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Lt(i),y=!1}else Fn!==null&&(hh(Fn),Fn=null),y=!0;if(!y)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=a,i):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(Xe.current&1)!==0?gt===0&&(gt=3):mh())),i.updateQueue!==null&&(i.flags|=4),Lt(i),null);case 4:return ho(),th(r,i),r===null&&wa(i.stateNode.containerInfo),Lt(i),null;case 10:return kd(i.type._context),Lt(i),null;case 17:return Jt(i.type)&&nu(),Lt(i),null;case 19:if(Ke(Xe),y=i.memoizedState,y===null)return Lt(i),null;if(d=(i.flags&128)!==0,w=y.rendering,w===null)if(d)ba(y,!1);else{if(gt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(w=fu(r),w!==null){for(i.flags|=128,ba(y,!1),d=w.updateQueue,d!==null&&(i.updateQueue=d,i.flags|=4),i.subtreeFlags=0,d=a,a=i.child;a!==null;)y=a,r=d,y.flags&=14680066,w=y.alternate,w===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=w.childLanes,y.lanes=w.lanes,y.child=w.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=w.memoizedProps,y.memoizedState=w.memoizedState,y.updateQueue=w.updateQueue,y.type=w.type,r=w.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return We(Xe,Xe.current&1|2),i.child}r=r.sibling}y.tail!==null&&qe()>go&&(i.flags|=128,d=!0,ba(y,!1),i.lanes=4194304)}else{if(!d)if(r=fu(w),r!==null){if(i.flags|=128,d=!0,a=r.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),ba(y,!0),y.tail===null&&y.tailMode==="hidden"&&!w.alternate&&!Ye)return Lt(i),null}else 2*qe()-y.renderingStartTime>go&&a!==1073741824&&(i.flags|=128,d=!0,ba(y,!1),i.lanes=4194304);y.isBackwards?(w.sibling=i.child,i.child=w):(a=y.last,a!==null?a.sibling=w:i.child=w,y.last=w)}return y.tail!==null?(i=y.tail,y.rendering=i,y.tail=i.sibling,y.renderingStartTime=qe(),i.sibling=null,a=Xe.current,We(Xe,d?a&1|2:a&1),i):(Lt(i),null);case 22:case 23:return ph(),d=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(i.flags|=8192),d&&(i.mode&1)!==0?(pn&1073741824)!==0&&(Lt(i),i.subtreeFlags&6&&(i.flags|=8192)):Lt(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function Sx(r,i){switch(Td(i),i.tag){case 1:return Jt(i.type)&&nu(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return ho(),Ke(Xt),Ke(Ot),Vd(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return Dd(i),null;case 13:if(Ke(Xe),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(t(340));ao()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return Ke(Xe),null;case 4:return ho(),null;case 10:return kd(i.type._context),null;case 22:case 23:return ph(),null;case 24:return null;default:return null}}var Eu=!1,Mt=!1,Ax=typeof WeakSet=="function"?WeakSet:Set,oe=null;function po(r,i){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(d){tt(r,i,d)}else a.current=null}function nh(r,i,a){try{a()}catch(d){tt(r,i,d)}}var dg=!1;function Rx(r,i){if(pd=Zr,r=$p(),od(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var d=a.getSelection&&a.getSelection();if(d&&d.rangeCount!==0){a=d.anchorNode;var f=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var w=0,I=-1,k=-1,B=0,Q=0,X=r,G=null;t:for(;;){for(var ne;X!==a||f!==0&&X.nodeType!==3||(I=w+f),X!==y||d!==0&&X.nodeType!==3||(k=w+d),X.nodeType===3&&(w+=X.nodeValue.length),(ne=X.firstChild)!==null;)G=X,X=ne;for(;;){if(X===r)break t;if(G===a&&++B===f&&(I=w),G===y&&++Q===d&&(k=w),(ne=X.nextSibling)!==null)break;X=G,G=X.parentNode}X=ne}a=I===-1||k===-1?null:{start:I,end:k}}else a=null}a=a||{start:0,end:0}}else a=null;for(md={focusedElem:r,selectionRange:a},Zr=!1,oe=i;oe!==null;)if(i=oe,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,oe=r;else for(;oe!==null;){i=oe;try{var le=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(le!==null){var ce=le.memoizedProps,it=le.memoizedState,M=i.stateNode,P=M.getSnapshotBeforeUpdate(i.elementType===i.type?ce:Un(i.type,ce),it);M.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var U=i.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(J){tt(i,i.return,J)}if(r=i.sibling,r!==null){r.return=i.return,oe=r;break}oe=i.return}return le=dg,dg=!1,le}function ja(r,i,a){var d=i.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var f=d=d.next;do{if((f.tag&r)===r){var y=f.destroy;f.destroy=void 0,y!==void 0&&nh(i,a,y)}f=f.next}while(f!==d)}}function Tu(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&r)===r){var d=a.create;a.destroy=d()}a=a.next}while(a!==i)}}function rh(r){var i=r.ref;if(i!==null){var a=r.stateNode;r.tag,r=a,typeof i=="function"?i(r):i.current=r}}function hg(r){var i=r.alternate;i!==null&&(r.alternate=null,hg(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[tr],delete i[Ea],delete i[_d],delete i[ux],delete i[cx])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function fg(r){return r.tag===5||r.tag===3||r.tag===4}function pg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||fg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function sh(r,i,a){var d=r.tag;if(d===5||d===6)r=r.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(r,i):a.insertBefore(r,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(r,a)):(i=a,i.appendChild(r)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=eu));else if(d!==4&&(r=r.child,r!==null))for(sh(r,i,a),r=r.sibling;r!==null;)sh(r,i,a),r=r.sibling}function ih(r,i,a){var d=r.tag;if(d===5||d===6)r=r.stateNode,i?a.insertBefore(r,i):a.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(ih(r,i,a),r=r.sibling;r!==null;)ih(r,i,a),r=r.sibling}var Rt=null,Bn=!1;function ls(r,i,a){for(a=a.child;a!==null;)mg(r,i,a),a=a.sibling}function mg(r,i,a){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(qs,a)}catch{}switch(a.tag){case 5:Mt||po(a,i);case 6:var d=Rt,f=Bn;Rt=null,ls(r,i,a),Rt=d,Bn=f,Rt!==null&&(Bn?(r=Rt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Rt.removeChild(a.stateNode));break;case 18:Rt!==null&&(Bn?(r=Rt,a=a.stateNode,r.nodeType===8?vd(r.parentNode,a):r.nodeType===1&&vd(r,a),Vn(r)):vd(Rt,a.stateNode));break;case 4:d=Rt,f=Bn,Rt=a.stateNode.containerInfo,Bn=!0,ls(r,i,a),Rt=d,Bn=f;break;case 0:case 11:case 14:case 15:if(!Mt&&(d=a.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){f=d=d.next;do{var y=f,w=y.destroy;y=y.tag,w!==void 0&&((y&2)!==0||(y&4)!==0)&&nh(a,i,w),f=f.next}while(f!==d)}ls(r,i,a);break;case 1:if(!Mt&&(po(a,i),d=a.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=a.memoizedProps,d.state=a.memoizedState,d.componentWillUnmount()}catch(I){tt(a,i,I)}ls(r,i,a);break;case 21:ls(r,i,a);break;case 22:a.mode&1?(Mt=(d=Mt)||a.memoizedState!==null,ls(r,i,a),Mt=d):ls(r,i,a);break;default:ls(r,i,a)}}function gg(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new Ax),i.forEach(function(d){var f=Vx.bind(null,r,d);a.has(d)||(a.add(d),d.then(f,f))})}}function zn(r,i){var a=i.deletions;if(a!==null)for(var d=0;d<a.length;d++){var f=a[d];try{var y=r,w=i,I=w;e:for(;I!==null;){switch(I.tag){case 5:Rt=I.stateNode,Bn=!1;break e;case 3:Rt=I.stateNode.containerInfo,Bn=!0;break e;case 4:Rt=I.stateNode.containerInfo,Bn=!0;break e}I=I.return}if(Rt===null)throw Error(t(160));mg(y,w,f),Rt=null,Bn=!1;var k=f.alternate;k!==null&&(k.return=null),f.return=null}catch(B){tt(f,i,B)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)yg(i,r),i=i.sibling}function yg(r,i){var a=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(zn(i,r),sr(r),d&4){try{ja(3,r,r.return),Tu(3,r)}catch(ce){tt(r,r.return,ce)}try{ja(5,r,r.return)}catch(ce){tt(r,r.return,ce)}}break;case 1:zn(i,r),sr(r),d&512&&a!==null&&po(a,a.return);break;case 5:if(zn(i,r),sr(r),d&512&&a!==null&&po(a,a.return),r.flags&32){var f=r.stateNode;try{Wr(f,"")}catch(ce){tt(r,r.return,ce)}}if(d&4&&(f=r.stateNode,f!=null)){var y=r.memoizedProps,w=a!==null?a.memoizedProps:y,I=r.type,k=r.updateQueue;if(r.updateQueue=null,k!==null)try{I==="input"&&y.type==="radio"&&y.name!=null&&qo(f,y),Zo(I,w);var B=Zo(I,y);for(w=0;w<k.length;w+=2){var Q=k[w],X=k[w+1];Q==="style"?Yo(f,X):Q==="dangerouslySetInnerHTML"?Go(f,X):Q==="children"?Wr(f,X):ee(f,Q,X,B)}switch(I){case"input":Wo(f,y);break;case"textarea":ki(f,y);break;case"select":var G=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!y.multiple;var ne=y.value;ne!=null?gr(f,!!y.multiple,ne,!1):G!==!!y.multiple&&(y.defaultValue!=null?gr(f,!!y.multiple,y.defaultValue,!0):gr(f,!!y.multiple,y.multiple?[]:"",!1))}f[Ea]=y}catch(ce){tt(r,r.return,ce)}}break;case 6:if(zn(i,r),sr(r),d&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,y=r.memoizedProps;try{f.nodeValue=y}catch(ce){tt(r,r.return,ce)}}break;case 3:if(zn(i,r),sr(r),d&4&&a!==null&&a.memoizedState.isDehydrated)try{Vn(i.containerInfo)}catch(ce){tt(r,r.return,ce)}break;case 4:zn(i,r),sr(r);break;case 13:zn(i,r),sr(r),f=r.child,f.flags&8192&&(y=f.memoizedState!==null,f.stateNode.isHidden=y,!y||f.alternate!==null&&f.alternate.memoizedState!==null||(lh=qe())),d&4&&gg(r);break;case 22:if(Q=a!==null&&a.memoizedState!==null,r.mode&1?(Mt=(B=Mt)||Q,zn(i,r),Mt=B):zn(i,r),sr(r),d&8192){if(B=r.memoizedState!==null,(r.stateNode.isHidden=B)&&!Q&&(r.mode&1)!==0)for(oe=r,Q=r.child;Q!==null;){for(X=oe=Q;oe!==null;){switch(G=oe,ne=G.child,G.tag){case 0:case 11:case 14:case 15:ja(4,G,G.return);break;case 1:po(G,G.return);var le=G.stateNode;if(typeof le.componentWillUnmount=="function"){d=G,a=G.return;try{i=d,le.props=i.memoizedProps,le.state=i.memoizedState,le.componentWillUnmount()}catch(ce){tt(d,a,ce)}}break;case 5:po(G,G.return);break;case 22:if(G.memoizedState!==null){wg(X);continue}}ne!==null?(ne.return=G,oe=ne):wg(X)}Q=Q.sibling}e:for(Q=null,X=r;;){if(X.tag===5){if(Q===null){Q=X;try{f=X.stateNode,B?(y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(I=X.stateNode,k=X.memoizedProps.style,w=k!=null&&k.hasOwnProperty("display")?k.display:null,I.style.display=Qo("display",w))}catch(ce){tt(r,r.return,ce)}}}else if(X.tag===6){if(Q===null)try{X.stateNode.nodeValue=B?"":X.memoizedProps}catch(ce){tt(r,r.return,ce)}}else if((X.tag!==22&&X.tag!==23||X.memoizedState===null||X===r)&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===r)break e;for(;X.sibling===null;){if(X.return===null||X.return===r)break e;Q===X&&(Q=null),X=X.return}Q===X&&(Q=null),X.sibling.return=X.return,X=X.sibling}}break;case 19:zn(i,r),sr(r),d&4&&gg(r);break;case 21:break;default:zn(i,r),sr(r)}}function sr(r){var i=r.flags;if(i&2){try{e:{for(var a=r.return;a!==null;){if(fg(a)){var d=a;break e}a=a.return}throw Error(t(160))}switch(d.tag){case 5:var f=d.stateNode;d.flags&32&&(Wr(f,""),d.flags&=-33);var y=pg(r);ih(r,y,f);break;case 3:case 4:var w=d.stateNode.containerInfo,I=pg(r);sh(r,I,w);break;default:throw Error(t(161))}}catch(k){tt(r,r.return,k)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Nx(r,i,a){oe=r,vg(r)}function vg(r,i,a){for(var d=(r.mode&1)!==0;oe!==null;){var f=oe,y=f.child;if(f.tag===22&&d){var w=f.memoizedState!==null||Eu;if(!w){var I=f.alternate,k=I!==null&&I.memoizedState!==null||Mt;I=Eu;var B=Mt;if(Eu=w,(Mt=k)&&!B)for(oe=f;oe!==null;)w=oe,k=w.child,w.tag===22&&w.memoizedState!==null?xg(f):k!==null?(k.return=w,oe=k):xg(f);for(;y!==null;)oe=y,vg(y),y=y.sibling;oe=f,Eu=I,Mt=B}_g(r)}else(f.subtreeFlags&8772)!==0&&y!==null?(y.return=f,oe=y):_g(r)}}function _g(r){for(;oe!==null;){var i=oe;if((i.flags&8772)!==0){var a=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Mt||Tu(5,i);break;case 1:var d=i.stateNode;if(i.flags&4&&!Mt)if(a===null)d.componentDidMount();else{var f=i.elementType===i.type?a.memoizedProps:Un(i.type,a.memoizedProps);d.componentDidUpdate(f,a.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=i.updateQueue;y!==null&&wm(i,y,d);break;case 3:var w=i.updateQueue;if(w!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}wm(i,w,a)}break;case 5:var I=i.stateNode;if(a===null&&i.flags&4){a=I;var k=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&a.focus();break;case"img":k.src&&(a.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var B=i.alternate;if(B!==null){var Q=B.memoizedState;if(Q!==null){var X=Q.dehydrated;X!==null&&Vn(X)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Mt||i.flags&512&&rh(i)}catch(G){tt(i,i.return,G)}}if(i===r){oe=null;break}if(a=i.sibling,a!==null){a.return=i.return,oe=a;break}oe=i.return}}function wg(r){for(;oe!==null;){var i=oe;if(i===r){oe=null;break}var a=i.sibling;if(a!==null){a.return=i.return,oe=a;break}oe=i.return}}function xg(r){for(;oe!==null;){var i=oe;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{Tu(4,i)}catch(k){tt(i,a,k)}break;case 1:var d=i.stateNode;if(typeof d.componentDidMount=="function"){var f=i.return;try{d.componentDidMount()}catch(k){tt(i,f,k)}}var y=i.return;try{rh(i)}catch(k){tt(i,y,k)}break;case 5:var w=i.return;try{rh(i)}catch(k){tt(i,w,k)}}}catch(k){tt(i,i.return,k)}if(i===r){oe=null;break}var I=i.sibling;if(I!==null){I.return=i.return,oe=I;break}oe=i.return}}var kx=Math.ceil,Iu=ae.ReactCurrentDispatcher,oh=ae.ReactCurrentOwner,Sn=ae.ReactCurrentBatchConfig,De=0,xt=null,ut=null,Nt=0,pn=0,mo=rs(0),gt=0,Da=null,si=0,Su=0,ah=0,Oa=null,en=null,lh=0,go=1/0,Pr=null,Au=!1,uh=null,us=null,Ru=!1,cs=null,Nu=0,Va=0,ch=null,ku=-1,Cu=0;function Kt(){return(De&6)!==0?qe():ku!==-1?ku:ku=qe()}function ds(r){return(r.mode&1)===0?1:(De&2)!==0&&Nt!==0?Nt&-Nt:hx.transition!==null?(Cu===0&&(Cu=Hs()),Cu):(r=ke,r!==0||(r=window.event,r=r===void 0?16:ca(r.type)),r)}function $n(r,i,a,d){if(50<Va)throw Va=0,ch=null,Error(t(185));Qr(r,a,d),((De&2)===0||r!==xt)&&(r===xt&&((De&2)===0&&(Su|=a),gt===4&&hs(r,Nt)),tn(r,d),a===1&&De===0&&(i.mode&1)===0&&(go=qe()+500,su&&is()))}function tn(r,i){var a=r.callbackNode;_r(r,i);var d=Ws(r,r===xt?Nt:0);if(d===0)a!==null&&ia(a),r.callbackNode=null,r.callbackPriority=0;else if(i=d&-d,r.callbackPriority!==i){if(a!=null&&ia(a),i===1)r.tag===0?dx(Tg.bind(null,r)):lm(Tg.bind(null,r)),ax(function(){(De&6)===0&&is()}),a=null;else{switch(Xr(d)){case 1:a=$s;break;case 4:a=Hr;break;case 16:a=vn;break;case 536870912:a=Cl;break;default:a=vn}a=Pg(a,Eg.bind(null,r))}r.callbackPriority=i,r.callbackNode=a}}function Eg(r,i){if(ku=-1,Cu=0,(De&6)!==0)throw Error(t(327));var a=r.callbackNode;if(yo()&&r.callbackNode!==a)return null;var d=Ws(r,r===xt?Nt:0);if(d===0)return null;if((d&30)!==0||(d&r.expiredLanes)!==0||i)i=Pu(r,d);else{i=d;var f=De;De|=2;var y=Sg();(xt!==r||Nt!==i)&&(Pr=null,go=qe()+500,oi(r,i));do try{bx();break}catch(I){Ig(r,I)}while(!0);Nd(),Iu.current=y,De=f,ut!==null?i=0:(xt=null,Nt=0,i=gt)}if(i!==0){if(i===2&&(f=un(r),f!==0&&(d=f,i=dh(r,f))),i===1)throw a=Da,oi(r,0),hs(r,d),tn(r,qe()),a;if(i===6)hs(r,d);else{if(f=r.current.alternate,(d&30)===0&&!Cx(f)&&(i=Pu(r,d),i===2&&(y=un(r),y!==0&&(d=y,i=dh(r,y))),i===1))throw a=Da,oi(r,0),hs(r,d),tn(r,qe()),a;switch(r.finishedWork=f,r.finishedLanes=d,i){case 0:case 1:throw Error(t(345));case 2:ai(r,en,Pr);break;case 3:if(hs(r,d),(d&130023424)===d&&(i=lh+500-qe(),10<i)){if(Ws(r,0)!==0)break;if(f=r.suspendedLanes,(f&d)!==d){Kt(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=yd(ai.bind(null,r,en,Pr),i);break}ai(r,en,Pr);break;case 4:if(hs(r,d),(d&4194240)===d)break;for(i=r.eventTimes,f=-1;0<d;){var w=31-qt(d);y=1<<w,w=i[w],w>f&&(f=w),d&=~y}if(d=f,d=qe()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*kx(d/1960))-d,10<d){r.timeoutHandle=yd(ai.bind(null,r,en,Pr),d);break}ai(r,en,Pr);break;case 5:ai(r,en,Pr);break;default:throw Error(t(329))}}}return tn(r,qe()),r.callbackNode===a?Eg.bind(null,r):null}function dh(r,i){var a=Oa;return r.current.memoizedState.isDehydrated&&(oi(r,i).flags|=256),r=Pu(r,i),r!==2&&(i=en,en=a,i!==null&&hh(i)),r}function hh(r){en===null?en=r:en.push.apply(en,r)}function Cx(r){for(var i=r;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var d=0;d<a.length;d++){var f=a[d],y=f.getSnapshot;f=f.value;try{if(!Mn(y(),f))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function hs(r,i){for(i&=~ah,i&=~Su,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var a=31-qt(i),d=1<<a;r[a]=-1,i&=~d}}function Tg(r){if((De&6)!==0)throw Error(t(327));yo();var i=Ws(r,0);if((i&1)===0)return tn(r,qe()),null;var a=Pu(r,i);if(r.tag!==0&&a===2){var d=un(r);d!==0&&(i=d,a=dh(r,d))}if(a===1)throw a=Da,oi(r,0),hs(r,i),tn(r,qe()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,ai(r,en,Pr),tn(r,qe()),null}function fh(r,i){var a=De;De|=1;try{return r(i)}finally{De=a,De===0&&(go=qe()+500,su&&is())}}function ii(r){cs!==null&&cs.tag===0&&(De&6)===0&&yo();var i=De;De|=1;var a=Sn.transition,d=ke;try{if(Sn.transition=null,ke=1,r)return r()}finally{ke=d,Sn.transition=a,De=i,(De&6)===0&&is()}}function ph(){pn=mo.current,Ke(mo)}function oi(r,i){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,ox(a)),ut!==null)for(a=ut.return;a!==null;){var d=a;switch(Td(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&nu();break;case 3:ho(),Ke(Xt),Ke(Ot),Vd();break;case 5:Dd(d);break;case 4:ho();break;case 13:Ke(Xe);break;case 19:Ke(Xe);break;case 10:kd(d.type._context);break;case 22:case 23:ph()}a=a.return}if(xt=r,ut=r=fs(r.current,null),Nt=pn=i,gt=0,Da=null,ah=Su=si=0,en=Oa=null,ti!==null){for(i=0;i<ti.length;i++)if(a=ti[i],d=a.interleaved,d!==null){a.interleaved=null;var f=d.next,y=a.pending;if(y!==null){var w=y.next;y.next=f,d.next=w}a.pending=d}ti=null}return r}function Ig(r,i){do{var a=ut;try{if(Nd(),pu.current=vu,mu){for(var d=Je.memoizedState;d!==null;){var f=d.queue;f!==null&&(f.pending=null),d=d.next}mu=!1}if(ri=0,wt=mt=Je=null,Na=!1,ka=0,oh.current=null,a===null||a.return===null){gt=1,Da=i,ut=null;break}e:{var y=r,w=a.return,I=a,k=i;if(i=Nt,I.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var B=k,Q=I,X=Q.tag;if((Q.mode&1)===0&&(X===0||X===11||X===15)){var G=Q.alternate;G?(Q.updateQueue=G.updateQueue,Q.memoizedState=G.memoizedState,Q.lanes=G.lanes):(Q.updateQueue=null,Q.memoizedState=null)}var ne=Qm(w);if(ne!==null){ne.flags&=-257,Ym(ne,w,I,y,i),ne.mode&1&&Gm(y,B,i),i=ne,k=B;var le=i.updateQueue;if(le===null){var ce=new Set;ce.add(k),i.updateQueue=ce}else le.add(k);break e}else{if((i&1)===0){Gm(y,B,i),mh();break e}k=Error(t(426))}}else if(Ye&&I.mode&1){var it=Qm(w);if(it!==null){(it.flags&65536)===0&&(it.flags|=256),Ym(it,w,I,y,i),Ad(fo(k,I));break e}}y=k=fo(k,I),gt!==4&&(gt=2),Oa===null?Oa=[y]:Oa.push(y),y=w;do{switch(y.tag){case 3:y.flags|=65536,i&=-i,y.lanes|=i;var M=Hm(y,k,i);_m(y,M);break e;case 1:I=k;var P=y.type,U=y.stateNode;if((y.flags&128)===0&&(typeof P.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(us===null||!us.has(U)))){y.flags|=65536,i&=-i,y.lanes|=i;var J=Km(y,I,i);_m(y,J);break e}}y=y.return}while(y!==null)}Rg(a)}catch(he){i=he,ut===a&&a!==null&&(ut=a=a.return);continue}break}while(!0)}function Sg(){var r=Iu.current;return Iu.current=vu,r===null?vu:r}function mh(){(gt===0||gt===3||gt===2)&&(gt=4),xt===null||(si&268435455)===0&&(Su&268435455)===0||hs(xt,Nt)}function Pu(r,i){var a=De;De|=2;var d=Sg();(xt!==r||Nt!==i)&&(Pr=null,oi(r,i));do try{Px();break}catch(f){Ig(r,f)}while(!0);if(Nd(),De=a,Iu.current=d,ut!==null)throw Error(t(261));return xt=null,Nt=0,gt}function Px(){for(;ut!==null;)Ag(ut)}function bx(){for(;ut!==null&&!Nl();)Ag(ut)}function Ag(r){var i=Cg(r.alternate,r,pn);r.memoizedProps=r.pendingProps,i===null?Rg(r):ut=i,oh.current=null}function Rg(r){var i=r;do{var a=i.alternate;if(r=i.return,(i.flags&32768)===0){if(a=Ix(a,i,pn),a!==null){ut=a;return}}else{if(a=Sx(a,i),a!==null){a.flags&=32767,ut=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{gt=6,ut=null;return}}if(i=i.sibling,i!==null){ut=i;return}ut=i=r}while(i!==null);gt===0&&(gt=5)}function ai(r,i,a){var d=ke,f=Sn.transition;try{Sn.transition=null,ke=1,jx(r,i,a,d)}finally{Sn.transition=f,ke=d}return null}function jx(r,i,a,d){do yo();while(cs!==null);if((De&6)!==0)throw Error(t(327));a=r.finishedWork;var f=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var y=a.lanes|a.childLanes;if(ze(r,y),r===xt&&(ut=xt=null,Nt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Ru||(Ru=!0,Pg(vn,function(){return yo(),null})),y=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||y){y=Sn.transition,Sn.transition=null;var w=ke;ke=1;var I=De;De|=4,oh.current=null,Rx(r,a),yg(a,r),Zw(md),Zr=!!pd,md=pd=null,r.current=a,Nx(a),Jc(),De=I,ke=w,Sn.transition=y}else r.current=a;if(Ru&&(Ru=!1,cs=r,Nu=f),y=r.pendingLanes,y===0&&(us=null),Pl(a.stateNode),tn(r,qe()),i!==null)for(d=r.onRecoverableError,a=0;a<i.length;a++)f=i[a],d(f.value,{componentStack:f.stack,digest:f.digest});if(Au)throw Au=!1,r=uh,uh=null,r;return(Nu&1)!==0&&r.tag!==0&&yo(),y=r.pendingLanes,(y&1)!==0?r===ch?Va++:(Va=0,ch=r):Va=0,is(),null}function yo(){if(cs!==null){var r=Xr(Nu),i=Sn.transition,a=ke;try{if(Sn.transition=null,ke=16>r?16:r,cs===null)var d=!1;else{if(r=cs,cs=null,Nu=0,(De&6)!==0)throw Error(t(331));var f=De;for(De|=4,oe=r.current;oe!==null;){var y=oe,w=y.child;if((oe.flags&16)!==0){var I=y.deletions;if(I!==null){for(var k=0;k<I.length;k++){var B=I[k];for(oe=B;oe!==null;){var Q=oe;switch(Q.tag){case 0:case 11:case 15:ja(8,Q,y)}var X=Q.child;if(X!==null)X.return=Q,oe=X;else for(;oe!==null;){Q=oe;var G=Q.sibling,ne=Q.return;if(hg(Q),Q===B){oe=null;break}if(G!==null){G.return=ne,oe=G;break}oe=ne}}}var le=y.alternate;if(le!==null){var ce=le.child;if(ce!==null){le.child=null;do{var it=ce.sibling;ce.sibling=null,ce=it}while(ce!==null)}}oe=y}}if((y.subtreeFlags&2064)!==0&&w!==null)w.return=y,oe=w;else e:for(;oe!==null;){if(y=oe,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:ja(9,y,y.return)}var M=y.sibling;if(M!==null){M.return=y.return,oe=M;break e}oe=y.return}}var P=r.current;for(oe=P;oe!==null;){w=oe;var U=w.child;if((w.subtreeFlags&2064)!==0&&U!==null)U.return=w,oe=U;else e:for(w=P;oe!==null;){if(I=oe,(I.flags&2048)!==0)try{switch(I.tag){case 0:case 11:case 15:Tu(9,I)}}catch(he){tt(I,I.return,he)}if(I===w){oe=null;break e}var J=I.sibling;if(J!==null){J.return=I.return,oe=J;break e}oe=I.return}}if(De=f,is(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(qs,r)}catch{}d=!0}return d}finally{ke=a,Sn.transition=i}}return!1}function Ng(r,i,a){i=fo(a,i),i=Hm(r,i,1),r=as(r,i,1),i=Kt(),r!==null&&(Qr(r,1,i),tn(r,i))}function tt(r,i,a){if(r.tag===3)Ng(r,r,a);else for(;i!==null;){if(i.tag===3){Ng(i,r,a);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(us===null||!us.has(d))){r=fo(a,r),r=Km(i,r,1),i=as(i,r,1),r=Kt(),i!==null&&(Qr(i,1,r),tn(i,r));break}}i=i.return}}function Dx(r,i,a){var d=r.pingCache;d!==null&&d.delete(i),i=Kt(),r.pingedLanes|=r.suspendedLanes&a,xt===r&&(Nt&a)===a&&(gt===4||gt===3&&(Nt&130023424)===Nt&&500>qe()-lh?oi(r,0):ah|=a),tn(r,i)}function kg(r,i){i===0&&((r.mode&1)===0?i=1:(i=Fi,Fi<<=1,(Fi&130023424)===0&&(Fi=4194304)));var a=Kt();r=Nr(r,i),r!==null&&(Qr(r,i,a),tn(r,a))}function Ox(r){var i=r.memoizedState,a=0;i!==null&&(a=i.retryLane),kg(r,a)}function Vx(r,i){var a=0;switch(r.tag){case 13:var d=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(i),kg(r,a)}var Cg;Cg=function(r,i,a){if(r!==null)if(r.memoizedProps!==i.pendingProps||Xt.current)Zt=!0;else{if((r.lanes&a)===0&&(i.flags&128)===0)return Zt=!1,Tx(r,i,a);Zt=(r.flags&131072)!==0}else Zt=!1,Ye&&(i.flags&1048576)!==0&&um(i,ou,i.index);switch(i.lanes=0,i.tag){case 2:var d=i.type;xu(r,i),r=i.pendingProps;var f=so(i,Ot.current);co(i,a),f=Fd(null,i,d,r,f,a);var y=Ud();return i.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Jt(d)?(y=!0,ru(i)):y=!1,i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,bd(i),f.updater=_u,i.stateNode=f,f._reactInternals=i,Hd(i,d,r,a),i=Yd(null,i,d,!0,y,a)):(i.tag=0,Ye&&y&&Ed(i),Ht(null,i,f,a),i=i.child),i;case 16:d=i.elementType;e:{switch(xu(r,i),r=i.pendingProps,f=d._init,d=f(d._payload),i.type=d,f=i.tag=Mx(d),r=Un(d,r),f){case 0:i=Qd(null,i,d,r,a);break e;case 1:i=ng(null,i,d,r,a);break e;case 11:i=Xm(null,i,d,r,a);break e;case 14:i=Jm(null,i,d,Un(d.type,r),a);break e}throw Error(t(306,d,""))}return i;case 0:return d=i.type,f=i.pendingProps,f=i.elementType===d?f:Un(d,f),Qd(r,i,d,f,a);case 1:return d=i.type,f=i.pendingProps,f=i.elementType===d?f:Un(d,f),ng(r,i,d,f,a);case 3:e:{if(rg(i),r===null)throw Error(t(387));d=i.pendingProps,y=i.memoizedState,f=y.element,vm(r,i),hu(i,d,null,a);var w=i.memoizedState;if(d=w.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){f=fo(Error(t(423)),i),i=sg(r,i,d,a,f);break e}else if(d!==f){f=fo(Error(t(424)),i),i=sg(r,i,d,a,f);break e}else for(fn=ns(i.stateNode.containerInfo.firstChild),hn=i,Ye=!0,Fn=null,a=gm(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ao(),d===f){i=Cr(r,i,a);break e}Ht(r,i,d,a)}i=i.child}return i;case 5:return xm(i),r===null&&Sd(i),d=i.type,f=i.pendingProps,y=r!==null?r.memoizedProps:null,w=f.children,gd(d,f)?w=null:y!==null&&gd(d,y)&&(i.flags|=32),tg(r,i),Ht(r,i,w,a),i.child;case 6:return r===null&&Sd(i),null;case 13:return ig(r,i,a);case 4:return jd(i,i.stateNode.containerInfo),d=i.pendingProps,r===null?i.child=lo(i,null,d,a):Ht(r,i,d,a),i.child;case 11:return d=i.type,f=i.pendingProps,f=i.elementType===d?f:Un(d,f),Xm(r,i,d,f,a);case 7:return Ht(r,i,i.pendingProps,a),i.child;case 8:return Ht(r,i,i.pendingProps.children,a),i.child;case 12:return Ht(r,i,i.pendingProps.children,a),i.child;case 10:e:{if(d=i.type._context,f=i.pendingProps,y=i.memoizedProps,w=f.value,We(uu,d._currentValue),d._currentValue=w,y!==null)if(Mn(y.value,w)){if(y.children===f.children&&!Xt.current){i=Cr(r,i,a);break e}}else for(y=i.child,y!==null&&(y.return=i);y!==null;){var I=y.dependencies;if(I!==null){w=y.child;for(var k=I.firstContext;k!==null;){if(k.context===d){if(y.tag===1){k=kr(-1,a&-a),k.tag=2;var B=y.updateQueue;if(B!==null){B=B.shared;var Q=B.pending;Q===null?k.next=k:(k.next=Q.next,Q.next=k),B.pending=k}}y.lanes|=a,k=y.alternate,k!==null&&(k.lanes|=a),Cd(y.return,a,i),I.lanes|=a;break}k=k.next}}else if(y.tag===10)w=y.type===i.type?null:y.child;else if(y.tag===18){if(w=y.return,w===null)throw Error(t(341));w.lanes|=a,I=w.alternate,I!==null&&(I.lanes|=a),Cd(w,a,i),w=y.sibling}else w=y.child;if(w!==null)w.return=y;else for(w=y;w!==null;){if(w===i){w=null;break}if(y=w.sibling,y!==null){y.return=w.return,w=y;break}w=w.return}y=w}Ht(r,i,f.children,a),i=i.child}return i;case 9:return f=i.type,d=i.pendingProps.children,co(i,a),f=Tn(f),d=d(f),i.flags|=1,Ht(r,i,d,a),i.child;case 14:return d=i.type,f=Un(d,i.pendingProps),f=Un(d.type,f),Jm(r,i,d,f,a);case 15:return Zm(r,i,i.type,i.pendingProps,a);case 17:return d=i.type,f=i.pendingProps,f=i.elementType===d?f:Un(d,f),xu(r,i),i.tag=1,Jt(d)?(r=!0,ru(i)):r=!1,co(i,a),qm(i,d,f),Hd(i,d,f,a),Yd(null,i,d,!0,r,a);case 19:return ag(r,i,a);case 22:return eg(r,i,a)}throw Error(t(156,i.tag))};function Pg(r,i){return Li(r,i)}function Lx(r,i,a,d){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(r,i,a,d){return new Lx(r,i,a,d)}function gh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Mx(r){if(typeof r=="function")return gh(r)?1:0;if(r!=null){if(r=r.$$typeof,r===V)return 11;if(r===jt)return 14}return 2}function fs(r,i){var a=r.alternate;return a===null?(a=An(r.tag,i,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=i,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,i=r.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function bu(r,i,a,d,f,y){var w=2;if(d=r,typeof r=="function")gh(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case b:return li(a.children,f,y,i);case S:w=8,f|=8;break;case N:return r=An(12,a,i,f|2),r.elementType=N,r.lanes=y,r;case R:return r=An(13,a,i,f),r.elementType=R,r.lanes=y,r;case rt:return r=An(19,a,i,f),r.elementType=rt,r.lanes=y,r;case Be:return ju(a,f,y,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case C:w=10;break e;case j:w=9;break e;case V:w=11;break e;case jt:w=14;break e;case Dt:w=16,d=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return i=An(w,a,i,f),i.elementType=r,i.type=d,i.lanes=y,i}function li(r,i,a,d){return r=An(7,r,d,i),r.lanes=a,r}function ju(r,i,a,d){return r=An(22,r,d,i),r.elementType=Be,r.lanes=a,r.stateNode={isHidden:!1},r}function yh(r,i,a){return r=An(6,r,null,i),r.lanes=a,r}function vh(r,i,a){return i=An(4,r.children!==null?r.children:[],r.key,i),i.lanes=a,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function Fx(r,i,a,d,f){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gr(0),this.expirationTimes=Gr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gr(0),this.identifierPrefix=d,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function _h(r,i,a,d,f,y,w,I,k){return r=new Fx(r,i,a,I,k),i===1?(i=1,y===!0&&(i|=8)):i=0,y=An(3,null,null,i),r.current=y,y.stateNode=r,y.memoizedState={element:d,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},bd(y),r}function Ux(r,i,a){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Te,key:d==null?null:""+d,children:r,containerInfo:i,implementation:a}}function bg(r){if(!r)return ss;r=r._reactInternals;e:{if(Pn(r)!==r||r.tag!==1)throw Error(t(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Jt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(Jt(a))return om(r,a,i)}return i}function jg(r,i,a,d,f,y,w,I,k){return r=_h(a,d,!0,r,f,y,w,I,k),r.context=bg(null),a=r.current,d=Kt(),f=ds(a),y=kr(d,f),y.callback=i??null,as(a,y,f),r.current.lanes=f,Qr(r,f,d),tn(r,d),r}function Du(r,i,a,d){var f=i.current,y=Kt(),w=ds(f);return a=bg(a),i.context===null?i.context=a:i.pendingContext=a,i=kr(y,w),i.payload={element:r},d=d===void 0?null:d,d!==null&&(i.callback=d),r=as(f,i,w),r!==null&&($n(r,f,w,y),du(r,f,w)),w}function Ou(r){return r=r.current,r.child?(r.child.tag===5,r.child.stateNode):null}function Dg(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<i?a:i}}function wh(r,i){Dg(r,i),(r=r.alternate)&&Dg(r,i)}function Bx(){return null}var Og=typeof reportError=="function"?reportError:function(r){console.error(r)};function xh(r){this._internalRoot=r}Vu.prototype.render=xh.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(t(409));Du(r,i,null,null)},Vu.prototype.unmount=xh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;ii(function(){Du(null,r,null,null)}),i[Ir]=null}};function Vu(r){this._internalRoot=r}Vu.prototype.unstable_scheduleHydration=function(r){if(r){var i=Vl();r={blockedOn:null,target:r,priority:i};for(var a=0;a<Xn.length&&i!==0&&i<Xn[a].priority;a++);Xn.splice(a,0,r),a===0&&Fl(r)}};function Eh(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Lu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Vg(){}function zx(r,i,a,d,f){if(f){if(typeof d=="function"){var y=d;d=function(){var B=Ou(w);y.call(B)}}var w=jg(i,d,r,0,null,!1,!1,"",Vg);return r._reactRootContainer=w,r[Ir]=w.current,wa(r.nodeType===8?r.parentNode:r),ii(),w}for(;f=r.lastChild;)r.removeChild(f);if(typeof d=="function"){var I=d;d=function(){var B=Ou(k);I.call(B)}}var k=_h(r,0,!1,null,null,!1,!1,"",Vg);return r._reactRootContainer=k,r[Ir]=k.current,wa(r.nodeType===8?r.parentNode:r),ii(function(){Du(i,k,a,d)}),k}function Mu(r,i,a,d,f){var y=a._reactRootContainer;if(y){var w=y;if(typeof f=="function"){var I=f;f=function(){var k=Ou(w);I.call(k)}}Du(i,w,r,f)}else w=zx(a,i,r,f,d);return Ou(w)}Dl=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var a=Kr(i.pendingLanes);a!==0&&(Yr(i,a|1),tn(i,qe()),(De&6)===0&&(go=qe()+500,is()))}break;case 13:ii(function(){var d=Nr(r,1);if(d!==null){var f=Kt();$n(d,r,1,f)}}),wh(r,1)}},Ui=function(r){if(r.tag===13){var i=Nr(r,134217728);if(i!==null){var a=Kt();$n(i,r,134217728,a)}wh(r,134217728)}},Ol=function(r){if(r.tag===13){var i=ds(r),a=Nr(r,i);if(a!==null){var d=Kt();$n(a,r,i,d)}wh(r,i)}},Vl=function(){return ke},Ll=function(r,i){var a=ke;try{return ke=r,i()}finally{ke=a}},Pi=function(r,i,a){switch(i){case"input":if(Wo(r,a),i=a.name,a.type==="radio"&&i!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var d=a[i];if(d!==r&&d.form===r.form){var f=tu(d);if(!f)throw Error(t(90));Si(d),Wo(d,f)}}}break;case"textarea":ki(r,a);break;case"select":i=a.value,i!=null&&gr(r,!!a.multiple,i,!1)}},Fs=fh,ta=ii;var $x={usingClientEntryPoint:!1,Events:[Ta,no,tu,Qn,ea,fh]},La={findFiberByHostInstance:Xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qx={bundleType:La.bundleType,version:La.version,rendererPackageName:La.rendererPackageName,rendererConfig:La.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ae.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=sa(r),r===null?null:r.stateNode},findFiberByHostInstance:La.findFiberByHostInstance||Bx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fu.isDisabled&&Fu.supportsFiber)try{qs=Fu.inject(qx),ln=Fu}catch{}}return nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$x,nn.createPortal=function(r,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Eh(i))throw Error(t(200));return Ux(r,i,null,a)},nn.createRoot=function(r,i){if(!Eh(r))throw Error(t(299));var a=!1,d="",f=Og;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(f=i.onRecoverableError)),i=_h(r,1,!1,null,null,a,!1,d,f),r[Ir]=i.current,wa(r.nodeType===8?r.parentNode:r),new xh(i)},nn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=sa(i),r=r===null?null:r.stateNode,r},nn.flushSync=function(r){return ii(r)},nn.hydrate=function(r,i,a){if(!Lu(i))throw Error(t(200));return Mu(null,r,i,!0,a)},nn.hydrateRoot=function(r,i,a){if(!Eh(r))throw Error(t(405));var d=a!=null&&a.hydratedSources||null,f=!1,y="",w=Og;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(y=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),i=jg(i,null,r,1,a??null,f,!1,y,w),r[Ir]=i.current,wa(r),d)for(r=0;r<d.length;r++)a=d[r],f=a._getVersion,f=f(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,f]:i.mutableSourceEagerHydrationData.push(a,f);return new Vu(i)},nn.render=function(r,i,a){if(!Lu(i))throw Error(t(200));return Mu(null,r,i,!1,a)},nn.unmountComponentAtNode=function(r){if(!Lu(r))throw Error(t(40));return r._reactRootContainer?(ii(function(){Mu(null,null,r,!1,function(){r._reactRootContainer=null,r[Ir]=null})}),!0):!1},nn.unstable_batchedUpdates=fh,nn.unstable_renderSubtreeIntoContainer=function(r,i,a,d){if(!Lu(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Mu(r,i,a,!1,d)},nn.version="18.3.1-next-f1338f8080-20240426",nn}var qg;function jv(){if(qg)return Sh.exports;qg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Sh.exports=Zx(),Sh.exports}var Wg;function eE(){if(Wg)return Uu;Wg=1;var n=jv();return Uu.createRoot=n.createRoot,Uu.hydrateRoot=n.hydrateRoot,Uu}var tE=eE();const nE=Pv(tE);jv();function Ya(){return Ya=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},Ya.apply(this,arguments)}var xs;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(xs||(xs={}));const Hg="popstate";function rE(n){n===void 0&&(n={});function e(s,o){let{pathname:l,search:c,hash:h}=s.location;return Wh("",{pathname:l,search:c,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:ic(o)}return iE(e,t,null,n)}function at(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Sf(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sE(){return Math.random().toString(36).substr(2,8)}function Kg(n,e){return{usr:n.state,key:n.key,idx:e}}function Wh(n,e,t,s){return t===void 0&&(t=null),Ya({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Vo(e):e,{state:t,key:e&&e.key||s||sE()})}function ic(n){let{pathname:e="/",search:t="",hash:s=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Vo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substr(s),n=n.substr(0,s)),n&&(e.pathname=n)}return e}function iE(n,e,t,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:l=!1}=s,c=o.history,h=xs.Pop,p=null,v=x();v==null&&(v=0,c.replaceState(Ya({},c.state,{idx:v}),""));function x(){return(c.state||{idx:null}).idx}function T(){h=xs.Pop;let F=x(),ie=F==null?null:F-v;v=F,p&&p({action:h,location:W.location,delta:ie})}function A(F,ie){h=xs.Push;let ue=Wh(W.location,F,ie);v=x()+1;let ee=Kg(ue,v),ae=W.createHref(ue);try{c.pushState(ee,"",ae)}catch(Re){if(Re instanceof DOMException&&Re.name==="DataCloneError")throw Re;o.location.assign(ae)}l&&p&&p({action:h,location:W.location,delta:1})}function D(F,ie){h=xs.Replace;let ue=Wh(W.location,F,ie);v=x();let ee=Kg(ue,v),ae=W.createHref(ue);c.replaceState(ee,"",ae),l&&p&&p({action:h,location:W.location,delta:0})}function q(F){let ie=o.location.origin!=="null"?o.location.origin:o.location.href,ue=typeof F=="string"?F:ic(F);return ue=ue.replace(/ $/,"%20"),at(ie,"No window.location.(origin|href) available to create URL for href: "+ue),new URL(ue,ie)}let W={get action(){return h},get location(){return n(o,c)},listen(F){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Hg,T),p=F,()=>{o.removeEventListener(Hg,T),p=null}},createHref(F){return e(o,F)},createURL:q,encodeLocation(F){let ie=q(F);return{pathname:ie.pathname,search:ie.search,hash:ie.hash}},push:A,replace:D,go(F){return c.go(F)}};return W}var Gg;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Gg||(Gg={}));function oE(n,e,t){return t===void 0&&(t="/"),aE(n,e,t)}function aE(n,e,t,s){let o=typeof e=="string"?Vo(e):e,l=Af(o.pathname||"/",t);if(l==null)return null;let c=Dv(n);lE(c);let h=null;for(let p=0;h==null&&p<c.length;++p){let v=wE(l);h=yE(c[p],v)}return h}function Dv(n,e,t,s){e===void 0&&(e=[]),t===void 0&&(t=[]),s===void 0&&(s="");let o=(l,c,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(at(p.relativePath.startsWith(s),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(s.length));let v=Is([s,p.relativePath]),x=t.concat(p);l.children&&l.children.length>0&&(at(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),Dv(l.children,e,x,v)),!(l.path==null&&!l.index)&&e.push({path:v,score:mE(v,l.index),routesMeta:x})};return n.forEach((l,c)=>{var h;if(l.path===""||!((h=l.path)!=null&&h.includes("?")))o(l,c);else for(let p of Ov(l.path))o(l,c,p)}),e}function Ov(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let c=Ov(s.join("/")),h=[];return h.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&h.push(...c),h.map(p=>n.startsWith("/")&&p===""?"/":p)}function lE(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:gE(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}const uE=/^:[\w-]+$/,cE=3,dE=2,hE=1,fE=10,pE=-2,Qg=n=>n==="*";function mE(n,e){let t=n.split("/"),s=t.length;return t.some(Qg)&&(s+=pE),e&&(s+=dE),t.filter(o=>!Qg(o)).reduce((o,l)=>o+(uE.test(l)?cE:l===""?hE:fE),s)}function gE(n,e){return n.length===e.length&&n.slice(0,-1).every((s,o)=>s===e[o])?n[n.length-1]-e[e.length-1]:0}function yE(n,e,t){let{routesMeta:s}=n,o={},l="/",c=[];for(let h=0;h<s.length;++h){let p=s[h],v=h===s.length-1,x=l==="/"?e:e.slice(l.length)||"/",T=vE({path:p.relativePath,caseSensitive:p.caseSensitive,end:v},x),A=p.route;if(!T)return null;Object.assign(o,T.params),c.push({params:o,pathname:Is([l,T.pathname]),pathnameBase:SE(Is([l,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(l=Is([l,T.pathnameBase]))}return c}function vE(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=_E(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:s.reduce((v,x,T)=>{let{paramName:A,isOptional:D}=x;if(A==="*"){let W=h[T]||"";c=l.slice(0,l.length-W.length).replace(/(.)\/+$/,"$1")}const q=h[T];return D&&!q?v[A]=void 0:v[A]=(q||"").replace(/%2F/g,"/"),v},{}),pathname:l,pathnameBase:c,pattern:n}}function _E(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Sf(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let s=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,p)=>(s.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function wE(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Sf(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Af(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}const xE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,EE=n=>xE.test(n);function TE(n,e){e===void 0&&(e="/");let{pathname:t,search:s="",hash:o=""}=typeof n=="string"?Vo(n):n,l;if(t)if(EE(t))l=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),Sf(!1,"Pathnames cannot have embedded double slashes - normalizing "+(c+" -> "+t))}t.startsWith("/")?l=Yg(t.substring(1),"/"):l=Yg(t,e)}else l=e;return{pathname:l,search:AE(s),hash:RE(o)}}function Yg(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Nh(n,e,t,s){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function IE(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Rf(n,e){let t=IE(n);return e?t.map((s,o)=>o===t.length-1?s.pathname:s.pathnameBase):t.map(s=>s.pathnameBase)}function Nf(n,e,t,s){s===void 0&&(s=!1);let o;typeof n=="string"?o=Vo(n):(o=Ya({},n),at(!o.pathname||!o.pathname.includes("?"),Nh("?","pathname","search",o)),at(!o.pathname||!o.pathname.includes("#"),Nh("#","pathname","hash",o)),at(!o.search||!o.search.includes("#"),Nh("#","search","hash",o)));let l=n===""||o.pathname==="",c=l?"/":o.pathname,h;if(c==null)h=t;else{let T=e.length-1;if(!s&&c.startsWith("..")){let A=c.split("/");for(;A[0]==="..";)A.shift(),T-=1;o.pathname=A.join("/")}h=T>=0?e[T]:"/"}let p=TE(o,h),v=c&&c!=="/"&&c.endsWith("/"),x=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(v||x)&&(p.pathname+="/"),p}const Is=n=>n.join("/").replace(/\/\/+/g,"/"),SE=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),AE=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,RE=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function NE(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const Vv=["post","put","patch","delete"];new Set(Vv);const kE=["get",...Vv];new Set(kE);function Xa(){return Xa=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},Xa.apply(this,arguments)}const kf=$.createContext(null),CE=$.createContext(null),Ps=$.createContext(null),Sc=$.createContext(null),hr=$.createContext({outlet:null,matches:[],isDataRoute:!1}),Lv=$.createContext(null);function PE(n,e){let{relative:t}=e===void 0?{}:e;Lo()||at(!1);let{basename:s,navigator:o}=$.useContext(Ps),{hash:l,pathname:c,search:h}=Fv(n,{relative:t}),p=c;return s!=="/"&&(p=c==="/"?s:Is([s,c])),o.createHref({pathname:p,search:h,hash:l})}function Lo(){return $.useContext(Sc)!=null}function ul(){return Lo()||at(!1),$.useContext(Sc).location}function Mv(n){$.useContext(Ps).static||$.useLayoutEffect(n)}function cl(){let{isDataRoute:n}=$.useContext(hr);return n?KE():bE()}function bE(){Lo()||at(!1);let n=$.useContext(kf),{basename:e,future:t,navigator:s}=$.useContext(Ps),{matches:o}=$.useContext(hr),{pathname:l}=ul(),c=JSON.stringify(Rf(o,t.v7_relativeSplatPath)),h=$.useRef(!1);return Mv(()=>{h.current=!0}),$.useCallback(function(v,x){if(x===void 0&&(x={}),!h.current)return;if(typeof v=="number"){s.go(v);return}let T=Nf(v,JSON.parse(c),l,x.relative==="path");n==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:Is([e,T.pathname])),(x.replace?s.replace:s.push)(T,x.state,x)},[e,s,c,l,n])}const jE=$.createContext(null);function DE(n){let e=$.useContext(hr).outlet;return e&&$.createElement(jE.Provider,{value:n},e)}function OE(){let{matches:n}=$.useContext(hr),e=n[n.length-1];return e?e.params:{}}function Fv(n,e){let{relative:t}=e===void 0?{}:e,{future:s}=$.useContext(Ps),{matches:o}=$.useContext(hr),{pathname:l}=ul(),c=JSON.stringify(Rf(o,s.v7_relativeSplatPath));return $.useMemo(()=>Nf(n,JSON.parse(c),l,t==="path"),[n,c,l,t])}function VE(n,e){return LE(n,e)}function LE(n,e,t,s){Lo()||at(!1);let{navigator:o}=$.useContext(Ps),{matches:l}=$.useContext(hr),c=l[l.length-1],h=c?c.params:{};c&&c.pathname;let p=c?c.pathnameBase:"/";c&&c.route;let v=ul(),x;if(e){var T;let F=typeof e=="string"?Vo(e):e;p==="/"||(T=F.pathname)!=null&&T.startsWith(p)||at(!1),x=F}else x=v;let A=x.pathname||"/",D=A;if(p!=="/"){let F=p.replace(/^\//,"").split("/");D="/"+A.replace(/^\//,"").split("/").slice(F.length).join("/")}let q=oE(n,{pathname:D}),W=zE(q&&q.map(F=>Object.assign({},F,{params:Object.assign({},h,F.params),pathname:Is([p,o.encodeLocation?o.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?p:Is([p,o.encodeLocation?o.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),l,t,s);return e&&W?$.createElement(Sc.Provider,{value:{location:Xa({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:xs.Pop}},W):W}function ME(){let n=HE(),e=NE(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return $.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),t?$.createElement("pre",{style:o},t):null,null)}const FE=$.createElement(ME,null);class UE extends $.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?$.createElement(hr.Provider,{value:this.props.routeContext},$.createElement(Lv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function BE(n){let{routeContext:e,match:t,children:s}=n,o=$.useContext(kf);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),$.createElement(hr.Provider,{value:e},s)}function zE(n,e,t,s){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),s===void 0&&(s=null),n==null){var l;if(!t)return null;if(t.errors)n=t.matches;else if((l=s)!=null&&l.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let c=n,h=(o=t)==null?void 0:o.errors;if(h!=null){let x=c.findIndex(T=>T.route.id&&h?.[T.route.id]!==void 0);x>=0||at(!1),c=c.slice(0,Math.min(c.length,x+1))}let p=!1,v=-1;if(t&&s&&s.v7_partialHydration)for(let x=0;x<c.length;x++){let T=c[x];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(v=x),T.route.id){let{loaderData:A,errors:D}=t,q=T.route.loader&&A[T.route.id]===void 0&&(!D||D[T.route.id]===void 0);if(T.route.lazy||q){p=!0,v>=0?c=c.slice(0,v+1):c=[c[0]];break}}}return c.reduceRight((x,T,A)=>{let D,q=!1,W=null,F=null;t&&(D=h&&T.route.id?h[T.route.id]:void 0,W=T.route.errorElement||FE,p&&(v<0&&A===0?(GE("route-fallback"),q=!0,F=null):v===A&&(q=!0,F=T.route.hydrateFallbackElement||null)));let ie=e.concat(c.slice(0,A+1)),ue=()=>{let ee;return D?ee=W:q?ee=F:T.route.Component?ee=$.createElement(T.route.Component,null):T.route.element?ee=T.route.element:ee=x,$.createElement(BE,{match:T,routeContext:{outlet:x,matches:ie,isDataRoute:t!=null},children:ee})};return t&&(T.route.ErrorBoundary||T.route.errorElement||A===0)?$.createElement(UE,{location:t.location,revalidation:t.revalidation,component:W,error:D,children:ue(),routeContext:{outlet:null,matches:ie,isDataRoute:!0}}):ue()},null)}var Uv=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(Uv||{}),Bv=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(Bv||{});function $E(n){let e=$.useContext(kf);return e||at(!1),e}function qE(n){let e=$.useContext(CE);return e||at(!1),e}function WE(n){let e=$.useContext(hr);return e||at(!1),e}function zv(n){let e=WE(),t=e.matches[e.matches.length-1];return t.route.id||at(!1),t.route.id}function HE(){var n;let e=$.useContext(Lv),t=qE(),s=zv();return e!==void 0?e:(n=t.errors)==null?void 0:n[s]}function KE(){let{router:n}=$E(Uv.UseNavigateStable),e=zv(Bv.UseNavigateStable),t=$.useRef(!1);return Mv(()=>{t.current=!0}),$.useCallback(function(o,l){l===void 0&&(l={}),t.current&&(typeof o=="number"?n.navigate(o):n.navigate(o,Xa({fromRouteId:e},l)))},[n,e])}const Xg={};function GE(n,e,t){Xg[n]||(Xg[n]=!0)}function QE(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath}function $v(n){let{to:e,replace:t,state:s,relative:o}=n;Lo()||at(!1);let{future:l,static:c}=$.useContext(Ps),{matches:h}=$.useContext(hr),{pathname:p}=ul(),v=cl(),x=Nf(e,Rf(h,l.v7_relativeSplatPath),p,o==="path"),T=JSON.stringify(x);return $.useEffect(()=>v(JSON.parse(T),{replace:t,state:s,relative:o}),[v,T,o,t,s]),null}function YE(n){return DE(n.context)}function Ut(n){at(!1)}function XE(n){let{basename:e="/",children:t=null,location:s,navigationType:o=xs.Pop,navigator:l,static:c=!1,future:h}=n;Lo()&&at(!1);let p=e.replace(/^\/*/,"/"),v=$.useMemo(()=>({basename:p,navigator:l,static:c,future:Xa({v7_relativeSplatPath:!1},h)}),[p,h,l,c]);typeof s=="string"&&(s=Vo(s));let{pathname:x="/",search:T="",hash:A="",state:D=null,key:q="default"}=s,W=$.useMemo(()=>{let F=Af(x,p);return F==null?null:{location:{pathname:F,search:T,hash:A,state:D,key:q},navigationType:o}},[p,x,T,A,D,q,o]);return W==null?null:$.createElement(Ps.Provider,{value:v},$.createElement(Sc.Provider,{children:t,value:W}))}function JE(n){let{children:e,location:t}=n;return VE(Hh(e),t)}new Promise(()=>{});function Hh(n,e){e===void 0&&(e=[]);let t=[];return $.Children.forEach(n,(s,o)=>{if(!$.isValidElement(s))return;let l=[...e,o];if(s.type===$.Fragment){t.push.apply(t,Hh(s.props.children,l));return}s.type!==Ut&&at(!1),!s.props.index||!s.props.children||at(!1);let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Hh(s.props.children,l)),t.push(c)}),t}function Kh(){return Kh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},Kh.apply(this,arguments)}function ZE(n,e){if(n==null)return{};var t={},s=Object.keys(n),o,l;for(l=0;l<s.length;l++)o=s[l],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function eT(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function tT(n,e){return n.button===0&&(!e||e==="_self")&&!eT(n)}const nT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],rT="6";try{window.__reactRouterVersion=rT}catch{}const sT="startTransition",Jg=Yx[sT];function iT(n){let{basename:e,children:t,future:s,window:o}=n,l=$.useRef();l.current==null&&(l.current=rE({window:o,v5Compat:!0}));let c=l.current,[h,p]=$.useState({action:c.action,location:c.location}),{v7_startTransition:v}=s||{},x=$.useCallback(T=>{v&&Jg?Jg(()=>p(T)):p(T)},[p,v]);return $.useLayoutEffect(()=>c.listen(x),[c,x]),$.useEffect(()=>QE(s),[s]),$.createElement(XE,{basename:e,children:t,location:h.location,navigationType:h.action,navigator:c,future:s})}const oT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nt=$.forwardRef(function(e,t){let{onClick:s,relative:o,reloadDocument:l,replace:c,state:h,target:p,to:v,preventScrollReset:x,viewTransition:T}=e,A=ZE(e,nT),{basename:D}=$.useContext(Ps),q,W=!1;if(typeof v=="string"&&aT.test(v)&&(q=v,oT))try{let ee=new URL(window.location.href),ae=v.startsWith("//")?new URL(ee.protocol+v):new URL(v),Re=Af(ae.pathname,D);ae.origin===ee.origin&&Re!=null?v=Re+ae.search+ae.hash:W=!0}catch{}let F=PE(v,{relative:o}),ie=lT(v,{replace:c,state:h,target:p,preventScrollReset:x,relative:o,viewTransition:T});function ue(ee){s&&s(ee),ee.defaultPrevented||ie(ee)}return $.createElement("a",Kh({},A,{href:q||F,onClick:W||l?s:ue,ref:t,target:p}))});var Zg;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Zg||(Zg={}));var ey;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(ey||(ey={}));function lT(n,e){let{target:t,replace:s,state:o,preventScrollReset:l,relative:c,viewTransition:h}=e===void 0?{}:e,p=cl(),v=ul(),x=Fv(n,{relative:c});return $.useCallback(T=>{if(tT(T,t)){T.preventDefault();let A=s!==void 0?s:ic(v)===ic(x);p(n,{replace:A,state:o,preventScrollReset:l,relative:c,viewTransition:h})}},[v,p,x,s,o,t,n,l,c,h])}const uT=()=>{const[n,e]=$.useState(!1),[t,s]=$.useState("es");return m.jsxs("header",{className:"bg-black sticky top-0 z-50",children:[m.jsx("div",{className:"container mx-auto px-4 py-3 lg:py-6",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs(nt,{to:"/",className:"flex items-center gap-2 lg:gap-3",children:[m.jsx("img",{src:"/images/logo-icon.png",alt:"Batista Global Service",className:"h-8 w-auto lg:h-12"}),m.jsx("img",{src:"/images/logo-text.png",alt:"Batista Global Service",className:"h-6 w-auto lg:h-10"})]}),m.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-4",children:[m.jsx("button",{onClick:()=>s(t==="es"?"en":"es"),className:"px-2 py-1.5 lg:px-4 lg:py-2.5 text-white/80 hover:text-amber-400 text-xs lg:text-sm font-medium rounded-lg hover:bg-white/5",children:t==="es"?"ES":"EN"}),m.jsxs(nt,{to:"/cart",className:"relative p-1.5 lg:p-2.5 rounded-lg hover:bg-white/5",children:[m.jsx("svg",{className:"w-4 h-4 lg:w-5 lg:h-5 text-white/80",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),m.jsx("span",{className:"absolute -top-1 -right-1 bg-amber-400 text-black text-xs font-bold rounded-full w-4 h-4 lg:w-5 lg:h-5 flex items-center justify-center",children:"0"})]}),m.jsx("button",{onClick:()=>e(!n),className:"lg:hidden p-1.5 text-white/80 hover:text-amber-400 rounded-lg hover:bg-white/5","aria-label":"Men",children:m.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})})]})]})}),n&&m.jsx("div",{className:"lg:hidden bg-black border-t border-amber-400/20 animate-slideDown",children:m.jsx("div",{className:"container mx-auto px-4 py-4",children:m.jsxs("nav",{className:"space-y-3",children:[m.jsx(nt,{to:"/",className:"block py-3 px-4 text-white/90 hover:text-amber-400 text-base font-medium rounded-lg hover:bg-white/5 transition-colors",onClick:()=>e(!1),children:"Inicio"}),m.jsx(nt,{to:"/servicios",className:"block py-3 px-4 text-white/90 hover:text-amber-400 text-base font-medium rounded-lg hover:bg-white/5 transition-colors",onClick:()=>e(!1),children:"Servicios"}),m.jsx(nt,{to:"/tienda",className:"block py-3 px-4 text-white/90 hover:text-amber-400 text-base font-medium rounded-lg hover:bg-white/5 transition-colors",onClick:()=>e(!1),children:"Tienda"}),m.jsx(nt,{to:"/productos",className:"block py-3 px-4 text-white/90 hover:text-amber-400 text-base font-medium rounded-lg hover:bg-white/5 transition-colors",onClick:()=>e(!1),children:"Productos"}),m.jsx("div",{className:"border-t border-amber-400/20 my-2"}),m.jsx(nt,{to:"/admin/dashboard",className:"block py-3 px-4 bg-[#00A8B5]/10 text-[#00A8B5] text-base font-medium rounded-lg hover:bg-[#00A8B5]/20 transition-colors",onClick:()=>e(!1),children:"Panel Admin"})]})})})]})};let cT={data:""},dT=n=>{if(typeof window=="object"){let e=(n?n.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(n||document.head).appendChild(e),e.firstChild}return n||cT},hT=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,fT=/\/\*[^]*?\*\/|  +/g,ty=/\n+/g,gs=(n,e)=>{let t="",s="",o="";for(let l in n){let c=n[l];l[0]=="@"?l[1]=="i"?t=l+" "+c+";":s+=l[1]=="f"?gs(c,l):l+"{"+gs(c,l[1]=="k"?"":e)+"}":typeof c=="object"?s+=gs(c,e?e.replace(/([^,])+/g,h=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,h):h?h+" "+p:p)):l):c!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=gs.p?gs.p(l,c):l+":"+c+";")}return t+(e&&o?e+"{"+o+"}":o)+s},br={},qv=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+qv(n[t]);return e}return n},pT=(n,e,t,s,o)=>{let l=qv(n),c=br[l]||(br[l]=(p=>{let v=0,x=11;for(;v<p.length;)x=101*x+p.charCodeAt(v++)>>>0;return"go"+x})(l));if(!br[c]){let p=l!==n?n:(v=>{let x,T,A=[{}];for(;x=hT.exec(v.replace(fT,""));)x[4]?A.shift():x[3]?(T=x[3].replace(ty," ").trim(),A.unshift(A[0][T]=A[0][T]||{})):A[0][x[1]]=x[2].replace(ty," ").trim();return A[0]})(n);br[c]=gs(o?{["@keyframes "+c]:p}:p,t?"":"."+c)}let h=t&&br.g?br.g:null;return t&&(br.g=br[c]),((p,v,x,T)=>{T?v.data=v.data.replace(T,p):v.data.indexOf(p)===-1&&(v.data=x?p+v.data:v.data+p)})(br[c],e,s,h),c},mT=(n,e,t)=>n.reduce((s,o,l)=>{let c=e[l];if(c&&c.call){let h=c(t),p=h&&h.props&&h.props.className||/^go/.test(h)&&h;c=p?"."+p:h&&typeof h=="object"?h.props?"":gs(h,""):h===!1?"":h}return s+o+(c??"")},"");function Ac(n){let e=this||{},t=n.call?n(e.p):n;return pT(t.unshift?t.raw?mT(t,[].slice.call(arguments,1),e.p):t.reduce((s,o)=>Object.assign(s,o&&o.call?o(e.p):o),{}):t,dT(e.target),e.g,e.o,e.k)}let Wv,Gh,Qh;Ac.bind({g:1});let Lr=Ac.bind({k:1});function gT(n,e,t,s){gs.p=e,Wv=n,Gh=t,Qh=s}function bs(n,e){let t=this||{};return function(){let s=arguments;function o(l,c){let h=Object.assign({},l),p=h.className||o.className;t.p=Object.assign({theme:Gh&&Gh()},h),t.o=/ *go\d+/.test(p),h.className=Ac.apply(t,s)+(p?" "+p:"");let v=n;return n[0]&&(v=h.as||n,delete h.as),Qh&&v[0]&&Qh(h),Wv(v,h)}return o}}var yT=n=>typeof n=="function",oc=(n,e)=>yT(n)?n(e):n,vT=(()=>{let n=0;return()=>(++n).toString()})(),Hv=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),_T=20,Cf="default",Kv=(n,e)=>{let{toastLimit:t}=n.settings;switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,t)};case 1:return{...n,toasts:n.toasts.map(c=>c.id===e.toast.id?{...c,...e.toast}:c)};case 2:let{toast:s}=e;return Kv(n,{type:n.toasts.find(c=>c.id===s.id)?1:0,toast:s});case 3:let{toastId:o}=e;return{...n,toasts:n.toasts.map(c=>c.id===o||o===void 0?{...c,dismissed:!0,visible:!1}:c)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(c=>c.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let l=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(c=>({...c,pauseDuration:c.pauseDuration+l}))}}},Gu=[],Gv={toasts:[],pausedAt:void 0,settings:{toastLimit:_T}},ir={},Qv=(n,e=Cf)=>{ir[e]=Kv(ir[e]||Gv,n),Gu.forEach(([t,s])=>{t===e&&s(ir[e])})},Yv=n=>Object.keys(ir).forEach(e=>Qv(n,e)),wT=n=>Object.keys(ir).find(e=>ir[e].toasts.some(t=>t.id===n)),Rc=(n=Cf)=>e=>{Qv(e,n)},xT={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},ET=(n={},e=Cf)=>{let[t,s]=$.useState(ir[e]||Gv),o=$.useRef(ir[e]);$.useEffect(()=>(o.current!==ir[e]&&s(ir[e]),Gu.push([e,s]),()=>{let c=Gu.findIndex(([h])=>h===e);c>-1&&Gu.splice(c,1)}),[e]);let l=t.toasts.map(c=>{var h,p,v;return{...n,...n[c.type],...c,removeDelay:c.removeDelay||((h=n[c.type])==null?void 0:h.removeDelay)||n?.removeDelay,duration:c.duration||((p=n[c.type])==null?void 0:p.duration)||n?.duration||xT[c.type],style:{...n.style,...(v=n[c.type])==null?void 0:v.style,...c.style}}});return{...t,toasts:l}},TT=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:t?.id||vT()}),dl=n=>(e,t)=>{let s=TT(e,n,t);return Rc(s.toasterId||wT(s.id))({type:2,toast:s}),s.id},Ze=(n,e)=>dl("blank")(n,e);Ze.error=dl("error");Ze.success=dl("success");Ze.loading=dl("loading");Ze.custom=dl("custom");Ze.dismiss=(n,e)=>{let t={type:3,toastId:n};e?Rc(e)(t):Yv(t)};Ze.dismissAll=n=>Ze.dismiss(void 0,n);Ze.remove=(n,e)=>{let t={type:4,toastId:n};e?Rc(e)(t):Yv(t)};Ze.removeAll=n=>Ze.remove(void 0,n);Ze.promise=(n,e,t)=>{let s=Ze.loading(e.loading,{...t,...t?.loading});return typeof n=="function"&&(n=n()),n.then(o=>{let l=e.success?oc(e.success,o):void 0;return l?Ze.success(l,{id:s,...t,...t?.success}):Ze.dismiss(s),o}).catch(o=>{let l=e.error?oc(e.error,o):void 0;l?Ze.error(l,{id:s,...t,...t?.error}):Ze.dismiss(s)}),n};var IT=1e3,ST=(n,e="default")=>{let{toasts:t,pausedAt:s}=ET(n,e),o=$.useRef(new Map).current,l=$.useCallback((T,A=IT)=>{if(o.has(T))return;let D=setTimeout(()=>{o.delete(T),c({type:4,toastId:T})},A);o.set(T,D)},[]);$.useEffect(()=>{if(s)return;let T=Date.now(),A=t.map(D=>{if(D.duration===1/0)return;let q=(D.duration||0)+D.pauseDuration-(T-D.createdAt);if(q<0){D.visible&&Ze.dismiss(D.id);return}return setTimeout(()=>Ze.dismiss(D.id,e),q)});return()=>{A.forEach(D=>D&&clearTimeout(D))}},[t,s,e]);let c=$.useCallback(Rc(e),[e]),h=$.useCallback(()=>{c({type:5,time:Date.now()})},[c]),p=$.useCallback((T,A)=>{c({type:1,toast:{id:T,height:A}})},[c]),v=$.useCallback(()=>{s&&c({type:6,time:Date.now()})},[s,c]),x=$.useCallback((T,A)=>{let{reverseOrder:D=!1,gutter:q=8,defaultPosition:W}=A||{},F=t.filter(ee=>(ee.position||W)===(T.position||W)&&ee.height),ie=F.findIndex(ee=>ee.id===T.id),ue=F.filter((ee,ae)=>ae<ie&&ee.visible).length;return F.filter(ee=>ee.visible).slice(...D?[ue+1]:[0,ue]).reduce((ee,ae)=>ee+(ae.height||0)+q,0)},[t]);return $.useEffect(()=>{t.forEach(T=>{if(T.dismissed)l(T.id,T.removeDelay);else{let A=o.get(T.id);A&&(clearTimeout(A),o.delete(T.id))}})},[t,l]),{toasts:t,handlers:{updateHeight:p,startPause:h,endPause:v,calculateOffset:x}}},AT=Lr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,RT=Lr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,NT=Lr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,kT=bs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${AT} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${RT} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${NT} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,CT=Lr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,PT=bs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${CT} 1s linear infinite;
`,bT=Lr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,jT=Lr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,DT=bs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${bT} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${jT} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,OT=bs("div")`
  position: absolute;
`,VT=bs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,LT=Lr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,MT=bs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${LT} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,FT=({toast:n})=>{let{icon:e,type:t,iconTheme:s}=n;return e!==void 0?typeof e=="string"?$.createElement(MT,null,e):e:t==="blank"?null:$.createElement(VT,null,$.createElement(PT,{...s}),t!=="loading"&&$.createElement(OT,null,t==="error"?$.createElement(kT,{...s}):$.createElement(DT,{...s})))},UT=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,BT=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,zT="0%{opacity:0;} 100%{opacity:1;}",$T="0%{opacity:1;} 100%{opacity:0;}",qT=bs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,WT=bs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,HT=(n,e)=>{let t=n.includes("top")?1:-1,[s,o]=Hv()?[zT,$T]:[UT(t),BT(t)];return{animation:e?`${Lr(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Lr(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},KT=$.memo(({toast:n,position:e,style:t,children:s})=>{let o=n.height?HT(n.position||e||"top-center",n.visible):{opacity:0},l=$.createElement(FT,{toast:n}),c=$.createElement(WT,{...n.ariaProps},oc(n.message,n));return $.createElement(qT,{className:n.className,style:{...o,...t,...n.style}},typeof s=="function"?s({icon:l,message:c}):$.createElement($.Fragment,null,l,c))});gT($.createElement);var GT=({id:n,className:e,style:t,onHeightUpdate:s,children:o})=>{let l=$.useCallback(c=>{if(c){let h=()=>{let p=c.getBoundingClientRect().height;s(n,p)};h(),new MutationObserver(h).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[n,s]);return $.createElement("div",{ref:l,className:e,style:t},o)},QT=(n,e)=>{let t=n.includes("top"),s=t?{top:0}:{bottom:0},o=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Hv()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...s,...o}},YT=Ac`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Bu=16,XT=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:s,children:o,toasterId:l,containerStyle:c,containerClassName:h})=>{let{toasts:p,handlers:v}=ST(t,l);return $.createElement("div",{"data-rht-toaster":l||"",style:{position:"fixed",zIndex:9999,top:Bu,left:Bu,right:Bu,bottom:Bu,pointerEvents:"none",...c},className:h,onMouseEnter:v.startPause,onMouseLeave:v.endPause},p.map(x=>{let T=x.position||e,A=v.calculateOffset(x,{reverseOrder:n,gutter:s,defaultPosition:e}),D=QT(T,A);return $.createElement(GT,{id:x.id,key:x.id,onHeightUpdate:v.updateHeight,className:x.visible?YT:"",style:D},x.type==="custom"?oc(x.message,x):o?o(x):$.createElement(KT,{toast:x,position:T}))}))};const vo=({children:n})=>m.jsxs("div",{className:"min-h-screen flex flex-col",children:[m.jsx(uT,{}),m.jsx("main",{className:"flex-grow container mx-auto px-4 py-6",children:n}),m.jsx(XT,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]}),JT=$.createContext(),ZT=({children:n})=>{const[e,t]=$.useState(null),[s,o]=$.useState(!0);$.useEffect(()=>{const h=localStorage.getItem("miwebcaribe_user");h&&t(JSON.parse(h)),o(!1)},[]);const l=(h,p)=>{if(h==="admin@miwebcaribe.com"&&p==="admin123"){const v={email:h,role:"admin",name:"Administrador"};return t(v),localStorage.setItem("miwebcaribe_user",JSON.stringify(v)),{success:!0}}return{success:!1,error:"Credenciales incorrectas"}},c=()=>{t(null),localStorage.removeItem("miwebcaribe_user")};return m.jsx(JT.Provider,{value:{user:e,loading:s,login:l,logout:c},children:n})},Xv=$.createContext(),eI=()=>{const n=$.useContext(Xv);if(!n)throw new Error("useCart must be used within CartProvider");return n},tI=({children:n})=>{const[e,t]=$.useState([]),c={items:e,addToCart:h=>{t([...e,h])},removeFromCart:h=>{t(e.filter(p=>p.id!==h))},clearCart:()=>{t([])},cartCount:e.length,cartTotal:e.reduce((h,p)=>h+(p.price||0),0)};return m.jsx(Xv.Provider,{value:c,children:n})},nI=()=>{const n=cl(),e=()=>{localStorage.removeItem("isAdmin"),n("/login")};return m.jsxs("div",{className:"flex h-screen bg-gray-50",children:[m.jsxs("div",{className:"w-64 bg-white border-r shadow-sm flex flex-col",children:[m.jsxs("div",{className:"p-6 border-b",children:[m.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Admin Panel"}),m.jsx("p",{className:"text-sm text-gray-500",children:"MiWebCaribe"})]}),m.jsxs("nav",{className:"flex-1 p-4 space-y-1",children:[m.jsxs(nt,{to:"/admin/dashboard",className:"flex items-center px-4 py-2.5 text-gray-700 rounded-lg hover:bg-gray-100",children:[m.jsx("span",{className:"mr-3",children:""})," Dashboard"]}),m.jsxs(nt,{to:"/admin/products",className:"flex items-center px-4 py-2.5 text-gray-700 rounded-lg hover:bg-gray-100",children:[m.jsx("span",{className:"mr-3",children:""})," Productos"]}),m.jsxs(nt,{to:"/admin/orders",className:"flex items-center px-4 py-2.5 text-gray-700 rounded-lg hover:bg-gray-100",children:[m.jsx("span",{className:"mr-3",children:""})," rdenes"]}),m.jsxs(nt,{to:"/admin/analytics",className:"flex items-center px-4 py-2.5 text-gray-700 rounded-lg hover:bg-gray-100",children:[m.jsx("span",{className:"mr-3",children:""})," Analticas"]}),m.jsxs(nt,{to:"/admin/customers",className:"flex items-center px-4 py-2.5 text-gray-700 rounded-lg hover:bg-gray-100",children:[m.jsx("span",{className:"mr-3",children:""})," Clientes"]}),m.jsxs(nt,{to:"/admin/settings",className:"flex items-center px-4 py-2.5 text-gray-700 rounded-lg hover:bg-gray-100",children:[m.jsx("span",{className:"mr-3",children:""})," Configuracin"]})]}),m.jsxs("div",{className:"p-4 border-t space-y-2",children:[m.jsxs("a",{href:"/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2.5 text-gray-600 rounded-lg hover:bg-gray-100 w-full",children:[m.jsx("span",{className:"mr-3",children:""})," Ver Tienda"]}),m.jsxs("button",{onClick:e,className:"flex items-center px-4 py-2.5 text-red-600 rounded-lg hover:bg-red-50 w-full",children:[m.jsx("span",{className:"mr-3",children:""})," Cerrar Sesin"]})]})]}),m.jsxs("div",{className:"flex-1 overflow-auto",children:[m.jsx("header",{className:"bg-white border-b px-8 py-4",children:m.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Panel de Administracin"})}),m.jsx("main",{className:"p-6",children:m.jsx(YE,{})})]})]})};var rI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const sI=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iI=(n,e)=>{const t=$.forwardRef(({color:s="currentColor",size:o=24,strokeWidth:l=2,absoluteStrokeWidth:c,children:h,...p},v)=>$.createElement("svg",{ref:v,...rI,width:o,height:o,stroke:s,strokeWidth:c?Number(l)*24/Number(o):l,className:`lucide lucide-${sI(n)}`,...p},[...e.map(([x,T])=>$.createElement(x,T)),...(Array.isArray(h)?h:[h])||[]]));return t.displayName=`${n}`,t};var Gt=iI;const oI=Gt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),aI=Gt("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),lI=Gt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),uI=Gt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Yh=Gt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Jv=Gt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),cI=Gt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),dI=Gt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),kh=Gt("Package",[["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),hI=Gt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Qu=Gt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),Eo=Gt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),fI=Gt("Truck",[["path",{d:"M10 17h4V5H2v12h3",key:"1jq12e"}],["path",{d:"M20 17h2v-3.34a4 4 0 0 0-1.17-2.83L19 9h-5",key:"1xb3ft"}],["path",{d:"M14 17h1",key:"nufu4t"}],["circle",{cx:"7.5",cy:"17.5",r:"2.5",key:"a7aife"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),Xh=Gt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),pI=Gt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),mI=()=>{const n=[{title:"Ventas Hoy",value:"$2,850",change:"+12.5%",icon:m.jsx(Yh,{className:"w-6 h-6"}),color:"bg-green-500"},{title:"rdenes",value:"48",change:"+8.2%",icon:m.jsx(Qu,{className:"w-6 h-6"}),color:"bg-blue-500"},{title:"Visitas",value:"1,240",change:"+5.7%",icon:m.jsx(Xh,{className:"w-6 h-6"}),color:"bg-purple-500"},{title:"Productos",value:"156",change:"+3.4%",icon:m.jsx(kh,{className:"w-6 h-6"}),color:"bg-orange-500"}],e=[{id:"#ORD-001",customer:"Juan Prez",amount:"$149.99",status:"Completado",date:"Hoy, 10:30"},{id:"#ORD-002",customer:"Mara Garca",amount:"$89.50",status:"Pendiente",date:"Hoy, 09:15"},{id:"#ORD-003",customer:"Carlos Lpez",amount:"$299.99",status:"Enviado",date:"Ayer, 16:45"},{id:"#ORD-004",customer:"Ana Rodrguez",amount:"$45.99",status:"Completado",date:"Ayer, 14:20"},{id:"#ORD-005",customer:"Pedro Martnez",amount:"$189.99",status:"Cancelado",date:"10 Feb"}],t=[{name:"Smartphone X",stock:3,minStock:10},{name:"Audfonos Bluetooth",stock:5,minStock:15},{name:"Cargador USB-C",stock:2,minStock:20},{name:"Fundas iPhone",stock:8,minStock:25}];return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),m.jsx("p",{className:"text-gray-600",children:"Resumen general y mtricas de tu tienda"})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map((s,o)=>m.jsx("div",{className:"bg-white rounded-xl shadow p-6",children:m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-500",children:s.title}),m.jsx("p",{className:"text-2xl font-bold mt-2",children:s.value}),m.jsxs("div",{className:"flex items-center mt-2",children:[m.jsx(Eo,{className:"w-4 h-4 text-green-500 mr-1"}),m.jsx("span",{className:"text-sm text-green-500",children:s.change}),m.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"vs ayer"})]})]}),m.jsx("div",{className:`${s.color} p-3 rounded-lg`,children:s.icon})]})},o))}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"bg-white rounded-xl shadow",children:[m.jsxs("div",{className:"p-6 border-b",children:[m.jsx("h2",{className:"text-lg font-semibold",children:"rdenes Recientes"}),m.jsx("p",{className:"text-sm text-gray-500",children:"ltimas 5 rdenes"})]}),m.jsxs("div",{className:"p-6",children:[m.jsx("div",{className:"space-y-4",children:e.map(s=>m.jsxs("div",{className:"flex justify-between items-center p-4 hover:bg-gray-50 rounded-lg",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-medium",children:s.id}),m.jsx("p",{className:"text-sm text-gray-500",children:s.customer})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("p",{className:"font-semibold",children:s.amount}),m.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${s.status==="Completado"?"bg-green-100 text-green-800":s.status==="Pendiente"?"bg-yellow-100 text-yellow-800":s.status==="Enviado"?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:s.status}),m.jsx("p",{className:"text-sm text-gray-500 mt-1",children:s.date})]})]},s.id))}),m.jsx("button",{className:"w-full mt-6 py-3 text-blue-600 hover:bg-blue-50 rounded-lg font-medium",children:"Ver todas las rdenes"})]})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-white rounded-xl shadow",children:[m.jsxs("div",{className:"p-6 border-b",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx(oI,{className:"w-5 h-5 text-red-500 mr-2"}),m.jsx("h2",{className:"text-lg font-semibold",children:"Stock Bajo"})]}),m.jsx("p",{className:"text-sm text-gray-500",children:"Productos que necesitan reabastecimiento"})]}),m.jsx("div",{className:"p-6",children:m.jsx("div",{className:"space-y-4",children:t.map((s,o)=>m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-medium",children:s.name}),m.jsxs("p",{className:"text-sm text-gray-500",children:["Mnimo: ",s.minStock," unidades"]})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("p",{className:`text-lg font-bold ${s.stock<5?"text-red-600":"text-yellow-600"}`,children:[s.stock," unidades"]}),m.jsx("button",{className:"mt-2 text-sm text-blue-600 hover:text-blue-800",children:"Reabastecer"})]})]},o))})})]}),m.jsxs("div",{className:"bg-white rounded-xl shadow",children:[m.jsx("div",{className:"p-6 border-b",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx(uI,{className:"w-5 h-5 text-gray-500 mr-2"}),m.jsx("h2",{className:"text-lg font-semibold",children:"Actividad Reciente"})]})}),m.jsx("div",{className:"p-6",children:m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-start",children:[m.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-3",children:m.jsx(kh,{className:"w-4 h-4 text-green-600"})}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium",children:"Nuevo producto agregado"}),m.jsx("p",{className:"text-sm text-gray-500",children:'"Smart Watch Pro" fue aadido al catlogo'}),m.jsx("p",{className:"text-xs text-gray-400",children:"Hace 2 horas"})]})]}),m.jsxs("div",{className:"flex items-start",children:[m.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-3",children:m.jsx(Qu,{className:"w-4 h-4 text-blue-600"})}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium",children:"Orden completada"}),m.jsx("p",{className:"text-sm text-gray-500",children:"Orden #ORD-001 marcada como completada"}),m.jsx("p",{className:"text-xs text-gray-400",children:"Hace 4 horas"})]})]})]})})]})]})]}),m.jsxs("div",{className:"bg-white rounded-xl shadow p-6",children:[m.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Acciones Rpidas"}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[m.jsxs("button",{className:"p-4 border rounded-lg hover:bg-gray-50 text-center",children:[m.jsx(kh,{className:"w-6 h-6 mx-auto text-gray-600"}),m.jsx("p",{className:"mt-2 font-medium",children:"Agregar Producto"})]}),m.jsxs("button",{className:"p-4 border rounded-lg hover:bg-gray-50 text-center",children:[m.jsx(Qu,{className:"w-6 h-6 mx-auto text-gray-600"}),m.jsx("p",{className:"mt-2 font-medium",children:"Crear Orden"})]}),m.jsxs("button",{className:"p-4 border rounded-lg hover:bg-gray-50 text-center",children:[m.jsx(Eo,{className:"w-6 h-6 mx-auto text-gray-600"}),m.jsx("p",{className:"mt-2 font-medium",children:"Generar Reporte"})]}),m.jsxs("button",{className:"p-4 border rounded-lg hover:bg-gray-50 text-center",children:[m.jsx(Xh,{className:"w-6 h-6 mx-auto text-gray-600"}),m.jsx("p",{className:"mt-2 font-medium",children:"Ver Clientes"})]})]})]})]})};var ny={};const Zv=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},gI=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const o=n[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],c=n[t++],h=n[t++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},e_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const l=n[o],c=o+1<n.length,h=c?n[o+1]:0,p=o+2<n.length,v=p?n[o+2]:0,x=l>>2,T=(l&3)<<4|h>>4;let A=(h&15)<<2|v>>6,D=v&63;p||(D=64,c||(A=64)),s.push(t[x],t[T],t[A],t[D])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Zv(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):gI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],h=o<n.length?t[n.charAt(o)]:0;++o;const v=o<n.length?t[n.charAt(o)]:64;++o;const T=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||h==null||v==null||T==null)throw new yI;const A=l<<2|h>>4;if(s.push(A),v!==64){const D=h<<4&240|v>>2;if(s.push(D),T!==64){const q=v<<6&192|T;s.push(q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class yI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vI=function(n){const e=Zv(n);return e_.encodeByteArray(e,!0)},ac=function(n){return vI(n).replace(/\./g,"")},t_=function(n){try{return e_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function _I(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const wI=()=>_I().__FIREBASE_DEFAULTS__,xI=()=>{if(typeof process>"u"||typeof ny>"u")return;const n=ny.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},EI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&t_(n[1]);return e&&JSON.parse(e)},Nc=()=>{try{return wI()||xI()||EI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},n_=n=>{var e,t;return(t=(e=Nc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},r_=n=>{const e=n_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},s_=()=>{var n;return(n=Nc())===null||n===void 0?void 0:n.config},i_=n=>{var e;return(e=Nc())===null||e===void 0?void 0:e[`_${n}`]};class TI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}function o_(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ac(JSON.stringify(t)),ac(JSON.stringify(c)),""].join(".")}function $t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function II(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function SI(){var n;const e=(n=Nc())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function a_(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function RI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NI(){const n=$t();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function kI(){return!SI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function l_(){try{return typeof indexedDB=="object"}catch{return!1}}function u_(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}function CI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const PI="FirebaseError";class Nn extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=PI,Object.setPrototypeOf(this,Nn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wi.prototype.create)}}class wi{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?bI(l,s):"Error",h=`${this.serviceName}: ${c} (${o}).`;return new Nn(o,h,s)}}function bI(n,e){return n.replace(jI,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const jI=/\{\$([^}]+)}/g;function DI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ja(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=n[o],c=e[o];if(ry(l)&&ry(c)){if(!Ja(l,c))return!1}else if(l!==c)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function ry(n){return n!==null&&typeof n=="object"}function hl(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function OI(n,e){const t=new VI(n,e);return t.subscribe.bind(t)}class VI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");LI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Ch),o.error===void 0&&(o.error=Ch),o.complete===void 0&&(o.complete=Ch);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LI(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ch(){}const MI=1e3,FI=2,UI=14400*1e3,BI=.5;function sy(n,e=MI,t=FI){const s=e*Math.pow(t,n),o=Math.round(BI*s*(Math.random()-.5)*2);return Math.min(UI,s+o)}function It(n){return n&&n._delegate?n._delegate:n}class Rn{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ui="[DEFAULT]";class zI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new TI;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e?.identifier),o=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qI(e))try{this.getOrInitializeService({instanceIdentifier:ui})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=ui){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ui){return this.instances.has(e)}getOptions(e=ui){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);s===h&&c.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&e(c,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:$I(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ui){return this.component?this.component.multipleInstances?e:ui:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $I(n){return n===ui?void 0:n}function qI(n){return n.instantiationMode==="EAGER"}class WI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new zI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Ce;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ce||(Ce={}));const HI={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},KI=Ce.INFO,GI={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},QI=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),o=GI[e];if(o)console[o](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kc{constructor(e){this.name=e,this._logLevel=KI,this._logHandler=QI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const YI=(n,e)=>e.some(t=>n instanceof t);let iy,oy;function XI(){return iy||(iy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JI(){return oy||(oy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const c_=new WeakMap,Jh=new WeakMap,d_=new WeakMap,Ph=new WeakMap,Pf=new WeakMap;function ZI(n){const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Ss(n.result)),o()},c=()=>{s(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&c_.set(t,n)}).catch(()=>{}),Pf.set(e,n),e}function e1(n){if(Jh.has(n))return;const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Jh.set(n,e)}let Zh={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Jh.get(n);if(e==="objectStoreNames")return n.objectStoreNames||d_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ss(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function t1(n){Zh=n(Zh)}function n1(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(bh(this),e,...t);return d_.set(s,e.sort?e.sort():[e]),Ss(s)}:JI().includes(n)?function(...e){return n.apply(bh(this),e),Ss(c_.get(this))}:function(...e){return Ss(n.apply(bh(this),e))}}function r1(n){return typeof n=="function"?n1(n):(n instanceof IDBTransaction&&e1(n),YI(n,XI())?new Proxy(n,Zh):n)}function Ss(n){if(n instanceof IDBRequest)return ZI(n);if(Ph.has(n))return Ph.get(n);const e=r1(n);return e!==n&&(Ph.set(n,e),Pf.set(e,n)),e}const bh=n=>Pf.get(n);function h_(n,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const c=indexedDB.open(n,e),h=Ss(c);return s&&c.addEventListener("upgradeneeded",p=>{s(Ss(c.result),p.oldVersion,p.newVersion,Ss(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),h.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),h}const s1=["get","getKey","getAll","getAllKeys","count"],i1=["put","add","delete","clear"],jh=new Map;function ay(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(jh.get(e))return jh.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=i1.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||s1.includes(t)))return;const l=async function(c,...h){const p=this.transaction(c,o?"readwrite":"readonly");let v=p.store;return s&&(v=v.index(h.shift())),(await Promise.all([v[t](...h),o&&p.done]))[0]};return jh.set(e,l),l}t1(n=>({...n,get:(e,t,s)=>ay(e,t)||n.get(e,t,s),has:(e,t)=>!!ay(e,t)||n.has(e,t)}));class o1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(a1(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function a1(n){const e=n.getComponent();return e?.type==="VERSION"}const ef="@firebase/app",ly="0.10.13";const Mr=new kc("@firebase/app"),l1="@firebase/app-compat",u1="@firebase/analytics-compat",c1="@firebase/analytics",d1="@firebase/app-check-compat",h1="@firebase/app-check",f1="@firebase/auth",p1="@firebase/auth-compat",m1="@firebase/database",g1="@firebase/data-connect",y1="@firebase/database-compat",v1="@firebase/functions",_1="@firebase/functions-compat",w1="@firebase/installations",x1="@firebase/installations-compat",E1="@firebase/messaging",T1="@firebase/messaging-compat",I1="@firebase/performance",S1="@firebase/performance-compat",A1="@firebase/remote-config",R1="@firebase/remote-config-compat",N1="@firebase/storage",k1="@firebase/storage-compat",C1="@firebase/firestore",P1="@firebase/vertexai-preview",b1="@firebase/firestore-compat",j1="firebase",D1="10.14.1";const tf="[DEFAULT]",O1={[ef]:"fire-core",[l1]:"fire-core-compat",[c1]:"fire-analytics",[u1]:"fire-analytics-compat",[h1]:"fire-app-check",[d1]:"fire-app-check-compat",[f1]:"fire-auth",[p1]:"fire-auth-compat",[m1]:"fire-rtdb",[g1]:"fire-data-connect",[y1]:"fire-rtdb-compat",[v1]:"fire-fn",[_1]:"fire-fn-compat",[w1]:"fire-iid",[x1]:"fire-iid-compat",[E1]:"fire-fcm",[T1]:"fire-fcm-compat",[I1]:"fire-perf",[S1]:"fire-perf-compat",[A1]:"fire-rc",[R1]:"fire-rc-compat",[N1]:"fire-gcs",[k1]:"fire-gcs-compat",[C1]:"fire-fst",[b1]:"fire-fst-compat",[P1]:"fire-vertex","fire-js":"fire-js",[j1]:"fire-js-all"};const lc=new Map,V1=new Map,nf=new Map;function uy(n,e){try{n.container.addComponent(e)}catch(t){Mr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Hn(n){const e=n.name;if(nf.has(e))return Mr.debug(`There were multiple attempts to register component ${e}.`),!1;nf.set(e,n);for(const t of lc.values())uy(t,n);for(const t of V1.values())uy(t,n);return!0}function js(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Es(n){return n.settings!==void 0}const L1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},As=new wi("app","Firebase",L1);class M1{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Rn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw As.create("app-deleted",{appName:this._name})}}const xi=D1;function f_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s=Object.assign({name:tf,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw As.create("bad-app-name",{appName:String(o)});if(t||(t=s_()),!t)throw As.create("no-options");const l=lc.get(o);if(l){if(Ja(t,l.options)&&Ja(s,l.config))return l;throw As.create("duplicate-app",{appName:o})}const c=new WI(o);for(const p of nf.values())c.addComponent(p);const h=new M1(t,s,c);return lc.set(o,h),h}function Cc(n=tf){const e=lc.get(n);if(!e&&n===tf&&s_())return f_();if(!e)throw As.create("no-app",{appName:n});return e}function sn(n,e,t){var s;let o=(s=O1[n])!==null&&s!==void 0?s:n;t&&(o+=`-${t}`);const l=o.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const h=[`Unable to register library "${o}" with version "${e}":`];l&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mr.warn(h.join(" "));return}Hn(new Rn(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}const F1="firebase-heartbeat-database",U1=1,Za="firebase-heartbeat-store";let Dh=null;function p_(){return Dh||(Dh=h_(F1,U1,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Za)}catch(t){console.warn(t)}}}}).catch(n=>{throw As.create("idb-open",{originalErrorMessage:n.message})})),Dh}async function B1(n){try{const t=(await p_()).transaction(Za),s=await t.objectStore(Za).get(m_(n));return await t.done,s}catch(e){if(e instanceof Nn)Mr.warn(e.message);else{const t=As.create("idb-get",{originalErrorMessage:e?.message});Mr.warn(t.message)}}}async function cy(n,e){try{const s=(await p_()).transaction(Za,"readwrite");await s.objectStore(Za).put(e,m_(n)),await s.done}catch(t){if(t instanceof Nn)Mr.warn(t.message);else{const s=As.create("idb-set",{originalErrorMessage:t?.message});Mr.warn(s.message)}}}function m_(n){return`${n.name}!${n.options.appId}`}const z1=1024,$1=720*60*60*1e3;class q1{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new H1(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=dy();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const h=new Date(c.date).valueOf();return Date.now()-h<=$1}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Mr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=dy(),{heartbeatsToSend:s,unsentEntries:o}=W1(this._heartbeatsCache.heartbeats),l=ac(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Mr.warn(t),""}}}function dy(){return new Date().toISOString().substring(0,10)}function W1(n,e=z1){const t=[];let s=n.slice();for(const o of n){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),hy(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),hy(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class H1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return l_()?u_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await B1(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return cy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return cy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function hy(n){return ac(JSON.stringify({version:2,heartbeats:n})).length}function K1(n){Hn(new Rn("platform-logger",e=>new o1(e),"PRIVATE")),Hn(new Rn("heartbeat",e=>new q1(e),"PRIVATE")),sn(ef,ly,n),sn(ef,ly,"esm2017"),sn("fire-js","")}K1("");var fy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var hi,g_;(function(){var n;function e(b,S){function N(){}N.prototype=S.prototype,b.D=S.prototype,b.prototype=new N,b.prototype.constructor=b,b.C=function(C,j,V){for(var R=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)R[rt-2]=arguments[rt];return S.prototype[j].apply(C,R)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(b,S,N){N||(N=0);var C=Array(16);if(typeof S=="string")for(var j=0;16>j;++j)C[j]=S.charCodeAt(N++)|S.charCodeAt(N++)<<8|S.charCodeAt(N++)<<16|S.charCodeAt(N++)<<24;else for(j=0;16>j;++j)C[j]=S[N++]|S[N++]<<8|S[N++]<<16|S[N++]<<24;S=b.g[0],N=b.g[1],j=b.g[2];var V=b.g[3],R=S+(V^N&(j^V))+C[0]+3614090360&4294967295;S=N+(R<<7&4294967295|R>>>25),R=V+(j^S&(N^j))+C[1]+3905402710&4294967295,V=S+(R<<12&4294967295|R>>>20),R=j+(N^V&(S^N))+C[2]+606105819&4294967295,j=V+(R<<17&4294967295|R>>>15),R=N+(S^j&(V^S))+C[3]+3250441966&4294967295,N=j+(R<<22&4294967295|R>>>10),R=S+(V^N&(j^V))+C[4]+4118548399&4294967295,S=N+(R<<7&4294967295|R>>>25),R=V+(j^S&(N^j))+C[5]+1200080426&4294967295,V=S+(R<<12&4294967295|R>>>20),R=j+(N^V&(S^N))+C[6]+2821735955&4294967295,j=V+(R<<17&4294967295|R>>>15),R=N+(S^j&(V^S))+C[7]+4249261313&4294967295,N=j+(R<<22&4294967295|R>>>10),R=S+(V^N&(j^V))+C[8]+1770035416&4294967295,S=N+(R<<7&4294967295|R>>>25),R=V+(j^S&(N^j))+C[9]+2336552879&4294967295,V=S+(R<<12&4294967295|R>>>20),R=j+(N^V&(S^N))+C[10]+4294925233&4294967295,j=V+(R<<17&4294967295|R>>>15),R=N+(S^j&(V^S))+C[11]+2304563134&4294967295,N=j+(R<<22&4294967295|R>>>10),R=S+(V^N&(j^V))+C[12]+1804603682&4294967295,S=N+(R<<7&4294967295|R>>>25),R=V+(j^S&(N^j))+C[13]+4254626195&4294967295,V=S+(R<<12&4294967295|R>>>20),R=j+(N^V&(S^N))+C[14]+2792965006&4294967295,j=V+(R<<17&4294967295|R>>>15),R=N+(S^j&(V^S))+C[15]+1236535329&4294967295,N=j+(R<<22&4294967295|R>>>10),R=S+(j^V&(N^j))+C[1]+4129170786&4294967295,S=N+(R<<5&4294967295|R>>>27),R=V+(N^j&(S^N))+C[6]+3225465664&4294967295,V=S+(R<<9&4294967295|R>>>23),R=j+(S^N&(V^S))+C[11]+643717713&4294967295,j=V+(R<<14&4294967295|R>>>18),R=N+(V^S&(j^V))+C[0]+3921069994&4294967295,N=j+(R<<20&4294967295|R>>>12),R=S+(j^V&(N^j))+C[5]+3593408605&4294967295,S=N+(R<<5&4294967295|R>>>27),R=V+(N^j&(S^N))+C[10]+38016083&4294967295,V=S+(R<<9&4294967295|R>>>23),R=j+(S^N&(V^S))+C[15]+3634488961&4294967295,j=V+(R<<14&4294967295|R>>>18),R=N+(V^S&(j^V))+C[4]+3889429448&4294967295,N=j+(R<<20&4294967295|R>>>12),R=S+(j^V&(N^j))+C[9]+568446438&4294967295,S=N+(R<<5&4294967295|R>>>27),R=V+(N^j&(S^N))+C[14]+3275163606&4294967295,V=S+(R<<9&4294967295|R>>>23),R=j+(S^N&(V^S))+C[3]+4107603335&4294967295,j=V+(R<<14&4294967295|R>>>18),R=N+(V^S&(j^V))+C[8]+1163531501&4294967295,N=j+(R<<20&4294967295|R>>>12),R=S+(j^V&(N^j))+C[13]+2850285829&4294967295,S=N+(R<<5&4294967295|R>>>27),R=V+(N^j&(S^N))+C[2]+4243563512&4294967295,V=S+(R<<9&4294967295|R>>>23),R=j+(S^N&(V^S))+C[7]+1735328473&4294967295,j=V+(R<<14&4294967295|R>>>18),R=N+(V^S&(j^V))+C[12]+2368359562&4294967295,N=j+(R<<20&4294967295|R>>>12),R=S+(N^j^V)+C[5]+4294588738&4294967295,S=N+(R<<4&4294967295|R>>>28),R=V+(S^N^j)+C[8]+2272392833&4294967295,V=S+(R<<11&4294967295|R>>>21),R=j+(V^S^N)+C[11]+1839030562&4294967295,j=V+(R<<16&4294967295|R>>>16),R=N+(j^V^S)+C[14]+4259657740&4294967295,N=j+(R<<23&4294967295|R>>>9),R=S+(N^j^V)+C[1]+2763975236&4294967295,S=N+(R<<4&4294967295|R>>>28),R=V+(S^N^j)+C[4]+1272893353&4294967295,V=S+(R<<11&4294967295|R>>>21),R=j+(V^S^N)+C[7]+4139469664&4294967295,j=V+(R<<16&4294967295|R>>>16),R=N+(j^V^S)+C[10]+3200236656&4294967295,N=j+(R<<23&4294967295|R>>>9),R=S+(N^j^V)+C[13]+681279174&4294967295,S=N+(R<<4&4294967295|R>>>28),R=V+(S^N^j)+C[0]+3936430074&4294967295,V=S+(R<<11&4294967295|R>>>21),R=j+(V^S^N)+C[3]+3572445317&4294967295,j=V+(R<<16&4294967295|R>>>16),R=N+(j^V^S)+C[6]+76029189&4294967295,N=j+(R<<23&4294967295|R>>>9),R=S+(N^j^V)+C[9]+3654602809&4294967295,S=N+(R<<4&4294967295|R>>>28),R=V+(S^N^j)+C[12]+3873151461&4294967295,V=S+(R<<11&4294967295|R>>>21),R=j+(V^S^N)+C[15]+530742520&4294967295,j=V+(R<<16&4294967295|R>>>16),R=N+(j^V^S)+C[2]+3299628645&4294967295,N=j+(R<<23&4294967295|R>>>9),R=S+(j^(N|~V))+C[0]+4096336452&4294967295,S=N+(R<<6&4294967295|R>>>26),R=V+(N^(S|~j))+C[7]+1126891415&4294967295,V=S+(R<<10&4294967295|R>>>22),R=j+(S^(V|~N))+C[14]+2878612391&4294967295,j=V+(R<<15&4294967295|R>>>17),R=N+(V^(j|~S))+C[5]+4237533241&4294967295,N=j+(R<<21&4294967295|R>>>11),R=S+(j^(N|~V))+C[12]+1700485571&4294967295,S=N+(R<<6&4294967295|R>>>26),R=V+(N^(S|~j))+C[3]+2399980690&4294967295,V=S+(R<<10&4294967295|R>>>22),R=j+(S^(V|~N))+C[10]+4293915773&4294967295,j=V+(R<<15&4294967295|R>>>17),R=N+(V^(j|~S))+C[1]+2240044497&4294967295,N=j+(R<<21&4294967295|R>>>11),R=S+(j^(N|~V))+C[8]+1873313359&4294967295,S=N+(R<<6&4294967295|R>>>26),R=V+(N^(S|~j))+C[15]+4264355552&4294967295,V=S+(R<<10&4294967295|R>>>22),R=j+(S^(V|~N))+C[6]+2734768916&4294967295,j=V+(R<<15&4294967295|R>>>17),R=N+(V^(j|~S))+C[13]+1309151649&4294967295,N=j+(R<<21&4294967295|R>>>11),R=S+(j^(N|~V))+C[4]+4149444226&4294967295,S=N+(R<<6&4294967295|R>>>26),R=V+(N^(S|~j))+C[11]+3174756917&4294967295,V=S+(R<<10&4294967295|R>>>22),R=j+(S^(V|~N))+C[2]+718787259&4294967295,j=V+(R<<15&4294967295|R>>>17),R=N+(V^(j|~S))+C[9]+3951481745&4294967295,b.g[0]=b.g[0]+S&4294967295,b.g[1]=b.g[1]+(j+(R<<21&4294967295|R>>>11))&4294967295,b.g[2]=b.g[2]+j&4294967295,b.g[3]=b.g[3]+V&4294967295}s.prototype.u=function(b,S){S===void 0&&(S=b.length);for(var N=S-this.blockSize,C=this.B,j=this.h,V=0;V<S;){if(j==0)for(;V<=N;)o(this,b,V),V+=this.blockSize;if(typeof b=="string"){for(;V<S;)if(C[j++]=b.charCodeAt(V++),j==this.blockSize){o(this,C),j=0;break}}else for(;V<S;)if(C[j++]=b[V++],j==this.blockSize){o(this,C),j=0;break}}this.h=j,this.o+=S},s.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var S=1;S<b.length-8;++S)b[S]=0;var N=8*this.o;for(S=b.length-8;S<b.length;++S)b[S]=N&255,N/=256;for(this.u(b),b=Array(16),S=N=0;4>S;++S)for(var C=0;32>C;C+=8)b[N++]=this.g[S]>>>C&255;return b};function l(b,S){var N=h;return Object.prototype.hasOwnProperty.call(N,b)?N[b]:N[b]=S(b)}function c(b,S){this.h=S;for(var N=[],C=!0,j=b.length-1;0<=j;j--){var V=b[j]|0;C&&V==S||(N[j]=V,C=!1)}this.g=N}var h={};function p(b){return-128<=b&&128>b?l(b,function(S){return new c([S|0],0>S?-1:0)}):new c([b|0],0>b?-1:0)}function v(b){if(isNaN(b)||!isFinite(b))return T;if(0>b)return F(v(-b));for(var S=[],N=1,C=0;b>=N;C++)S[C]=b/N|0,N*=4294967296;return new c(S,0)}function x(b,S){if(b.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(b.charAt(0)=="-")return F(x(b.substring(1),S));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=v(Math.pow(S,8)),C=T,j=0;j<b.length;j+=8){var V=Math.min(8,b.length-j),R=parseInt(b.substring(j,j+V),S);8>V?(V=v(Math.pow(S,V)),C=C.j(V).add(v(R))):(C=C.j(N),C=C.add(v(R)))}return C}var T=p(0),A=p(1),D=p(16777216);n=c.prototype,n.m=function(){if(W(this))return-F(this).m();for(var b=0,S=1,N=0;N<this.g.length;N++){var C=this.i(N);b+=(0<=C?C:4294967296+C)*S,S*=4294967296}return b},n.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(q(this))return"0";if(W(this))return"-"+F(this).toString(b);for(var S=v(Math.pow(b,6)),N=this,C="";;){var j=ae(N,S).g;N=ie(N,j.j(S));var V=((0<N.g.length?N.g[0]:N.h)>>>0).toString(b);if(N=j,q(N))return V+C;for(;6>V.length;)V="0"+V;C=V+C}},n.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function q(b){if(b.h!=0)return!1;for(var S=0;S<b.g.length;S++)if(b.g[S]!=0)return!1;return!0}function W(b){return b.h==-1}n.l=function(b){return b=ie(this,b),W(b)?-1:q(b)?0:1};function F(b){for(var S=b.g.length,N=[],C=0;C<S;C++)N[C]=~b.g[C];return new c(N,~b.h).add(A)}n.abs=function(){return W(this)?F(this):this},n.add=function(b){for(var S=Math.max(this.g.length,b.g.length),N=[],C=0,j=0;j<=S;j++){var V=C+(this.i(j)&65535)+(b.i(j)&65535),R=(V>>>16)+(this.i(j)>>>16)+(b.i(j)>>>16);C=R>>>16,V&=65535,R&=65535,N[j]=R<<16|V}return new c(N,N[N.length-1]&-2147483648?-1:0)};function ie(b,S){return b.add(F(S))}n.j=function(b){if(q(this)||q(b))return T;if(W(this))return W(b)?F(this).j(F(b)):F(F(this).j(b));if(W(b))return F(this.j(F(b)));if(0>this.l(D)&&0>b.l(D))return v(this.m()*b.m());for(var S=this.g.length+b.g.length,N=[],C=0;C<2*S;C++)N[C]=0;for(C=0;C<this.g.length;C++)for(var j=0;j<b.g.length;j++){var V=this.i(C)>>>16,R=this.i(C)&65535,rt=b.i(j)>>>16,jt=b.i(j)&65535;N[2*C+2*j]+=R*jt,ue(N,2*C+2*j),N[2*C+2*j+1]+=V*jt,ue(N,2*C+2*j+1),N[2*C+2*j+1]+=R*rt,ue(N,2*C+2*j+1),N[2*C+2*j+2]+=V*rt,ue(N,2*C+2*j+2)}for(C=0;C<S;C++)N[C]=N[2*C+1]<<16|N[2*C];for(C=S;C<2*S;C++)N[C]=0;return new c(N,0)};function ue(b,S){for(;(b[S]&65535)!=b[S];)b[S+1]+=b[S]>>>16,b[S]&=65535,S++}function ee(b,S){this.g=b,this.h=S}function ae(b,S){if(q(S))throw Error("division by zero");if(q(b))return new ee(T,T);if(W(b))return S=ae(F(b),S),new ee(F(S.g),F(S.h));if(W(S))return S=ae(b,F(S)),new ee(F(S.g),S.h);if(30<b.g.length){if(W(b)||W(S))throw Error("slowDivide_ only works with positive integers.");for(var N=A,C=S;0>=C.l(b);)N=Re(N),C=Re(C);var j=Te(N,1),V=Te(C,1);for(C=Te(C,2),N=Te(N,2);!q(C);){var R=V.add(C);0>=R.l(b)&&(j=j.add(N),V=R),C=Te(C,1),N=Te(N,1)}return S=ie(b,j.j(S)),new ee(j,S)}for(j=T;0<=b.l(S);){for(N=Math.max(1,Math.floor(b.m()/S.m())),C=Math.ceil(Math.log(N)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),V=v(N),R=V.j(S);W(R)||0<R.l(b);)N-=C,V=v(N),R=V.j(S);q(V)&&(V=A),j=j.add(V),b=ie(b,R)}return new ee(j,b)}n.A=function(b){return ae(this,b).h},n.and=function(b){for(var S=Math.max(this.g.length,b.g.length),N=[],C=0;C<S;C++)N[C]=this.i(C)&b.i(C);return new c(N,this.h&b.h)},n.or=function(b){for(var S=Math.max(this.g.length,b.g.length),N=[],C=0;C<S;C++)N[C]=this.i(C)|b.i(C);return new c(N,this.h|b.h)},n.xor=function(b){for(var S=Math.max(this.g.length,b.g.length),N=[],C=0;C<S;C++)N[C]=this.i(C)^b.i(C);return new c(N,this.h^b.h)};function Re(b){for(var S=b.g.length+1,N=[],C=0;C<S;C++)N[C]=b.i(C)<<1|b.i(C-1)>>>31;return new c(N,b.h)}function Te(b,S){var N=S>>5;S%=32;for(var C=b.g.length-N,j=[],V=0;V<C;V++)j[V]=0<S?b.i(V+N)>>>S|b.i(V+N+1)<<32-S:b.i(V+N);return new c(j,b.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,g_=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=v,c.fromString=x,hi=c}).apply(typeof fy<"u"?fy:typeof self<"u"?self:typeof window<"u"?window:{});var zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var y_,Ua,v_,Yu,rf,__,w_,x_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,_){return u==Array.prototype||u==Object.prototype||(u[g]=_.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof zu=="object"&&zu];for(var g=0;g<u.length;++g){var _=u[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(u,g){if(g)e:{var _=s;u=u.split(".");for(var E=0;E<u.length-1;E++){var L=u[E];if(!(L in _))break e;_=_[L]}u=u[u.length-1],E=_[u],g=g(E),g!=E&&g!=null&&e(_,u,{configurable:!0,writable:!0,value:g})}}function l(u,g){u instanceof String&&(u+="");var _=0,E=!1,L={next:function(){if(!E&&_<u.length){var z=_++;return{value:g(z,u[z]),done:!1}}return E=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(u){return u||function(){return l(this,function(g,_){return _})}});var c=c||{},h=this||self;function p(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function v(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function x(u,g,_){return u.call.apply(u.bind,arguments)}function T(u,g,_){if(!u)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,E),u.apply(g,L)}}return function(){return u.apply(g,arguments)}}function A(u,g,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x:T,A.apply(null,arguments)}function D(u,g){var _=Array.prototype.slice.call(arguments,1);return function(){var E=_.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function q(u,g){function _(){}_.prototype=g.prototype,u.aa=g.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(E,L,z){for(var Z=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)Z[Fe-2]=arguments[Fe];return g.prototype[L].apply(E,Z)}}function W(u){const g=u.length;if(0<g){const _=Array(g);for(let E=0;E<g;E++)_[E]=u[E];return _}return[]}function F(u,g){for(let _=1;_<arguments.length;_++){const E=arguments[_];if(p(E)){const L=u.length||0,z=E.length||0;u.length=L+z;for(let Z=0;Z<z;Z++)u[L+Z]=E[Z]}else u.push(E)}}class ie{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function ue(u){return/^[\s\xa0]*$/.test(u)}function ee(){var u=h.navigator;return u&&(u=u.userAgent)?u:""}function ae(u){return ae[" "](u),u}ae[" "]=function(){};var Re=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function Te(u,g,_){for(const E in u)g.call(_,u[E],E,u)}function b(u,g){for(const _ in u)g.call(void 0,u[_],_,u)}function S(u){const g={};for(const _ in u)g[_]=u[_];return g}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(u,g){let _,E;for(let L=1;L<arguments.length;L++){E=arguments[L];for(_ in E)u[_]=E[_];for(let z=0;z<N.length;z++)_=N[z],Object.prototype.hasOwnProperty.call(E,_)&&(u[_]=E[_])}}function j(u){var g=1;u=u.split(":");const _=[];for(;0<g&&u.length;)_.push(u.shift()),g--;return u.length&&_.push(u.join(":")),_}function V(u){h.setTimeout(()=>{throw u},0)}function R(){var u=me;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class rt{constructor(){this.h=this.g=null}add(g,_){const E=jt.get();E.set(g,_),this.h?this.h.next=E:this.g=E,this.h=E}}var jt=new ie(()=>new Dt,u=>u.reset());class Dt{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Be,te=!1,me=new rt,re=()=>{const u=h.Promise.resolve(void 0);Be=()=>{u.then(O)}};var O=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(_){V(_)}var g=jt;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}te=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Ie=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};h.addEventListener("test",_,g),h.removeEventListener("test",_,g)}catch{}return u})();function Se(u,g){if(fe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(Re){e:{try{ae(g.nodeName);var L=!0;break e}catch{}L=!1}L||(g=null)}}else _=="mouseover"?g=u.fromElement:_=="mouseout"&&(g=u.toElement);this.relatedTarget=g,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Pe[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Se.aa.h.call(this)}}q(Se,fe);var Pe={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Le="closure_listenable_"+(1e6*Math.random()|0),Me=0;function $e(u,g,_,E,L){this.listener=u,this.proxy=null,this.src=g,this.type=_,this.capture=!!E,this.ha=L,this.key=++Me,this.da=this.fa=!1}function vt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function pr(u){this.src=u,this.g={},this.h=0}pr.prototype.add=function(u,g,_,E,L){var z=u.toString();u=this.g[z],u||(u=this.g[z]=[],this.h++);var Z=qr(u,g,E,L);return-1<Z?(g=u[Z],_||(g.fa=!1)):(g=new $e(g,this.src,z,!!E,L),g.fa=_,u.push(g)),g};function Si(u,g){var _=g.type;if(_ in u.g){var E=u.g[_],L=Array.prototype.indexOf.call(E,g,void 0),z;(z=0<=L)&&Array.prototype.splice.call(E,L,1),z&&(vt(g),u.g[_].length==0&&(delete u.g[_],u.h--))}}function qr(u,g,_,E){for(var L=0;L<u.length;++L){var z=u[L];if(!z.da&&z.listener==g&&z.capture==!!_&&z.ha==E)return L}return-1}var Os="closure_lm_"+(1e6*Math.random()|0),Ai={};function qo(u,g,_,E,L){if(Array.isArray(g)){for(var z=0;z<g.length;z++)qo(u,g[z],_,E,L);return null}return _=Ko(_),u&&u[Le]?u.K(g,_,v(E)?!!E.capture:!1,L):Wo(u,g,_,!1,E,L)}function Wo(u,g,_,E,L,z){if(!g)throw Error("Invalid event type");var Z=v(L)?!!L.capture:!!L,Fe=Ni(u);if(Fe||(u[Os]=Fe=new pr(u)),_=Fe.add(g,_,E,Z,z),_.proxy)return _;if(E=Sl(),_.proxy=E,E.src=u,E.listener=_,u.addEventListener)Ie||(L=Z),L===void 0&&(L=!1),u.addEventListener(g.toString(),E,L);else if(u.attachEvent)u.attachEvent(gr(g.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Sl(){function u(_){return g.call(u.src,u.listener,_)}const g=Ho;return u}function Ri(u,g,_,E,L){if(Array.isArray(g))for(var z=0;z<g.length;z++)Ri(u,g[z],_,E,L);else E=v(E)?!!E.capture:!!E,_=Ko(_),u&&u[Le]?(u=u.i,g=String(g).toString(),g in u.g&&(z=u.g[g],_=qr(z,_,E,L),-1<_&&(vt(z[_]),Array.prototype.splice.call(z,_,1),z.length==0&&(delete u.g[g],u.h--)))):u&&(u=Ni(u))&&(g=u.g[g.toString()],u=-1,g&&(u=qr(g,_,E,L)),(_=-1<u?g[u]:null)&&mr(_))}function mr(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[Le])Si(g.i,u);else{var _=u.type,E=u.proxy;g.removeEventListener?g.removeEventListener(_,E,u.capture):g.detachEvent?g.detachEvent(gr(_),E):g.addListener&&g.removeListener&&g.removeListener(E),(_=Ni(g))?(Si(_,u),_.h==0&&(_.src=null,g[Os]=null)):vt(u)}}}function gr(u){return u in Ai?Ai[u]:Ai[u]="on"+u}function Ho(u,g){if(u.da)u=!0;else{g=new Se(g,this);var _=u.listener,E=u.ha||u.src;u.fa&&mr(u),u=_.call(E,g)}return u}function Ni(u){return u=u[Os],u instanceof pr?u:null}var ki="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ko(u){return typeof u=="function"?u:(u[ki]||(u[ki]=function(g){return u.handleEvent(g)}),u[ki])}function ht(){K.call(this),this.i=new pr(this),this.M=this,this.F=null}q(ht,K),ht.prototype[Le]=!0,ht.prototype.removeEventListener=function(u,g,_,E){Ri(this,u,g,_,E)};function ft(u,g){var _,E=u.F;if(E)for(_=[];E;E=E.F)_.push(E);if(u=u.M,E=g.type||g,typeof g=="string")g=new fe(g,u);else if(g instanceof fe)g.target=g.target||u;else{var L=g;g=new fe(E,u),C(g,L)}if(L=!0,_)for(var z=_.length-1;0<=z;z--){var Z=g.g=_[z];L=yr(Z,E,!0,g)&&L}if(Z=g.g=u,L=yr(Z,E,!0,g)&&L,L=yr(Z,E,!1,g)&&L,_)for(z=0;z<_.length;z++)Z=g.g=_[z],L=yr(Z,E,!1,g)&&L}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var _=u.g[g],E=0;E<_.length;E++)vt(_[E]);delete u.g[g],u.h--}}this.F=null},ht.prototype.K=function(u,g,_,E){return this.i.add(String(u),g,!1,_,E)},ht.prototype.L=function(u,g,_,E){return this.i.add(String(u),g,!0,_,E)};function yr(u,g,_,E){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var L=!0,z=0;z<g.length;++z){var Z=g[z];if(Z&&!Z.da&&Z.capture==_){var Fe=Z.listener,pt=Z.ha||Z.src;Z.fa&&Si(u.i,Z),L=Fe.call(pt,E)!==!1&&L}}return L&&!E.defaultPrevented}function Go(u,g,_){if(typeof u=="function")_&&(u=A(u,_));else if(u&&typeof u.handleEvent=="function")u=A(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:h.setTimeout(u,g||0)}function Wr(u){u.g=Go(()=>{u.g=null,u.i&&(u.i=!1,Wr(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Vs extends K{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Wr(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ls(u){K.call(this),this.h=u,this.g={}}q(Ls,K);var Qo=[];function Yo(u){Te(u.g,function(g,_){this.g.hasOwnProperty(_)&&mr(g)},u),u.g={}}Ls.prototype.N=function(){Ls.aa.N.call(this),Yo(this)},Ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xo=h.JSON.stringify,Jo=h.JSON.parse,Zo=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function Ms(){}Ms.prototype.h=null;function Ci(u){return u.h||(u.h=u.i())}function Pi(){}var yn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gn(){fe.call(this,"d")}q(Gn,fe);function bi(){fe.call(this,"c")}q(bi,fe);var Qn={},ea=null;function Fs(){return ea=ea||new ht}Qn.La="serverreachability";function ta(u){fe.call(this,Qn.La,u)}q(ta,fe);function vr(u){const g=Fs();ft(g,new ta(g))}Qn.STAT_EVENT="statevent";function na(u,g){fe.call(this,Qn.STAT_EVENT,u),this.stat=g}q(na,fe);function st(u){const g=Fs();ft(g,new na(g,u))}Qn.Ma="timingevent";function ji(u,g){fe.call(this,Qn.Ma,u),this.size=g}q(ji,fe);function kn(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},g)}function Us(){this.g=!0}Us.prototype.xa=function(){this.g=!1};function Bs(u,g,_,E,L,z){u.info(function(){if(u.g)if(z)for(var Z="",Fe=z.split("&"),pt=0;pt<Fe.length;pt++){var be=Fe[pt].split("=");if(1<be.length){var _t=be[0];be=be[1];var lt=_t.split("_");Z=2<=lt.length&&lt[1]=="type"?Z+(_t+"="+be+"&"):Z+(_t+"=redacted&")}}else Z=null;else Z=z;return"XMLHTTP REQ ("+E+") [attempt "+L+"]: "+g+`
`+_+`
`+Z})}function Di(u,g,_,E,L,z,Z){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+L+"]: "+g+`
`+_+`
`+z+" "+Z})}function Cn(u,g,_,E){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+Xc(u,_)+(E?" "+E:"")})}function ra(u,g){u.info(function(){return"TIMEOUT: "+g})}Us.prototype.info=function(){};function Xc(u,g){if(!u.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var E=_[u];if(!(2>E.length)){var L=E[1];if(Array.isArray(L)&&!(1>L.length)){var z=L[0];if(z!="noop"&&z!="stop"&&z!="close")for(var Z=1;Z<L.length;Z++)L[Z]=""}}}}return Xo(_)}catch{return g}}var Oi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Al={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Pn;function zs(){}q(zs,Ms),zs.prototype.g=function(){return new XMLHttpRequest},zs.prototype.i=function(){return{}},Pn=new zs;function bn(u,g,_,E){this.j=u,this.i=g,this.l=_,this.R=E||1,this.U=new Ls(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Rl}function Rl(){this.i=null,this.g="",this.h=!1}var sa={},Vi={};function Li(u,g,_){u.L=1,u.v=Yr(un(g)),u.m=_,u.P=!0,ia(u,null)}function ia(u,g){u.F=Date.now(),qe(u),u.A=un(u.v);var _=u.A,E=u.R;Array.isArray(E)||(E=[String(E)]),Jr(_.i,"t",E),u.C=0,_=u.j.J,u.h=new Rl,u.g=Wl(u.j,_?g:null,!u.m),0<u.O&&(u.M=new Vs(A(u.Y,u,u.g),u.O)),g=u.U,_=u.g,E=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Qo[0]=L.toString()),L=Qo);for(var z=0;z<L.length;z++){var Z=qo(_,L[z],E||g.handleEvent,!1,g.h||g);if(!Z)break;g.g[Z.key]=Z}g=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),vr(),Bs(u.i,u.u,u.A,u.l,u.R,u.m)}bn.prototype.ca=function(u){u=u.target;const g=this.M;g&&Yt(u)==3?g.j():this.Y(u)},bn.prototype.Y=function(u){try{if(u==this.g)e:{const lt=Yt(this.g);var g=this.g.Ba();const wn=this.g.Z();if(!(3>lt)&&(lt!=3||this.g&&(this.h.h||this.g.oa()||da(this.g)))){this.J||lt!=4||g==7||(g==8||0>=wn?vr(3):vr(2)),$s(this);var _=this.g.Z();this.X=_;t:if(Nl(this)){var E=da(this.g);u="";var L=E.length,z=Yt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vn(this),Hr(this);var Z="";break t}this.h.i=new h.TextDecoder}for(g=0;g<L;g++)this.h.h=!0,u+=this.h.i.decode(E[g],{stream:!(z&&g==L-1)});E.length=0,this.h.g+=u,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=_==200,Di(this.i,this.u,this.A,this.l,this.R,lt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,pt=this.g;if((Fe=pt.g?pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ue(Fe)){var be=Fe;break t}}be=null}if(_=be)Cn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,oa(this,_);else{this.o=!1,this.s=3,st(12),vn(this),Hr(this);break e}}if(this.P){_=!0;let dn;for(;!this.J&&this.C<Z.length;)if(dn=Jc(this,Z),dn==Vi){lt==4&&(this.s=4,st(14),_=!1),Cn(this.i,this.l,null,"[Incomplete Response]");break}else if(dn==sa){this.s=4,st(15),Cn(this.i,this.l,Z,"[Invalid Chunk]"),_=!1;break}else Cn(this.i,this.l,dn,null),oa(this,dn);if(Nl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),lt!=4||Z.length!=0||this.h.h||(this.s=1,st(16),_=!1),this.o=this.o&&_,!_)Cn(this.i,this.l,Z,"[Invalid Chunked Response]"),vn(this),Hr(this);else if(0<Z.length&&!this.W){this.W=!0;var _t=this.j;_t.g==this&&_t.ba&&!_t.M&&(_t.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),fa(_t),_t.M=!0,st(11))}}else Cn(this.i,this.l,Z,null),oa(this,Z);lt==4&&vn(this),this.o&&!this.J&&(lt==4?Gi(this.j,this):(this.o=!1,qe(this)))}else $i(this.g),_==400&&0<Z.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),vn(this),Hr(this)}}}catch{}};function Nl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Jc(u,g){var _=u.C,E=g.indexOf(`
`,_);return E==-1?Vi:(_=Number(g.substring(_,E)),isNaN(_)?sa:(E+=1,E+_>g.length?Vi:(g=g.slice(E,E+_),u.C=E+_,g)))}bn.prototype.cancel=function(){this.J=!0,vn(this)};function qe(u){u.S=Date.now()+u.I,kl(u,u.I)}function kl(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=kn(A(u.ba,u),g)}function $s(u){u.B&&(h.clearTimeout(u.B),u.B=null)}bn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ra(this.i,this.A),this.L!=2&&(vr(),st(17)),vn(this),this.s=2,Hr(this)):kl(this,this.S-u)};function Hr(u){u.j.G==0||u.J||Gi(u.j,u)}function vn(u){$s(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,Yo(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function oa(u,g){try{var _=u.j;if(_.G!=0&&(_.g==u||qt(_.h,u))){if(!u.K&&qt(_.h,u)&&_.G==3){try{var E=_.Da.g.parse(g)}catch{E=null}if(Array.isArray(E)&&E.length==3){var L=E;if(L[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Ki(_),Ln(_);else break e;Hi(_),st(18)}}else _.za=L[1],0<_.za-_.T&&37500>L[2]&&_.F&&_.v==0&&!_.C&&(_.C=kn(A(_.Za,_),6e3));if(1>=Pl(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Tr(_,11)}else if((u.K||_.g==u)&&Ki(_),!ue(g))for(L=_.Da.g.parse(g),g=0;g<L.length;g++){let be=L[g];if(_.T=be[0],be=be[1],_.G==2)if(be[0]=="c"){_.K=be[1],_.ia=be[2];const _t=be[3];_t!=null&&(_.la=_t,_.j.info("VER="+_.la));const lt=be[4];lt!=null&&(_.Aa=lt,_.j.info("SVER="+_.Aa));const wn=be[5];wn!=null&&typeof wn=="number"&&0<wn&&(E=1.5*wn,_.L=E,_.j.info("backChannelRequestTimeoutMs_="+E)),E=_;const dn=u.g;if(dn){const Ys=dn.g?dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ys){var z=E.h;z.g||Ys.indexOf("spdy")==-1&&Ys.indexOf("quic")==-1&&Ys.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(aa(z,z.h),z.h=null))}if(E.D){const Yi=dn.g?dn.g.getResponseHeader("X-HTTP-Session-Id"):null;Yi&&(E.ya=Yi,ze(E.I,E.D,Yi))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),E=_;var Z=u;if(E.qa=ql(E,E.J?E.ia:null,E.W),Z.K){bl(E.h,Z);var Fe=Z,pt=E.L;pt&&(Fe.I=pt),Fe.B&&($s(Fe),qe(Fe)),E.g=Z}else Qs(E);0<_.i.length&&Zn(_)}else be[0]!="stop"&&be[0]!="close"||Tr(_,7);else _.G==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?Tr(_,7):At(_):be[0]!="noop"&&_.l&&_.l.ta(be),_.v=0)}}vr(4)}catch{}}var Cl=class{constructor(u,g){this.g=u,this.map=g}};function qs(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ln(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Pl(u){return u.h?1:u.g?u.g.size:0}function qt(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function aa(u,g){u.g?u.g.add(g):u.h=g}function bl(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}qs.prototype.cancel=function(){if(this.i=jl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function jl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const _ of u.g.values())g=g.concat(_.D);return g}return W(u.i)}function Mi(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var g=[],_=u.length,E=0;E<_;E++)g.push(u[E]);return g}g=[],_=0;for(E in u)g[_++]=u[E];return g}function Fi(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var g=[];u=u.length;for(var _=0;_<u;_++)g.push(_);return g}g=[],_=0;for(const E in u)g[_++]=E;return g}}}function Kr(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var _=Fi(u),E=Mi(u),L=E.length,z=0;z<L;z++)g.call(void 0,E[z],_&&_[z],u)}var Ws=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zc(u,g){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var E=u[_].indexOf("="),L=null;if(0<=E){var z=u[_].substring(0,E);L=u[_].substring(E+1)}else z=u[_];g(z,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function _r(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof _r){this.h=u.h,Hs(this,u.j),this.o=u.o,this.g=u.g,Gr(this,u.s),this.l=u.l;var g=u.i,_=new Yn;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Qr(this,_),this.m=u.m}else u&&(g=String(u).match(Ws))?(this.h=!1,Hs(this,g[1]||"",!0),this.o=ke(g[2]||""),this.g=ke(g[3]||"",!0),Gr(this,g[4]),this.l=ke(g[5]||"",!0),Qr(this,g[6]||"",!0),this.m=ke(g[7]||"")):(this.h=!1,this.i=new Yn(null,this.h))}_r.prototype.toString=function(){var u=[],g=this.j;g&&u.push(Xr(g,Ui,!0),":");var _=this.g;return(_||g=="file")&&(u.push("//"),(g=this.o)&&u.push(Xr(g,Ui,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Xr(_,_.charAt(0)=="/"?Vl:Ol,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Xr(_,la)),u.join("")};function un(u){return new _r(u)}function Hs(u,g,_){u.j=_?ke(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Gr(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function Qr(u,g,_){g instanceof Yn?(u.i=g,Xn(u.i,u.h)):(_||(g=Xr(g,Ll)),u.i=new Yn(g,u.h))}function ze(u,g,_){u.i.set(g,_)}function Yr(u){return ze(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ke(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Xr(u,g,_){return typeof u=="string"?(u=encodeURI(u).replace(g,Dl),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Dl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ui=/[#\/\?@]/g,Ol=/[#\?:]/g,Vl=/[#\?]/g,Ll=/[#\?@]/g,la=/#/g;function Yn(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function St(u){u.g||(u.g=new Map,u.h=0,u.i&&Zc(u.i,function(g,_){u.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}n=Yn.prototype,n.add=function(u,g){St(this),this.i=null,u=_n(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(g),this.h+=1,this};function jn(u,g){St(u),g=_n(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Dn(u,g){return St(u),g=_n(u,g),u.g.has(g)}n.forEach=function(u,g){St(this),this.g.forEach(function(_,E){_.forEach(function(L){u.call(g,L,E,this)},this)},this)},n.na=function(){St(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let E=0;E<g.length;E++){const L=u[E];for(let z=0;z<L.length;z++)_.push(g[E])}return _},n.V=function(u){St(this);let g=[];if(typeof u=="string")Dn(this,u)&&(g=g.concat(this.g.get(_n(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)g=g.concat(u[_])}return g},n.set=function(u,g){return St(this),this.i=null,u=_n(this,u),Dn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},n.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function Jr(u,g,_){jn(u,g),0<_.length&&(u.i=null,u.g.set(_n(u,g),W(_)),u.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var E=g[_];const z=encodeURIComponent(String(E)),Z=this.V(E);for(E=0;E<Z.length;E++){var L=z;Z[E]!==""&&(L+="="+encodeURIComponent(String(Z[E]))),u.push(L)}}return this.i=u.join("&")};function _n(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function Xn(u,g){g&&!u.j&&(St(u),u.i=null,u.g.forEach(function(_,E){var L=E.toLowerCase();E!=L&&(jn(this,E),Jr(this,L,_))},u)),u.j=g}function ed(u,g){const _=new Us;if(h.Image){const E=new Image;E.onload=D(Qt,_,"TestLoadImage: loaded",!0,g,E),E.onerror=D(Qt,_,"TestLoadImage: error",!1,g,E),E.onabort=D(Qt,_,"TestLoadImage: abort",!1,g,E),E.ontimeout=D(Qt,_,"TestLoadImage: timeout",!1,g,E),h.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else g(!1)}function Ml(u,g){const _=new Us,E=new AbortController,L=setTimeout(()=>{E.abort(),Qt(_,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:E.signal}).then(z=>{clearTimeout(L),z.ok?Qt(_,"TestPingServer: ok",!0,g):Qt(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(L),Qt(_,"TestPingServer: error",!1,g)})}function Qt(u,g,_,E,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),E(_)}catch{}}function td(){this.g=new Zo}function Fl(u,g,_){const E=_||"";try{Kr(u,function(L,z){let Z=L;v(L)&&(Z=Xo(L)),g.push(E+z+"="+encodeURIComponent(Z))})}catch(L){throw g.push(E+"type="+encodeURIComponent("_badmap")),L}}function wr(u){this.l=u.Ub||null,this.j=u.eb||!1}q(wr,Ms),wr.prototype.g=function(){return new Ks(this.l,this.j)},wr.prototype.i=(function(u){return function(){return u}})({});function Ks(u,g){ht.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}q(Ks,ht),n=Ks.prototype,n.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,Vn(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||h).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,On(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Vn(this)),this.g&&(this.readyState=3,Vn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ul(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ul(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?On(this):Vn(this),this.readyState==3&&Ul(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,On(this))},n.Qa=function(u){this.g&&(this.response=u,On(this))},n.ga=function(){this.g&&On(this)};function On(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Vn(u)}n.setRequestHeader=function(u,g){this.u.append(u,g)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=g.next();return u.join(`\r
`)};function Vn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ks.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function xr(u){let g="";return Te(u,function(_,E){g+=E,g+=":",g+=_,g+=`\r
`}),g}function Zr(u,g,_){e:{for(E in _){var E=!1;break e}E=!0}E||(_=xr(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):ze(u,g,_))}function Qe(u){ht.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}q(Qe,ht);var nd=/^https?$/i,ua=["POST","PUT"];n=Qe.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,g,_,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pn.g(),this.v=this.o?Ci(this.o):Ci(Pn),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(z){Gs(this,z);return}if(u=_||"",_=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var L in E)_.set(L,E[L]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const z of E.keys())_.set(z,E.get(z));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(_.keys()).find(z=>z.toLowerCase()=="content-type"),L=h.FormData&&u instanceof h.FormData,!(0<=Array.prototype.indexOf.call(ua,g,void 0))||E||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,Z]of _)this.g.setRequestHeader(z,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zi(this),this.u=!0,this.g.send(u),this.u=!1}catch(z){Gs(this,z)}};function Gs(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,Bi(u),cn(u)}function Bi(u){u.A||(u.A=!0,ft(u,"complete"),ft(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,ft(this,"complete"),ft(this,"abort"),cn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cn(this,!0)),Qe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ca(this):this.bb())},n.bb=function(){ca(this)};function ca(u){if(u.h&&typeof c<"u"&&(!u.v[1]||Yt(u)!=4||u.Z()!=2)){if(u.u&&Yt(u)==4)Go(u.Ea,0,u);else if(ft(u,"readystatechange"),Yt(u)==4){u.h=!1;try{const Z=u.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var E;if(E=Z===0){var L=String(u.D).match(Ws)[1]||null;!L&&h.self&&h.self.location&&(L=h.self.location.protocol.slice(0,-1)),E=!nd.test(L?L.toLowerCase():"")}_=E}if(_)ft(u,"complete"),ft(u,"success");else{u.m=6;try{var z=2<Yt(u)?u.g.statusText:""}catch{z=""}u.l=z+" ["+u.Z()+"]",Bi(u)}}finally{cn(u)}}}}function cn(u,g){if(u.g){zi(u);const _=u.g,E=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||ft(u,"ready");try{_.onreadystatechange=E}catch{}}}function zi(u){u.I&&(h.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Yt(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Yt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),Jo(g)}};function da(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function $i(u){const g={};u=(u.g&&2<=Yt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(ue(u[E]))continue;var _=j(u[E]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const z=g[L]||[];g[L]=z,z.push(_)}b(g,function(E){return E.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Jn(u,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||g}function ha(u){this.Aa=0,this.i=[],this.j=new Us,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Jn("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Jn("baseRetryDelayMs",5e3,u),this.cb=Jn("retryDelaySeedMs",1e4,u),this.Wa=Jn("forwardChannelMaxRetries",2,u),this.wa=Jn("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new qs(u&&u.concurrentRequestLimit),this.Da=new td,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ha.prototype,n.la=8,n.G=1,n.connect=function(u,g,_,E){st(0),this.W=u,this.H=g||{},_&&E!==void 0&&(this.H.OSID=_,this.H.OAID=E),this.F=this.X,this.I=ql(this,null,this.W),Zn(this)};function At(u){if(qi(u),u.G==3){var g=u.U++,_=un(u.I);if(ze(_,"SID",u.K),ze(_,"RID",g),ze(_,"TYPE","terminate"),Er(u,_),g=new bn(u,u.j,g),g.L=2,g.v=Yr(un(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&h.Image&&(new Image().src=g.v,_=!0),_||(g.g=Wl(g.j,null),g.g.ea(g.v)),g.F=Date.now(),qe(g)}$l(u)}function Ln(u){u.g&&(fa(u),u.g.cancel(),u.g=null)}function qi(u){Ln(u),u.u&&(h.clearTimeout(u.u),u.u=null),Ki(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&h.clearTimeout(u.s),u.s=null)}function Zn(u){if(!ln(u.h)&&!u.s){u.s=!0;var g=u.Ga;Be||re(),te||(Be(),te=!0),me.add(g,u),u.B=0}}function rd(u,g){return Pl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=kn(A(u.Ga,u,g),zl(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new bn(this,this.j,u);let z=this.o;if(this.S&&(z?(z=S(z),C(z,this.S)):z=this.S),this.m!==null||this.O||(L.H=z,z=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var E=this.i[_];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(g+=E,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=es(this,L,g),_=un(this.I),ze(_,"RID",u),ze(_,"CVER",22),this.D&&ze(_,"X-HTTP-Session-Id",this.D),Er(this,_),z&&(this.O?g="headers="+encodeURIComponent(String(xr(z)))+"&"+g:this.m&&Zr(_,this.m,z)),aa(this.h,L),this.Ua&&ze(_,"TYPE","init"),this.P?(ze(_,"$req",g),ze(_,"SID","null"),L.T=!0,Li(L,_,null)):Li(L,_,g),this.G=2}}else this.G==3&&(u?Wi(this,u):this.i.length==0||ln(this.h)||Wi(this))};function Wi(u,g){var _;g?_=g.l:_=u.U++;const E=un(u.I);ze(E,"SID",u.K),ze(E,"RID",_),ze(E,"AID",u.T),Er(u,E),u.m&&u.o&&Zr(E,u.m,u.o),_=new bn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),g&&(u.i=g.D.concat(u.i)),g=es(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),aa(u.h,_),Li(_,E,g)}function Er(u,g){u.H&&Te(u.H,function(_,E){ze(g,E,_)}),u.l&&Kr({},function(_,E){ze(g,E,_)})}function es(u,g,_){_=Math.min(u.i.length,_);var E=u.l?A(u.l.Na,u.l,u):null;e:{var L=u.i;let z=-1;for(;;){const Z=["count="+_];z==-1?0<_?(z=L[0].g,Z.push("ofs="+z)):z=0:Z.push("ofs="+z);let Fe=!0;for(let pt=0;pt<_;pt++){let be=L[pt].g;const _t=L[pt].map;if(be-=z,0>be)z=Math.max(0,L[pt].g-100),Fe=!1;else try{Fl(_t,Z,"req"+be+"_")}catch{E&&E(_t)}}if(Fe){E=Z.join("&");break e}}}return u=u.i.splice(0,_),g.D=u,E}function Qs(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;Be||re(),te||(Be(),te=!0),me.add(g,u),u.v=0}}function Hi(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=kn(A(u.Fa,u),zl(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Bl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=kn(A(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),Ln(this),Bl(this))};function fa(u){u.A!=null&&(h.clearTimeout(u.A),u.A=null)}function Bl(u){u.g=new bn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=un(u.qa);ze(g,"RID","rpc"),ze(g,"SID",u.K),ze(g,"AID",u.T),ze(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&ze(g,"TO",u.ja),ze(g,"TYPE","xmlhttp"),Er(u,g),u.m&&u.o&&Zr(g,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Yr(un(g)),_.m=null,_.P=!0,ia(_,u)}n.Za=function(){this.C!=null&&(this.C=null,Ln(this),Hi(this),st(19))};function Ki(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function Gi(u,g){var _=null;if(u.g==g){Ki(u),fa(u),u.g=null;var E=2}else if(qt(u.h,g))_=g.D,bl(u.h,g),E=1;else return;if(u.G!=0){if(g.o)if(E==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var L=u.B;E=Fs(),ft(E,new ji(E,_)),Zn(u)}else Qs(u);else if(L=g.s,L==3||L==0&&0<g.X||!(E==1&&rd(u,g)||E==2&&Hi(u)))switch(_&&0<_.length&&(g=u.h,g.i=g.i.concat(_)),L){case 1:Tr(u,5);break;case 4:Tr(u,10);break;case 3:Tr(u,6);break;default:Tr(u,2)}}}function zl(u,g){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*g}function Tr(u,g){if(u.j.info("Error code "+g),g==2){var _=A(u.fb,u),E=u.Xa;const L=!E;E=new _r(E||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Hs(E,"https"),Yr(E),L?ed(E.toString(),_):Ml(E.toString(),_)}else st(2);u.G=0,u.l&&u.l.sa(g),$l(u),qi(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function $l(u){if(u.G=0,u.ka=[],u.l){const g=jl(u.h);(g.length!=0||u.i.length!=0)&&(F(u.ka,g),F(u.ka,u.i),u.h.i.length=0,W(u.i),u.i.length=0),u.l.ra()}}function ql(u,g,_){var E=_ instanceof _r?un(_):new _r(_);if(E.g!="")g&&(E.g=g+"."+E.g),Gr(E,E.s);else{var L=h.location;E=L.protocol,g=g?g+"."+L.hostname:L.hostname,L=+L.port;var z=new _r(null);E&&Hs(z,E),g&&(z.g=g),L&&Gr(z,L),_&&(z.l=_),E=z}return _=u.D,g=u.ya,_&&g&&ze(E,_,g),ze(E,"VER",u.la),Er(u,E),E}function Wl(u,g,_){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new Qe(new wr({eb:_})):new Qe(u.pa),g.Ha(u.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function pa(){}n=pa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Qi(){}Qi.prototype.g=function(u,g){return new Wt(u,g)};function Wt(u,g){ht.call(this),this.g=new ha(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!ue(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!ue(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new er(this)}q(Wt,ht),Wt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wt.prototype.close=function(){At(this.g)},Wt.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Xo(u),u=_);g.i.push(new Cl(g.Ya++,u)),g.G==3&&Zn(g)},Wt.prototype.N=function(){this.g.l=null,delete this.j,At(this.g),delete this.g,Wt.aa.N.call(this)};function Hl(u){Gn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const _ in g){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}q(Hl,Gn);function Kl(){bi.call(this),this.status=1}q(Kl,bi);function er(u){this.g=u}q(er,pa),er.prototype.ua=function(){ft(this.g,"a")},er.prototype.ta=function(u){ft(this.g,new Hl(u))},er.prototype.sa=function(u){ft(this.g,new Kl)},er.prototype.ra=function(){ft(this.g,"b")},Qi.prototype.createWebChannel=Qi.prototype.g,Wt.prototype.send=Wt.prototype.o,Wt.prototype.open=Wt.prototype.m,Wt.prototype.close=Wt.prototype.close,x_=function(){return new Qi},w_=function(){return Fs()},__=Qn,rf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Oi.NO_ERROR=0,Oi.TIMEOUT=8,Oi.HTTP_ERROR=6,Yu=Oi,Al.COMPLETE="complete",v_=Al,Pi.EventType=yn,yn.OPEN="a",yn.CLOSE="b",yn.ERROR="c",yn.MESSAGE="d",ht.prototype.listen=ht.prototype.K,Ua=Pi,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,y_=Qe}).apply(typeof zu<"u"?zu:typeof self<"u"?self:typeof window<"u"?window:{});const py="@firebase/firestore";class Bt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");let Mo="10.14.0";const pi=new kc("@firebase/firestore");function Fa(){return pi.logLevel}function de(n,...e){if(pi.logLevel<=Ce.DEBUG){const t=e.map(bf);pi.debug(`Firestore (${Mo}): ${n}`,...t)}}function Fr(n,...e){if(pi.logLevel<=Ce.ERROR){const t=e.map(bf);pi.error(`Firestore (${Mo}): ${n}`,...t)}}function No(n,...e){if(pi.logLevel<=Ce.WARN){const t=e.map(bf);pi.warn(`Firestore (${Mo}): ${n}`,...t)}}function bf(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function we(n="Unexpected state"){const e=`FIRESTORE (${Mo}) INTERNAL ASSERTION FAILED: `+n;throw Fr(e),new Error(e)}function Ue(n,e){n||we()}function Ee(n,e){return n}const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends Nn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class E_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class G1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Bt.UNAUTHENTICATED)))}shutdown(){}}class Q1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Y1{constructor(e){this.t=e,this.currentUser=Bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ue(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let l=new Vr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Vr,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},h=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>h(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Vr)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ue(typeof s.accessToken=="string"),new E_(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string"),new Bt(e)}}class X1{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=Bt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class J1{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new X1(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Bt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Z1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eS{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Ue(this.o===void 0);const s=l=>{l.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,de("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const o=l=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ue(typeof t.token=="string"),this.R=t.token,new Z1(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function tS(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}class T_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=tS(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%e.length))}return s}}function Ve(n,e){return n<e?-1:n>e?1:0}function ko(n,e,t){return n.length===e.length&&n.every(((s,o)=>t(s,e[o])))}class yt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new se(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new se(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new se(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new yt(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class xe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new xe(e)}static min(){return new xe(new yt(0,0))}static max(){return new xe(new yt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class el{constructor(e,t,s){t===void 0?t=0:t>e.length&&we(),s===void 0?s=e.length-t:s>e.length-t&&we(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return el.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof el?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=e.get(o),c=t.get(o);if(l<c)return-1;if(l>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ge extends el{construct(e,t,s){return new Ge(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new se(H.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new Ge(t)}static emptyPath(){return new Ge([])}}const nS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends el{construct(e,t,s){return new Ct(e,t,s)}static isValidIdentifier(e){return nS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ct(["__name__"])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new se(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new se(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new se(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else h==="`"?(c=!c,o++):h!=="."||c?(s+=h,o++):(l(),o++)}if(l(),c)throw new se(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(t)}static emptyPath(){return new Ct([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(Ge.fromString(e))}static fromName(e){return new pe(Ge.fromString(e).popFirst(5))}static empty(){return new pe(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ge.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new Ge(e.slice()))}}function rS(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,o=xe.fromTimestamp(s===1e9?new yt(t+1,0):new yt(t,s));return new Ns(o,pe.empty(),e)}function sS(n){return new Ns(n.readTime,n.key,-1)}class Ns{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Ns(xe.min(),pe.empty(),-1)}static max(){return new Ns(xe.max(),pe.empty(),-1)}}function iS(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=pe.comparator(n.documentKey,e.documentKey),t!==0?t:Ve(n.largestBatchId,e.largestBatchId))}const oS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function fl(n){if(n.code!==H.FAILED_PRECONDITION||n.message!==oS)throw n;de("LocalStore","Unexpectedly lost primary lease")}class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Y(((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Y?t:Y.resolve(t)}catch(t){return Y.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Y.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Y.reject(t)}static resolve(e){return new Y(((t,s)=>{t(e)}))}static reject(e){return new Y(((t,s)=>{s(e)}))}static waitFor(e){return new Y(((t,s)=>{let o=0,l=0,c=!1;e.forEach((h=>{++o,h.next((()=>{++l,c&&l===o&&t()}),(p=>s(p)))})),c=!0,l===o&&t()}))}static or(e){let t=Y.resolve(!1);for(const s of e)t=t.next((o=>o?Y.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,l)=>{s.push(t.call(this,o,l))})),this.waitFor(s)}static mapArray(e,t){return new Y(((s,o)=>{const l=e.length,c=new Array(l);let h=0;for(let p=0;p<l;p++){const v=p;t(e[v]).next((x=>{c[v]=x,++h,h===l&&s(c)}),(x=>o(x)))}}))}static doWhile(e,t){return new Y(((s,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):s()};l()}))}}function lS(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function pl(n){return n.name==="IndexedDbTransactionError"}class jf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ie(s),this.se=s=>t.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}jf.oe=-1;function Pc(n){return n==null}function uc(n){return n===0&&1/n==-1/0}function uS(n){return typeof n=="number"&&Number.isInteger(n)&&!uc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function my(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ei(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function I_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class et{constructor(e,t){this.comparator=e,this.root=t||kt.EMPTY}insert(e,t){return new et(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,kt.BLACK,null,null))}remove(e){return new et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $u(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $u(this.root,e,this.comparator,!1)}getReverseIterator(){return new $u(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $u(this.root,e,this.comparator,!0)}}class $u{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kt{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??kt.RED,this.left=o??kt.EMPTY,this.right=l??kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new kt(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return kt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}kt.EMPTY=null,kt.RED=!0,kt.BLACK=!1;kt.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,t,s,o,l){return this}insert(e,t,s){return new kt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pt{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new gy(this.data.getIterator())}getIteratorFrom(e){return new gy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Pt(this.comparator);return t.data=e,t}}class gy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class mn{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new mn([])}unionWith(e){let t=new Pt(Ct.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new mn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ko(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}class S_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class bt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new S_("Invalid base64 string: "+l):l}})(e);return new bt(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l})(e);return new bt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bt.EMPTY_BYTE_STRING=new bt("");const cS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ks(n){if(Ue(!!n),typeof n=="string"){let e=0;const t=cS.exec(n);if(Ue(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ot(n.seconds),nanos:ot(n.nanos)}}function ot(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function mi(n){return typeof n=="string"?bt.fromBase64String(n):bt.fromUint8Array(n)}function Df(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Of(n){const e=n.mapValue.fields.__previous_value__;return Df(e)?Of(e):e}function tl(n){const e=ks(n.mapValue.fields.__local_write_time__.timestampValue);return new yt(e.seconds,e.nanos)}class dS{constructor(e,t,s,o,l,c,h,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=v}}class nl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new nl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof nl&&e.projectId===this.projectId&&e.database===this.database}}const qu={mapValue:{}};function gi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Df(n)?4:fS(n)?9007199254740991:hS(n)?10:11:we()}function cr(n,e){if(n===e)return!0;const t=gi(n);if(t!==gi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return tl(n).isEqual(tl(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=ks(o.timestampValue),h=ks(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,l){return mi(o.bytesValue).isEqual(mi(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,l){return ot(o.geoPointValue.latitude)===ot(l.geoPointValue.latitude)&&ot(o.geoPointValue.longitude)===ot(l.geoPointValue.longitude)})(n,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return ot(o.integerValue)===ot(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=ot(o.doubleValue),h=ot(l.doubleValue);return c===h?uc(c)===uc(h):isNaN(c)&&isNaN(h)}return!1})(n,e);case 9:return ko(n.arrayValue.values||[],e.arrayValue.values||[],cr);case 10:case 11:return(function(o,l){const c=o.mapValue.fields||{},h=l.mapValue.fields||{};if(my(c)!==my(h))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(h[p]===void 0||!cr(c[p],h[p])))return!1;return!0})(n,e);default:return we()}}function rl(n,e){return(n.values||[]).find((t=>cr(t,e)))!==void 0}function Co(n,e){if(n===e)return 0;const t=gi(n),s=gi(e);if(t!==s)return Ve(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(n.booleanValue,e.booleanValue);case 2:return(function(l,c){const h=ot(l.integerValue||l.doubleValue),p=ot(c.integerValue||c.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1})(n,e);case 3:return yy(n.timestampValue,e.timestampValue);case 4:return yy(tl(n),tl(e));case 5:return Ve(n.stringValue,e.stringValue);case 6:return(function(l,c){const h=mi(l),p=mi(c);return h.compareTo(p)})(n.bytesValue,e.bytesValue);case 7:return(function(l,c){const h=l.split("/"),p=c.split("/");for(let v=0;v<h.length&&v<p.length;v++){const x=Ve(h[v],p[v]);if(x!==0)return x}return Ve(h.length,p.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,c){const h=Ve(ot(l.latitude),ot(c.latitude));return h!==0?h:Ve(ot(l.longitude),ot(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return vy(n.arrayValue,e.arrayValue);case 10:return(function(l,c){var h,p,v,x;const T=l.fields||{},A=c.fields||{},D=(h=T.value)===null||h===void 0?void 0:h.arrayValue,q=(p=A.value)===null||p===void 0?void 0:p.arrayValue,W=Ve(((v=D?.values)===null||v===void 0?void 0:v.length)||0,((x=q?.values)===null||x===void 0?void 0:x.length)||0);return W!==0?W:vy(D,q)})(n.mapValue,e.mapValue);case 11:return(function(l,c){if(l===qu.mapValue&&c===qu.mapValue)return 0;if(l===qu.mapValue)return 1;if(c===qu.mapValue)return-1;const h=l.fields||{},p=Object.keys(h),v=c.fields||{},x=Object.keys(v);p.sort(),x.sort();for(let T=0;T<p.length&&T<x.length;++T){const A=Ve(p[T],x[T]);if(A!==0)return A;const D=Co(h[p[T]],v[x[T]]);if(D!==0)return D}return Ve(p.length,x.length)})(n.mapValue,e.mapValue);default:throw we()}}function yy(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ve(n,e);const t=ks(n),s=ks(e),o=Ve(t.seconds,s.seconds);return o!==0?o:Ve(t.nanos,s.nanos)}function vy(n,e){const t=n.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=Co(t[o],s[o]);if(l)return l}return Ve(t.length,s.length)}function Po(n){return sf(n)}function sf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const s=ks(t);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return mi(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return pe.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=sf(l);return s+"]"})(n.arrayValue):"mapValue"in n?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of s)l?l=!1:o+=",",o+=`${c}:${sf(t.fields[c])}`;return o+"}"})(n.mapValue):we()}function _y(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function of(n){return!!n&&"integerValue"in n}function Vf(n){return!!n&&"arrayValue"in n}function wy(n){return!!n&&"nullValue"in n}function xy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Xu(n){return!!n&&"mapValue"in n}function hS(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function qa(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ei(n.mapValue.fields,((t,s)=>e.mapValue.fields[t]=qa(s))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=qa(n.arrayValue.values[t]);return e}return Object.assign({},n)}function fS(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}class rn{constructor(e){this.value=e}static empty(){return new rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Xu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=qa(t)}setAll(e){let t=Ct.emptyPath(),s={},o=[];e.forEach(((c,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=h.popLast()}c?s[h.lastSegment()]=qa(c):o.push(h.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());Xu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return cr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Xu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Ei(t,((o,l)=>e[o]=l));for(const o of s)delete e[o]}clone(){return new rn(qa(this.value))}}function A_(n){const e=[];return Ei(n.fields,((t,s)=>{const o=new Ct([t]);if(Xu(s)){const l=A_(s.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)})),new mn(e)}class zt{constructor(e,t,s,o,l,c,h){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(e){return new zt(e,0,xe.min(),xe.min(),xe.min(),rn.empty(),0)}static newFoundDocument(e,t,s,o){return new zt(e,1,t,xe.min(),s,o,0)}static newNoDocument(e,t){return new zt(e,2,t,xe.min(),xe.min(),rn.empty(),0)}static newUnknownDocument(e,t){return new zt(e,3,t,xe.min(),xe.min(),rn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class cc{constructor(e,t){this.position=e,this.inclusive=t}}function Ey(n,e,t){let s=0;for(let o=0;o<n.position.length;o++){const l=e[o],c=n.position[o];if(l.field.isKeyField()?s=pe.comparator(pe.fromName(c.referenceValue),t.key):s=Co(c,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function Ty(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!cr(n.position[t],e.position[t]))return!1;return!0}class sl{constructor(e,t="asc"){this.field=e,this.dir=t}}function pS(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class R_{}class dt extends R_{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new gS(e,t,s):t==="array-contains"?new _S(e,s):t==="in"?new wS(e,s):t==="not-in"?new xS(e,s):t==="array-contains-any"?new ES(e,s):new dt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new yS(e,s):new vS(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Co(t,this.value)):t!==null&&gi(this.value)===gi(t)&&this.matchesComparison(Co(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends R_{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Kn(e,t)}matches(e){return N_(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function N_(n){return n.op==="and"}function k_(n){return mS(n)&&N_(n)}function mS(n){for(const e of n.filters)if(e instanceof Kn)return!1;return!0}function af(n){if(n instanceof dt)return n.field.canonicalString()+n.op.toString()+Po(n.value);if(k_(n))return n.filters.map((e=>af(e))).join(",");{const e=n.filters.map((t=>af(t))).join(",");return`${n.op}(${e})`}}function C_(n,e){return n instanceof dt?(function(s,o){return o instanceof dt&&s.op===o.op&&s.field.isEqual(o.field)&&cr(s.value,o.value)})(n,e):n instanceof Kn?(function(s,o){return o instanceof Kn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((l,c,h)=>l&&C_(c,o.filters[h])),!0):!1})(n,e):void we()}function P_(n){return n instanceof dt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Po(t.value)}`})(n):n instanceof Kn?(function(t){return t.op.toString()+" {"+t.getFilters().map(P_).join(" ,")+"}"})(n):"Filter"}class gS extends dt{constructor(e,t,s){super(e,t,s),this.key=pe.fromName(s.referenceValue)}matches(e){const t=pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class yS extends dt{constructor(e,t){super(e,"in",t),this.keys=b_("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class vS extends dt{constructor(e,t){super(e,"not-in",t),this.keys=b_("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function b_(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((s=>pe.fromName(s.referenceValue)))}class _S extends dt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Vf(t)&&rl(t.arrayValue,this.value)}}class wS extends dt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&rl(this.value.arrayValue,t)}}class xS extends dt{constructor(e,t){super(e,"not-in",t)}matches(e){if(rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!rl(this.value.arrayValue,t)}}class ES extends dt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Vf(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>rl(this.value.arrayValue,s)))}}class TS{constructor(e,t=null,s=[],o=[],l=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=c,this.endAt=h,this.ue=null}}function Iy(n,e=null,t=[],s=[],o=null,l=null,c=null){return new TS(n,e,t,s,o,l,c)}function Lf(n){const e=Ee(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>af(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Pc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Po(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Po(s))).join(",")),e.ue=t}return e.ue}function Mf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!pS(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!C_(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Ty(n.startAt,e.startAt)&&Ty(n.endAt,e.endAt)}function lf(n){return pe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Fo{constructor(e,t=null,s=[],o=[],l=null,c="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function IS(n,e,t,s,o,l,c,h){return new Fo(n,e,t,s,o,l,c,h)}function Ff(n){return new Fo(n)}function Sy(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function j_(n){return n.collectionGroup!==null}function Wa(n){const e=Ee(n);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Pt(Ct.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((v=>{v.isInequality()&&(h=h.add(v.field))}))})),h})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new sl(l,s))})),t.has(Ct.keyField().canonicalString())||e.ce.push(new sl(Ct.keyField(),s))}return e.ce}function or(n){const e=Ee(n);return e.le||(e.le=SS(e,Wa(n))),e.le}function SS(n,e){if(n.limitType==="F")return Iy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new sl(o.field,l)}));const t=n.endAt?new cc(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new cc(n.startAt.position,n.startAt.inclusive):null;return Iy(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function uf(n,e){const t=n.filters.concat([e]);return new Fo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function cf(n,e,t){return new Fo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function bc(n,e){return Mf(or(n),or(e))&&n.limitType===e.limitType}function D_(n){return`${Lf(or(n))}|lt:${n.limitType}`}function _o(n){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>P_(o))).join(", ")}]`),Pc(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>Po(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>Po(o))).join(",")),`Target(${s})`})(or(n))}; limitType=${n.limitType})`}function jc(n,e){return e.isFoundDocument()&&(function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):pe.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(n,e)&&(function(s,o){for(const l of Wa(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0})(n,e)&&(function(s,o){return!(s.startAt&&!(function(c,h,p){const v=Ey(c,h,p);return c.inclusive?v<=0:v<0})(s.startAt,Wa(s),o)||s.endAt&&!(function(c,h,p){const v=Ey(c,h,p);return c.inclusive?v>=0:v>0})(s.endAt,Wa(s),o))})(n,e)}function AS(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function O_(n){return(e,t)=>{let s=!1;for(const o of Wa(n)){const l=RS(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function RS(n,e,t){const s=n.field.isKeyField()?pe.comparator(e.key,t.key):(function(l,c,h){const p=c.data.field(l),v=h.data.field(l);return p!==null&&v!==null?Co(p,v):we()})(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return we()}}class Uo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ei(this.inner,((t,s)=>{for(const[o,l]of s)e(o,l)}))}isEmpty(){return I_(this.inner)}size(){return this.innerSize}}const NS=new et(pe.comparator);function Ur(){return NS}const V_=new et(pe.comparator);function Ba(...n){let e=V_;for(const t of n)e=e.insert(t.key,t);return e}function L_(n){let e=V_;return n.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function ci(){return Ha()}function M_(){return Ha()}function Ha(){return new Uo((n=>n.toString()),((n,e)=>n.isEqual(e)))}const kS=new et(pe.comparator),CS=new Pt(pe.comparator);function Ne(...n){let e=CS;for(const t of n)e=e.add(t);return e}const PS=new Pt(Ve);function bS(){return PS}function Uf(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uc(e)?"-0":e}}function F_(n){return{integerValue:""+n}}function jS(n,e){return uS(e)?F_(e):Uf(n,e)}class Dc{constructor(){this._=void 0}}function DS(n,e,t){return n instanceof il?(function(o,l){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Df(l)&&(l=Of(l)),l&&(c.fields.__previous_value__=l),{mapValue:c}})(t,e):n instanceof ol?B_(n,e):n instanceof al?z_(n,e):(function(o,l){const c=U_(o,l),h=Ay(c)+Ay(o.Pe);return of(c)&&of(o.Pe)?F_(h):Uf(o.serializer,h)})(n,e)}function OS(n,e,t){return n instanceof ol?B_(n,e):n instanceof al?z_(n,e):t}function U_(n,e){return n instanceof dc?(function(s){return of(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class il extends Dc{}class ol extends Dc{constructor(e){super(),this.elements=e}}function B_(n,e){const t=$_(e);for(const s of n.elements)t.some((o=>cr(o,s)))||t.push(s);return{arrayValue:{values:t}}}class al extends Dc{constructor(e){super(),this.elements=e}}function z_(n,e){let t=$_(e);for(const s of n.elements)t=t.filter((o=>!cr(o,s)));return{arrayValue:{values:t}}}class dc extends Dc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Ay(n){return ot(n.integerValue||n.doubleValue)}function $_(n){return Vf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class VS{constructor(e,t){this.field=e,this.transform=t}}function LS(n,e){return n.field.isEqual(e.field)&&(function(s,o){return s instanceof ol&&o instanceof ol||s instanceof al&&o instanceof al?ko(s.elements,o.elements,cr):s instanceof dc&&o instanceof dc?cr(s.Pe,o.Pe):s instanceof il&&o instanceof il})(n.transform,e.transform)}class MS{constructor(e,t){this.version=e,this.transformResults=t}}class Wn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Wn}static exists(e){return new Wn(void 0,e)}static updateTime(e){return new Wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ju(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Oc{}function q_(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Bf(n.key,Wn.none()):new ml(n.key,n.data,Wn.none());{const t=n.data,s=rn.empty();let o=new Pt(Ct.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?s.delete(l):s.set(l,c),o=o.add(l)}return new Ds(n.key,s,new mn(o.toArray()),Wn.none())}}function FS(n,e,t){n instanceof ml?(function(o,l,c){const h=o.value.clone(),p=Ny(o.fieldTransforms,l,c.transformResults);h.setAll(p),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,e,t):n instanceof Ds?(function(o,l,c){if(!Ju(o.precondition,l))return void l.convertToUnknownDocument(c.version);const h=Ny(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(W_(o)),p.setAll(h),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,e,t):(function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Ka(n,e,t,s){return n instanceof ml?(function(l,c,h,p){if(!Ju(l.precondition,c))return h;const v=l.value.clone(),x=ky(l.fieldTransforms,p,c);return v.setAll(x),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),null})(n,e,t,s):n instanceof Ds?(function(l,c,h,p){if(!Ju(l.precondition,c))return h;const v=ky(l.fieldTransforms,p,c),x=c.data;return x.setAll(W_(l)),x.setAll(v),c.convertToFoundDocument(c.version,x).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((T=>T.field)))})(n,e,t,s):(function(l,c,h){return Ju(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,e,t)}function US(n,e){let t=null;for(const s of n.fieldTransforms){const o=e.data.field(s.field),l=U_(s.transform,o||null);l!=null&&(t===null&&(t=rn.empty()),t.set(s.field,l))}return t||null}function Ry(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ko(s,o,((l,c)=>LS(l,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class ml extends Oc{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ds extends Oc{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function W_(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}})),e}function Ny(n,e,t){const s=new Map;Ue(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],c=l.transform,h=e.data.field(l.field);s.set(l.field,OS(c,h,t[o]))}return s}function ky(n,e,t){const s=new Map;for(const o of n){const l=o.transform,c=t.data.field(o.field);s.set(o.field,DS(l,c,e))}return s}class Bf extends Oc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BS extends Oc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class zS{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&FS(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Ka(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Ka(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=M_();return this.mutations.forEach((o=>{const l=e.get(o.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=t.has(o.key)?null:h;const p=q_(c,h);p!==null&&s.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(xe.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ne())}isEqual(e){return this.batchId===e.batchId&&ko(this.mutations,e.mutations,((t,s)=>Ry(t,s)))&&ko(this.baseMutations,e.baseMutations,((t,s)=>Ry(t,s)))}}class zf{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Ue(e.mutations.length===s.length);let o=(function(){return kS})();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,s[c].version);return new zf(e,t,s,o)}}class $S{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class qS{constructor(e,t){this.count=e,this.unchangedNames=t}}var ct,je;function WS(n){switch(n){default:return we();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function H_(n){if(n===void 0)return Fr("GRPC error has no .code"),H.UNKNOWN;switch(n){case ct.OK:return H.OK;case ct.CANCELLED:return H.CANCELLED;case ct.UNKNOWN:return H.UNKNOWN;case ct.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case ct.INTERNAL:return H.INTERNAL;case ct.UNAVAILABLE:return H.UNAVAILABLE;case ct.UNAUTHENTICATED:return H.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case ct.NOT_FOUND:return H.NOT_FOUND;case ct.ALREADY_EXISTS:return H.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return H.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case ct.ABORTED:return H.ABORTED;case ct.OUT_OF_RANGE:return H.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return H.UNIMPLEMENTED;case ct.DATA_LOSS:return H.DATA_LOSS;default:return we()}}(je=ct||(ct={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";function HS(){return new TextEncoder}const KS=new hi([4294967295,4294967295],0);function Cy(n){const e=HS().encode(n),t=new g_;return t.update(e),new Uint8Array(t.digest())}function Py(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new hi([t,s],0),new hi([o,l],0)]}class $f{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new za(`Invalid padding: ${t}`);if(s<0)throw new za(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new za(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new za(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=hi.fromNumber(this.Ie)}Ee(e,t,s){let o=e.add(t.multiply(hi.fromNumber(s)));return o.compare(KS)===1&&(o=new hi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=Cy(e),[s,o]=Py(t);for(let l=0;l<this.hashCount;l++){const c=this.Ee(s,o,l);if(!this.de(c))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new $f(l,o,t);return s.forEach((h=>c.insert(h))),c}insert(e){if(this.Ie===0)return;const t=Cy(e),[s,o]=Py(t);for(let l=0;l<this.hashCount;l++){const c=this.Ee(s,o,l);this.Ae(c)}}Ae(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class za extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vc{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,gl.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Vc(xe.min(),o,new et(Ve),Ur(),Ne())}}class gl{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new gl(s,t,Ne(),Ne(),Ne())}}class Zu{constructor(e,t,s,o){this.Re=e,this.removedTargetIds=t,this.key=s,this.Ve=o}}class K_{constructor(e,t){this.targetId=e,this.me=t}}class G_{constructor(e,t,s=bt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class by{constructor(){this.fe=0,this.ge=Dy(),this.pe=bt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ne(),t=Ne(),s=Ne();return this.ge.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:we()}})),new gl(this.pe,this.ye,e,t,s)}Ce(){this.we=!1,this.ge=Dy()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ue(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class GS{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ur(),this.qe=jy(),this.Qe=new et(Ve)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const s=this.Ge(t);switch(e.state){case 0:this.ze(t)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),s.De(e.resumeToken));break;default:we()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((s,o)=>{this.ze(o)&&t(o)}))}He(e){const t=e.targetId,s=e.me.count,o=this.Je(t);if(o){const l=o.target;if(lf(l))if(s===0){const c=new pe(l.path);this.Ue(t,c,zt.newNoDocument(c,xe.min()))}else Ue(s===1);else{const c=this.Ye(t);if(c!==s){const h=this.Ze(e),p=h?this.Xe(h,e,c):1;if(p!==0){this.je(t);const v=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,v)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let c,h;try{c=mi(s).toUint8Array()}catch(p){if(p instanceof S_)return No("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{h=new $f(c,o,l)}catch(p){return No(p instanceof za?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return h.Ie===0?null:h}Xe(e,t,s){return t.me.count===s-this.nt(e,t.targetId)?0:2}nt(e,t){const s=this.Le.getRemoteKeysForTarget(t);let o=0;return s.forEach((l=>{const c=this.Le.tt(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.Ue(t,l,null),o++)})),o}rt(e){const t=new Map;this.Be.forEach(((l,c)=>{const h=this.Je(c);if(h){if(l.current&&lf(h.target)){const p=new pe(h.target.path);this.ke.get(p)!==null||this.it(c,p)||this.Ue(c,p,zt.newNoDocument(p,e))}l.be&&(t.set(c,l.ve()),l.Ce())}}));let s=Ne();this.qe.forEach(((l,c)=>{let h=!0;c.forEachWhile((p=>{const v=this.Je(p);return!v||v.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(s=s.add(l))})),this.ke.forEach(((l,c)=>c.setReadTime(e)));const o=new Vc(e,t,this.Qe,this.ke,s);return this.ke=Ur(),this.qe=jy(),this.Qe=new et(Ve),o}$e(e,t){if(!this.ze(e))return;const s=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,s),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,s){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,t)?o.Fe(t,1):o.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),s&&(this.ke=this.ke.insert(t,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new by,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Pt(Ve),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new by),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function jy(){return new et(pe.comparator)}function Dy(){return new et(pe.comparator)}const QS={asc:"ASCENDING",desc:"DESCENDING"},YS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XS={and:"AND",or:"OR"};class JS{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function df(n,e){return n.useProto3Json||Pc(e)?e:{value:e}}function hc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Q_(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function ZS(n,e){return hc(n,e.toTimestamp())}function ar(n){return Ue(!!n),xe.fromTimestamp((function(t){const s=ks(t);return new yt(s.seconds,s.nanos)})(n))}function qf(n,e){return hf(n,e).canonicalString()}function hf(n,e){const t=(function(o){return new Ge(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function Y_(n){const e=Ge.fromString(n);return Ue(t0(e)),e}function ff(n,e){return qf(n.databaseId,e.path)}function Oh(n,e){const t=Y_(e);if(t.get(1)!==n.databaseId.projectId)throw new se(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new se(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new pe(J_(t))}function X_(n,e){return qf(n.databaseId,e)}function eA(n){const e=Y_(n);return e.length===4?Ge.emptyPath():J_(e)}function pf(n){return new Ge(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function J_(n){return Ue(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Oy(n,e,t){return{name:ff(n,e),fields:t.value.mapValue.fields}}function tA(n,e){let t;if("targetChange"in e){e.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:we()})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(v,x){return v.useProto3Json?(Ue(x===void 0||typeof x=="string"),bt.fromBase64String(x||"")):(Ue(x===void 0||x instanceof Buffer||x instanceof Uint8Array),bt.fromUint8Array(x||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(v){const x=v.code===void 0?H.UNKNOWN:H_(v.code);return new se(x,v.message||"")})(c);t=new G_(s,o,l,h||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Oh(n,s.document.name),l=ar(s.document.updateTime),c=s.document.createTime?ar(s.document.createTime):xe.min(),h=new rn({mapValue:{fields:s.document.fields}}),p=zt.newFoundDocument(o,l,c,h),v=s.targetIds||[],x=s.removedTargetIds||[];t=new Zu(v,x,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Oh(n,s.document),l=s.readTime?ar(s.readTime):xe.min(),c=zt.newNoDocument(o,l),h=s.removedTargetIds||[];t=new Zu([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Oh(n,s.document),l=s.removedTargetIds||[];t=new Zu([],l,o,null)}else{if(!("filter"in e))return we();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,c=new qS(o,l),h=s.targetId;t=new K_(h,c)}}return t}function nA(n,e){let t;if(e instanceof ml)t={update:Oy(n,e.key,e.value)};else if(e instanceof Bf)t={delete:ff(n,e.key)};else if(e instanceof Ds)t={update:Oy(n,e.key,e.data),updateMask:dA(e.fieldMask)};else{if(!(e instanceof BS))return we();t={verify:ff(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const h=c.transform;if(h instanceof il)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof ol)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof al)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof dc)return{fieldPath:c.field.canonicalString(),increment:h.Pe};throw we()})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:ZS(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:we()})(n,e.precondition)),t}function rA(n,e){return n&&n.length>0?(Ue(e!==void 0),n.map((t=>(function(o,l){let c=o.updateTime?ar(o.updateTime):ar(l);return c.isEqual(xe.min())&&(c=ar(l)),new MS(c,o.transformResults||[])})(t,e)))):[]}function sA(n,e){return{documents:[X_(n,e.path)]}}function iA(n,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=X_(n,o);const l=(function(v){if(v.length!==0)return e0(Kn.create(v,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(v){if(v.length!==0)return v.map((x=>(function(A){return{field:wo(A.field),direction:lA(A.dir)}})(x)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=df(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{_t:t,parent:o}}function oA(n){let e=eA(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Ue(s===1);const x=t.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let l=[];t.where&&(l=(function(T){const A=Z_(T);return A instanceof Kn&&k_(A)?A.getFilters():[A]})(t.where));let c=[];t.orderBy&&(c=(function(T){return T.map((A=>(function(q){return new sl(xo(q.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(q.direction))})(A)))})(t.orderBy));let h=null;t.limit&&(h=(function(T){let A;return A=typeof T=="object"?T.value:T,Pc(A)?null:A})(t.limit));let p=null;t.startAt&&(p=(function(T){const A=!!T.before,D=T.values||[];return new cc(D,A)})(t.startAt));let v=null;return t.endAt&&(v=(function(T){const A=!T.before,D=T.values||[];return new cc(D,A)})(t.endAt)),IS(e,o,c,l,h,"F",p,v)}function aA(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Z_(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=xo(t.unaryFilter.field);return dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=xo(t.unaryFilter.field);return dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=xo(t.unaryFilter.field);return dt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=xo(t.unaryFilter.field);return dt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return we()}})(n):n.fieldFilter!==void 0?(function(t){return dt.create(xo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Kn.create(t.compositeFilter.filters.map((s=>Z_(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we()}})(t.compositeFilter.op))})(n):we()}function lA(n){return QS[n]}function uA(n){return YS[n]}function cA(n){return XS[n]}function wo(n){return{fieldPath:n.canonicalString()}}function xo(n){return Ct.fromServerFormat(n.fieldPath)}function e0(n){return n instanceof dt?(function(t){if(t.op==="=="){if(xy(t.value))return{unaryFilter:{field:wo(t.field),op:"IS_NAN"}};if(wy(t.value))return{unaryFilter:{field:wo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(xy(t.value))return{unaryFilter:{field:wo(t.field),op:"IS_NOT_NAN"}};if(wy(t.value))return{unaryFilter:{field:wo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wo(t.field),op:uA(t.op),value:t.value}}})(n):n instanceof Kn?(function(t){const s=t.getFilters().map((o=>e0(o)));return s.length===1?s[0]:{compositeFilter:{op:cA(t.op),filters:s}}})(n):we()}function dA(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function t0(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class Ts{constructor(e,t,s,o,l=xe.min(),c=xe.min(),h=bt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new Ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class hA{constructor(e){this.ct=e}}function fA(n){const e=oA({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?cf(e,e.limit,"L"):e}class pA{constructor(){this.un=new mA}addToCollectionParentIndex(e,t){return this.un.add(t),Y.resolve()}getCollectionParents(e,t){return Y.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return Y.resolve()}deleteFieldIndex(e,t){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,t){return Y.resolve()}getDocumentsMatchingTarget(e,t){return Y.resolve(null)}getIndexType(e,t){return Y.resolve(0)}getFieldIndexes(e,t){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,t){return Y.resolve(Ns.min())}getMinOffsetFromCollectionGroup(e,t){return Y.resolve(Ns.min())}updateCollectionGroup(e,t,s){return Y.resolve()}updateIndexEntries(e,t){return Y.resolve()}}class mA{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Pt(Ge.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Pt(Ge.comparator)).toArray()}}class bo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new bo(0)}static kn(){return new bo(-1)}}class gA{constructor(){this.changes=new Uo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?Y.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class yA{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class vA{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&Ka(s.mutation,o,mn.empty(),yt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,Ne()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=Ne()){const o=ci();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((l=>{let c=Ba();return l.forEach(((h,p)=>{c=c.insert(h,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const s=ci();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,Ne())))}populateOverlays(e,t,s){const o=[];return s.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((c,h)=>{t.set(c,h)}))}))}computeViews(e,t,s,o){let l=Ur();const c=Ha(),h=(function(){return Ha()})();return t.forEach(((p,v)=>{const x=s.get(v.key);o.has(v.key)&&(x===void 0||x.mutation instanceof Ds)?l=l.insert(v.key,v):x!==void 0?(c.set(v.key,x.mutation.getFieldMask()),Ka(x.mutation,v,x.mutation.getFieldMask(),yt.now())):c.set(v.key,mn.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((v,x)=>c.set(v,x))),t.forEach(((v,x)=>{var T;return h.set(v,new yA(x,(T=c.get(v))!==null&&T!==void 0?T:null))})),h)))}recalculateAndSaveOverlays(e,t){const s=Ha();let o=new et(((c,h)=>c-h)),l=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const h of c)h.keys().forEach((p=>{const v=t.get(p);if(v===null)return;let x=s.get(p)||mn.empty();x=h.applyToLocalView(v,x),s.set(p,x);const T=(o.get(h.batchId)||Ne()).add(p);o=o.insert(h.batchId,T)}))})).next((()=>{const c=[],h=o.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),v=p.key,x=p.value,T=M_();x.forEach((A=>{if(!l.has(A)){const D=q_(t.get(A),s.get(A));D!==null&&T.set(A,D),l=l.add(A)}})),c.push(this.documentOverlayCache.saveOverlays(e,v,T))}return Y.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(c){return pe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):j_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):Y.resolve(ci());let h=-1,p=l;return c.next((v=>Y.forEach(v,((x,T)=>(h<T.largestBatchId&&(h=T.largestBatchId),l.get(x)?Y.resolve():this.remoteDocumentCache.getEntry(e,x).next((A=>{p=p.insert(x,A)}))))).next((()=>this.populateOverlays(e,v,l))).next((()=>this.computeViews(e,p,v,Ne()))).next((x=>({batchId:h,changes:L_(x)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pe(t)).next((s=>{let o=Ba();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let c=Ba();return this.indexManager.getCollectionParents(e,l).next((h=>Y.forEach(h,(p=>{const v=(function(T,A){return new Fo(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next((x=>{x.forEach(((T,A)=>{c=c.insert(T,A)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o)))).next((c=>{l.forEach(((p,v)=>{const x=v.getKey();c.get(x)===null&&(c=c.insert(x,zt.newInvalidDocument(x)))}));let h=Ba();return c.forEach(((p,v)=>{const x=l.get(p);x!==void 0&&Ka(x.mutation,v,mn.empty(),yt.now()),jc(t,v)&&(h=h.insert(p,v))})),h}))}}class _A{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return Y.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:ar(o.createTime)}})(t)),Y.resolve()}getNamedQuery(e,t){return Y.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,(function(o){return{name:o.name,query:fA(o.bundledQuery),readTime:ar(o.readTime)}})(t)),Y.resolve()}}class wA{constructor(){this.overlays=new et(pe.comparator),this.Ir=new Map}getOverlay(e,t){return Y.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ci();return Y.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&s.set(o,l)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,l)=>{this.ht(e,t,l)})),Y.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Ir.get(s);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.Ir.delete(s)),Y.resolve()}getOverlaysForCollection(e,t,s){const o=ci(),l=t.length+1,c=new pe(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const p=h.getNext().value,v=p.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===l&&p.largestBatchId>s&&o.set(p.getKey(),p)}return Y.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new et(((v,x)=>v-x));const c=this.overlays.getIterator();for(;c.hasNext();){const v=c.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>s){let x=l.get(v.largestBatchId);x===null&&(x=ci(),l=l.insert(v.largestBatchId,x)),x.set(v.getKey(),v)}}const h=ci(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((v,x)=>h.set(v,x))),!(h.size()>=o)););return Y.resolve(h)}ht(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.Ir.get(o.largestBatchId).delete(s.key);this.Ir.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new $S(t,s));let l=this.Ir.get(t);l===void 0&&(l=Ne(),this.Ir.set(t,l)),this.Ir.set(t,l.add(s.key))}}class xA{constructor(){this.sessionToken=bt.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Y.resolve()}}class Wf{constructor(){this.Tr=new Pt(Tt.Er),this.dr=new Pt(Tt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const s=new Tt(e,t);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Vr(new Tt(e,t))}mr(e,t){e.forEach((s=>this.removeReference(s,t)))}gr(e){const t=new pe(new Ge([])),s=new Tt(t,e),o=new Tt(t,e+1),l=[];return this.dr.forEachInRange([s,o],(c=>{this.Vr(c),l.push(c.key)})),l}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new pe(new Ge([])),s=new Tt(t,e),o=new Tt(t,e+1);let l=Ne();return this.dr.forEachInRange([s,o],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new Tt(e,0),s=this.Tr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Tt{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return pe.comparator(e.key,t.key)||Ve(e.wr,t.wr)}static Ar(e,t){return Ve(e.wr,t.wr)||pe.comparator(e.key,t.key)}}class EA{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Pt(Tt.Er)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new zS(l,t,s,o);this.mutationQueue.push(c);for(const h of o)this.br=this.br.add(new Tt(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Y.resolve(c)}lookupMutationBatch(e,t){return Y.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.vr(s),l=o<0?0:o;return Y.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Tt(t,0),o=new Tt(t,Number.POSITIVE_INFINITY),l=[];return this.br.forEachInRange([s,o],(c=>{const h=this.Dr(c.wr);l.push(h)})),Y.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Pt(Ve);return t.forEach((o=>{const l=new Tt(o,0),c=new Tt(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([l,c],(h=>{s=s.add(h.wr)}))})),Y.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;pe.isDocumentKey(l)||(l=l.child(""));const c=new Tt(new pe(l),0);let h=new Pt(Ve);return this.br.forEachWhile((p=>{const v=p.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(h=h.add(p.wr)),!0)}),c),Y.resolve(this.Cr(h))}Cr(e){const t=[];return e.forEach((s=>{const o=this.Dr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Ue(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.br;return Y.forEach(t.mutations,(o=>{const l=new Tt(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.br=s}))}On(e){}containsKey(e,t){const s=new Tt(t,0),o=this.br.firstAfterOrEqual(s);return Y.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class TA{constructor(e){this.Mr=e,this.docs=(function(){return new et(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,c=this.Mr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Y.resolve(s?s.document.mutableCopy():zt.newInvalidDocument(t))}getEntries(e,t){let s=Ur();return t.forEach((o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():zt.newInvalidDocument(o))})),Y.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=Ur();const c=t.path,h=new pe(c.child("")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:v,value:{document:x}}=p.getNext();if(!c.isPrefixOf(v.path))break;v.path.length>c.length+1||iS(sS(x),s)<=0||(o.has(x.key)||jc(t,x))&&(l=l.insert(x.key,x.mutableCopy()))}return Y.resolve(l)}getAllFromCollectionGroup(e,t,s,o){we()}Or(e,t){return Y.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new IA(this)}getSize(e){return Y.resolve(this.size)}}class IA extends gA{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.cr.addEntry(e,o)):this.cr.removeEntry(s)})),Y.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class SA{constructor(e){this.persistence=e,this.Nr=new Uo((t=>Lf(t)),Mf),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Wf,this.targetCount=0,this.kr=bo.Bn()}forEachTarget(e,t){return this.Nr.forEach(((s,o)=>t(o))),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Lr&&(this.Lr=t),Y.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new bo(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,Y.resolve()}updateTargetData(e,t){return this.Kn(t),Y.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.Nr.forEach(((c,h)=>{h.sequenceNumber<=t&&s.get(h.targetId)===null&&(this.Nr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)})),Y.waitFor(l).next((()=>o))}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,t){const s=this.Nr.get(t)||null;return Y.resolve(s)}addMatchingKeys(e,t,s){return this.Br.Rr(t,s),Y.resolve()}removeMatchingKeys(e,t,s){this.Br.mr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((c=>{l.push(o.markPotentiallyOrphaned(e,c))})),Y.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),Y.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Br.yr(t);return Y.resolve(s)}containsKey(e,t){return Y.resolve(this.Br.containsKey(t))}}class AA{constructor(e,t){this.qr={},this.overlays={},this.Qr=new jf(0),this.Kr=!1,this.Kr=!0,this.$r=new xA,this.referenceDelegate=e(this),this.Ur=new SA(this),this.indexManager=new pA,this.remoteDocumentCache=(function(o){return new TA(o)})((s=>this.referenceDelegate.Wr(s))),this.serializer=new hA(t),this.Gr=new _A(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new wA,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.qr[e.toKey()];return s||(s=new EA(t,this.referenceDelegate),this.qr[e.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,s){de("MemoryPersistence","Starting transaction:",e);const o=new RA(this.Qr.next());return this.referenceDelegate.zr(),s(o).next((l=>this.referenceDelegate.jr(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Hr(e,t){return Y.or(Object.values(this.qr).map((s=>()=>s.containsKey(e,t))))}}class RA extends aS{constructor(e){super(),this.currentSequenceNumber=e}}class Hf{constructor(e){this.persistence=e,this.Jr=new Wf,this.Yr=null}static Zr(e){return new Hf(e)}get Xr(){if(this.Yr)return this.Yr;throw we()}addReference(e,t,s){return this.Jr.addReference(s,t),this.Xr.delete(s.toString()),Y.resolve()}removeReference(e,t,s){return this.Jr.removeReference(s,t),this.Xr.add(s.toString()),Y.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),Y.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((o=>this.Xr.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.Xr.add(l.toString())))})).next((()=>s.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.Xr,(s=>{const o=pe.fromPath(s);return this.ei(e,o).next((l=>{l||t.removeEntry(o,xe.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((s=>{s?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return Y.or([()=>Y.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class Kf{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.$i=s,this.Ui=o}static Wi(e,t){let s=Ne(),o=Ne();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Kf(e,t.fromCache,s,o)}}class NA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class kA{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return kI()?8:lS($t())>0?6:4})()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.Yi(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.Zi(e,t,o,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new NA;return this.Xi(e,t,c).next((h=>{if(l.result=h,this.zi)return this.es(e,t,c,h.size)}))})).next((()=>l.result))}es(e,t,s,o){return s.documentReadCount<this.ji?(Fa()<=Ce.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",_o(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Y.resolve()):(Fa()<=Ce.DEBUG&&de("QueryEngine","Query:",_o(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Hi*o?(Fa()<=Ce.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",_o(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,or(t))):Y.resolve())}Yi(e,t){if(Sy(t))return Y.resolve(null);let s=or(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=cf(t,null,"F"),s=or(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=Ne(...l);return this.Ji.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,s).next((p=>{const v=this.ts(t,h);return this.ns(t,v,c,p.readTime)?this.Yi(e,cf(t,null,"F")):this.rs(e,v,t,p)}))))})))))}Zi(e,t,s,o){return Sy(t)||o.isEqual(xe.min())?Y.resolve(null):this.Ji.getDocuments(e,s).next((l=>{const c=this.ts(t,l);return this.ns(t,c,s,o)?Y.resolve(null):(Fa()<=Ce.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_o(t)),this.rs(e,c,t,rS(o,-1)).next((h=>h)))}))}ts(e,t){let s=new Pt(O_(e));return t.forEach(((o,l)=>{jc(e,l)&&(s=s.add(l))})),s}ns(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Xi(e,t,s){return Fa()<=Ce.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",_o(t)),this.Ji.getDocumentsMatchingQuery(e,t,Ns.min(),s)}rs(e,t,s,o){return this.Ji.getDocumentsMatchingQuery(e,s,o).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}class CA{constructor(e,t,s,o){this.persistence=e,this.ss=t,this.serializer=o,this.os=new et(Ve),this._s=new Uo((l=>Lf(l)),Mf),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(s)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vA(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function PA(n,e,t,s){return new CA(n,e,t,s)}async function n0(n,e){const t=Ee(n);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((l=>(o=l,t.ls(e),t.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],h=[];let p=Ne();for(const v of o){c.push(v.batchId);for(const x of v.mutations)p=p.add(x.key)}for(const v of l){h.push(v.batchId);for(const x of v.mutations)p=p.add(x.key)}return t.localDocuments.getDocuments(s,p).next((v=>({hs:v,removedBatchIds:c,addedBatchIds:h})))}))}))}function bA(n,e){const t=Ee(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),l=t.cs.newChangeBuffer({trackRemovals:!0});return(function(h,p,v,x){const T=v.batch,A=T.keys();let D=Y.resolve();return A.forEach((q=>{D=D.next((()=>x.getEntry(p,q))).next((W=>{const F=v.docVersions.get(q);Ue(F!==null),W.version.compareTo(F)<0&&(T.applyToRemoteDocument(W,v),W.isValidDocument()&&(W.setReadTime(v.commitVersion),x.addEntry(W)))}))})),D.next((()=>h.mutationQueue.removeMutationBatch(p,T)))})(t,s,e,l).next((()=>l.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(h){let p=Ne();for(let v=0;v<h.mutationResults.length;++v)h.mutationResults[v].transformResults.length>0&&(p=p.add(h.batch.mutations[v].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function r0(n){const e=Ee(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Ur.getLastRemoteSnapshotVersion(t)))}function jA(n,e){const t=Ee(n),s=e.snapshotVersion;let o=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.cs.newChangeBuffer({trackRemovals:!0});o=t.os;const h=[];e.targetChanges.forEach(((x,T)=>{const A=o.get(T);if(!A)return;h.push(t.Ur.removeMatchingKeys(l,x.removedDocuments,T).next((()=>t.Ur.addMatchingKeys(l,x.addedDocuments,T))));let D=A.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?D=D.withResumeToken(bt.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):x.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(x.resumeToken,s)),o=o.insert(T,D),(function(W,F,ie){return W.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=3e8?!0:ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0})(A,D,x)&&h.push(t.Ur.updateTargetData(l,D))}));let p=Ur(),v=Ne();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(l,x))})),h.push(DA(l,c,e.documentUpdates).next((x=>{p=x.Ps,v=x.Is}))),!s.isEqual(xe.min())){const x=t.Ur.getLastRemoteSnapshotVersion(l).next((T=>t.Ur.setTargetsMetadata(l,l.currentSequenceNumber,s)));h.push(x)}return Y.waitFor(h).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,v))).next((()=>p))})).then((l=>(t.os=o,l)))}function DA(n,e,t){let s=Ne(),o=Ne();return t.forEach((l=>s=s.add(l))),e.getEntries(n,s).next((l=>{let c=Ur();return t.forEach(((h,p)=>{const v=l.get(h);p.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(h)),p.isNoDocument()&&p.version.isEqual(xe.min())?(e.removeEntry(h,p.readTime),c=c.insert(h,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||p.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(p),c=c.insert(h,p)):de("LocalStore","Ignoring outdated watch update for ",h,". Current version:",v.version," Watch version:",p.version)})),{Ps:c,Is:o}}))}function OA(n,e){const t=Ee(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function VA(n,e){const t=Ee(n);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.Ur.getTargetData(s,e).next((l=>l?(o=l,Y.resolve(o)):t.Ur.allocateTargetId(s).next((c=>(o=new Ts(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.Ur.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.os.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.os=t.os.insert(s.targetId,s),t._s.set(e,s.targetId)),s}))}async function mf(n,e,t){const s=Ee(n),o=s.os.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!pl(c))throw c;de("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}s.os=s.os.remove(e),s._s.delete(o.target)}function Vy(n,e,t){const s=Ee(n);let o=xe.min(),l=Ne();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,v,x){const T=Ee(p),A=T._s.get(x);return A!==void 0?Y.resolve(T.os.get(A)):T.Ur.getTargetData(v,x)})(s,c,or(e)).next((h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(c,h.targetId).next((p=>{l=p}))})).next((()=>s.ss.getDocumentsMatchingQuery(c,e,t?o:xe.min(),t?l:Ne()))).next((h=>(LA(s,AS(e),h),{documents:h,Ts:l})))))}function LA(n,e,t){let s=n.us.get(e)||xe.min();t.forEach(((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),n.us.set(e,s)}class Ly{constructor(){this.activeTargetIds=bS()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MA{constructor(){this.so=new Ly,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,s){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Ly,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class FA{_o(e){}shutdown(){}}class My{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){de("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){de("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Wu=null;function Vh(){return Wu===null?Wu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Wu++,"0x"+Wu.toString(16)}const UA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class BA{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Ft="WebChannelConnection";class zA extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const s=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+t.host,this.vo=`projects/${o}/databases/${l}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}get Fo(){return!1}Mo(t,s,o,l,c){const h=Vh(),p=this.xo(t,s.toUriEncodedString());de("RestConnection",`Sending RPC '${t}' ${h}:`,p,o);const v={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(v,l,c),this.No(t,p,v,o).then((x=>(de("RestConnection",`Received RPC '${t}' ${h}: `,x),x)),(x=>{throw No("RestConnection",`RPC '${t}' ${h} failed with error: `,x,"url: ",p,"request:",o),x}))}Lo(t,s,o,l,c,h){return this.Mo(t,s,o,l,c)}Oo(t,s,o){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Mo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach(((l,c)=>t[c]=l)),o&&o.headers.forEach(((l,c)=>t[c]=l))}xo(t,s){const o=UA[t];return`${this.Do}/v1/${s}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,s,o){const l=Vh();return new Promise(((c,h)=>{const p=new y_;p.setWithCredentials(!0),p.listenOnce(v_.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Yu.NO_ERROR:const x=p.getResponseJson();de(Ft,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(x)),c(x);break;case Yu.TIMEOUT:de(Ft,`RPC '${e}' ${l} timed out`),h(new se(H.DEADLINE_EXCEEDED,"Request time out"));break;case Yu.HTTP_ERROR:const T=p.getStatus();if(de(Ft,`RPC '${e}' ${l} failed with status:`,T,"response text:",p.getResponseText()),T>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const D=A?.error;if(D&&D.status&&D.message){const q=(function(F){const ie=F.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(ie)>=0?ie:H.UNKNOWN})(D.status);h(new se(q,D.message))}else h(new se(H.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new se(H.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{de(Ft,`RPC '${e}' ${l} completed.`)}}));const v=JSON.stringify(o);de(Ft,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",v,s,15)}))}Bo(e,t,s){const o=Vh(),l=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=x_(),h=w_(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Oo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const x=l.join("");de(Ft,`Creating RPC '${e}' stream ${o}: ${x}`,p);const T=c.createWebChannel(x,p);let A=!1,D=!1;const q=new BA({Io:F=>{D?de(Ft,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(A||(de(Ft,`Opening RPC '${e}' stream ${o} transport.`),T.open(),A=!0),de(Ft,`RPC '${e}' stream ${o} sending:`,F),T.send(F))},To:()=>T.close()}),W=(F,ie,ue)=>{F.listen(ie,(ee=>{try{ue(ee)}catch(ae){setTimeout((()=>{throw ae}),0)}}))};return W(T,Ua.EventType.OPEN,(()=>{D||(de(Ft,`RPC '${e}' stream ${o} transport opened.`),q.yo())})),W(T,Ua.EventType.CLOSE,(()=>{D||(D=!0,de(Ft,`RPC '${e}' stream ${o} transport closed`),q.So())})),W(T,Ua.EventType.ERROR,(F=>{D||(D=!0,No(Ft,`RPC '${e}' stream ${o} transport errored:`,F),q.So(new se(H.UNAVAILABLE,"The operation could not be completed")))})),W(T,Ua.EventType.MESSAGE,(F=>{var ie;if(!D){const ue=F.data[0];Ue(!!ue);const ee=ue,ae=ee.error||((ie=ee[0])===null||ie===void 0?void 0:ie.error);if(ae){de(Ft,`RPC '${e}' stream ${o} received error:`,ae);const Re=ae.status;let Te=(function(N){const C=ct[N];if(C!==void 0)return H_(C)})(Re),b=ae.message;Te===void 0&&(Te=H.INTERNAL,b="Unknown error status: "+Re+" with message "+ae.message),D=!0,q.So(new se(Te,b)),T.close()}else de(Ft,`RPC '${e}' stream ${o} received:`,ue),q.bo(ue)}})),W(h,__.STAT_EVENT,(F=>{F.stat===rf.PROXY?de(Ft,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===rf.NOPROXY&&de(Ft,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{q.wo()}),0),q}}function Lh(){return typeof document<"u"?document:null}function Lc(n){return new JS(n,!0)}class s0{constructor(e,t,s=1e3,o=1.5,l=6e4){this.ui=e,this.timerId=t,this.ko=s,this.qo=o,this.Qo=l,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),o=Math.max(0,t-s);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class i0{constructor(e,t,s,o,l,c,h,p){this.ui=e,this.Ho=s,this.Jo=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new s0(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===H.RESOURCE_EXHAUSTED?(Fr(t.toString()),Fr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.Yo===t&&this.P_(s,o)}),(s=>{e((()=>{const o=new se(H.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(o)}))}))}P_(e,t){const s=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{s((()=>this.listener.Eo()))})),this.stream.Ro((()=>{s((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((o=>{s((()=>this.I_(o)))})),this.stream.onMessage((o=>{s((()=>++this.e_==1?this.E_(o):this.onNext(o)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return de("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(de("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class $A extends i0{constructor(e,t,s,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,c),this.serializer=l}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=tA(this.serializer,e),s=(function(l){if(!("targetChange"in l))return xe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?xe.min():c.readTime?ar(c.readTime):xe.min()})(e);return this.listener.d_(t,s)}A_(e){const t={};t.database=pf(this.serializer),t.addTarget=(function(l,c){let h;const p=c.target;if(h=lf(p)?{documents:sA(l,p)}:{query:iA(l,p)._t},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=Q_(l,c.resumeToken);const v=df(l,c.expectedCount);v!==null&&(h.expectedCount=v)}else if(c.snapshotVersion.compareTo(xe.min())>0){h.readTime=hc(l,c.snapshotVersion.toTimestamp());const v=df(l,c.expectedCount);v!==null&&(h.expectedCount=v)}return h})(this.serializer,e);const s=aA(this.serializer,e);s&&(t.labels=s),this.a_(t)}R_(e){const t={};t.database=pf(this.serializer),t.removeTarget=e,this.a_(t)}}class qA extends i0{constructor(e,t,s,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,c),this.serializer=l}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,Ue(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=rA(e.writeResults,e.commitTime),s=ar(e.commitTime);return this.listener.g_(s,t)}p_(){const e={};e.database=pf(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>nA(this.serializer,s)))};this.a_(t)}}class WA extends class{}{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new se(H.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,s,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Mo(e,hf(t,s),o,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new se(H.UNKNOWN,l.toString())}))}Lo(e,t,s,o,l){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Lo(e,hf(t,s),o,c,h,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new se(H.UNKNOWN,c.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class HA{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Fr(t),this.D_=!1):de("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}class KA{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=l,this.k_._o((c=>{s.enqueueAndForget((async()=>{Ti(this)&&(de("RemoteStore","Restarting streams for network reachability change."),await(async function(p){const v=Ee(p);v.L_.add(4),await yl(v),v.q_.set("Unknown"),v.L_.delete(4),await Mc(v)})(this))}))})),this.q_=new HA(s,o)}}async function Mc(n){if(Ti(n))for(const e of n.B_)await e(!0)}async function yl(n){for(const e of n.B_)await e(!1)}function o0(n,e){const t=Ee(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),Xf(t)?Yf(t):Bo(t).r_()&&Qf(t,e))}function Gf(n,e){const t=Ee(n),s=Bo(t);t.N_.delete(e),s.r_()&&a0(t,e),t.N_.size===0&&(s.r_()?s.o_():Ti(t)&&t.q_.set("Unknown"))}function Qf(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Bo(n).A_(e)}function a0(n,e){n.Q_.xe(e),Bo(n).R_(e)}function Yf(n){n.Q_=new GS({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Bo(n).start(),n.q_.v_()}function Xf(n){return Ti(n)&&!Bo(n).n_()&&n.N_.size>0}function Ti(n){return Ee(n).L_.size===0}function l0(n){n.Q_=void 0}async function GA(n){n.q_.set("Online")}async function QA(n){n.N_.forEach(((e,t)=>{Qf(n,e)}))}async function YA(n,e){l0(n),Xf(n)?(n.q_.M_(e),Yf(n)):n.q_.set("Unknown")}async function XA(n,e,t){if(n.q_.set("Online"),e instanceof G_&&e.state===2&&e.cause)try{await(async function(o,l){const c=l.cause;for(const h of l.targetIds)o.N_.has(h)&&(await o.remoteSyncer.rejectListen(h,c),o.N_.delete(h),o.Q_.removeTarget(h))})(n,e)}catch(s){de("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await fc(n,s)}else if(e instanceof Zu?n.Q_.Ke(e):e instanceof K_?n.Q_.He(e):n.Q_.We(e),!t.isEqual(xe.min()))try{const s=await r0(n.localStore);t.compareTo(s)>=0&&await(function(l,c){const h=l.Q_.rt(c);return h.targetChanges.forEach(((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const x=l.N_.get(v);x&&l.N_.set(v,x.withResumeToken(p.resumeToken,c))}})),h.targetMismatches.forEach(((p,v)=>{const x=l.N_.get(p);if(!x)return;l.N_.set(p,x.withResumeToken(bt.EMPTY_BYTE_STRING,x.snapshotVersion)),a0(l,p);const T=new Ts(x.target,p,v,x.sequenceNumber);Qf(l,T)})),l.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(s){de("RemoteStore","Failed to raise snapshot:",s),await fc(n,s)}}async function fc(n,e,t){if(!pl(e))throw e;n.L_.add(1),await yl(n),n.q_.set("Offline"),t||(t=()=>r0(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{de("RemoteStore","Retrying IndexedDB access"),await t(),n.L_.delete(1),await Mc(n)}))}function u0(n,e){return e().catch((t=>fc(n,t,e)))}async function Fc(n){const e=Ee(n),t=Cs(e);let s=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;JA(e);)try{const o=await OA(e.localStore,s);if(o===null){e.O_.length===0&&t.o_();break}s=o.batchId,ZA(e,o)}catch(o){await fc(e,o)}c0(e)&&d0(e)}function JA(n){return Ti(n)&&n.O_.length<10}function ZA(n,e){n.O_.push(e);const t=Cs(n);t.r_()&&t.V_&&t.m_(e.mutations)}function c0(n){return Ti(n)&&!Cs(n).n_()&&n.O_.length>0}function d0(n){Cs(n).start()}async function eR(n){Cs(n).p_()}async function tR(n){const e=Cs(n);for(const t of n.O_)e.m_(t.mutations)}async function nR(n,e,t){const s=n.O_.shift(),o=zf.from(s,e,t);await u0(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await Fc(n)}async function rR(n,e){e&&Cs(n).V_&&await(async function(s,o){if((function(c){return WS(c)&&c!==H.ABORTED})(o.code)){const l=s.O_.shift();Cs(s).s_(),await u0(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o))),await Fc(s)}})(n,e),c0(n)&&d0(n)}async function Fy(n,e){const t=Ee(n);t.asyncQueue.verifyOperationInProgress(),de("RemoteStore","RemoteStore received new credentials");const s=Ti(t);t.L_.add(3),await yl(t),s&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await Mc(t)}async function sR(n,e){const t=Ee(n);e?(t.L_.delete(2),await Mc(t)):e||(t.L_.add(2),await yl(t),t.q_.set("Unknown"))}function Bo(n){return n.K_||(n.K_=(function(t,s,o){const l=Ee(t);return l.w_(),new $A(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Eo:GA.bind(null,n),Ro:QA.bind(null,n),mo:YA.bind(null,n),d_:XA.bind(null,n)}),n.B_.push((async e=>{e?(n.K_.s_(),Xf(n)?Yf(n):n.q_.set("Unknown")):(await n.K_.stop(),l0(n))}))),n.K_}function Cs(n){return n.U_||(n.U_=(function(t,s,o){const l=Ee(t);return l.w_(),new qA(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:eR.bind(null,n),mo:rR.bind(null,n),f_:tR.bind(null,n),g_:nR.bind(null,n)}),n.B_.push((async e=>{e?(n.U_.s_(),await Fc(n)):(await n.U_.stop(),n.O_.length>0&&(de("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}class Jf{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new Vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const c=Date.now()+s,h=new Jf(e,t,c,o,l);return h.start(s),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zf(n,e){if(Fr("AsyncQueue",`${e}: ${n}`),pl(n))return new se(H.UNAVAILABLE,`${e}: ${n}`);throw n}class Io{constructor(e){this.comparator=e?(t,s)=>e(t,s)||pe.comparator(t.key,s.key):(t,s)=>pe.comparator(t.key,s.key),this.keyedMap=Ba(),this.sortedSet=new et(this.comparator)}static emptySet(e){return new Io(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Io)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Io;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class Uy{constructor(){this.W_=new et(pe.comparator)}track(e){const t=e.doc.key,s=this.W_.get(t);s?e.type!==0&&s.type===3?this.W_=this.W_.insert(t,e):e.type===3&&s.type!==1?this.W_=this.W_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.W_=this.W_.remove(t):e.type===1&&s.type===2?this.W_=this.W_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):we():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,s)=>{e.push(s)})),e}}class jo{constructor(e,t,s,o,l,c,h,p,v){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(e,t,s,o,l){const c=[];return t.forEach((h=>{c.push({type:0,doc:h})})),new jo(e,t,Io.emptySet(t),c,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}class iR{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class oR{constructor(){this.queries=By(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,s){const o=Ee(t),l=o.queries;o.queries=By(),l.forEach(((c,h)=>{for(const p of h.j_)p.onError(s)}))})(this,new se(H.ABORTED,"Firestore shutting down"))}}function By(){return new Uo((n=>D_(n)),bc)}async function h0(n,e){const t=Ee(n);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.H_()&&e.J_()&&(s=2):(l=new iR,s=e.J_()?0:1);try{switch(s){case 0:l.z_=await t.onListen(o,!0);break;case 1:l.z_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const h=Zf(c,`Initialization of query '${_o(e.query)}' failed`);return void e.onError(h)}t.queries.set(o,l),l.j_.push(e),e.Z_(t.onlineState),l.z_&&e.X_(l.z_)&&ep(t)}async function f0(n,e){const t=Ee(n),s=e.query;let o=3;const l=t.queries.get(s);if(l){const c=l.j_.indexOf(e);c>=0&&(l.j_.splice(c,1),l.j_.length===0?o=e.J_()?0:1:!l.H_()&&e.J_()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function aR(n,e){const t=Ee(n);let s=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const h of c.j_)h.X_(o)&&(s=!0);c.z_=o}}s&&ep(t)}function lR(n,e,t){const s=Ee(n),o=s.queries.get(e);if(o)for(const l of o.j_)l.onError(t);s.queries.delete(e)}function ep(n){n.Y_.forEach((e=>{e.next()}))}var gf,zy;(zy=gf||(gf={})).ea="default",zy.Cache="cache";class p0{constructor(e,t,s){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new jo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const s=t!=="Offline";return(!this.options._a||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==gf.Cache}}class m0{constructor(e){this.key=e}}class g0{constructor(e){this.key=e}}class uR{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ne(),this.mutatedKeys=Ne(),this.Aa=O_(e),this.Ra=new Io(this.Aa)}get Va(){return this.Ta}ma(e,t){const s=t?t.fa:new Uy,o=t?t.Ra:this.Ra;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,h=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((x,T)=>{const A=o.get(x),D=jc(this.query,T)?T:null,q=!!A&&this.mutatedKeys.has(A.key),W=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let F=!1;A&&D?A.data.isEqual(D.data)?q!==W&&(s.track({type:3,doc:D}),F=!0):this.ga(A,D)||(s.track({type:2,doc:D}),F=!0,(p&&this.Aa(D,p)>0||v&&this.Aa(D,v)<0)&&(h=!0)):!A&&D?(s.track({type:0,doc:D}),F=!0):A&&!D&&(s.track({type:1,doc:A}),F=!0,(p||v)&&(h=!0)),F&&(D?(c=c.add(D),l=W?l.add(x):l.delete(x)):(c=c.delete(x),l=l.delete(x)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const x=this.query.limitType==="F"?c.last():c.first();c=c.delete(x.key),l=l.delete(x.key),s.track({type:1,doc:x})}return{Ra:c,fa:s,ns:h,mutatedKeys:l}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const c=e.fa.G_();c.sort(((x,T)=>(function(D,q){const W=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return W(D)-W(q)})(x.type,T.type)||this.Aa(x.doc,T.doc))),this.pa(s),o=o!=null&&o;const h=t&&!o?this.ya():[],p=this.da.size===0&&this.current&&!o?1:0,v=p!==this.Ea;return this.Ea=p,c.length!==0||v?{snapshot:new jo(this.query,e.Ra,l,c,e.mutatedKeys,p===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:h}:{wa:h}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Uy,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((t=>this.Ta=this.Ta.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ta=this.Ta.delete(t))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ne(),this.Ra.forEach((s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))}));const t=[];return e.forEach((s=>{this.da.has(s)||t.push(new g0(s))})),this.da.forEach((s=>{e.has(s)||t.push(new m0(s))})),t}ba(e){this.Ta=e.Ts,this.da=Ne();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return jo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class cR{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class dR{constructor(e){this.key=e,this.va=!1}}class hR{constructor(e,t,s,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Ca={},this.Fa=new Uo((h=>D_(h)),bc),this.Ma=new Map,this.xa=new Set,this.Oa=new et(pe.comparator),this.Na=new Map,this.La=new Wf,this.Ba={},this.ka=new Map,this.qa=bo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function fR(n,e,t=!0){const s=E0(n);let o;const l=s.Fa.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Da()):o=await y0(s,e,t,!0),o}async function pR(n,e){const t=E0(n);await y0(t,e,!0,!1)}async function y0(n,e,t,s){const o=await VA(n.localStore,or(e)),l=o.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let h;return s&&(h=await mR(n,e,l,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&o0(n.remoteStore,o),h}async function mR(n,e,t,s,o){n.Ka=(T,A,D)=>(async function(W,F,ie,ue){let ee=F.view.ma(ie);ee.ns&&(ee=await Vy(W.localStore,F.query,!1).then((({documents:b})=>F.view.ma(b,ee))));const ae=ue&&ue.targetChanges.get(F.targetId),Re=ue&&ue.targetMismatches.get(F.targetId)!=null,Te=F.view.applyChanges(ee,W.isPrimaryClient,ae,Re);return qy(W,F.targetId,Te.wa),Te.snapshot})(n,T,A,D);const l=await Vy(n.localStore,e,!0),c=new uR(e,l.Ts),h=c.ma(l.documents),p=gl.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",o),v=c.applyChanges(h,n.isPrimaryClient,p);qy(n,t,v.wa);const x=new cR(e,t,c);return n.Fa.set(e,x),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),v.snapshot}async function gR(n,e,t){const s=Ee(n),o=s.Fa.get(e),l=s.Ma.get(o.targetId);if(l.length>1)return s.Ma.set(o.targetId,l.filter((c=>!bc(c,e)))),void s.Fa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await mf(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Gf(s.remoteStore,o.targetId),yf(s,o.targetId)})).catch(fl)):(yf(s,o.targetId),await mf(s.localStore,o.targetId,!0))}async function yR(n,e){const t=Ee(n),s=t.Fa.get(e),o=t.Ma.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Gf(t.remoteStore,s.targetId))}async function vR(n,e,t){const s=SR(n);try{const o=await(function(c,h){const p=Ee(c),v=yt.now(),x=h.reduce(((D,q)=>D.add(q.key)),Ne());let T,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let q=Ur(),W=Ne();return p.cs.getEntries(D,x).next((F=>{q=F,q.forEach(((ie,ue)=>{ue.isValidDocument()||(W=W.add(ie))}))})).next((()=>p.localDocuments.getOverlayedDocuments(D,q))).next((F=>{T=F;const ie=[];for(const ue of h){const ee=US(ue,T.get(ue.key).overlayedDocument);ee!=null&&ie.push(new Ds(ue.key,ee,A_(ee.value.mapValue),Wn.exists(!0)))}return p.mutationQueue.addMutationBatch(D,v,ie,h)})).next((F=>{A=F;const ie=F.applyToLocalDocumentSet(T,W);return p.documentOverlayCache.saveOverlays(D,F.batchId,ie)}))})).then((()=>({batchId:A.batchId,changes:L_(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(c,h,p){let v=c.Ba[c.currentUser.toKey()];v||(v=new et(Ve)),v=v.insert(h,p),c.Ba[c.currentUser.toKey()]=v})(s,o.batchId,t),await vl(s,o.changes),await Fc(s.remoteStore)}catch(o){const l=Zf(o,"Failed to persist write");t.reject(l)}}async function v0(n,e){const t=Ee(n);try{const s=await jA(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const c=t.Na.get(l);c&&(Ue(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.va=!0:o.modifiedDocuments.size>0?Ue(c.va):o.removedDocuments.size>0&&(Ue(c.va),c.va=!1))})),await vl(t,s,e)}catch(s){await fl(s)}}function $y(n,e,t){const s=Ee(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Fa.forEach(((l,c)=>{const h=c.view.Z_(e);h.snapshot&&o.push(h.snapshot)})),(function(c,h){const p=Ee(c);p.onlineState=h;let v=!1;p.queries.forEach(((x,T)=>{for(const A of T.j_)A.Z_(h)&&(v=!0)})),v&&ep(p)})(s.eventManager,e),o.length&&s.Ca.d_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function _R(n,e,t){const s=Ee(n);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Na.get(e),l=o&&o.key;if(l){let c=new et(pe.comparator);c=c.insert(l,zt.newNoDocument(l,xe.min()));const h=Ne().add(l),p=new Vc(xe.min(),new Map,new et(Ve),c,h);await v0(s,p),s.Oa=s.Oa.remove(l),s.Na.delete(e),tp(s)}else await mf(s.localStore,e,!1).then((()=>yf(s,e,t))).catch(fl)}async function wR(n,e){const t=Ee(n),s=e.batch.batchId;try{const o=await bA(t.localStore,e);w0(t,s,null),_0(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await vl(t,o)}catch(o){await fl(o)}}async function xR(n,e,t){const s=Ee(n);try{const o=await(function(c,h){const p=Ee(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let x;return p.mutationQueue.lookupMutationBatch(v,h).next((T=>(Ue(T!==null),x=T.keys(),p.mutationQueue.removeMutationBatch(v,T)))).next((()=>p.mutationQueue.performConsistencyCheck(v))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(v,x,h))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,x))).next((()=>p.localDocuments.getDocuments(v,x)))}))})(s.localStore,e);w0(s,e,t),_0(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await vl(s,o)}catch(o){await fl(o)}}function _0(n,e){(n.ka.get(e)||[]).forEach((t=>{t.resolve()})),n.ka.delete(e)}function w0(n,e,t){const s=Ee(n);let o=s.Ba[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.Ba[s.currentUser.toKey()]=o}}function yf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Ma.get(e))n.Fa.delete(s),t&&n.Ca.$a(s,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach((s=>{n.La.containsKey(s)||x0(n,s)}))}function x0(n,e){n.xa.delete(e.path.canonicalString());const t=n.Oa.get(e);t!==null&&(Gf(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),tp(n))}function qy(n,e,t){for(const s of t)s instanceof m0?(n.La.addReference(s.key,e),ER(n,s)):s instanceof g0?(de("SyncEngine","Document no longer in limbo: "+s.key),n.La.removeReference(s.key,e),n.La.containsKey(s.key)||x0(n,s.key)):we()}function ER(n,e){const t=e.key,s=t.path.canonicalString();n.Oa.get(t)||n.xa.has(s)||(de("SyncEngine","New document in limbo: "+t),n.xa.add(s),tp(n))}function tp(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const e=n.xa.values().next().value;n.xa.delete(e);const t=new pe(Ge.fromString(e)),s=n.qa.next();n.Na.set(s,new dR(t)),n.Oa=n.Oa.insert(t,s),o0(n.remoteStore,new Ts(or(Ff(t.path)),s,"TargetPurposeLimboResolution",jf.oe))}}async function vl(n,e,t){const s=Ee(n),o=[],l=[],c=[];s.Fa.isEmpty()||(s.Fa.forEach(((h,p)=>{c.push(s.Ka(p,e,t).then((v=>{var x;if((v||t)&&s.isPrimaryClient){const T=v?!v.fromCache:(x=t?.targetChanges.get(p.targetId))===null||x===void 0?void 0:x.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(v){o.push(v);const T=Kf.Wi(p.targetId,v);l.push(T)}})))})),await Promise.all(c),s.Ca.d_(o),await(async function(p,v){const x=Ee(p);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>Y.forEach(v,(A=>Y.forEach(A.$i,(D=>x.persistence.referenceDelegate.addReference(T,A.targetId,D))).next((()=>Y.forEach(A.Ui,(D=>x.persistence.referenceDelegate.removeReference(T,A.targetId,D)))))))))}catch(T){if(!pl(T))throw T;de("LocalStore","Failed to update sequence numbers: "+T)}for(const T of v){const A=T.targetId;if(!T.fromCache){const D=x.os.get(A),q=D.snapshotVersion,W=D.withLastLimboFreeSnapshotVersion(q);x.os=x.os.insert(A,W)}}})(s.localStore,l))}async function TR(n,e){const t=Ee(n);if(!t.currentUser.isEqual(e)){de("SyncEngine","User change. New user:",e.toKey());const s=await n0(t.localStore,e);t.currentUser=e,(function(l,c){l.ka.forEach((h=>{h.forEach((p=>{p.reject(new se(H.CANCELLED,c))}))})),l.ka.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await vl(t,s.hs)}}function IR(n,e){const t=Ee(n),s=t.Na.get(e);if(s&&s.va)return Ne().add(s.key);{let o=Ne();const l=t.Ma.get(e);if(!l)return o;for(const c of l){const h=t.Fa.get(c);o=o.unionWith(h.view.Va)}return o}}function E0(n){const e=Ee(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=v0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_R.bind(null,e),e.Ca.d_=aR.bind(null,e.eventManager),e.Ca.$a=lR.bind(null,e.eventManager),e}function SR(n){const e=Ee(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xR.bind(null,e),e}class pc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lc(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return PA(this.persistence,new kA,e.initialUser,this.serializer)}Ga(e){return new AA(Hf.Zr,this.serializer)}Wa(e){return new MA}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pc.provider={build:()=>new pc};class vf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>$y(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=TR.bind(null,this.syncEngine),await sR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new oR})()}createDatastore(e){const t=Lc(e.databaseInfo.databaseId),s=(function(l){return new zA(l)})(e.databaseInfo);return(function(l,c,h,p){return new WA(l,c,h,p)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,l,c,h){return new KA(s,o,l,c,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>$y(this.syncEngine,t,0)),(function(){return My.D()?new My:new FA})())}createSyncEngine(e,t){return(function(o,l,c,h,p,v,x){const T=new hR(o,l,c,h,p,v);return x&&(T.Qa=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const l=Ee(o);de("RemoteStore","RemoteStore shutting down."),l.L_.add(5),await yl(l),l.k_.shutdown(),l.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}vf.provider={build:()=>new vf};class T0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Fr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class AR{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Bt.UNAUTHENTICATED,this.clientId=T_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{de("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(de("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Zf(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Mh(n,e){n.asyncQueue.verifyOperationInProgress(),de("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener((async o=>{s.isEqual(o)||(await n0(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function Wy(n,e){n.asyncQueue.verifyOperationInProgress();const t=await RR(n);de("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((s=>Fy(e.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,o)=>Fy(e.remoteStore,o))),n._onlineComponents=e}async function RR(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){de("FirestoreClient","Using user provided OfflineComponentProvider");try{await Mh(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===H.FAILED_PRECONDITION||o.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;No("Error using user provided cache. Falling back to memory cache: "+t),await Mh(n,new pc)}}else de("FirestoreClient","Using default OfflineComponentProvider"),await Mh(n,new pc);return n._offlineComponents}async function I0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(de("FirestoreClient","Using user provided OnlineComponentProvider"),await Wy(n,n._uninitializedComponentsProvider._online)):(de("FirestoreClient","Using default OnlineComponentProvider"),await Wy(n,new vf))),n._onlineComponents}function NR(n){return I0(n).then((e=>e.syncEngine))}async function S0(n){const e=await I0(n),t=e.eventManager;return t.onListen=fR.bind(null,e.syncEngine),t.onUnlisten=gR.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=pR.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=yR.bind(null,e.syncEngine),t}function kR(n,e,t={}){const s=new Vr;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,p,v){const x=new T0({next:A=>{x.Za(),c.enqueueAndForget((()=>f0(l,T)));const D=A.docs.has(h);!D&&A.fromCache?v.reject(new se(H.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&A.fromCache&&p&&p.source==="server"?v.reject(new se(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(A)},error:A=>v.reject(A)}),T=new p0(Ff(h.path),x,{includeMetadataChanges:!0,_a:!0});return h0(l,T)})(await S0(n),n.asyncQueue,e,t,s))),s.promise}function CR(n,e,t={}){const s=new Vr;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,p,v){const x=new T0({next:A=>{x.Za(),c.enqueueAndForget((()=>f0(l,T))),A.fromCache&&p.source==="server"?v.reject(new se(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(A)},error:A=>v.reject(A)}),T=new p0(h,x,{includeMetadataChanges:!0,_a:!0});return h0(l,T)})(await S0(n),n.asyncQueue,e,t,s))),s.promise}function A0(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const Hy=new Map;function R0(n,e,t){if(!t)throw new se(H.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function PR(n,e,t,s){if(e===!0&&s===!0)throw new se(H.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Ky(n){if(!pe.isDocumentKey(n))throw new se(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Gy(n){if(pe.isDocumentKey(n))throw new se(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Uc(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":we()}function Br(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new se(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Uc(n);throw new se(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class Qy{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new se(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new se(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=A0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new se(H.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new se(H.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new se(H.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bc{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qy(e),e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new G1;switch(s.type){case"firstParty":return new J1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new se(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=Hy.get(t);s&&(de("ComponentProvider","Removing Datastore"),Hy.delete(t),s.terminate())})(this),Promise.resolve()}}function bR(n,e,t,s={}){var o;const l=(n=Br(n,Bc))._getSettings(),c=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==c&&No("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),s.mockUserToken){let h,p;if(typeof s.mockUserToken=="string")h=s.mockUserToken,p=Bt.MOCK_USER;else{h=o_(s.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new se(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Bt(v)}n._authCredentials=new Q1(new E_(h,p))}}class Ii{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ii(this.firestore,e,this._query)}}class on{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new on(this.firestore,e,this._key)}}class Rs extends Ii{constructor(e,t,s){super(e,t,Ff(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new on(this.firestore,null,new pe(e))}withConverter(e){return new Rs(this.firestore,e,this._path)}}function N0(n,e,...t){if(n=It(n),R0("collection","path",e),n instanceof Bc){const s=Ge.fromString(e,...t);return Gy(s),new Rs(n,null,s)}{if(!(n instanceof on||n instanceof Rs))throw new se(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Ge.fromString(e,...t));return Gy(s),new Rs(n.firestore,null,s)}}function zc(n,e,...t){if(n=It(n),arguments.length===1&&(e=T_.newId()),R0("doc","path",e),n instanceof Bc){const s=Ge.fromString(e,...t);return Ky(s),new on(n,null,new pe(s))}{if(!(n instanceof on||n instanceof Rs))throw new se(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Ge.fromString(e,...t));return Ky(s),new on(n.firestore,n instanceof Rs?n.converter:null,new pe(s))}}class Yy{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new s0(this,"async_queue_retry"),this.Vu=()=>{const s=Lh();s&&de("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=e;const t=Lh();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=Lh();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new Vr;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!pl(e))throw e;de("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((s=>{this.Eu=s,this.du=!1;const o=(function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),h})(s);throw Fr("INTERNAL UNHANDLED ERROR: ",o),s})).then((s=>(this.du=!1,s))))));return this.mu=t,t}enqueueAfterDelay(e,t,s){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const o=Jf.createAndSchedule(this,e,t,s,(l=>this.yu(l)));return this.Tu.push(o),o}fu(){this.Eu&&we()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class zo extends Bc{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new Yy,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Yy(e),this._firestoreClient=void 0,await e}}}function jR(n,e){const t=typeof n=="object"?n:Cc(),s=typeof n=="string"?n:"(default)",o=js(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=r_("firestore");l&&bR(o,...l)}return o}function np(n){if(n._terminated)throw new se(H.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||DR(n),n._firestoreClient}function DR(n){var e,t,s;const o=n._freezeSettings(),l=(function(h,p,v,x){return new dS(h,p,v,x.host,x.ssl,x.experimentalForceLongPolling,x.experimentalAutoDetectLongPolling,A0(x.experimentalLongPollingOptions),x.useFetchStreams)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new AR(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&(function(h){const p=h?._online.build();return{_offline:h?._offline.build(p),_online:p}})(n._componentsProvider))}class Do{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Do(bt.fromBase64String(e))}catch(t){throw new se(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Do(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class $c{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new se(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class qc{constructor(e){this._methodName=e}}class rp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new se(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new se(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}class sp{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0})(this._values,e._values)}}const OR=/^__.*__$/;class VR{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ds(e,this.data,this.fieldMask,t,this.fieldTransforms):new ml(e,this.data,t,this.fieldTransforms)}}class k0{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Ds(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function C0(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class ip{constructor(e,t,s,o,l,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.vu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new ip(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:s,xu:!1});return o.Ou(e),o}Nu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:s,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return mc(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(C0(this.Cu)&&OR.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class LR{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Lc(e)}Qu(e,t,s,o=!1){return new ip({Cu:e,methodName:t,qu:s,path:Ct.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function op(n){const e=n._freezeSettings(),t=Lc(n._databaseId);return new LR(n._databaseId,!!e.ignoreUndefinedProperties,t)}function MR(n,e,t,s,o,l={}){const c=n.Qu(l.merge||l.mergeFields?2:0,e,t,o);lp("Data must be an object, but it was:",c,s);const h=P0(s,c);let p,v;if(l.merge)p=new mn(c.fieldMask),v=c.fieldTransforms;else if(l.mergeFields){const x=[];for(const T of l.mergeFields){const A=_f(e,T,t);if(!c.contains(A))throw new se(H.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);j0(x,A)||x.push(A)}p=new mn(x),v=c.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,v=c.fieldTransforms;return new VR(new rn(h),p,v)}class Wc extends qc{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wc}}class ap extends qc{_toFieldTransform(e){return new VS(e.path,new il)}isEqual(e){return e instanceof ap}}function FR(n,e,t,s){const o=n.Qu(1,e,t);lp("Data must be an object, but it was:",o,s);const l=[],c=rn.empty();Ei(s,((p,v)=>{const x=up(e,p,t);v=It(v);const T=o.Nu(x);if(v instanceof Wc)l.push(x);else{const A=_l(v,T);A!=null&&(l.push(x),c.set(x,A))}}));const h=new mn(l);return new k0(c,h,o.fieldTransforms)}function UR(n,e,t,s,o,l){const c=n.Qu(1,e,t),h=[_f(e,s,t)],p=[o];if(l.length%2!=0)throw new se(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<l.length;A+=2)h.push(_f(e,l[A])),p.push(l[A+1]);const v=[],x=rn.empty();for(let A=h.length-1;A>=0;--A)if(!j0(v,h[A])){const D=h[A];let q=p[A];q=It(q);const W=c.Nu(D);if(q instanceof Wc)v.push(D);else{const F=_l(q,W);F!=null&&(v.push(D),x.set(D,F))}}const T=new mn(v);return new k0(x,T,c.fieldTransforms)}function BR(n,e,t,s=!1){return _l(t,n.Qu(s?4:3,e))}function _l(n,e){if(b0(n=It(n)))return lp("Unsupported field value:",e,n),P0(n,e);if(n instanceof qc)return(function(s,o){if(!C0(o.Cu))throw o.Bu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(s,o){const l=[];let c=0;for(const h of s){let p=_l(h,o.Lu(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(n,e)}return(function(s,o){if((s=It(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return jS(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=yt.fromDate(s);return{timestampValue:hc(o.serializer,l)}}if(s instanceof yt){const l=new yt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:hc(o.serializer,l)}}if(s instanceof rp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Do)return{bytesValue:Q_(o.serializer,s._byteString)};if(s instanceof on){const l=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw o.Bu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:qf(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof sp)return(function(c,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw h.Bu("VectorValues must only contain numeric values.");return Uf(h.serializer,p)}))}}}}}})(s,o);throw o.Bu(`Unsupported field value: ${Uc(s)}`)})(n,e)}function P0(n,e){const t={};return I_(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ei(n,((s,o)=>{const l=_l(o,e.Mu(s));l!=null&&(t[s]=l)})),{mapValue:{fields:t}}}function b0(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof yt||n instanceof rp||n instanceof Do||n instanceof on||n instanceof qc||n instanceof sp)}function lp(n,e,t){if(!b0(t)||!(function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)})(t)){const s=Uc(t);throw s==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+s)}}function _f(n,e,t){if((e=It(e))instanceof $c)return e._internalPath;if(typeof e=="string")return up(n,e);throw mc("Field path arguments must be of type string or ",n,!1,void 0,t)}const zR=new RegExp("[~\\*/\\[\\]]");function up(n,e,t){if(e.search(zR)>=0)throw mc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new $c(...e.split("."))._internalPath}catch{throw mc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function mc(n,e,t,s,o){const l=s&&!s.isEmpty(),c=o!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${s}`),c&&(p+=` in document ${o}`),p+=")"),new se(H.INVALID_ARGUMENT,h+n+p)}function j0(n,e){return n.some((t=>t.isEqual(e)))}class D0{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $R(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(cp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class $R extends D0{data(){return super.data()}}function cp(n,e){return typeof e=="string"?up(n,e):e instanceof $c?e._internalPath:e._delegate._internalPath}function qR(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new se(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dp{}class O0 extends dp{}function WR(n,e,...t){let s=[];e instanceof dp&&s.push(e),s=s.concat(t),(function(l){const c=l.filter((p=>p instanceof fp)).length,h=l.filter((p=>p instanceof hp)).length;if(c>1||c>0&&h>0)throw new se(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)n=o._apply(n);return n}class hp extends O0{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new hp(e,t,s)}_apply(e){const t=this._parse(e);return V0(e._query,t),new Ii(e.firestore,e.converter,uf(e._query,t))}_parse(e){const t=op(e.firestore);return(function(l,c,h,p,v,x,T){let A;if(v.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new se(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){Jy(T,x);const D=[];for(const q of T)D.push(Xy(p,l,q));A={arrayValue:{values:D}}}else A=Xy(p,l,T)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||Jy(T,x),A=BR(h,c,T,x==="in"||x==="not-in");return dt.create(v,x,A)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class fp extends dp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new fp(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:Kn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,l){let c=o;const h=l.getFlattenedFilters();for(const p of h)V0(c,p),c=uf(c,p)})(e._query,t),new Ii(e.firestore,e.converter,uf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class pp extends O0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new pp(e,t)}_apply(e){const t=(function(o,l,c){if(o.startAt!==null)throw new se(H.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new se(H.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new sl(l,c)})(e._query,this._field,this._direction);return new Ii(e.firestore,e.converter,(function(o,l){const c=o.explicitOrderBy.concat([l]);return new Fo(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function HR(n,e="asc"){const t=e,s=cp("orderBy",n);return pp._create(s,t)}function Xy(n,e,t){if(typeof(t=It(t))=="string"){if(t==="")throw new se(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!j_(e)&&t.indexOf("/")!==-1)throw new se(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Ge.fromString(t));if(!pe.isDocumentKey(s))throw new se(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return _y(n,new pe(s))}if(t instanceof on)return _y(n,t._key);throw new se(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Uc(t)}.`)}function Jy(n,e){if(!Array.isArray(n)||n.length===0)throw new se(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function V0(n,e){const t=(function(o,l){for(const c of o)for(const h of c.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new se(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class KR{convertValue(e,t="none"){switch(gi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(mi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Ei(e,((o,l)=>{s[o]=this.convertValue(l,t)})),s}convertVectorValue(e){var t,s,o;const l=(o=(s=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map((c=>ot(c.doubleValue)));return new sp(l)}convertGeoPoint(e){return new rp(ot(e.latitude),ot(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Of(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(tl(e));default:return null}}convertTimestamp(e){const t=ks(e);return new yt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Ge.fromString(e);Ue(t0(s));const o=new nl(s.get(1),s.get(3)),l=new pe(s.popFirst(5));return o.isEqual(t)||Fr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function GR(n,e,t){let s;return s=n?n.toFirestore(e):e,s}class $a{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class L0 extends D0{constructor(e,t,s,o,l,c){super(e,t,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ec(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(cp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class ec extends L0{data(e={}){return super.data(e)}}class QR{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new $a(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new ec(this._firestore,this._userDataWriter,s.key,s,new $a(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new se(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((h=>{const p=new ec(o._firestore,o._userDataWriter,h.doc.key,h.doc,new $a(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const p=new ec(o._firestore,o._userDataWriter,h.doc.key,h.doc,new $a(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,x=-1;return h.type!==0&&(v=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),x=c.indexOf(h.doc.key)),{type:YR(h.type),doc:p,oldIndex:v,newIndex:x}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function YR(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}function XR(n){n=Br(n,on);const e=Br(n.firestore,zo);return kR(np(e),n._key).then((t=>nN(e,n,t)))}class M0 extends KR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Do(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new on(this.firestore,null,t)}}function JR(n){n=Br(n,Ii);const e=Br(n.firestore,zo),t=np(e),s=new M0(e);return qR(n._query),CR(t,n._query).then((o=>new QR(e,s,n,o)))}function ZR(n,e,t,...s){n=Br(n,on);const o=Br(n.firestore,zo),l=op(o);let c;return c=typeof(e=It(e))=="string"||e instanceof $c?UR(l,"updateDoc",n._key,e,t,s):FR(l,"updateDoc",n._key,e),mp(o,[c.toMutation(n._key,Wn.exists(!0))])}function eN(n){return mp(Br(n.firestore,zo),[new Bf(n._key,Wn.none())])}function tN(n,e){const t=Br(n.firestore,zo),s=zc(n),o=GR(n.converter,e);return mp(t,[MR(op(n.firestore),"addDoc",s._key,o,n.converter!==null,{}).toMutation(s._key,Wn.exists(!1))]).then((()=>s))}function mp(n,e){return(function(s,o){const l=new Vr;return s.asyncQueue.enqueueAndForget((async()=>vR(await NR(s),o,l))),l.promise})(np(n),e)}function nN(n,e,t){const s=t.docs.get(e._key),o=new M0(n);return new L0(n,o,e._key,s,new $a(t.hasPendingWrites,t.fromCache),e.converter)}function F0(){return new ap("serverTimestamp")}(function(e,t=!0){(function(o){Mo=o})(xi),Hn(new Rn("firestore",((s,{instanceIdentifier:o,options:l})=>{const c=s.getProvider("app").getImmediate(),h=new zo(new Y1(s.getProvider("auth-internal")),new eS(s.getProvider("app-check-internal")),(function(v,x){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new se(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nl(v.options.projectId,x)})(c,o),c);return l=Object.assign({useFetchStreams:t},l),h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),sn(py,"4.7.3",e),sn(py,"4.7.3","esm2017")})();const U0="firebasestorage.googleapis.com",rN="storageBucket",sN=120*1e3,iN=600*1e3;class fr extends Nn{constructor(e,t,s=0){super(Fh(e),`Firebase Storage: ${t} (${Fh(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Fh(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var dr;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(dr||(dr={}));function Fh(n){return"storage/"+n}function oN(){const n="An unknown error occurred, please check the error payload for server response.";return new fr(dr.UNKNOWN,n)}function aN(){return new fr(dr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function lN(){return new fr(dr.CANCELED,"User canceled the upload/download.")}function uN(n){return new fr(dr.INVALID_URL,"Invalid URL '"+n+"'.")}function cN(n){return new fr(dr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Zy(n){return new fr(dr.INVALID_ARGUMENT,n)}function B0(){return new fr(dr.APP_DELETED,"The Firebase app was deleted.")}function dN(n){return new fr(dr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class qn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=qn.makeFromUrl(e,t)}catch{return new qn(e,"")}if(s.path==="")return s;throw cN(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function l(ae){ae.path.charAt(ae.path.length-1)==="/"&&(ae.path_=ae.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+o+c,"i"),p={bucket:1,path:3};function v(ae){ae.path_=decodeURIComponent(ae.path)}const x="v[A-Za-z0-9_]+",T=t.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",D=new RegExp(`^https?://${T}/${x}/b/${o}/o${A}`,"i"),q={bucket:1,path:3},W=t===U0?"(?:storage.googleapis.com|storage.cloud.google.com)":t,F="([^?#]*)",ie=new RegExp(`^https?://${W}/${o}/${F}`,"i"),ee=[{regex:h,indices:p,postModify:l},{regex:D,indices:q,postModify:v},{regex:ie,indices:{bucket:1,path:2},postModify:v}];for(let ae=0;ae<ee.length;ae++){const Re=ee[ae],Te=Re.regex.exec(e);if(Te){const b=Te[Re.indices.bucket];let S=Te[Re.indices.path];S||(S=""),s=new qn(b,S),Re.postModify(s);break}}if(s==null)throw uN(e);return s}}class hN{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function fN(n,e,t){let s=1,o=null,l=null,c=!1,h=0;function p(){return h===2}let v=!1;function x(...F){v||(v=!0,e.apply(null,F))}function T(F){o=setTimeout(()=>{o=null,n(D,p())},F)}function A(){l&&clearTimeout(l)}function D(F,...ie){if(v){A();return}if(F){A(),x.call(null,F,...ie);return}if(p()||c){A(),x.call(null,F,...ie);return}s<64&&(s*=2);let ee;h===1?(h=2,ee=0):ee=(s+Math.random())*1e3,T(ee)}let q=!1;function W(F){q||(q=!0,A(),!v&&(o!==null?(F||(h=2),clearTimeout(o),T(0)):F||(h=1)))}return T(0),l=setTimeout(()=>{c=!0,W(!0)},t),W}function pN(n){n(!1)}function mN(n){return n!==void 0}function ev(n,e,t,s){if(s<e)throw Zy(`Invalid value for '${n}'. Expected ${e} or greater.`);if(s>t)throw Zy(`Invalid value for '${n}'. Expected ${t} or less.`)}function gN(n){const e=encodeURIComponent;let t="?";for(const s in n)if(n.hasOwnProperty(s)){const o=e(s)+"="+e(n[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var gc;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(gc||(gc={}));function yN(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||o||l}class vN{constructor(e,t,s,o,l,c,h,p,v,x,T,A=!0){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=p,this.timeout_=v,this.progressCallback_=x,this.connectionFactory_=T,this.retry=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,q)=>{this.resolve_=D,this.reject_=q,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Hu(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=h=>{const p=h.loaded,v=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,v)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const h=l.getErrorCode()===gc.NO_ERROR,p=l.getStatus();if(!h||yN(p,this.additionalRetryCodes_)&&this.retry){const x=l.getErrorCode()===gc.ABORT;s(!1,new Hu(!1,null,x));return}const v=this.successCodes_.indexOf(p)!==-1;s(!0,new Hu(v,l))})},t=(s,o)=>{const l=this.resolve_,c=this.reject_,h=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(h,h.getResponse());mN(p)?l(p):l()}catch(p){c(p)}else if(h!==null){const p=oN();p.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,p)):c(p)}else if(o.canceled){const p=this.appDelete_?B0():lN();c(p)}else{const p=aN();c(p)}};this.canceled_?t(!1,new Hu(!1,null,!0)):this.backoffId_=fN(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&pN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Hu{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function _N(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function wN(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function xN(n,e){e&&(n["X-Firebase-GMPID"]=e)}function EN(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function TN(n,e,t,s,o,l,c=!0){const h=gN(n.urlParams),p=n.url+h,v=Object.assign({},n.headers);return xN(v,e),_N(v,t),wN(v,l),EN(v,s),new vN(p,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,c)}function IN(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function SN(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}class yc{constructor(e,t){this._service=e,t instanceof qn?this._location=t:this._location=qn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new yc(e,t)}get root(){const e=new qn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return SN(this._location.path)}get storage(){return this._service}get parent(){const e=IN(this._location.path);if(e===null)return null;const t=new qn(this._location.bucket,e);return new yc(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw dN(e)}}function tv(n,e){const t=e?.[rN];return t==null?null:qn.makeFromBucketSpec(t,n)}function AN(n,e,t,s={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=s;o&&(n._overrideAuthToken=typeof o=="string"?o:o_(o,n.app.options.projectId))}class RN{constructor(e,t,s,o,l){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=l,this._bucket=null,this._host=U0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=sN,this._maxUploadRetryTime=iN,this._requests=new Set,o!=null?this._bucket=qn.makeFromBucketSpec(o,this._host):this._bucket=tv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=qn.makeFromBucketSpec(this._url,e):this._bucket=tv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ev("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ev("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new yc(this,e)}_makeRequest(e,t,s,o,l=!0){if(this._deleted)return new hN(B0());{const c=TN(e,this._appId,s,o,t,this._firebaseVersion,l);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const nv="@firebase/storage",rv="0.13.2";const z0="storage";function NN(n=Cc(),e){n=It(n);const s=js(n,z0).getImmediate({identifier:e}),o=r_("storage");return o&&kN(s,...o),s}function kN(n,e,t,s={}){AN(n,e,t,s)}function CN(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),s=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new RN(t,s,o,e,xi)}function PN(){Hn(new Rn(z0,CN,"PUBLIC").setMultipleInstances(!0)),sn(nv,rv,""),sn(nv,rv,"esm2017")}PN();var bN="firebase",jN="10.14.1";sn(bN,jN,"app");function gp(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(n);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(n,s[o])&&(t[s[o]]=n[s[o]]);return t}function $0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const DN=$0,q0=new wi("auth","Firebase",$0());const vc=new kc("@firebase/auth");function ON(n,...e){vc.logLevel<=Ce.WARN&&vc.warn(`Auth (${xi}): ${n}`,...e)}function tc(n,...e){vc.logLevel<=Ce.ERROR&&vc.error(`Auth (${xi}): ${n}`,...e)}function zr(n,...e){throw yp(n,...e)}function lr(n,...e){return yp(n,...e)}function W0(n,e,t){const s=Object.assign(Object.assign({},DN()),{[e]:t});return new wi("auth","Firebase",s).create(e,{appName:n.name})}function fi(n){return W0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yp(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return q0.create(n,...e)}function _e(n,e,...t){if(!n)throw yp(e,...t)}function jr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw tc(e),new Error(e)}function $r(n,e){n||jr(e)}function wf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function VN(){return sv()==="http:"||sv()==="https:"}function sv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function LN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VN()||a_()||"connection"in navigator)?navigator.onLine:!0}function MN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class wl{constructor(e,t){this.shortDelay=e,this.longDelay=t,$r(t>e,"Short delay should be less than long delay!"),this.isMobile=II()||RI()}get(){return LN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function vp(n,e){$r(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class H0{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const FN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const UN=new wl(3e4,6e4);function _p(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function $o(n,e,t,s,o={}){return K0(n,o,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const h=hl(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const v=Object.assign({method:e,headers:p},l);return AI()||(v.referrerPolicy="no-referrer"),H0.fetch()(G0(n,n.config.apiHost,t,h),v)})}async function K0(n,e,t){n._canInitEmulator=!1;const s=Object.assign(Object.assign({},FN),e);try{const o=new zN(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Ku(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const h=l.ok?c.errorMessage:c.error.message,[p,v]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ku(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Ku(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw Ku(n,"user-disabled",c);const x=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw W0(n,x,v);zr(n,x)}}catch(o){if(o instanceof Nn)throw o;zr(n,"network-request-failed",{message:String(o)})}}async function BN(n,e,t,s,o={}){const l=await $o(n,e,t,s,o);return"mfaPendingCredential"in l&&zr(n,"multi-factor-auth-required",{_serverResponse:l}),l}function G0(n,e,t,s){const o=`${e}${t}?${s}`;return n.config.emulator?vp(n.config,o):`${n.config.apiScheme}://${o}`}class zN{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(lr(this.auth,"network-request-failed")),UN.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ku(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=lr(n,e,s);return o.customData._tokenResponse=t,o}async function $N(n,e){return $o(n,"POST","/v1/accounts:delete",e)}async function Q0(n,e){return $o(n,"POST","/v1/accounts:lookup",e)}function Ga(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qN(n,e=!1){const t=It(n),s=await t.getIdToken(e),o=wp(s);_e(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l?.sign_in_provider;return{claims:o,token:s,authTime:Ga(Uh(o.auth_time)),issuedAtTime:Ga(Uh(o.iat)),expirationTime:Ga(Uh(o.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Uh(n){return Number(n)*1e3}function wp(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return tc("JWT malformed, contained fewer than 3 sections"),null;try{const o=t_(t);return o?JSON.parse(o):(tc("Failed to decode base64 JWT payload"),null)}catch(o){return tc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function iv(n){const e=wp(n);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ll(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Nn&&WN(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function WN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class HN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class xf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ga(this.lastLoginAt),this.creationTime=Ga(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function _c(n){var e;const t=n.auth,s=await n.getIdToken(),o=await ll(n,Q0(t,{idToken:s}));_e(o?.users.length,t,"internal-error");const l=o.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?Y0(l.providerUserInfo):[],h=GN(n.providerData,c),p=n.isAnonymous,v=!(n.email&&l.passwordHash)&&!h?.length,x=p?v:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new xf(l.createdAt,l.lastLoginAt),isAnonymous:x};Object.assign(n,T)}async function KN(n){const e=It(n);await _c(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function GN(n,e){return[...n.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Y0(n){return n.map(e=>{var{providerId:t}=e,s=gp(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}async function QN(n,e){const t=await K0(n,{},async()=>{const s=hl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,c=G0(n,o,"/v1/token",`key=${l}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",H0.fetch()(c,{method:"POST",headers:h,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function YN(n,e){return $o(n,"POST","/v2/accounts:revokeToken",_p(n,e))}class So{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const t=iv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:l}=await QN(e,t);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,c=new So;return s&&(_e(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(_e(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(_e(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new So,this.toJSON())}_performRefresh(){return jr("not implemented")}}function ms(n,e){_e(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Dr{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,l=gp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new HN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new xf(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await ll(this,this.stsTokenManager.getToken(this.auth,e));return _e(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return qN(this,e)}reload(){return KN(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Dr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await _c(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Es(this.auth.app))return Promise.reject(fi(this.auth));const e=await this.getIdToken();return await ll(this,$N(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,l,c,h,p,v,x;const T=(s=t.displayName)!==null&&s!==void 0?s:void 0,A=(o=t.email)!==null&&o!==void 0?o:void 0,D=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,q=(c=t.photoURL)!==null&&c!==void 0?c:void 0,W=(h=t.tenantId)!==null&&h!==void 0?h:void 0,F=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,ie=(v=t.createdAt)!==null&&v!==void 0?v:void 0,ue=(x=t.lastLoginAt)!==null&&x!==void 0?x:void 0,{uid:ee,emailVerified:ae,isAnonymous:Re,providerData:Te,stsTokenManager:b}=t;_e(ee&&b,e,"internal-error");const S=So.fromJSON(this.name,b);_e(typeof ee=="string",e,"internal-error"),ms(T,e.name),ms(A,e.name),_e(typeof ae=="boolean",e,"internal-error"),_e(typeof Re=="boolean",e,"internal-error"),ms(D,e.name),ms(q,e.name),ms(W,e.name),ms(F,e.name),ms(ie,e.name),ms(ue,e.name);const N=new Dr({uid:ee,auth:e,email:A,emailVerified:ae,displayName:T,isAnonymous:Re,photoURL:q,phoneNumber:D,tenantId:W,stsTokenManager:S,createdAt:ie,lastLoginAt:ue});return Te&&Array.isArray(Te)&&(N.providerData=Te.map(C=>Object.assign({},C))),F&&(N._redirectEventId=F),N}static async _fromIdTokenResponse(e,t,s=!1){const o=new So;o.updateFromServerResponse(t);const l=new Dr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await _c(l),l}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];_e(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?Y0(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!l?.length,h=new So;h.updateFromIdToken(s);const p=new Dr({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:c}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new xf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(p,v),p}}const ov=new Map;function Or(n){$r(n instanceof Function,"Expected a class definition");let e=ov.get(n);return e?($r(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,ov.set(n,e),e)}class X0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}X0.type="NONE";const av=X0;function nc(n,e,t){return`firebase:${n}:${e}:${t}`}class Ao{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=nc(this.userKey,o.apiKey,l),this.fullPersistenceKey=nc("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Dr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Ao(Or(av),e,s);const o=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let l=o[0]||Or(av);const c=nc(s,e.config.apiKey,e.name);let h=null;for(const v of t)try{const x=await v._get(c);if(x){const T=Dr._fromJSON(e,x);v!==l&&(h=T),l=v;break}}catch{}const p=o.filter(v=>v._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Ao(l,e,s):(l=p[0],h&&await l._set(c,h.toJSON()),await Promise.all(t.map(async v=>{if(v!==l)try{await v._remove(c)}catch{}})),new Ao(l,e,s))}}function lv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(J0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rw(e))return"Blackberry";if(sw(e))return"Webos";if(Z0(e))return"Safari";if((e.includes("chrome/")||ew(e))&&!e.includes("edge/"))return"Chrome";if(nw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if(s?.length===2)return s[1]}return"Other"}function J0(n=$t()){return/firefox\//i.test(n)}function Z0(n=$t()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ew(n=$t()){return/crios\//i.test(n)}function tw(n=$t()){return/iemobile/i.test(n)}function nw(n=$t()){return/android/i.test(n)}function rw(n=$t()){return/blackberry/i.test(n)}function sw(n=$t()){return/webos/i.test(n)}function xp(n=$t()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function XN(n=$t()){var e;return xp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function JN(){return NI()&&document.documentMode===10}function iw(n=$t()){return xp(n)||nw(n)||sw(n)||rw(n)||/windows phone/i.test(n)||tw(n)}function ow(n,e=[]){let t;switch(n){case"Browser":t=lv($t());break;case"Worker":t=`${lv($t())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${xi}/${s}`}class ZN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((c,h)=>{try{const p=e(l);c(p)}catch(p){h(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function ek(n,e={}){return $o(n,"GET","/v2/passwordPolicy",_p(n,e))}const tk=6;class nk{constructor(e){var t,s,o,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:tk,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,l,c,h;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(h=p.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class rk{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uv(this),this.idTokenSubscription=new uv(this),this.beforeStateQueue=new ZN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=q0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Or(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await Ao.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Q0(this,{idToken:e}),s=await Dr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Es(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=o?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===h)&&p?.user&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await _c(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=MN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Es(this.app))return Promise.reject(fi(this));const t=e?It(e):null;return t&&_e(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Es(this.app)?Promise.reject(fi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Es(this.app)?Promise.reject(fi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Or(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ek(this),t=new nk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new wi("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await YN(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Or(e)||this._popupRedirectResolver;_e(t,this,"argument-error"),this.redirectPersistenceManager=await Ao.create(this,[Or(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(h,this,"internal-error"),h.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ow(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&ON(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ep(n){return It(n)}class uv{constructor(e){this.auth=e,this.observer=null,this.addObserver=OI(t=>this.observer=t)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Tp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sk(n){Tp=n}function ik(n){return Tp.loadJS(n)}function ok(){return Tp.gapiScript}function ak(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function lk(n,e){const t=js(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Ja(l,e??{}))return o;zr(o,"already-initialized")}return t.initialize({options:e})}function uk(n,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Or);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e?.popupRedirectResolver)}function ck(n,e,t){const s=Ep(n);_e(s._canInitEmulator,s,"emulator-config-failed"),_e(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=aw(e),{host:c,port:h}=dk(e),p=h===null?"":`:${h}`;s.config.emulator={url:`${l}//${c}${p}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:c,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),hk()}function aw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function dk(n){const e=aw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:cv(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:cv(c)}}}function cv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function hk(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class lw{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return jr("not implemented")}_getIdTokenResponse(e){return jr("not implemented")}_linkToIdToken(e,t){return jr("not implemented")}_getReauthenticationResolver(e){return jr("not implemented")}}async function Ro(n,e){return BN(n,"POST","/v1/accounts:signInWithIdp",_p(n,e))}const fk="http://localhost";class yi extends lw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new yi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):zr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,l=gp(t,["providerId","signInMethod"]);if(!s||!o)return null;const c=new yi(s,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Ro(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Ro(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ro(e,t)}buildRequest(){const e={requestUri:fk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=hl(t)}return e}}class uw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class xl extends uw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ys extends xl{constructor(){super("facebook.com")}static credential(e){return yi._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ys.credential(e.oauthAccessToken)}catch{return null}}}ys.FACEBOOK_SIGN_IN_METHOD="facebook.com";ys.PROVIDER_ID="facebook.com";class vs extends xl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return yi._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return vs.credential(t,s)}catch{return null}}}vs.GOOGLE_SIGN_IN_METHOD="google.com";vs.PROVIDER_ID="google.com";class _s extends xl{constructor(){super("github.com")}static credential(e){return yi._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _s.credential(e.oauthAccessToken)}catch{return null}}}_s.GITHUB_SIGN_IN_METHOD="github.com";_s.PROVIDER_ID="github.com";class ws extends xl{constructor(){super("twitter.com")}static credential(e,t){return yi._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return ws.credential(t,s)}catch{return null}}}ws.TWITTER_SIGN_IN_METHOD="twitter.com";ws.PROVIDER_ID="twitter.com";class Oo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const l=await Dr._fromIdTokenResponse(e,s,o),c=dv(s);return new Oo({user:l,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=dv(s);return new Oo({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function dv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class wc extends Nn{constructor(e,t,s,o){var l;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,wc.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new wc(e,t,s,o)}}function cw(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?wc._fromErrorAndOperation(n,l,e,s):l})}async function pk(n,e,t=!1){const s=await ll(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Oo._forOperation(n,"link",s)}async function mk(n,e,t=!1){const{auth:s}=n;if(Es(s.app))return Promise.reject(fi(s));const o="reauthenticate";try{const l=await ll(n,cw(s,o,e,n),t);_e(l.idToken,s,"internal-error");const c=wp(l.idToken);_e(c,s,"internal-error");const{sub:h}=c;return _e(n.uid===h,s,"user-mismatch"),Oo._forOperation(n,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&zr(s,"user-mismatch"),l}}async function gk(n,e,t=!1){if(Es(n.app))return Promise.reject(fi(n));const s="signIn",o=await cw(n,s,e),l=await Oo._fromIdTokenResponse(n,s,o);return t||await n._updateCurrentUser(l.user),l}function yk(n,e,t,s){return It(n).onIdTokenChanged(e,t,s)}function vk(n,e,t){return It(n).beforeAuthStateChanged(e,t)}const xc="__sak";class dw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(xc,"1"),this.storage.removeItem(xc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const _k=1e3,wk=10;class hw extends dw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,p)=>{this.notifyListeners(c,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);JN()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,wk):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},_k)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}hw.type="LOCAL";const xk=hw;class fw extends dw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}fw.type="SESSION";const pw=fw;function Ek(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Hc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Hc(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:l}=t.data,c=this.handlersMap[o];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const h=Array.from(c).map(async v=>v(t.origin,l)),p=await Ek(h);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hc.receivers=[];function Ip(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}class Tk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((h,p)=>{const v=Ip("",20);o.port1.start();const x=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(T){const A=T;if(A.data.eventId===v)switch(A.data.status){case"ack":clearTimeout(x),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(A.data.response);break;default:clearTimeout(x),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function ur(){return window}function Ik(n){ur().location.href=n}function mw(){return typeof ur().WorkerGlobalScope<"u"&&typeof ur().importScripts=="function"}async function Sk(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ak(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Rk(){return mw()?self:null}const gw="firebaseLocalStorageDb",Nk=1,Ec="firebaseLocalStorage",yw="fbase_key";class El{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Kc(n,e){return n.transaction([Ec],e?"readwrite":"readonly").objectStore(Ec)}function kk(){const n=indexedDB.deleteDatabase(gw);return new El(n).toPromise()}function Ef(){const n=indexedDB.open(gw,Nk);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(Ec,{keyPath:yw})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(Ec)?e(s):(s.close(),await kk(),e(await Ef()))})})}async function hv(n,e,t){const s=Kc(n,!0).put({[yw]:e,value:t});return new El(s).toPromise()}async function Ck(n,e){const t=Kc(n,!1).get(e),s=await new El(t).toPromise();return s===void 0?null:s.value}function fv(n,e){const t=Kc(n,!0).delete(e);return new El(t).toPromise()}const Pk=800,bk=3;class vw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ef(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>bk)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hc._getInstance(Rk()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Sk(),!this.activeServiceWorker)return;this.sender=new Tk(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Ak()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ef();return await hv(e,xc,"1"),await fv(e,xc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>hv(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>Ck(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>fv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Kc(o,!1).getAll();return new El(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Pk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vw.type="LOCAL";const jk=vw;new wl(3e4,6e4);function Dk(n,e){return e?Or(e):(_e(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Sp extends lw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ro(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ro(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ro(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ok(n){return gk(n.auth,new Sp(n),n.bypassAuthState)}function Vk(n){const{auth:e,user:t}=n;return _e(t,e,"internal-error"),mk(t,new Sp(n),n.bypassAuthState)}async function Lk(n){const{auth:e,user:t}=n;return _e(t,e,"internal-error"),pk(t,new Sp(n),n.bypassAuthState)}class _w{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:c,type:h}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ok;case"linkViaPopup":case"linkViaRedirect":return Lk;case"reauthViaPopup":case"reauthViaRedirect":return Vk;default:zr(this.auth,"internal-error")}}resolve(e){$r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Mk=new wl(2e3,1e4);class To extends _w{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,To.currentPopupAction&&To.currentPopupAction.cancel(),To.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){$r(this.filter.length===1,"Popup operations only handle one event");const e=Ip();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,To.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Mk.get())};e()}}To.currentPopupAction=null;const Fk="pendingRedirect",rc=new Map;class Uk extends _w{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=rc.get(this.auth._key());if(!e){try{const s=await Bk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}rc.set(this.auth._key(),e)}return this.bypassAuthState||rc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Bk(n,e){const t=qk(e),s=$k(n);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function zk(n,e){rc.set(n._key(),e)}function $k(n){return Or(n._redirectPersistence)}function qk(n){return nc(Fk,n.config.apiKey,n.name)}async function Wk(n,e,t=!1){if(Es(n.app))return Promise.reject(fi(n));const s=Ep(n),o=Dk(s,e),c=await new Uk(s,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}const Hk=600*1e3;class Kk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Gk(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!ww(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(lr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Hk&&this.cachedEventUids.clear(),this.cachedEventUids.has(pv(e))}saveEventToCache(e){this.cachedEventUids.add(pv(e)),this.lastProcessedEventTime=Date.now()}}function pv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function ww({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Gk(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ww(n);default:return!1}}async function Qk(n,e={}){return $o(n,"GET","/v1/projects",e)}const Yk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xk=/^https?/;async function Jk(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Qk(n);for(const t of e)try{if(Zk(t))return}catch{}zr(n,"unauthorized-domain")}function Zk(n){const e=wf(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!Xk.test(t))return!1;if(Yk.test(n))return s===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const eC=new wl(3e4,6e4);function mv(){const n=ur().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function tC(n){return new Promise((e,t)=>{var s,o,l;function c(){mv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mv(),t(lr(n,"network-request-failed"))},timeout:eC.get()})}if(!((o=(s=ur().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=ur().gapi)===null||l===void 0)&&l.load)c();else{const h=ak("iframefcb");return ur()[h]=()=>{gapi.load?c():t(lr(n,"network-request-failed"))},ik(`${ok()}?onload=${h}`).catch(p=>t(p))}}).catch(e=>{throw sc=null,e})}let sc=null;function nC(n){return sc=sc||tC(n),sc}const rC=new wl(5e3,15e3),sC="__/auth/iframe",iC="emulator/auth/iframe",oC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lC(n){const e=n.config;_e(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?vp(e,iC):`https://${n.config.authDomain}/${sC}`,s={apiKey:e.apiKey,appName:n.name,v:xi},o=aC.get(n.config.apiHost);o&&(s.eid=o);const l=n._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${hl(s).slice(1)}`}async function uC(n){const e=await nC(n),t=ur().gapi;return _e(t,n,"internal-error"),e.open({where:document.body,url:lC(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oC,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const c=lr(n,"network-request-failed"),h=ur().setTimeout(()=>{l(c)},rC.get());function p(){ur().clearTimeout(h),o(s)}s.ping(p).then(p,()=>{l(c)})}))}const cC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dC=500,hC=600,fC="_blank",pC="http://localhost";class gv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mC(n,e,t,s=dC,o=hC){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let h="";const p=Object.assign(Object.assign({},cC),{width:s.toString(),height:o.toString(),top:l,left:c}),v=$t().toLowerCase();t&&(h=ew(v)?fC:t),J0(v)&&(e=e||pC,p.scrollbars="yes");const x=Object.entries(p).reduce((A,[D,q])=>`${A}${D}=${q},`,"");if(XN(v)&&h!=="_self")return gC(e||"",h),new gv(null);const T=window.open(e||"",h,x);_e(T,n,"popup-blocked");try{T.focus()}catch{}return new gv(T)}function gC(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}const yC="__/auth/handler",vC="emulator/auth/handler",_C=encodeURIComponent("fac");async function yv(n,e,t,s,o,l){_e(n.config.authDomain,n,"auth-domain-config-required"),_e(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:xi,eventId:o};if(e instanceof uw){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",DI(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,T]of Object.entries({}))c[x]=T}if(e instanceof xl){const x=e.getScopes().filter(T=>T!=="");x.length>0&&(c.scopes=x.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const x of Object.keys(h))h[x]===void 0&&delete h[x];const p=await n._getAppCheckToken(),v=p?`#${_C}=${encodeURIComponent(p)}`:"";return`${wC(n)}?${hl(h).slice(1)}${v}`}function wC({config:n}){return n.emulator?vp(n,vC):`https://${n.authDomain}/${yC}`}const Bh="webStorageSupport";class xC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pw,this._completeRedirectFn=Wk,this._overrideRedirectResult=zk}async _openPopup(e,t,s,o){var l;$r((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await yv(e,t,s,wf(),o);return mC(e,c,Ip())}async _openRedirect(e,t,s,o){await this._originValidation(e);const l=await yv(e,t,s,wf(),o);return Ik(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):($r(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await uC(e),s=new Kk(e);return t.register("authEvent",o=>(_e(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Bh,{type:Bh},o=>{var l;const c=(l=o?.[0])===null||l===void 0?void 0:l[Bh];c!==void 0&&t(!!c),zr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Jk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return iw()||Z0()||xp()}}const EC=xC;var vv="@firebase/auth",_v="1.7.9";class TC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function IC(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function SC(n){Hn(new Rn("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=s.options;_e(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ow(n)},v=new rk(s,o,l,p);return uk(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Hn(new Rn("auth-internal",e=>{const t=Ep(e.getProvider("auth").getImmediate());return(s=>new TC(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),sn(vv,_v,IC(n)),sn(vv,_v,"esm2017")}const AC=300,RC=i_("authIdTokenMaxAge")||AC;let wv=null;const NC=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>RC)return;const o=t?.token;wv!==o&&(wv=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function kC(n=Cc()){const e=js(n,"auth");if(e.isInitialized())return e.getImmediate();const t=lk(n,{popupRedirectResolver:EC,persistence:[jk,xk,pw]}),s=i_("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=NC(l.toString());vk(t,c,()=>c(t.currentUser)),yk(t,h=>c(h))}}const o=n_("auth");return o&&ck(t,`http://${o}`),t}function CC(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}sk({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=o=>{const l=lr("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",CC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});SC("Browser");const xw="@firebase/installations",Ap="0.6.9";const Ew=1e4,Tw=`w:${Ap}`,Iw="FIS_v2",PC="https://firebaseinstallations.googleapis.com/v1",bC=3600*1e3,jC="installations",DC="Installations";const OC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},vi=new wi(jC,DC,OC);function Sw(n){return n instanceof Nn&&n.code.includes("request-failed")}function Aw({projectId:n}){return`${PC}/projects/${n}/installations`}function Rw(n){return{token:n.token,requestStatus:2,expiresIn:LC(n.expiresIn),creationTime:Date.now()}}async function Nw(n,e){const s=(await e.json()).error;return vi.create("request-failed",{requestName:n,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function kw({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function VC(n,{refreshToken:e}){const t=kw(n);return t.append("Authorization",MC(e)),t}async function Cw(n){const e=await n();return e.status>=500&&e.status<600?n():e}function LC(n){return Number(n.replace("s","000"))}function MC(n){return`${Iw} ${n}`}async function FC({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const s=Aw(n),o=kw(n),l=e.getImmediate({optional:!0});if(l){const v=await l.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const c={fid:t,authVersion:Iw,appId:n.appId,sdkVersion:Tw},h={method:"POST",headers:o,body:JSON.stringify(c)},p=await Cw(()=>fetch(s,h));if(p.ok){const v=await p.json();return{fid:v.fid||t,registrationStatus:2,refreshToken:v.refreshToken,authToken:Rw(v.authToken)}}else throw await Nw("Create Installation",p)}function Pw(n){return new Promise(e=>{setTimeout(e,n)})}function UC(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}const BC=/^[cdef][\w-]{21}$/,Tf="";function zC(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=$C(n);return BC.test(t)?t:Tf}catch{return Tf}}function $C(n){return UC(n).substr(0,22)}function Gc(n){return`${n.appName}!${n.appId}`}const bw=new Map;function jw(n,e){const t=Gc(n);Dw(t,e),qC(t,e)}function Dw(n,e){const t=bw.get(n);if(t)for(const s of t)s(e)}function qC(n,e){const t=WC();t&&t.postMessage({key:n,fid:e}),HC()}let di=null;function WC(){return!di&&"BroadcastChannel"in self&&(di=new BroadcastChannel("[Firebase] FID Change"),di.onmessage=n=>{Dw(n.data.key,n.data.fid)}),di}function HC(){bw.size===0&&di&&(di.close(),di=null)}const KC="firebase-installations-database",GC=1,_i="firebase-installations-store";let zh=null;function Rp(){return zh||(zh=h_(KC,GC,{upgrade:(n,e)=>{e===0&&n.createObjectStore(_i)}})),zh}async function Tc(n,e){const t=Gc(n),o=(await Rp()).transaction(_i,"readwrite"),l=o.objectStore(_i),c=await l.get(t);return await l.put(e,t),await o.done,(!c||c.fid!==e.fid)&&jw(n,e.fid),e}async function Ow(n){const e=Gc(n),s=(await Rp()).transaction(_i,"readwrite");await s.objectStore(_i).delete(e),await s.done}async function Qc(n,e){const t=Gc(n),o=(await Rp()).transaction(_i,"readwrite"),l=o.objectStore(_i),c=await l.get(t),h=e(c);return h===void 0?await l.delete(t):await l.put(h,t),await o.done,h&&(!c||c.fid!==h.fid)&&jw(n,h.fid),h}async function Np(n){let e;const t=await Qc(n.appConfig,s=>{const o=QC(s),l=YC(n,o);return e=l.registrationPromise,l.installationEntry});return t.fid===Tf?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function QC(n){const e=n||{fid:zC(),registrationStatus:0};return Vw(e)}function YC(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(vi.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=XC(n,t);return{installationEntry:t,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:JC(n)}:{installationEntry:e}}async function XC(n,e){try{const t=await FC(n,e);return Tc(n.appConfig,t)}catch(t){throw Sw(t)&&t.customData.serverCode===409?await Ow(n.appConfig):await Tc(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function JC(n){let e=await xv(n.appConfig);for(;e.registrationStatus===1;)await Pw(100),e=await xv(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await Np(n);return s||t}return e}function xv(n){return Qc(n,e=>{if(!e)throw vi.create("installation-not-found");return Vw(e)})}function Vw(n){return ZC(n)?{fid:n.fid,registrationStatus:0}:n}function ZC(n){return n.registrationStatus===1&&n.registrationTime+Ew<Date.now()}async function eP({appConfig:n,heartbeatServiceProvider:e},t){const s=tP(n,t),o=VC(n,t),l=e.getImmediate({optional:!0});if(l){const v=await l.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const c={installation:{sdkVersion:Tw,appId:n.appId}},h={method:"POST",headers:o,body:JSON.stringify(c)},p=await Cw(()=>fetch(s,h));if(p.ok){const v=await p.json();return Rw(v)}else throw await Nw("Generate Auth Token",p)}function tP(n,{fid:e}){return`${Aw(n)}/${e}/authTokens:generate`}async function kp(n,e=!1){let t;const s=await Qc(n.appConfig,l=>{if(!Lw(l))throw vi.create("not-registered");const c=l.authToken;if(!e&&sP(c))return l;if(c.requestStatus===1)return t=nP(n,e),l;{if(!navigator.onLine)throw vi.create("app-offline");const h=oP(l);return t=rP(n,h),h}});return t?await t:s.authToken}async function nP(n,e){let t=await Ev(n.appConfig);for(;t.authToken.requestStatus===1;)await Pw(100),t=await Ev(n.appConfig);const s=t.authToken;return s.requestStatus===0?kp(n,e):s}function Ev(n){return Qc(n,e=>{if(!Lw(e))throw vi.create("not-registered");const t=e.authToken;return aP(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function rP(n,e){try{const t=await eP(n,e),s=Object.assign(Object.assign({},e),{authToken:t});return await Tc(n.appConfig,s),t}catch(t){if(Sw(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await Ow(n.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Tc(n.appConfig,s)}throw t}}function Lw(n){return n!==void 0&&n.registrationStatus===2}function sP(n){return n.requestStatus===2&&!iP(n)}function iP(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+bC}function oP(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function aP(n){return n.requestStatus===1&&n.requestTime+Ew<Date.now()}async function lP(n){const e=n,{installationEntry:t,registrationPromise:s}=await Np(e);return s?s.catch(console.error):kp(e).catch(console.error),t.fid}async function uP(n,e=!1){const t=n;return await cP(t),(await kp(t,e)).token}async function cP(n){const{registrationPromise:e}=await Np(n);e&&await e}function dP(n){if(!n||!n.options)throw $h("App Configuration");if(!n.name)throw $h("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw $h(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function $h(n){return vi.create("missing-app-config-values",{valueName:n})}const Mw="installations",hP="installations-internal",fP=n=>{const e=n.getProvider("app").getImmediate(),t=dP(e),s=js(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},pP=n=>{const e=n.getProvider("app").getImmediate(),t=js(e,Mw).getImmediate();return{getId:()=>lP(t),getToken:o=>uP(t,o)}};function mP(){Hn(new Rn(Mw,fP,"PUBLIC")),Hn(new Rn(hP,pP,"PRIVATE"))}mP();sn(xw,Ap);sn(xw,Ap,"esm2017");const Ic="analytics",gP="firebase_id",yP="origin",vP=60*1e3,_P="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Cp="https://www.googletagmanager.com/gtag/js";const an=new kc("@firebase/analytics");const wP={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},gn=new wi("analytics","Analytics",wP);function xP(n){if(!n.startsWith(Cp)){const e=gn.create("invalid-gtag-resource",{gtagURL:n});return an.warn(e.message),""}return n}function Fw(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function EP(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function TP(n,e){const t=EP("firebase-js-sdk-policy",{createScriptURL:xP}),s=document.createElement("script"),o=`${Cp}?l=${n}&id=${e}`;s.src=t?t?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function IP(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function SP(n,e,t,s,o,l){const c=s[o];try{if(c)await e[c];else{const p=(await Fw(t)).find(v=>v.measurementId===o);p&&await e[p.appId]}}catch(h){an.error(h)}n("config",o,l)}async function AP(n,e,t,s,o){try{let l=[];if(o&&o.send_to){let c=o.send_to;Array.isArray(c)||(c=[c]);const h=await Fw(t);for(const p of c){const v=h.find(T=>T.measurementId===p),x=v&&e[v.appId];if(x)l.push(x);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),n("event",s,o||{})}catch(l){an.error(l)}}function RP(n,e,t,s){async function o(l,...c){try{if(l==="event"){const[h,p]=c;await AP(n,e,t,h,p)}else if(l==="config"){const[h,p]=c;await SP(n,e,t,s,h,p)}else if(l==="consent"){const[h,p]=c;n("consent",h,p)}else if(l==="get"){const[h,p,v]=c;n("get",h,p,v)}else if(l==="set"){const[h]=c;n("set",h)}else n(l,...c)}catch(h){an.error(h)}}return o}function NP(n,e,t,s,o){let l=function(...c){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(l=window[o]),window[o]=RP(l,n,e,t),{gtagCore:l,wrappedGtag:window[o]}}function kP(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Cp)&&t.src.includes(n))return t;return null}const CP=30,PP=1e3;class bP{constructor(e={},t=PP){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Uw=new bP;function jP(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function DP(n){var e;const{appId:t,apiKey:s}=n,o={method:"GET",headers:jP(s)},l=_P.replace("{app-id}",t),c=await fetch(l,o);if(c.status!==200&&c.status!==304){let h="";try{const p=await c.json();!((e=p.error)===null||e===void 0)&&e.message&&(h=p.error.message)}catch{}throw gn.create("config-fetch-failed",{httpStatus:c.status,responseMessage:h})}return c.json()}async function OP(n,e=Uw,t){const{appId:s,apiKey:o,measurementId:l}=n.options;if(!s)throw gn.create("no-app-id");if(!o){if(l)return{measurementId:l,appId:s};throw gn.create("no-api-key")}const c=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new MP;return setTimeout(async()=>{h.abort()},vP),Bw({appId:s,apiKey:o,measurementId:l},c,h,e)}async function Bw(n,{throttleEndTimeMillis:e,backoffCount:t},s,o=Uw){var l;const{appId:c,measurementId:h}=n;try{await VP(s,e)}catch(p){if(h)return an.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:c,measurementId:h};throw p}try{const p=await DP(n);return o.deleteThrottleMetadata(c),p}catch(p){const v=p;if(!LP(v)){if(o.deleteThrottleMetadata(c),h)return an.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${v?.message}]`),{appId:c,measurementId:h};throw p}const x=Number((l=v?.customData)===null||l===void 0?void 0:l.httpStatus)===503?sy(t,o.intervalMillis,CP):sy(t,o.intervalMillis),T={throttleEndTimeMillis:Date.now()+x,backoffCount:t+1};return o.setThrottleMetadata(c,T),an.debug(`Calling attemptFetch again in ${x} millis`),Bw(n,T,s,o)}}function VP(n,e){return new Promise((t,s)=>{const o=Math.max(e-Date.now(),0),l=setTimeout(t,o);n.addEventListener(()=>{clearTimeout(l),s(gn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function LP(n){if(!(n instanceof Nn)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class MP{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function FP(n,e,t,s,o){if(o&&o.global){n("event",t,s);return}else{const l=await e,c=Object.assign(Object.assign({},s),{send_to:l});n("event",t,c)}}async function UP(){if(l_())try{await u_()}catch(n){return an.warn(gn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return an.warn(gn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function BP(n,e,t,s,o,l,c){var h;const p=OP(n);p.then(D=>{t[D.measurementId]=D.appId,n.options.measurementId&&D.measurementId!==n.options.measurementId&&an.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${D.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(D=>an.error(D)),e.push(p);const v=UP().then(D=>{if(D)return s.getId()}),[x,T]=await Promise.all([p,v]);kP(l)||TP(l,x.measurementId),o("js",new Date);const A=(h=c?.config)!==null&&h!==void 0?h:{};return A[yP]="firebase",A.update=!0,T!=null&&(A[gP]=T),o("config",x.measurementId,A),x.measurementId}class zP{constructor(e){this.app=e}_delete(){return delete Qa[this.app.options.appId],Promise.resolve()}}let Qa={},Tv=[];const Iv={};let qh="dataLayer",$P="gtag",Sv,zw,Av=!1;function qP(){const n=[];if(a_()&&n.push("This is a browser extension environment."),CI()||n.push("Cookies are not available."),n.length>0){const e=n.map((s,o)=>`(${o+1}) ${s}`).join(" "),t=gn.create("invalid-analytics-context",{errorInfo:e});an.warn(t.message)}}function WP(n,e,t){qP();const s=n.options.appId;if(!s)throw gn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)an.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw gn.create("no-api-key");if(Qa[s]!=null)throw gn.create("already-exists",{id:s});if(!Av){IP(qh);const{wrappedGtag:l,gtagCore:c}=NP(Qa,Tv,Iv,qh,$P);zw=l,Sv=c,Av=!0}return Qa[s]=BP(n,Tv,Iv,e,Sv,qh,t),new zP(n)}function HP(n=Cc()){n=It(n);const e=js(n,Ic);return e.isInitialized()?e.getImmediate():KP(n)}function KP(n,e={}){const t=js(n,Ic);if(t.isInitialized()){const o=t.getImmediate();if(Ja(e,t.getOptions()))return o;throw gn.create("already-initialized")}return t.initialize({options:e})}function GP(n,e,t,s){n=It(n),FP(zw,Qa[n.app.options.appId],e,t,s).catch(o=>an.error(o))}const Rv="@firebase/analytics",Nv="0.10.8";function QP(){Hn(new Rn(Ic,(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return WP(s,o,t)},"PUBLIC")),Hn(new Rn("analytics-internal",n,"PRIVATE")),sn(Rv,Nv),sn(Rv,Nv,"esm2017");function n(e){try{const t=e.getProvider(Ic).getImmediate();return{logEvent:(s,o,l)=>GP(t,s,o,l)}}catch(t){throw gn.create("interop-component-reg-failed",{reason:t})}}}QP();const YP={apiKey:"AIzaSyDFqig-6NozL6ALQh5klX15D-XIWIF8bnQ",authDomain:"batistaglobalservice.firebaseapp.com",projectId:"batistaglobalservice",storageBucket:"batistaglobalservice.firebasestorage.app",messagingSenderId:"374616009302",appId:"1:374616009302:web:79c76aa87515444e3969f7",measurementId:"G-FCNPNFDVMM"},Yc=f_(YP),Tl=jR(Yc);NN(Yc);kC(Yc);HP(Yc);const Il="products",XP=async()=>{try{const n=N0(Tl,Il),e=WR(n,HR("createdAt","desc")),t=await JR(e),s=[];return t.forEach(o=>{s.push({id:o.id,...o.data()})}),{success:!0,data:s}}catch(n){return console.error("Error getting products:",n),{success:!1,error:n.message}}},JP=async n=>{try{const e=zc(Tl,Il,n),t=await XR(e);return t.exists()?{success:!0,data:{id:t.id,...t.data()}}:{success:!1,error:"Producto no encontrado"}}catch(e){return console.error("Error getting product:",e),{success:!1,error:e.message}}},ZP=async n=>{try{const e=F0(),t={...n,createdAt:e,updatedAt:e,views:0,purchases:0,isFeatured:n.isFeatured||!1,isNew:n.isNew||!0,discount:n.discount||0,stock:parseInt(n.stock)||0,price:parseFloat(n.price)||0,originalPrice:n.originalPrice?parseFloat(n.originalPrice):null};return{success:!0,data:{id:(await tN(N0(Tl,Il),t)).id,...t},message:"Producto creado exitosamente"}}catch(e){return console.error("Error creating product:",e),{success:!1,error:e.message}}},eb=async(n,e)=>{try{const t=zc(Tl,Il,n),s={...e,updatedAt:F0(),stock:parseInt(e.stock)||0,price:parseFloat(e.price)||0,discount:parseInt(e.discount)||0};return await ZR(t,s),{success:!0,message:"Producto actualizado exitosamente"}}catch(t){return console.error("Error updating product:",t),{success:!1,error:t.message}}},tb=async n=>{try{const e=zc(Tl,Il,n);return await eN(e),{success:!0,message:"Producto eliminado exitosamente"}}catch(e){return console.error("Error deleting product:",e),{success:!1,error:e.message}}},nb=()=>{const[n,e]=$.useState([]),[t,s]=$.useState(!0);$.useEffect(()=>{o()},[]);const o=async()=>{const c=await XP();c.success?e(c.data):Ze.error("Error al cargar productos"),s(!1)},l=async(c,h)=>{window.confirm(`Eliminar "${h}"?`)&&(await tb(c)).success&&(Ze.success("Producto eliminado"),o())};return t?m.jsx("div",{className:"flex justify-center items-center h-64",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Productos"}),m.jsx(nt,{to:"/admin/products/new",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:"+ Nuevo Producto"})]}),n.length===0?m.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[m.jsx("p",{className:"text-gray-500 text-lg mb-4",children:"No hay productos disponibles"}),m.jsx(nt,{to:"/admin/products/new",className:"text-blue-600 hover:text-blue-800 font-medium",children:"Crear el primer producto "})]}):m.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:m.jsxs("table",{className:"w-full",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Producto"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categora"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Precio"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),m.jsx("tbody",{className:"divide-y divide-gray-200",children:n.map(c=>m.jsxs("tr",{className:"hover:bg-gray-50",children:[m.jsx("td",{className:"px-6 py-4",children:m.jsxs("div",{className:"flex items-center",children:[c.imageUrl?m.jsx("img",{src:c.imageUrl,alt:c.name,className:"w-10 h-10 rounded object-cover mr-3"}):m.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded mr-3"}),m.jsx("span",{className:"font-medium text-gray-900",children:c.name})]})}),m.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:c.category||"Sin categora"}),m.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:["$",c.price||0]}),m.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:m.jsxs("span",{className:`px-2 py-1 rounded-full text-xs ${c.stock>10?"bg-green-100 text-green-800":c.stock>0?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[c.stock||0," unidades"]})}),m.jsxs("td",{className:"px-6 py-4 text-sm",children:[m.jsx(nt,{to:`/admin/products/edit/${c.id}`,className:"text-blue-600 hover:text-blue-900 mr-4 font-medium",children:"Editar"}),m.jsx("button",{onClick:()=>l(c.id,c.name),className:"text-red-600 hover:text-red-900 font-medium",children:"Eliminar"})]})]},c.id))})]})})]})},rb=()=>{const[n]=$.useState([{id:"ORD-001",customer:"Juan Prez",email:"juan@email.com",total:149.99,date:"2024-02-10",status:"Completado",payment:"Tarjeta"},{id:"ORD-002",customer:"Mara Garca",email:"maria@email.com",total:89.5,date:"2024-02-10",status:"Pendiente",payment:"PayPal"},{id:"ORD-003",customer:"Carlos Lpez",email:"carlos@email.com",total:299.99,date:"2024-02-09",status:"Enviado",payment:"Tarjeta"},{id:"ORD-004",customer:"Ana Rodrguez",email:"ana@email.com",total:45.99,date:"2024-02-09",status:"Completado",payment:"Transferencia"},{id:"ORD-005",customer:"Pedro Martnez",email:"pedro@email.com",total:189.99,date:"2024-02-08",status:"Cancelado",payment:"Tarjeta"},{id:"ORD-006",customer:"Laura Snchez",email:"laura@email.com",total:75.25,date:"2024-02-08",status:"Procesando",payment:"PayPal"},{id:"ORD-007",customer:"Roberto Daz",email:"roberto@email.com",total:320,date:"2024-02-07",status:"Enviado",payment:"Tarjeta"},{id:"ORD-008",customer:"Sofa Ruiz",email:"sofia@email.com",total:55.5,date:"2024-02-07",status:"Completado",payment:"PayPal"}]),e={Completado:"bg-green-100 text-green-800",Pendiente:"bg-yellow-100 text-yellow-800",Enviado:"bg-blue-100 text-blue-800",Procesando:"bg-purple-100 text-purple-800",Cancelado:"bg-red-100 text-red-800"};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestin de rdenes"}),m.jsx("p",{className:"text-gray-600",children:"Administra y procesa las rdenes de los clientes"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[m.jsxs("div",{className:"bg-white p-6 rounded-xl shadow",children:[m.jsx("p",{className:"text-sm text-gray-500",children:"Total rdenes"}),m.jsx("p",{className:"text-2xl font-bold",children:"156"}),m.jsx("p",{className:"text-sm text-green-500",children:"+12% este mes"})]}),m.jsxs("div",{className:"bg-white p-6 rounded-xl shadow",children:[m.jsx("p",{className:"text-sm text-gray-500",children:"Ventas Totales"}),m.jsx("p",{className:"text-2xl font-bold",children:"$12,450"}),m.jsx("p",{className:"text-sm text-green-500",children:"+8% este mes"})]}),m.jsxs("div",{className:"bg-white p-6 rounded-xl shadow",children:[m.jsx("p",{className:"text-sm text-gray-500",children:"rdenes Pendientes"}),m.jsx("p",{className:"text-2xl font-bold",children:"8"}),m.jsx("p",{className:"text-sm text-yellow-500",children:"Necesitan atencin"})]}),m.jsxs("div",{className:"bg-white p-6 rounded-xl shadow",children:[m.jsx("p",{className:"text-sm text-gray-500",children:"Ticket Promedio"}),m.jsx("p",{className:"text-2xl font-bold",children:"$79.81"}),m.jsx("p",{className:"text-sm text-green-500",children:"+5% este mes"})]})]}),m.jsx("div",{className:"bg-white p-4 rounded-xl shadow",children:m.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[m.jsxs("div",{className:"flex-1 relative",children:[m.jsx(hI,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),m.jsx("input",{type:"text",placeholder:"Buscar rdenes...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),m.jsxs("select",{className:"px-4 py-2 border rounded-lg",children:[m.jsx("option",{children:"Todos los estados"}),m.jsx("option",{children:"Completado"}),m.jsx("option",{children:"Pendiente"}),m.jsx("option",{children:"Enviado"}),m.jsx("option",{children:"Cancelado"})]}),m.jsx("input",{type:"date",className:"px-4 py-2 border rounded-lg"}),m.jsxs("button",{className:"flex items-center px-4 py-2 border rounded-lg hover:bg-gray-50",children:[m.jsx(dI,{className:"w-5 h-5 mr-2"}),"Filtros"]})]})}),m.jsxs("div",{className:"bg-white rounded-xl shadow overflow-hidden",children:[m.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[m.jsx("h2",{className:"text-lg font-semibold",children:"rdenes Recientes"}),m.jsxs("button",{className:"flex items-center text-gray-600 hover:text-gray-900",children:[m.jsx(Jv,{className:"w-5 h-5 mr-2"}),"Exportar CSV"]})]}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"ID Orden"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cliente"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Fecha"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Estado"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Pago"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Acciones"})]})}),m.jsx("tbody",{className:"divide-y",children:n.map(t=>m.jsxs("tr",{className:"hover:bg-gray-50",children:[m.jsx("td",{className:"px-6 py-4 font-medium",children:t.id}),m.jsx("td",{className:"px-6 py-4",children:m.jsxs("div",{children:[m.jsx("p",{className:"font-medium",children:t.customer}),m.jsx("p",{className:"text-sm text-gray-500",children:t.email})]})}),m.jsx("td",{className:"px-6 py-4",children:t.date}),m.jsxs("td",{className:"px-6 py-4 font-bold",children:["$",t.total.toFixed(2)]}),m.jsx("td",{className:"px-6 py-4",children:m.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${e[t.status]}`,children:t.status})}),m.jsx("td",{className:"px-6 py-4",children:t.payment}),m.jsx("td",{className:"px-6 py-4",children:m.jsxs("div",{className:"flex space-x-2",children:[m.jsx("button",{className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"Ver detalles",children:m.jsx(cI,{className:"w-4 h-4"})}),t.status==="Pendiente"&&m.jsxs(m.Fragment,{children:[m.jsx("button",{className:"p-2 text-green-600 hover:bg-green-50 rounded",title:"Aprobar",children:m.jsx(lI,{className:"w-4 h-4"})}),m.jsx("button",{className:"p-2 text-red-600 hover:bg-red-50 rounded",title:"Rechazar",children:m.jsx(pI,{className:"w-4 h-4"})})]}),t.status==="Procesando"&&m.jsx("button",{className:"p-2 text-purple-600 hover:bg-purple-50 rounded",title:"Marcar como enviado",children:m.jsx(fI,{className:"w-4 h-4"})})]})})]},t.id))})]})})]})]})},sb=()=>m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Analticas y Reportes"}),m.jsx("p",{className:"text-gray-600",children:"Mtricas y anlisis de rendimiento de tu tienda"})]}),m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsxs("select",{className:"px-4 py-2 border rounded-lg",children:[m.jsx("option",{children:"ltimos 7 das"}),m.jsx("option",{children:"ltimos 30 das"}),m.jsx("option",{children:"ltimos 3 meses"}),m.jsx("option",{children:"Este ao"})]}),m.jsxs("button",{className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[m.jsx(Jv,{className:"w-5 h-5 mr-2"}),"Exportar Reporte"]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[m.jsx("div",{className:"bg-white p-6 rounded-xl shadow",children:m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-500",children:"Ingresos Totales"}),m.jsx("p",{className:"text-2xl font-bold mt-2",children:"$12,450"}),m.jsxs("div",{className:"flex items-center mt-2",children:[m.jsx(Eo,{className:"w-4 h-4 text-green-500 mr-1"}),m.jsx("span",{className:"text-sm text-green-500",children:"+18.2%"}),m.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"vs mes pasado"})]})]}),m.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:m.jsx(Yh,{className:"w-6 h-6 text-green-600"})})]})}),m.jsx("div",{className:"bg-white p-6 rounded-xl shadow",children:m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-500",children:"rdenes Totales"}),m.jsx("p",{className:"text-2xl font-bold mt-2",children:"156"}),m.jsxs("div",{className:"flex items-center mt-2",children:[m.jsx(Eo,{className:"w-4 h-4 text-green-500 mr-1"}),m.jsx("span",{className:"text-sm text-green-500",children:"+12.5%"}),m.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"vs mes pasado"})]})]}),m.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:m.jsx(Qu,{className:"w-6 h-6 text-blue-600"})})]})}),m.jsx("div",{className:"bg-white p-6 rounded-xl shadow",children:m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-500",children:"Clientes Nuevos"}),m.jsx("p",{className:"text-2xl font-bold mt-2",children:"48"}),m.jsxs("div",{className:"flex items-center mt-2",children:[m.jsx(Eo,{className:"w-4 h-4 text-green-500 mr-1"}),m.jsx("span",{className:"text-sm text-green-500",children:"+8.7%"}),m.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"vs mes pasado"})]})]}),m.jsx("div",{className:"bg-purple-100 p-3 rounded-lg",children:m.jsx(Xh,{className:"w-6 h-6 text-purple-600"})})]})}),m.jsx("div",{className:"bg-white p-6 rounded-xl shadow",children:m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-500",children:"Ticket Promedio"}),m.jsx("p",{className:"text-2xl font-bold mt-2",children:"$79.81"}),m.jsxs("div",{className:"flex items-center mt-2",children:[m.jsx(Eo,{className:"w-4 h-4 text-green-500 mr-1"}),m.jsx("span",{className:"text-sm text-green-500",children:"+5.4%"}),m.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"vs mes pasado"})]})]}),m.jsx("div",{className:"bg-orange-100 p-3 rounded-lg",children:m.jsx(Yh,{className:"w-6 h-6 text-orange-600"})})]})})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"bg-white p-6 rounded-xl shadow",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h2",{className:"text-lg font-semibold",children:"Ventas por Da"}),m.jsx(aI,{className:"w-5 h-5 text-gray-400"})]}),m.jsx("div",{className:"h-64 flex items-end space-x-2",children:[40,65,80,60,75,90,85].map((n,e)=>m.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[m.jsx("div",{className:"w-full bg-blue-500 rounded-t",style:{height:`${n}%`}}),m.jsx("span",{className:"text-xs text-gray-500 mt-2",children:["Lun","Mar","Mi","Jue","Vie","Sb","Dom"][e]})]},e))})]}),m.jsxs("div",{className:"bg-white p-6 rounded-xl shadow",children:[m.jsx("h2",{className:"text-lg font-semibold mb-6",children:"Productos Ms Vendidos"}),m.jsx("div",{className:"space-y-4",children:[{name:"Smartphone X",sales:45,revenue:"$13,500"},{name:"Audfonos Bluetooth",sales:32,revenue:"$2,880"},{name:"Smart Watch Pro",sales:28,revenue:"$5,600"},{name:"Camiseta Casual",sales:25,revenue:"$625"},{name:"Zapatos Deportivos",sales:18,revenue:"$1,440"}].map((n,e)=>m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded mr-3"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium",children:n.name}),m.jsxs("p",{className:"text-sm text-gray-500",children:[n.sales," unidades"]})]})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("p",{className:"font-bold",children:n.revenue}),m.jsxs("p",{className:"text-sm text-green-500",children:["+",Math.floor(Math.random()*20)+5,"%"]})]})]},e))})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"bg-white p-6 rounded-xl shadow",children:[m.jsx("h3",{className:"font-semibold mb-4",children:"Dispositivos de Acceso"}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between mb-1",children:[m.jsx("span",{children:"Mvil"}),m.jsx("span",{className:"font-medium",children:"62%"})]}),m.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:m.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"62%"}})})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between mb-1",children:[m.jsx("span",{children:"Desktop"}),m.jsx("span",{className:"font-medium",children:"32%"})]}),m.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:m.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"32%"}})})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between mb-1",children:[m.jsx("span",{children:"Tablet"}),m.jsx("span",{className:"font-medium",children:"6%"})]}),m.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:m.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:"6%"}})})]})]})]}),m.jsxs("div",{className:"bg-white p-6 rounded-xl shadow",children:[m.jsx("h3",{className:"font-semibold mb-4",children:"Fuentes de Trfico"}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{children:"Bsqueda Orgnica"}),m.jsx("span",{className:"font-medium",children:"42%"})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{children:"Redes Sociales"}),m.jsx("span",{className:"font-medium",children:"28%"})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{children:"Marketing por Email"}),m.jsx("span",{className:"font-medium",children:"18%"})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{children:"Directo"}),m.jsx("span",{className:"font-medium",children:"12%"})]})]})]}),m.jsxs("div",{className:"bg-white p-6 rounded-xl shadow",children:[m.jsx("h3",{className:"font-semibold mb-4",children:"Tasa de Conversin"}),m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-32 h-32 rounded-full border-8 border-blue-500 mb-4",children:m.jsxs("div",{className:"text-center",children:[m.jsx("p",{className:"text-3xl font-bold",children:"4.2%"}),m.jsx("p",{className:"text-sm text-gray-500",children:"Conversin"})]})}),m.jsx("p",{className:"text-sm text-gray-600",children:"+0.8% respecto al mes anterior"})]})]})]})]}),kv=()=>{const{id:n}=OE(),e=cl(),t=!!n,[s,o]=$.useState(!1),[l,c]=$.useState({name:"",description:"",category:"electronics",price:"",stock:"",imageUrl:""});$.useEffect(()=>{t&&h()},[n]);const h=async()=>{o(!0);const x=await JP(n);x.success?c(x.data):Ze.error("Error al cargar el producto"),o(!1)},p=x=>{const{name:T,value:A}=x.target;c(D=>({...D,[T]:A}))},v=async x=>{x.preventDefault(),o(!0);const T={...l,price:parseFloat(l.price)||0,stock:parseInt(l.stock)||0};let A;t?A=await eb(n,T):A=await ZP(T),A.success?(Ze.success(t?"Producto actualizado":"Producto creado"),e("/admin/products")):(Ze.error("Error al guardar el producto"),o(!1))};return s&&t?m.jsx("div",{className:"flex justify-center items-center h-64",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):m.jsxs("div",{className:"max-w-3xl mx-auto p-6",children:[m.jsx("div",{className:"mb-6",children:m.jsx(nt,{to:"/admin/products",className:"text-blue-600 hover:text-blue-800 flex items-center",children:" Volver a productos"})}),m.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:t?"Editar Producto":"Nuevo Producto"}),m.jsxs("form",{onSubmit:v,className:"space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nombre del Producto *"}),m.jsx("input",{type:"text",name:"name",value:l.name||"",onChange:p,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Ej: Smartphone X Pro"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Categora"}),m.jsxs("select",{name:"category",value:l.category||"electronics",onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[m.jsx("option",{value:"electronics",children:"Electrnica"}),m.jsx("option",{value:"fashion",children:"Moda"}),m.jsx("option",{value:"home",children:"Hogar"}),m.jsx("option",{value:"sports",children:"Deportes"}),m.jsx("option",{value:"beauty",children:"Belleza"}),m.jsx("option",{value:"tourism",children:"Turismo"}),m.jsx("option",{value:"others",children:"Otros"})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Precio *"}),m.jsxs("div",{className:"relative",children:[m.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),m.jsx("input",{type:"number",name:"price",value:l.price||"",onChange:p,required:!0,min:"0",step:"0.01",className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00"})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Stock Disponible *"}),m.jsx("input",{type:"number",name:"stock",value:l.stock||"",onChange:p,required:!0,min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0"})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Descripcin"}),m.jsx("textarea",{name:"description",value:l.description||"",onChange:p,rows:"4",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Describe las caractersticas del producto..."})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"URL de la Imagen"}),m.jsx("input",{type:"url",name:"imageUrl",value:l.imageUrl||"",onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"https://ejemplo.com/imagen.jpg"}),m.jsx("p",{className:"text-xs text-gray-500",children:"Opcional. URL pblica de la imagen del producto"}),l.imageUrl&&m.jsx("div",{className:"mt-2",children:m.jsx("img",{src:l.imageUrl,alt:"Preview",className:"w-32 h-32 object-cover rounded border",onError:x=>{x.target.src="https://via.placeholder.com/128?text=Error"}})})]}),m.jsx("div",{className:"flex justify-end pt-4",children:m.jsx("button",{type:"submit",disabled:s,className:`px-6 py-2 rounded-md text-white font-medium ${s?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} transition-colors`,children:s?"Guardando...":t?"Actualizar Producto":"Crear Producto"})})]})]})]})},ib=()=>m.jsxs("div",{className:"m-0 p-0 bg-black",children:[m.jsxs("section",{className:"relative w-screen left-1/2 right-1/2 -ml-[50vw] -mr-[50vw] min-h-[600px] lg:min-h-[600px] md:min-h-[500px] sm:min-h-[450px] flex items-start pt-0 mt-0",children:[m.jsxs("div",{className:"absolute inset-0 z-0 -top-[116px] h-[calc(100%+116px)]",children:[m.jsx("img",{src:"/images/hero1.png",alt:"Batista Global Service",className:"w-full h-full object-cover object-center"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/40 via-black/30 to-transparent"})]}),m.jsx("div",{className:"container mx-auto px-4 sm:px-6 relative z-10 flex items-start h-full w-full pt-64 lg:pt-72 md:pt-64 sm:pt-56",children:m.jsxs("div",{className:"w-full max-w-2xl",children:[m.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-5xl font-bold text-white mb-3 sm:mb-4 leading-tight",children:["Batista ",m.jsx("span",{className:"text-amber-400",children:"Global Service"})]}),m.jsx("p",{className:"text-sm sm:text-base md:text-lg text-white/90 mb-4 sm:mb-6 max-w-xl",children:"Productos y servicios tursticos premium en el Caribe"}),m.jsxs("div",{className:"flex flex-row flex-wrap gap-3 sm:gap-4 mt-8",children:[m.jsx(nt,{to:"/tienda",className:"inline-flex px-5 sm:px-6 py-2.5 sm:py-3 bg-[#00A8B5] text-white font-medium rounded-lg transition-all duration-300 hover:shadow-[0_0_20px_rgba(255,184,0,0.5)] focus:ring-2 focus:ring-amber-400 focus:ring-offset-2 focus:ring-offset-black text-sm sm:text-base",children:"Explorar Tienda"}),m.jsx(nt,{to:"/servicios",className:"inline-flex px-5 sm:px-6 py-2.5 sm:py-3 bg-white/10 backdrop-blur-sm border border-white/30 text-white font-medium rounded-lg hover:bg-white/20 hover:border-amber-400/50 transition-all duration-300 text-sm sm:text-base",children:"Nuestros Servicios"})]})]})})]}),m.jsx("section",{className:"py-12 sm:py-16 bg-gray-50",children:m.jsxs("div",{className:"container mx-auto px-4 sm:px-6",children:[m.jsxs("div",{className:"text-center mb-8 sm:mb-10",children:[m.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:"Servicios Tursticos"}),m.jsx("div",{className:"w-16 h-1 bg-amber-400 mx-auto rounded-full"}),m.jsx("p",{className:"text-gray-600 mt-4 max-w-2xl mx-auto",children:"Ofrecemos soluciones completas para tus viajes y envos en el Caribe"})]}),m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[{img:"Paqueteria.jpg",title:"Paquetera Express",desc:"Envos internacionales"},{img:"paquetes-turisticos.jpg",title:"Paquetes Tursticos",desc:"Viajes todo incluido"},{img:"renta-de-autos.jpg",title:"Renta de Autos",desc:"Vehculos de lujo"},{img:"reservas_de_hoteles.jpg",title:"Reservas de Hoteles",desc:"Mejores tarifas"},{img:"reservas_de_vuelos.jpg",title:"Reservas de Vuelos",desc:"Aerolneas internacionales"},{img:"visas.jpg",title:"Visas",desc:"Trmite profesional"}].map((n,e)=>m.jsxs(nt,{to:"/servicios",className:"group bg-white rounded-xl shadow-md hover:shadow-xl hover:shadow-amber-400/20 overflow-hidden transition-all duration-300 hover:-translate-y-2",children:[m.jsx("div",{className:"relative h-32 sm:h-36 overflow-hidden",children:m.jsx("img",{src:`/images/${n.img}`,alt:n.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})}),m.jsxs("div",{className:"p-3 text-center",children:[m.jsx("h3",{className:"font-semibold text-gray-800 text-sm sm:text-base group-hover:text-amber-600",children:n.title}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:n.desc})]})]},e))})]})}),m.jsxs("footer",{className:"w-screen left-1/2 right-1/2 -ml-[50vw] -mr-[50vw] bg-black border-t border-amber-400/20 pt-16 pb-8 relative",children:[m.jsxs("a",{href:"https://wa.me/17866583567?text=Hola%20Batista%20Global%20Service,%20quiero%20informacin",target:"_blank",rel:"noopener noreferrer",className:"fixed bottom-6 right-6 z-50 group",children:[m.jsx("div",{className:"absolute inset-0 rounded-full bg-[#25D366]/20 animate-ping scale-150"}),m.jsx("div",{className:"relative w-16 h-16 md:w-20 md:h-20 flex items-center justify-center animate-bounce hover:animate-none",children:m.jsx("img",{src:"/iconos/whatsapp.png",alt:"WhatsApp",className:"w-14 h-14 md:w-16 md:h-16 object-contain drop-shadow-lg hover:scale-110 transition-transform"})})]}),m.jsxs("div",{className:"container mx-auto px-6",children:[m.jsx("div",{className:"flex justify-center mb-12",children:m.jsxs(nt,{to:"/",className:"flex items-center gap-4",children:[m.jsx("img",{src:"/images/logo-icon.png",alt:"Batista Global Service",className:"h-14 w-auto"}),m.jsx("img",{src:"/images/logo-text.png",alt:"Batista Global Service",className:"h-12 w-auto"})]})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-10 mb-12",children:[m.jsxs("div",{className:"text-center lg:text-left",children:[m.jsxs("h3",{className:"text-white font-semibold text-lg mb-4 flex items-center justify-center lg:justify-start gap-2",children:[m.jsx("span",{className:"text-amber-400",children:""})," Sobre Nosotros"]}),m.jsx("p",{className:"text-white/60 text-sm leading-relaxed mb-4",children:"Somos una empresa lder en servicios tursticos y de paquetera en el Caribe, comprometidos con la excelencia y la satisfaccin de nuestros clientes."}),m.jsxs("div",{className:"flex items-center justify-center lg:justify-start gap-2",children:[m.jsx("div",{className:"w-10 h-10 bg-amber-400/10 rounded-lg flex items-center justify-center",children:m.jsx("span",{className:"text-amber-400 text-xl",children:""})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-white/80 text-sm font-medium",children:"+5 aos de experiencia"}),m.jsx("p",{className:"text-white/40 text-xs",children:"Clientes satisfechos"})]})]})]}),m.jsxs("div",{className:"text-center lg:text-left",children:[m.jsxs("h3",{className:"text-white font-semibold text-lg mb-4 flex items-center justify-center lg:justify-start gap-2",children:[m.jsx("span",{className:"text-amber-400",children:""})," Contacto Directo"]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("a",{href:"tel:+17866583567",className:"flex items-center justify-center lg:justify-start gap-3 text-white/70 hover:text-amber-400 transition-colors group",children:[m.jsx("div",{className:"w-10 h-10 bg-white/5 rounded-lg flex items-center justify-center group-hover:bg-amber-400/20",children:m.jsx("img",{src:"/iconos/phone.png",alt:"Telfono",className:"w-5 h-5"})}),m.jsxs("div",{className:"flex flex-col items-start",children:[m.jsx("span",{className:"text-xs text-white/40",children:"Telfono"}),m.jsx("span",{className:"text-sm font-medium",children:"+1 (786) 658-3567"})]})]}),m.jsxs("a",{href:"mailto:batistaglobalservice25@gmail.com",className:"flex items-center justify-center lg:justify-start gap-3 text-white/70 hover:text-amber-400 transition-colors group",children:[m.jsx("div",{className:"w-10 h-10 bg-white/5 rounded-lg flex items-center justify-center group-hover:bg-amber-400/20",children:m.jsx("img",{src:"/iconos/email.png",alt:"Email",className:"w-5 h-5"})}),m.jsxs("div",{className:"flex flex-col items-start",children:[m.jsx("span",{className:"text-xs text-white/40",children:"Correo"}),m.jsx("span",{className:"text-sm font-medium",children:"batistaglobalservice25@gmail.com"})]})]}),m.jsxs("a",{href:"https://maps.google.com/?q=700+SW+57th+Ave+Miami+FL+33144",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center lg:justify-start gap-3 text-white/70 hover:text-amber-400 transition-colors group",children:[m.jsx("div",{className:"w-10 h-10 bg-white/5 rounded-lg flex items-center justify-center group-hover:bg-amber-400/20",children:m.jsx("img",{src:"/iconos/location.png",alt:"Ubicacin",className:"w-5 h-5"})}),m.jsxs("div",{className:"flex flex-col items-start",children:[m.jsx("span",{className:"text-xs text-white/40",children:"Oficina"}),m.jsx("span",{className:"text-sm font-medium",children:"Miami, FL"})]})]})]})]}),m.jsxs("div",{className:"text-center lg:text-left",children:[m.jsxs("h3",{className:"text-white font-semibold text-lg mb-4 flex items-center justify-center lg:justify-start gap-2",children:[m.jsx("span",{className:"text-amber-400",children:""})," Horarios"]}),m.jsxs("div",{className:"bg-white/5 rounded-2xl p-5",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-4 justify-center lg:justify-start",children:[m.jsx("img",{src:"/iconos/clock.png",alt:"Horario",className:"w-5 h-5"}),m.jsx("span",{className:"text-white/90 text-sm font-medium",children:"Atencin al cliente"})]}),m.jsxs("div",{className:"space-y-2 text-sm",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"text-white/60",children:"Lun - Vie"}),m.jsx("span",{className:"text-white/90 font-medium",children:"9:00 - 18:00"})]}),m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"text-white/60",children:"Sbado"}),m.jsx("span",{className:"text-white/90 font-medium",children:"10:00 - 16:00"})]}),m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"text-white/60",children:"Domingo"}),m.jsx("span",{className:"text-white/90 font-medium",children:"10:00 - 14:00"})]})]})]})]}),m.jsxs("div",{className:"text-center lg:text-left",children:[m.jsxs("h3",{className:"text-white font-semibold text-lg mb-4 flex items-center justify-center lg:justify-start gap-2",children:[m.jsx("span",{className:"text-amber-400",children:""})," Redes Sociales"]}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("a",{href:"https://facebook.com/BatistaGlobalServices",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 bg-white/5 rounded-xl hover:bg-[#1877F2]/20 transition-all group",children:[m.jsx("img",{src:"/iconos/facebook.png",alt:"Facebook",className:"w-5 h-5"}),m.jsxs("div",{className:"flex flex-col items-start",children:[m.jsx("span",{className:"text-white/90 text-xs font-medium group-hover:text-[#1877F2]",children:"Facebook"}),m.jsx("span",{className:"text-white/40 text-[10px]",children:"@BatistaGlobal"})]})]}),m.jsxs("a",{href:"https://instagram.com/batistaglobalservice",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 bg-white/5 rounded-xl hover:bg-[#E4405F]/20 transition-all group",children:[m.jsx("img",{src:"/iconos/icon-instagram.png",alt:"Instagram",className:"w-5 h-5"}),m.jsxs("div",{className:"flex flex-col items-start",children:[m.jsx("span",{className:"text-white/90 text-xs font-medium group-hover:text-[#E4405F]",children:"Instagram"}),m.jsx("span",{className:"text-white/40 text-[10px]",children:"@batistaglobal"})]})]}),m.jsxs("a",{href:"https://tiktok.com/@batista.global",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 bg-white/5 rounded-xl hover:bg-white/20 transition-all group col-span-2",children:[m.jsx("img",{src:"/iconos/tiktok.png",alt:"TikTok",className:"w-5 h-5"}),m.jsxs("div",{className:"flex flex-col items-start",children:[m.jsx("span",{className:"text-white/90 text-xs font-medium group-hover:text-white",children:"TikTok"}),m.jsx("span",{className:"text-white/40 text-[10px]",children:"@batista.global"})]})]})]})]})]}),m.jsx("div",{className:"max-w-2xl mx-auto mb-12 p-6 bg-white/5 rounded-2xl border border-white/10",children:m.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-4",children:[m.jsxs("div",{className:"flex-1 text-center md:text-left",children:[m.jsx("h4",{className:"text-white font-medium mb-1",children:"Listo para viajar?"}),m.jsx("p",{className:"text-white/60 text-sm",children:"Suscrbete y recibe ofertas exclusivas"})]}),m.jsxs("div",{className:"flex-1 flex w-full gap-2",children:[m.jsx("input",{type:"email",placeholder:"Tu correo electrnico",className:"flex-1 px-4 py-3 bg-black/50 border border-white/10 rounded-lg text-white/90 text-sm placeholder:text-white/40 focus:outline-none focus:ring-2 focus:ring-amber-400"}),m.jsx("button",{className:"px-6 py-3 bg-amber-400 text-black font-medium rounded-lg hover:bg-amber-500 transition-colors text-sm whitespace-nowrap",children:"Suscribirme"})]})]})}),m.jsx("div",{className:"border-t border-white/10 pt-8",children:m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[m.jsx("p",{className:"text-white/40 text-xs",children:" 2026 Batista Global Service. Todos los derechos reservados."}),m.jsxs("div",{className:"flex gap-6",children:[m.jsx("a",{href:"#",className:"text-white/40 hover:text-amber-400 text-xs transition-colors",children:"Trminos"}),m.jsx("a",{href:"#",className:"text-white/40 hover:text-amber-400 text-xs transition-colors",children:"Privacidad"}),m.jsx("a",{href:"#",className:"text-white/40 hover:text-amber-400 text-xs transition-colors",children:"Cookies"})]})]})})]})]})]}),ob=()=>{const n=[{img:"Paqueteria.jpg",title:"Paquetera Express",desc:"Envos internacionales"},{img:"paquetes-turisticos.jpg",title:"Paquetes Tursticos",desc:"Viajes todo incluido"},{img:"renta-de-autos.jpg",title:"Renta de Autos",desc:"Vehculos de lujo"},{img:"reservas_de_hoteles.jpg",title:"Reservas de Hoteles",desc:"Mejores tarifas"},{img:"reservas_de_vuelos.jpg",title:"Reservas de Vuelos",desc:"Aerolneas internacionales"},{img:"visas.jpg",title:"Visas",desc:"Trmite profesional"}];return m.jsxs("div",{className:"min-h-screen bg-gray-50",children:[m.jsx("div",{className:"bg-gradient-to-r from-black to-gray-900 text-white py-16",children:m.jsxs("div",{className:"container mx-auto px-6",children:[m.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Nuestros Servicios"}),m.jsx("p",{className:"text-xl text-white/80 max-w-3xl",children:"Soluciones completas para tus viajes y envos en el Caribe"})]})}),m.jsx("div",{className:"container mx-auto px-6 py-16",children:m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map((e,t)=>m.jsxs("div",{className:"group bg-white rounded-2xl shadow-lg hover:shadow-2xl hover:shadow-amber-400/20 overflow-hidden transition-all duration-500 hover:-translate-y-2",children:[m.jsxs("div",{className:"relative h-56 overflow-hidden",children:[m.jsx("img",{src:`/images/${e.img}`,alt:e.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700",onError:s=>{s.target.onerror=null,s.target.src="/images/Paqueteria.jpg"}}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent"}),m.jsxs("div",{className:"absolute bottom-4 left-4 right-4",children:[m.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:e.title}),m.jsx("p",{className:"text-white/90 text-sm",children:e.desc})]})]}),m.jsxs("div",{className:"p-4 flex justify-between items-center",children:[m.jsx("span",{className:"text-gray-600",children:"Ms informacin"}),m.jsx("span",{className:"text-amber-400 group-hover:translate-x-2 transition-transform",children:""})]})]},t))})})]})},Cv=()=>{const{addToCart:n}=eI(),e=[{id:1,name:"Ventilador Caribeo",price:89.99,image:"/images/placeholder-product.jpg",category:"electronics"},{id:2,name:"Licuadora 800W",price:129.99,image:"/images/placeholder-product.jpg",category:"electronics"},{id:3,name:"Lmpara Solar",price:34.99,image:"/images/placeholder-product.jpg",category:"electronics"},{id:4,name:"Termo Acero",price:24.99,image:"/images/placeholder-product.jpg",category:"miscellaneous"}],t=s=>{console.log("Agregando producto:",s),n(s)};return m.jsxs("div",{className:"container mx-auto px-4 py-16",children:[m.jsx("h1",{className:"text-4xl font-bold mb-8",children:" Tienda Virtual"}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map(s=>m.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4",children:[m.jsx("div",{className:"h-48 bg-gray-100 rounded-lg mb-4 flex items-center justify-center",children:m.jsx("span",{className:"text-gray-400",children:" Imagen"})}),m.jsx("h3",{className:"font-bold text-lg mb-2",children:s.name}),m.jsxs("p",{className:"text-blue-600 font-bold text-xl mb-4",children:["$",s.price]}),m.jsx("button",{onClick:()=>t(s),className:"w-full py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Agregar al Carrito"})]},s.id))})]})},ab=()=>m.jsxs("div",{className:"container mx-auto px-4 py-16",children:[m.jsx("h1",{className:"text-4xl font-bold mb-8",children:" Carrito de Compras"}),m.jsx("p",{className:"text-gray-600",children:"Carrito en construccin..."})]}),lb=()=>{const[n,e]=$.useState(""),[t,s]=$.useState(""),[o,l]=$.useState(!1),c=cl(),h=async p=>{if(p.preventDefault(),s(""),n===""){s("Por favor ingresa la contrasea");return}l(!0),setTimeout(()=>{n==="Keily8520"?(localStorage.setItem("isAdmin","true"),c("/admin/dashboard")):s("Contrasea incorrecta."),l(!1)},800)};return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4",children:m.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-lg",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-gray-900",children:" Acceso Administrativo"}),m.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Solo personal autorizado"})]}),m.jsxs("form",{className:"mt-8 space-y-6",onSubmit:h,children:[t&&m.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:t}),m.jsx("div",{className:"space-y-4",children:m.jsxs("div",{children:[m.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Contrasea de Acceso"}),m.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:n,onChange:p=>e(p.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition",placeholder:"Ingresa la contrasea",autoComplete:"current-password"}),m.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Solo administradores pueden acceder a esta rea"})]})}),m.jsx("div",{children:m.jsx("button",{type:"submit",disabled:o,className:`w-full py-3 px-4 rounded-lg font-medium text-white transition-colors ${o?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:o?m.jsxs("span",{className:"flex items-center justify-center",children:[m.jsxs("svg",{className:"animate-spin h-5 w-5 mr-3 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Verificando..."]}):"Acceder al Panel de Control"})}),m.jsx("div",{className:"text-center",children:m.jsx(nt,{to:"/",className:"text-sm text-blue-600 hover:text-blue-800 hover:underline",children:" Volver al sitio principal"})})]}),m.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:m.jsxs("div",{className:"text-sm text-gray-500 text-center",children:[m.jsx("p",{className:"text-gray-400",children:"Acceso restringido"}),m.jsx("p",{className:"text-xs mt-1",children:"Si eres administrador y no recuerdas la contrasea, contacta al desarrollador."})]})})]})})},ub=()=>m.jsx("div",{className:"flex justify-center items-center h-64",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),cb=({children:n})=>localStorage.getItem("isAdmin")==="true"?n:m.jsx($v,{to:"/login"}),db=()=>m.jsx(ZT,{children:m.jsx(tI,{children:m.jsx($.Suspense,{fallback:m.jsx(ub,{}),children:m.jsxs(JE,{children:[m.jsx(Ut,{path:"/",element:m.jsx(vo,{children:m.jsx(ib,{})})}),m.jsx(Ut,{path:"/servicios",element:m.jsx(vo,{children:m.jsx(ob,{})})}),m.jsx(Ut,{path:"/tienda",element:m.jsx(vo,{children:m.jsx(Cv,{})})}),m.jsx(Ut,{path:"/cart",element:m.jsx(vo,{children:m.jsx(ab,{})})}),m.jsx(Ut,{path:"/categoria/:category",element:m.jsx(vo,{children:m.jsx(Cv,{})})}),m.jsx(Ut,{path:"/login",element:m.jsx(lb,{})}),m.jsxs(Ut,{path:"/admin",element:m.jsx(cb,{children:m.jsx(nI,{})}),children:[m.jsx(Ut,{index:!0,element:m.jsx($v,{to:"dashboard",replace:!0})}),m.jsx(Ut,{path:"dashboard",element:m.jsx(mI,{})}),m.jsx(Ut,{path:"products",element:m.jsx(nb,{})}),m.jsx(Ut,{path:"products/edit/:id",element:m.jsx(kv,{})}),m.jsx(Ut,{path:"products/new",element:m.jsx(kv,{})}),m.jsx(Ut,{path:"orders",element:m.jsx(rb,{})}),m.jsx(Ut,{path:"analytics",element:m.jsx(sb,{})})]}),m.jsx(Ut,{path:"*",element:m.jsx(vo,{children:m.jsxs("div",{className:"text-center py-20",children:[m.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),m.jsx("p",{className:"text-xl mb-8",children:"Pgina no encontrada"}),m.jsx("a",{href:"/",className:"bg-blue-600 text-white px-6 py-2 rounded-lg",children:"Volver al inicio"})]})})})]})})})});nE.createRoot(document.getElementById("root")).render(m.jsx(bv.StrictMode,{children:m.jsx(iT,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:m.jsx(db,{})})}));
