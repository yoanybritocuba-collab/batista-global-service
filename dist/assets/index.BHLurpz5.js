function iN(r,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in r)){const l=Object.getOwnPropertyDescriptor(s,a);l&&Object.defineProperty(r,a,l.get?l:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function pv(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Cm={exports:{}},Tl={},Am={exports:{}},Re={};var px;function aN(){if(px)return Re;px=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),w=Symbol.iterator;function b(U){return U===null||typeof U!="object"?null:(U=w&&U[w]||U["@@iterator"],typeof U=="function"?U:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,M={};function D(U,ee,be){this.props=U,this.context=ee,this.refs=M,this.updater=be||j}D.prototype.isReactComponent={},D.prototype.setState=function(U,ee){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ee,"setState")},D.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function W(){}W.prototype=D.prototype;function H(U,ee,be){this.props=U,this.context=ee,this.refs=M,this.updater=be||j}var Q=H.prototype=new W;Q.constructor=H,k(Q,D.prototype),Q.isPureReactComponent=!0;var K=Array.isArray,Y=Object.prototype.hasOwnProperty,J={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function P(U,ee,be){var Ae,Pe={},Le=null,qe=null;if(ee!=null)for(Ae in ee.ref!==void 0&&(qe=ee.ref),ee.key!==void 0&&(Le=""+ee.key),ee)Y.call(ee,Ae)&&!O.hasOwnProperty(Ae)&&(Pe[Ae]=ee[Ae]);var He=arguments.length-2;if(He===1)Pe.children=be;else if(1<He){for(var Ye=Array(He),kt=0;kt<He;kt++)Ye[kt]=arguments[kt+2];Pe.children=Ye}if(U&&U.defaultProps)for(Ae in He=U.defaultProps,He)Pe[Ae]===void 0&&(Pe[Ae]=He[Ae]);return{$$typeof:r,type:U,key:Le,ref:qe,props:Pe,_owner:J.current}}function T(U,ee){return{$$typeof:r,type:U.type,key:ee,ref:U.ref,props:U.props,_owner:U._owner}}function N(U){return typeof U=="object"&&U!==null&&U.$$typeof===r}function S(U){var ee={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(be){return ee[be]})}var A=/\/+/g;function I(U,ee){return typeof U=="object"&&U!==null&&U.key!=null?S(""+U.key):ee.toString(36)}function oe(U,ee,be,Ae,Pe){var Le=typeof U;(Le==="undefined"||Le==="boolean")&&(U=null);var qe=!1;if(U===null)qe=!0;else switch(Le){case"string":case"number":qe=!0;break;case"object":switch(U.$$typeof){case r:case e:qe=!0}}if(qe)return qe=U,Pe=Pe(qe),U=Ae===""?"."+I(qe,0):Ae,K(Pe)?(be="",U!=null&&(be=U.replace(A,"$&/")+"/"),oe(Pe,ee,be,"",function(kt){return kt})):Pe!=null&&(N(Pe)&&(Pe=T(Pe,be+(!Pe.key||qe&&qe.key===Pe.key?"":(""+Pe.key).replace(A,"$&/")+"/")+U)),ee.push(Pe)),1;if(qe=0,Ae=Ae===""?".":Ae+":",K(U))for(var He=0;He<U.length;He++){Le=U[He];var Ye=Ae+I(Le,He);qe+=oe(Le,ee,be,Ye,Pe)}else if(Ye=b(U),typeof Ye=="function")for(U=Ye.call(U),He=0;!(Le=U.next()).done;)Le=Le.value,Ye=Ae+I(Le,He++),qe+=oe(Le,ee,be,Ye,Pe);else if(Le==="object")throw ee=String(U),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return qe}function we(U,ee,be){if(U==null)return U;var Ae=[],Pe=0;return oe(U,Ae,"","",function(Le){return ee.call(be,Le,Pe++)}),Ae}function Ue(U){if(U._status===-1){var ee=U._result;ee=ee(),ee.then(function(be){(U._status===0||U._status===-1)&&(U._status=1,U._result=be)},function(be){(U._status===0||U._status===-1)&&(U._status=2,U._result=be)}),U._status===-1&&(U._status=0,U._result=ee)}if(U._status===1)return U._result.default;throw U._result}var te={current:null},X={transition:null},ge={ReactCurrentDispatcher:te,ReactCurrentBatchConfig:X,ReactCurrentOwner:J};function ue(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:we,forEach:function(U,ee,be){we(U,function(){ee.apply(this,arguments)},be)},count:function(U){var ee=0;return we(U,function(){ee++}),ee},toArray:function(U){return we(U,function(ee){return ee})||[]},only:function(U){if(!N(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Re.Component=D,Re.Fragment=t,Re.Profiler=a,Re.PureComponent=H,Re.StrictMode=s,Re.Suspense=p,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,Re.act=ue,Re.cloneElement=function(U,ee,be){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var Ae=k({},U.props),Pe=U.key,Le=U.ref,qe=U._owner;if(ee!=null){if(ee.ref!==void 0&&(Le=ee.ref,qe=J.current),ee.key!==void 0&&(Pe=""+ee.key),U.type&&U.type.defaultProps)var He=U.type.defaultProps;for(Ye in ee)Y.call(ee,Ye)&&!O.hasOwnProperty(Ye)&&(Ae[Ye]=ee[Ye]===void 0&&He!==void 0?He[Ye]:ee[Ye])}var Ye=arguments.length-2;if(Ye===1)Ae.children=be;else if(1<Ye){He=Array(Ye);for(var kt=0;kt<Ye;kt++)He[kt]=arguments[kt+2];Ae.children=He}return{$$typeof:r,type:U.type,key:Pe,ref:Le,props:Ae,_owner:qe}},Re.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:l,_context:U},U.Consumer=U},Re.createElement=P,Re.createFactory=function(U){var ee=P.bind(null,U);return ee.type=U,ee},Re.createRef=function(){return{current:null}},Re.forwardRef=function(U){return{$$typeof:m,render:U}},Re.isValidElement=N,Re.lazy=function(U){return{$$typeof:g,_payload:{_status:-1,_result:U},_init:Ue}},Re.memo=function(U,ee){return{$$typeof:x,type:U,compare:ee===void 0?null:ee}},Re.startTransition=function(U){var ee=X.transition;X.transition={};try{U()}finally{X.transition=ee}},Re.unstable_act=ue,Re.useCallback=function(U,ee){return te.current.useCallback(U,ee)},Re.useContext=function(U){return te.current.useContext(U)},Re.useDebugValue=function(){},Re.useDeferredValue=function(U){return te.current.useDeferredValue(U)},Re.useEffect=function(U,ee){return te.current.useEffect(U,ee)},Re.useId=function(){return te.current.useId()},Re.useImperativeHandle=function(U,ee,be){return te.current.useImperativeHandle(U,ee,be)},Re.useInsertionEffect=function(U,ee){return te.current.useInsertionEffect(U,ee)},Re.useLayoutEffect=function(U,ee){return te.current.useLayoutEffect(U,ee)},Re.useMemo=function(U,ee){return te.current.useMemo(U,ee)},Re.useReducer=function(U,ee,be){return te.current.useReducer(U,ee,be)},Re.useRef=function(U){return te.current.useRef(U)},Re.useState=function(U){return te.current.useState(U)},Re.useSyncExternalStore=function(U,ee,be){return te.current.useSyncExternalStore(U,ee,be)},Re.useTransition=function(){return te.current.useTransition()},Re.version="18.3.1",Re}var fx;function Bp(){return fx||(fx=1,Am.exports=aN()),Am.exports}var gx;function oN(){if(gx)return Tl;gx=1;var r=Bp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(m,p,x){var g,w={},b=null,j=null;x!==void 0&&(b=""+x),p.key!==void 0&&(b=""+p.key),p.ref!==void 0&&(j=p.ref);for(g in p)s.call(p,g)&&!l.hasOwnProperty(g)&&(w[g]=p[g]);if(m&&m.defaultProps)for(g in p=m.defaultProps,p)w[g]===void 0&&(w[g]=p[g]);return{$$typeof:e,type:m,key:b,ref:j,props:w,_owner:a.current}}return Tl.Fragment=t,Tl.jsx=u,Tl.jsxs=u,Tl}var xx;function lN(){return xx||(xx=1,Cm.exports=oN()),Cm.exports}var n=lN(),R=Bp();const id=pv(R),cN=iN({__proto__:null,default:id},[R]);var Fu={},Pm={exports:{}},pr={},Rm={exports:{}},Dm={};var yx;function uN(){return yx||(yx=1,(function(r){function e(X,ge){var ue=X.length;X.push(ge);e:for(;0<ue;){var U=ue-1>>>1,ee=X[U];if(0<a(ee,ge))X[U]=ge,X[ue]=ee,ue=U;else break e}}function t(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var ge=X[0],ue=X.pop();if(ue!==ge){X[0]=ue;e:for(var U=0,ee=X.length,be=ee>>>1;U<be;){var Ae=2*(U+1)-1,Pe=X[Ae],Le=Ae+1,qe=X[Le];if(0>a(Pe,ue))Le<ee&&0>a(qe,Pe)?(X[U]=qe,X[Le]=ue,U=Le):(X[U]=Pe,X[Ae]=ue,U=Ae);else if(Le<ee&&0>a(qe,ue))X[U]=qe,X[Le]=ue,U=Le;else break e}}return ge}function a(X,ge){var ue=X.sortIndex-ge.sortIndex;return ue!==0?ue:X.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var u=Date,m=u.now();r.unstable_now=function(){return u.now()-m}}var p=[],x=[],g=1,w=null,b=3,j=!1,k=!1,M=!1,D=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Q(X){for(var ge=t(x);ge!==null;){if(ge.callback===null)s(x);else if(ge.startTime<=X)s(x),ge.sortIndex=ge.expirationTime,e(p,ge);else break;ge=t(x)}}function K(X){if(M=!1,Q(X),!k)if(t(p)!==null)k=!0,Ue(Y);else{var ge=t(x);ge!==null&&te(K,ge.startTime-X)}}function Y(X,ge){k=!1,M&&(M=!1,W(P),P=-1),j=!0;var ue=b;try{for(Q(ge),w=t(p);w!==null&&(!(w.expirationTime>ge)||X&&!S());){var U=w.callback;if(typeof U=="function"){w.callback=null,b=w.priorityLevel;var ee=U(w.expirationTime<=ge);ge=r.unstable_now(),typeof ee=="function"?w.callback=ee:w===t(p)&&s(p),Q(ge)}else s(p);w=t(p)}if(w!==null)var be=!0;else{var Ae=t(x);Ae!==null&&te(K,Ae.startTime-ge),be=!1}return be}finally{w=null,b=ue,j=!1}}var J=!1,O=null,P=-1,T=5,N=-1;function S(){return!(r.unstable_now()-N<T)}function A(){if(O!==null){var X=r.unstable_now();N=X;var ge=!0;try{ge=O(!0,X)}finally{ge?I():(J=!1,O=null)}}else J=!1}var I;if(typeof H=="function")I=function(){H(A)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,we=oe.port2;oe.port1.onmessage=A,I=function(){we.postMessage(null)}}else I=function(){D(A,0)};function Ue(X){O=X,J||(J=!0,I())}function te(X,ge){P=D(function(){X(r.unstable_now())},ge)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_continueExecution=function(){k||j||(k=!0,Ue(Y))},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_getFirstCallbackNode=function(){return t(p)},r.unstable_next=function(X){switch(b){case 1:case 2:case 3:var ge=3;break;default:ge=b}var ue=b;b=ge;try{return X()}finally{b=ue}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(X,ge){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ue=b;b=X;try{return ge()}finally{b=ue}},r.unstable_scheduleCallback=function(X,ge,ue){var U=r.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?U+ue:U):ue=U,X){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=ue+ee,X={id:g++,callback:ge,priorityLevel:X,startTime:ue,expirationTime:ee,sortIndex:-1},ue>U?(X.sortIndex=ue,e(x,X),t(p)===null&&X===t(x)&&(M?(W(P),P=-1):M=!0,te(K,ue-U))):(X.sortIndex=ee,e(p,X),k||j||(k=!0,Ue(Y))),X},r.unstable_shouldYield=S,r.unstable_wrapCallback=function(X){var ge=b;return function(){var ue=b;b=ge;try{return X.apply(this,arguments)}finally{b=ue}}}})(Dm)),Dm}var vx;function dN(){return vx||(vx=1,Rm.exports=uN()),Rm.exports}var bx;function hN(){if(bx)return pr;bx=1;var r=Bp(),e=dN();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(i,o){u(i,o),u(i+"Capture",o)}function u(i,o){for(a[i]=o,i=0;i<o.length;i++)s.add(o[i])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,x=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},w={};function b(i){return p.call(w,i)?!0:p.call(g,i)?!1:x.test(i)?w[i]=!0:(g[i]=!0,!1)}function j(i,o,c,h){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:c!==null?!c.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function k(i,o,c,h){if(o===null||typeof o>"u"||j(i,o,c,h))return!0;if(h)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function M(i,o,c,h,f,v,E){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=f,this.mustUseProperty=c,this.propertyName=i,this.type=o,this.sanitizeURL=v,this.removeEmptyString=E}var D={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){D[i]=new M(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];D[o]=new M(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){D[i]=new M(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){D[i]=new M(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){D[i]=new M(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){D[i]=new M(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){D[i]=new M(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){D[i]=new M(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){D[i]=new M(i,5,!1,i.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function H(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(W,H);D[o]=new M(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(W,H);D[o]=new M(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(W,H);D[o]=new M(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){D[i]=new M(i,1,!1,i.toLowerCase(),null,!1,!1)}),D.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){D[i]=new M(i,1,!1,i.toLowerCase(),null,!0,!0)});function Q(i,o,c,h){var f=D.hasOwnProperty(o)?D[o]:null;(f!==null?f.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(k(o,c,f,h)&&(c=null),h||f===null?b(o)&&(c===null?i.removeAttribute(o):i.setAttribute(o,""+c)):f.mustUseProperty?i[f.propertyName]=c===null?f.type===3?!1:"":c:(o=f.attributeName,h=f.attributeNamespace,c===null?i.removeAttribute(o):(f=f.type,c=f===3||f===4&&c===!0?"":""+c,h?i.setAttributeNS(h,o,c):i.setAttribute(o,c))))}var K=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Y=Symbol.for("react.element"),J=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),S=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),we=Symbol.for("react.memo"),Ue=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),X=Symbol.iterator;function ge(i){return i===null||typeof i!="object"?null:(i=X&&i[X]||i["@@iterator"],typeof i=="function"?i:null)}var ue=Object.assign,U;function ee(i){if(U===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);U=o&&o[1]||""}return`
`+U+i}var be=!1;function Ae(i,o){if(!i||be)return"";be=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(q){var h=q}Reflect.construct(i,[],o)}else{try{o.call()}catch(q){h=q}i.call(o.prototype)}else{try{throw Error()}catch(q){h=q}i()}}catch(q){if(q&&h&&typeof q.stack=="string"){for(var f=q.stack.split(`
`),v=h.stack.split(`
`),E=f.length-1,L=v.length-1;1<=E&&0<=L&&f[E]!==v[L];)L--;for(;1<=E&&0<=L;E--,L--)if(f[E]!==v[L]){if(E!==1||L!==1)do if(E--,L--,0>L||f[E]!==v[L]){var V=`
`+f[E].replace(" at new "," at ");return i.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",i.displayName)),V}while(1<=E&&0<=L);break}}}finally{be=!1,Error.prepareStackTrace=c}return(i=i?i.displayName||i.name:"")?ee(i):""}function Pe(i){switch(i.tag){case 5:return ee(i.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return i=Ae(i.type,!1),i;case 11:return i=Ae(i.type.render,!1),i;case 1:return i=Ae(i.type,!0),i;default:return""}}function Le(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case O:return"Fragment";case J:return"Portal";case T:return"Profiler";case P:return"StrictMode";case I:return"Suspense";case oe:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case S:return(i.displayName||"Context")+".Consumer";case N:return(i._context.displayName||"Context")+".Provider";case A:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case we:return o=i.displayName||null,o!==null?o:Le(i.type)||"Memo";case Ue:o=i._payload,i=i._init;try{return Le(i(o))}catch{}}return null}function qe(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Le(o);case 8:return o===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function He(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ye(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function kt(i){var o=Ye(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),h=""+i[o];if(!i.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,v=c.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return f.call(this)},set:function(E){h=""+E,v.call(this,E)}}),Object.defineProperty(i,o,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Rs(i){i._valueTracker||(i._valueTracker=kt(i))}function aa(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var c=o.getValue(),h="";return i&&(h=Ye(i)?i.checked?"true":"false":i.value),i=h,i!==c?(o.setValue(i),!0):!1}function fn(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function hi(i,o){var c=o.checked;return ue({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??i._wrapperState.initialChecked})}function oa(i,o){var c=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;c=He(o.value!=null?o.value:c),i._wrapperState={initialChecked:h,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Po(i,o){o=o.checked,o!=null&&Q(i,"checked",o,!1)}function Ro(i,o){Po(i,o);var c=He(o.value),h=o.type;if(c!=null)h==="number"?(c===0&&i.value===""||i.value!=c)&&(i.value=""+c):i.value!==""+c&&(i.value=""+c);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?la(i,o.type,c):o.hasOwnProperty("defaultValue")&&la(i,o.type,He(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function jc(i,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,c||o===i.value||(i.value=o),i.defaultValue=o}c=i.name,c!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,c!==""&&(i.name=c)}function la(i,o,c){(o!=="number"||fn(i.ownerDocument)!==i)&&(c==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+c&&(i.defaultValue=""+c))}var Ds=Array.isArray;function Ms(i,o,c,h){if(i=i.options,o){o={};for(var f=0;f<c.length;f++)o["$"+c[f]]=!0;for(c=0;c<i.length;c++)f=o.hasOwnProperty("$"+i[c].value),i[c].selected!==f&&(i[c].selected=f),f&&h&&(i[c].defaultSelected=!0)}else{for(c=""+He(c),o=null,f=0;f<i.length;f++){if(i[f].value===c){i[f].selected=!0,h&&(i[f].defaultSelected=!0);return}o!==null||i[f].disabled||(o=i[f])}o!==null&&(o.selected=!0)}}function Do(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return ue({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function ca(i,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(t(92));if(Ds(c)){if(1<c.length)throw Error(t(93));c=c[0]}o=c}o==null&&(o=""),c=o}i._wrapperState={initialValue:He(c)}}function ua(i,o){var c=He(o.value),h=He(o.defaultValue);c!=null&&(c=""+c,c!==i.value&&(i.value=c),o.defaultValue==null&&i.defaultValue!==c&&(i.defaultValue=c)),h!=null&&(i.defaultValue=""+h)}function Mo(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function _t(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nt(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?_t(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Os,Oo=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,h,f){MSApp.execUnsafeLocalFunction(function(){return i(o,c,h,f)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Os=Os||document.createElement("div"),Os.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Os.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function gn(i,o){if(o){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=o;return}}i.textContent=o}var mi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pi=["Webkit","ms","Moz","O"];Object.keys(mi).forEach(function(i){pi.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),mi[o]=mi[i]})});function Lo(i,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||mi.hasOwnProperty(i)&&mi[i]?(""+o).trim():o+"px"}function Vo(i,o){i=i.style;for(var c in o)if(o.hasOwnProperty(c)){var h=c.indexOf("--")===0,f=Lo(c,o[c],h);c==="float"&&(c="cssFloat"),h?i.setProperty(c,f):i[c]=f}}var Fo=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Uo(i,o){if(o){if(Fo[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Bo(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fi=null;function da(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ha=null,Ir=null,cs=null;function ma(i){if(i=dl(i)){if(typeof ha!="function")throw Error(t(280));var o=i.stateNode;o&&(o=eu(o),ha(i.stateNode,i.type,o))}}function us(i){Ir?cs?cs.push(i):cs=[i]:Ir=i}function $o(){if(Ir){var i=Ir,o=cs;if(cs=Ir=null,ma(i),o)for(i=0;i<o.length;i++)ma(o[i])}}function gi(i,o){return i(o)}function zo(){}var Ls=!1;function qo(i,o,c){if(Ls)return i(o,c);Ls=!0;try{return gi(i,o,c)}finally{Ls=!1,(Ir!==null||cs!==null)&&(zo(),$o())}}function pt(i,o){var c=i.stateNode;if(c===null)return null;var h=eu(c);if(h===null)return null;c=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(t(231,o,typeof c));return c}var pa=!1;if(m)try{var qr={};Object.defineProperty(qr,"passive",{get:function(){pa=!0}}),window.addEventListener("test",qr,qr),window.removeEventListener("test",qr,qr)}catch{pa=!1}function xi(i,o,c,h,f,v,E,L,V){var q=Array.prototype.slice.call(arguments,3);try{o.apply(c,q)}catch(se){this.onError(se)}}var yi=!1,fa=null,Hr=!1,Ho=null,nh={onError:function(i){yi=!0,fa=i}};function ga(i,o,c,h,f,v,E,L,V){yi=!1,fa=null,xi.apply(nh,arguments)}function Ec(i,o,c,h,f,v,E,L,V){if(ga.apply(this,arguments),yi){if(yi){var q=fa;yi=!1,fa=null}else throw Error(t(198));Hr||(Hr=!0,Ho=q)}}function Wr(i){var o=i,c=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(c=o.return),i=o.return;while(i)}return o.tag===3?c:null}function vi(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Gr(i){if(Wr(i)!==i)throw Error(t(188))}function Tc(i){var o=i.alternate;if(!o){if(o=Wr(i),o===null)throw Error(t(188));return o!==i?null:i}for(var c=i,h=o;;){var f=c.return;if(f===null)break;var v=f.alternate;if(v===null){if(h=f.return,h!==null){c=h;continue}break}if(f.child===v.child){for(v=f.child;v;){if(v===c)return Gr(f),i;if(v===h)return Gr(f),o;v=v.sibling}throw Error(t(188))}if(c.return!==h.return)c=f,h=v;else{for(var E=!1,L=f.child;L;){if(L===c){E=!0,c=f,h=v;break}if(L===h){E=!0,h=f,c=v;break}L=L.sibling}if(!E){for(L=v.child;L;){if(L===c){E=!0,c=v,h=f;break}if(L===h){E=!0,h=v,c=f;break}L=L.sibling}if(!E)throw Error(t(189))}}if(c.alternate!==h)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?i:o}function Wo(i){return i=Tc(i),i!==null?xa(i):null}function xa(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=xa(i);if(o!==null)return o;i=i.sibling}return null}var ya=e.unstable_scheduleCallback,Go=e.unstable_cancelCallback,Sc=e.unstable_shouldYield,ih=e.unstable_requestPaint,Xe=e.unstable_now,kc=e.unstable_getCurrentPriorityLevel,bi=e.unstable_ImmediatePriority,xn=e.unstable_UserBlockingPriority,Cr=e.unstable_NormalPriority,Ko=e.unstable_LowPriority,Ic=e.unstable_IdlePriority,wi=null,yr=null;function Cc(i){if(yr&&typeof yr.onCommitFiberRoot=="function")try{yr.onCommitFiberRoot(wi,i,void 0,(i.current.flags&128)===128)}catch{}}var tr=Math.clz32?Math.clz32:Pc,Qo=Math.log,Ac=Math.LN2;function Pc(i){return i>>>=0,i===0?32:31-(Qo(i)/Ac|0)|0}var va=64,ba=4194304;function yn(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function _i(i,o){var c=i.pendingLanes;if(c===0)return 0;var h=0,f=i.suspendedLanes,v=i.pingedLanes,E=c&268435455;if(E!==0){var L=E&~f;L!==0?h=yn(L):(v&=E,v!==0&&(h=yn(v)))}else E=c&~f,E!==0?h=yn(E):v!==0&&(h=yn(v));if(h===0)return 0;if(o!==0&&o!==h&&(o&f)===0&&(f=h&-h,v=o&-o,f>=v||f===16&&(v&4194240)!==0))return o;if((h&4)!==0&&(h|=c&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=h;0<o;)c=31-tr(o),f=1<<c,h|=i[c],o&=~f;return h}function ah(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vs(i,o){for(var c=i.suspendedLanes,h=i.pingedLanes,f=i.expirationTimes,v=i.pendingLanes;0<v;){var E=31-tr(v),L=1<<E,V=f[E];V===-1?((L&c)===0||(L&h)!==0)&&(f[E]=ah(L,o)):V<=o&&(i.expiredLanes|=L),v&=~L}}function vr(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Ni(){var i=va;return va<<=1,(va&4194240)===0&&(va=64),i}function vn(i){for(var o=[],c=0;31>c;c++)o.push(i);return o}function bn(i,o,c){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-tr(o),i[o]=c}function Ke(i,o){var c=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<c;){var f=31-tr(c),v=1<<f;o[f]=0,h[f]=-1,i[f]=-1,c&=~v}}function wn(i,o){var c=i.entangledLanes|=o;for(i=i.entanglements;c;){var h=31-tr(c),f=1<<h;f&o|i[h]&o&&(i[h]|=o),c&=~f}}var Me=0;function _n(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Rc,wa,Dc,Mc,Oc,Yo=!1,ds=[],Ot=null,Kr=null,Qr=null,Nn=new Map,Ar=new Map,hs=[],oh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lc(i,o){switch(i){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":Nn.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ar.delete(o.pointerId)}}function or(i,o,c,h,f,v){return i===null||i.nativeEvent!==v?(i={blockedOn:o,domEventName:c,eventSystemFlags:h,nativeEvent:v,targetContainers:[f]},o!==null&&(o=dl(o),o!==null&&wa(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,f!==null&&o.indexOf(f)===-1&&o.push(f),i)}function lh(i,o,c,h,f){switch(o){case"focusin":return Ot=or(Ot,i,o,c,h,f),!0;case"dragenter":return Kr=or(Kr,i,o,c,h,f),!0;case"mouseover":return Qr=or(Qr,i,o,c,h,f),!0;case"pointerover":var v=f.pointerId;return Nn.set(v,or(Nn.get(v)||null,i,o,c,h,f)),!0;case"gotpointercapture":return v=f.pointerId,Ar.set(v,or(Ar.get(v)||null,i,o,c,h,f)),!0}return!1}function Vc(i){var o=ki(i.target);if(o!==null){var c=Wr(o);if(c!==null){if(o=c.tag,o===13){if(o=vi(c),o!==null){i.blockedOn=o,Oc(i.priority,function(){Dc(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Fs(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var c=_a(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(c===null){c=i.nativeEvent;var h=new c.constructor(c.type,c);fi=h,c.target.dispatchEvent(h),fi=null}else return o=dl(c),o!==null&&wa(o),i.blockedOn=c,!1;o.shift()}return!0}function ji(i,o,c){Fs(i)&&c.delete(o)}function Fc(){Yo=!1,Ot!==null&&Fs(Ot)&&(Ot=null),Kr!==null&&Fs(Kr)&&(Kr=null),Qr!==null&&Fs(Qr)&&(Qr=null),Nn.forEach(ji),Ar.forEach(ji)}function Yr(i,o){i.blockedOn===o&&(i.blockedOn=null,Yo||(Yo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Fc)))}function Xr(i){function o(f){return Yr(f,i)}if(0<ds.length){Yr(ds[0],i);for(var c=1;c<ds.length;c++){var h=ds[c];h.blockedOn===i&&(h.blockedOn=null)}}for(Ot!==null&&Yr(Ot,i),Kr!==null&&Yr(Kr,i),Qr!==null&&Yr(Qr,i),Nn.forEach(o),Ar.forEach(o),c=0;c<hs.length;c++)h=hs[c],h.blockedOn===i&&(h.blockedOn=null);for(;0<hs.length&&(c=hs[0],c.blockedOn===null);)Vc(c),c.blockedOn===null&&hs.shift()}var Us=K.ReactCurrentBatchConfig,jn=!0;function nt(i,o,c,h){var f=Me,v=Us.transition;Us.transition=null;try{Me=1,Xo(i,o,c,h)}finally{Me=f,Us.transition=v}}function ch(i,o,c,h){var f=Me,v=Us.transition;Us.transition=null;try{Me=4,Xo(i,o,c,h)}finally{Me=f,Us.transition=v}}function Xo(i,o,c,h){if(jn){var f=_a(i,o,c,h);if(f===null)bh(i,o,h,Ei,c),Lc(i,h);else if(lh(f,i,o,c,h))h.stopPropagation();else if(Lc(i,h),o&4&&-1<oh.indexOf(i)){for(;f!==null;){var v=dl(f);if(v!==null&&Rc(v),v=_a(i,o,c,h),v===null&&bh(i,o,h,Ei,c),v===f)break;f=v}f!==null&&h.stopPropagation()}else bh(i,o,h,null,c)}}var Ei=null;function _a(i,o,c,h){if(Ei=null,i=da(h),i=ki(i),i!==null)if(o=Wr(i),o===null)i=null;else if(c=o.tag,c===13){if(i=vi(o),i!==null)return i;i=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Ei=i,null}function Jo(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kc()){case bi:return 1;case xn:return 4;case Cr:case Ko:return 16;case Ic:return 536870912;default:return 16}default:return 16}}var br=null,Na=null,lr=null;function Zo(){if(lr)return lr;var i,o=Na,c=o.length,h,f="value"in br?br.value:br.textContent,v=f.length;for(i=0;i<c&&o[i]===f[i];i++);var E=c-i;for(h=1;h<=E&&o[c-h]===f[v-h];h++);return lr=f.slice(i,1<h?1-h:void 0)}function ja(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function ms(){return!0}function el(){return!1}function Lt(i){function o(c,h,f,v,E){this._reactName=c,this._targetInst=f,this.type=h,this.nativeEvent=v,this.target=E,this.currentTarget=null;for(var L in i)i.hasOwnProperty(L)&&(c=i[L],this[L]=c?c(v):v[L]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?ms:el,this.isPropagationStopped=el,this}return ue(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ms)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ms)},persist:function(){},isPersistent:ms}),o}var Jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ea=Lt(Jr),ps=ue({},Jr,{view:0,detail:0}),uh=Lt(ps),Ta,Bs,En,Ti=ue({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==En&&(En&&i.type==="mousemove"?(Ta=i.screenX-En.screenX,Bs=i.screenY-En.screenY):Bs=Ta=0,En=i),Ta)},movementY:function(i){return"movementY"in i?i.movementY:Bs}}),Sa=Lt(Ti),tl=ue({},Ti,{dataTransfer:0}),Uc=Lt(tl),ka=ue({},ps,{relatedTarget:0}),Ia=Lt(ka),Bc=ue({},Jr,{animationName:0,elapsedTime:0,pseudoElement:0}),$s=Lt(Bc),$c=ue({},Jr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),zc=Lt($c),qc=ue({},Jr,{data:0}),rl=Lt(qc),Ca={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wc(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Hc[i])?!!o[i]:!1}function fs(){return Wc}var d=ue({},ps,{key:function(i){if(i.key){var o=Ca[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=ja(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?rr[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fs,charCode:function(i){return i.type==="keypress"?ja(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ja(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),y=Lt(d),_=ue({},Ti,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),C=Lt(_),B=ue({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fs}),G=Lt(B),le=ue({},Jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),We=Lt(le),jt=ue({},Ti,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ve=Lt(jt),It=[9,13,27,32],yt=m&&"CompositionEvent"in window,Pr=null;m&&"documentMode"in document&&(Pr=document.documentMode);var wr=m&&"TextEvent"in window&&!Pr,Si=m&&(!yt||Pr&&8<Pr&&11>=Pr),Aa=" ",lg=!1;function cg(i,o){switch(i){case"keyup":return It.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ug(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Pa=!1;function r1(i,o){switch(i){case"compositionend":return ug(o);case"keypress":return o.which!==32?null:(lg=!0,Aa);case"textInput":return i=o.data,i===Aa&&lg?null:i;default:return null}}function s1(i,o){if(Pa)return i==="compositionend"||!yt&&cg(i,o)?(i=Zo(),lr=Na=br=null,Pa=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Si&&o.locale!=="ko"?null:o.data;default:return null}}var n1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dg(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!n1[i.type]:o==="textarea"}function hg(i,o,c,h){us(h),o=Xc(o,"onChange"),0<o.length&&(c=new Ea("onChange","change",null,c,h),i.push({event:c,listeners:o}))}var sl=null,nl=null;function i1(i){Cg(i,0)}function Gc(i){var o=La(i);if(aa(o))return i}function a1(i,o){if(i==="change")return o}var mg=!1;if(m){var dh;if(m){var hh="oninput"in document;if(!hh){var pg=document.createElement("div");pg.setAttribute("oninput","return;"),hh=typeof pg.oninput=="function"}dh=hh}else dh=!1;mg=dh&&(!document.documentMode||9<document.documentMode)}function fg(){sl&&(sl.detachEvent("onpropertychange",gg),nl=sl=null)}function gg(i){if(i.propertyName==="value"&&Gc(nl)){var o=[];hg(o,nl,i,da(i)),qo(i1,o)}}function o1(i,o,c){i==="focusin"?(fg(),sl=o,nl=c,sl.attachEvent("onpropertychange",gg)):i==="focusout"&&fg()}function l1(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Gc(nl)}function c1(i,o){if(i==="click")return Gc(o)}function u1(i,o){if(i==="input"||i==="change")return Gc(o)}function d1(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Zr=typeof Object.is=="function"?Object.is:d1;function il(i,o){if(Zr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var c=Object.keys(i),h=Object.keys(o);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var f=c[h];if(!p.call(o,f)||!Zr(i[f],o[f]))return!1}return!0}function xg(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function yg(i,o){var c=xg(i);i=0;for(var h;c;){if(c.nodeType===3){if(h=i+c.textContent.length,i<=o&&h>=o)return{node:c,offset:o-i};i=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=xg(c)}}function vg(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?vg(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function bg(){for(var i=window,o=fn();o instanceof i.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)i=o.contentWindow;else break;o=fn(i.document)}return o}function mh(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function h1(i){var o=bg(),c=i.focusedElem,h=i.selectionRange;if(o!==c&&c&&c.ownerDocument&&vg(c.ownerDocument.documentElement,c)){if(h!==null&&mh(c)){if(o=h.start,i=h.end,i===void 0&&(i=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(i,c.value.length);else if(i=(o=c.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var f=c.textContent.length,v=Math.min(h.start,f);h=h.end===void 0?v:Math.min(h.end,f),!i.extend&&v>h&&(f=h,h=v,v=f),f=yg(c,v);var E=yg(c,h);f&&E&&(i.rangeCount!==1||i.anchorNode!==f.node||i.anchorOffset!==f.offset||i.focusNode!==E.node||i.focusOffset!==E.offset)&&(o=o.createRange(),o.setStart(f.node,f.offset),i.removeAllRanges(),v>h?(i.addRange(o),i.extend(E.node,E.offset)):(o.setEnd(E.node,E.offset),i.addRange(o)))}}for(o=[],i=c;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)i=o[c],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var m1=m&&"documentMode"in document&&11>=document.documentMode,Ra=null,ph=null,al=null,fh=!1;function wg(i,o,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;fh||Ra==null||Ra!==fn(h)||(h=Ra,"selectionStart"in h&&mh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),al&&il(al,h)||(al=h,h=Xc(ph,"onSelect"),0<h.length&&(o=new Ea("onSelect","select",null,o,c),i.push({event:o,listeners:h}),o.target=Ra)))}function Kc(i,o){var c={};return c[i.toLowerCase()]=o.toLowerCase(),c["Webkit"+i]="webkit"+o,c["Moz"+i]="moz"+o,c}var Da={animationend:Kc("Animation","AnimationEnd"),animationiteration:Kc("Animation","AnimationIteration"),animationstart:Kc("Animation","AnimationStart"),transitionend:Kc("Transition","TransitionEnd")},gh={},_g={};m&&(_g=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function Qc(i){if(gh[i])return gh[i];if(!Da[i])return i;var o=Da[i],c;for(c in o)if(o.hasOwnProperty(c)&&c in _g)return gh[i]=o[c];return i}var Ng=Qc("animationend"),jg=Qc("animationiteration"),Eg=Qc("animationstart"),Tg=Qc("transitionend"),Sg=new Map,kg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tn(i,o){Sg.set(i,o),l(o,[i])}for(var xh=0;xh<kg.length;xh++){var yh=kg[xh],p1=yh.toLowerCase(),f1=yh[0].toUpperCase()+yh.slice(1);Tn(p1,"on"+f1)}Tn(Ng,"onAnimationEnd"),Tn(jg,"onAnimationIteration"),Tn(Eg,"onAnimationStart"),Tn("dblclick","onDoubleClick"),Tn("focusin","onFocus"),Tn("focusout","onBlur"),Tn(Tg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),g1=new Set("cancel close invalid load scroll toggle".split(" ").concat(ol));function Ig(i,o,c){var h=i.type||"unknown-event";i.currentTarget=c,Ec(h,o,void 0,i),i.currentTarget=null}function Cg(i,o){o=(o&4)!==0;for(var c=0;c<i.length;c++){var h=i[c],f=h.event;h=h.listeners;e:{var v=void 0;if(o)for(var E=h.length-1;0<=E;E--){var L=h[E],V=L.instance,q=L.currentTarget;if(L=L.listener,V!==v&&f.isPropagationStopped())break e;Ig(f,L,q),v=V}else for(E=0;E<h.length;E++){if(L=h[E],V=L.instance,q=L.currentTarget,L=L.listener,V!==v&&f.isPropagationStopped())break e;Ig(f,L,q),v=V}}}if(Hr)throw i=Ho,Hr=!1,Ho=null,i}function et(i,o){var c=o[Th];c===void 0&&(c=o[Th]=new Set);var h=i+"__bubble";c.has(h)||(Ag(o,i,2,!1),c.add(h))}function vh(i,o,c){var h=0;o&&(h|=4),Ag(c,i,h,o)}var Yc="_reactListening"+Math.random().toString(36).slice(2);function ll(i){if(!i[Yc]){i[Yc]=!0,s.forEach(function(c){c!=="selectionchange"&&(g1.has(c)||vh(c,!1,i),vh(c,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Yc]||(o[Yc]=!0,vh("selectionchange",!1,o))}}function Ag(i,o,c,h){switch(Jo(o)){case 1:var f=nt;break;case 4:f=ch;break;default:f=Xo}c=f.bind(null,o,c,i),f=void 0,!pa||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(f=!0),h?f!==void 0?i.addEventListener(o,c,{capture:!0,passive:f}):i.addEventListener(o,c,!0):f!==void 0?i.addEventListener(o,c,{passive:f}):i.addEventListener(o,c,!1)}function bh(i,o,c,h,f){var v=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var L=h.stateNode.containerInfo;if(L===f||L.nodeType===8&&L.parentNode===f)break;if(E===4)for(E=h.return;E!==null;){var V=E.tag;if((V===3||V===4)&&(V=E.stateNode.containerInfo,V===f||V.nodeType===8&&V.parentNode===f))return;E=E.return}for(;L!==null;){if(E=ki(L),E===null)return;if(V=E.tag,V===5||V===6){h=v=E;continue e}L=L.parentNode}}h=h.return}qo(function(){var q=v,se=da(c),ie=[];e:{var re=Sg.get(i);if(re!==void 0){var he=Ea,fe=i;switch(i){case"keypress":if(ja(c)===0)break e;case"keydown":case"keyup":he=y;break;case"focusin":fe="focus",he=Ia;break;case"focusout":fe="blur",he=Ia;break;case"beforeblur":case"afterblur":he=Ia;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=Sa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=Uc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=G;break;case Ng:case jg:case Eg:he=$s;break;case Tg:he=We;break;case"scroll":he=uh;break;case"wheel":he=Ve;break;case"copy":case"cut":case"paste":he=zc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=C}var xe=(o&4)!==0,ft=!xe&&i==="scroll",$=xe?re!==null?re+"Capture":null:re;xe=[];for(var F=q,z;F!==null;){z=F;var ae=z.stateNode;if(z.tag===5&&ae!==null&&(z=ae,$!==null&&(ae=pt(F,$),ae!=null&&xe.push(cl(F,ae,z)))),ft)break;F=F.return}0<xe.length&&(re=new he(re,fe,null,c,se),ie.push({event:re,listeners:xe}))}}if((o&7)===0){e:{if(re=i==="mouseover"||i==="pointerover",he=i==="mouseout"||i==="pointerout",re&&c!==fi&&(fe=c.relatedTarget||c.fromElement)&&(ki(fe)||fe[zs]))break e;if((he||re)&&(re=se.window===se?se:(re=se.ownerDocument)?re.defaultView||re.parentWindow:window,he?(fe=c.relatedTarget||c.toElement,he=q,fe=fe?ki(fe):null,fe!==null&&(ft=Wr(fe),fe!==ft||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(he=null,fe=q),he!==fe)){if(xe=Sa,ae="onMouseLeave",$="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(xe=C,ae="onPointerLeave",$="onPointerEnter",F="pointer"),ft=he==null?re:La(he),z=fe==null?re:La(fe),re=new xe(ae,F+"leave",he,c,se),re.target=ft,re.relatedTarget=z,ae=null,ki(se)===q&&(xe=new xe($,F+"enter",fe,c,se),xe.target=z,xe.relatedTarget=ft,ae=xe),ft=ae,he&&fe)t:{for(xe=he,$=fe,F=0,z=xe;z;z=Ma(z))F++;for(z=0,ae=$;ae;ae=Ma(ae))z++;for(;0<F-z;)xe=Ma(xe),F--;for(;0<z-F;)$=Ma($),z--;for(;F--;){if(xe===$||$!==null&&xe===$.alternate)break t;xe=Ma(xe),$=Ma($)}xe=null}else xe=null;he!==null&&Pg(ie,re,he,xe,!1),fe!==null&&ft!==null&&Pg(ie,ft,fe,xe,!0)}}e:{if(re=q?La(q):window,he=re.nodeName&&re.nodeName.toLowerCase(),he==="select"||he==="input"&&re.type==="file")var ve=a1;else if(dg(re))if(mg)ve=u1;else{ve=l1;var Ne=o1}else(he=re.nodeName)&&he.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(ve=c1);if(ve&&(ve=ve(i,q))){hg(ie,ve,c,se);break e}Ne&&Ne(i,re,q),i==="focusout"&&(Ne=re._wrapperState)&&Ne.controlled&&re.type==="number"&&la(re,"number",re.value)}switch(Ne=q?La(q):window,i){case"focusin":(dg(Ne)||Ne.contentEditable==="true")&&(Ra=Ne,ph=q,al=null);break;case"focusout":al=ph=Ra=null;break;case"mousedown":fh=!0;break;case"contextmenu":case"mouseup":case"dragend":fh=!1,wg(ie,c,se);break;case"selectionchange":if(m1)break;case"keydown":case"keyup":wg(ie,c,se)}var je;if(yt)e:{switch(i){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Pa?cg(i,c)&&(Se="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Se="onCompositionStart");Se&&(Si&&c.locale!=="ko"&&(Pa||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Pa&&(je=Zo()):(br=se,Na="value"in br?br.value:br.textContent,Pa=!0)),Ne=Xc(q,Se),0<Ne.length&&(Se=new rl(Se,i,null,c,se),ie.push({event:Se,listeners:Ne}),je?Se.data=je:(je=ug(c),je!==null&&(Se.data=je)))),(je=wr?r1(i,c):s1(i,c))&&(q=Xc(q,"onBeforeInput"),0<q.length&&(se=new rl("onBeforeInput","beforeinput",null,c,se),ie.push({event:se,listeners:q}),se.data=je))}Cg(ie,o)})}function cl(i,o,c){return{instance:i,listener:o,currentTarget:c}}function Xc(i,o){for(var c=o+"Capture",h=[];i!==null;){var f=i,v=f.stateNode;f.tag===5&&v!==null&&(f=v,v=pt(i,c),v!=null&&h.unshift(cl(i,v,f)),v=pt(i,o),v!=null&&h.push(cl(i,v,f))),i=i.return}return h}function Ma(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Pg(i,o,c,h,f){for(var v=o._reactName,E=[];c!==null&&c!==h;){var L=c,V=L.alternate,q=L.stateNode;if(V!==null&&V===h)break;L.tag===5&&q!==null&&(L=q,f?(V=pt(c,v),V!=null&&E.unshift(cl(c,V,L))):f||(V=pt(c,v),V!=null&&E.push(cl(c,V,L)))),c=c.return}E.length!==0&&i.push({event:o,listeners:E})}var x1=/\r\n?/g,y1=/\u0000|\uFFFD/g;function Rg(i){return(typeof i=="string"?i:""+i).replace(x1,`
`).replace(y1,"")}function Jc(i,o,c){if(o=Rg(o),Rg(i)!==o&&c)throw Error(t(425))}function Zc(){}var wh=null,_h=null;function Nh(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var jh=typeof setTimeout=="function"?setTimeout:void 0,v1=typeof clearTimeout=="function"?clearTimeout:void 0,Dg=typeof Promise=="function"?Promise:void 0,b1=typeof queueMicrotask=="function"?queueMicrotask:typeof Dg<"u"?function(i){return Dg.resolve(null).then(i).catch(w1)}:jh;function w1(i){setTimeout(function(){throw i})}function Eh(i,o){var c=o,h=0;do{var f=c.nextSibling;if(i.removeChild(c),f&&f.nodeType===8)if(c=f.data,c==="/$"){if(h===0){i.removeChild(f),Xr(o);return}h--}else c!=="$"&&c!=="$?"&&c!=="$!"||h++;c=f}while(c);Xr(o)}function Sn(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Mg(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return i;o--}else c==="/$"&&o++}i=i.previousSibling}return null}var Oa=Math.random().toString(36).slice(2),gs="__reactFiber$"+Oa,ul="__reactProps$"+Oa,zs="__reactContainer$"+Oa,Th="__reactEvents$"+Oa,_1="__reactListeners$"+Oa,N1="__reactHandles$"+Oa;function ki(i){var o=i[gs];if(o)return o;for(var c=i.parentNode;c;){if(o=c[zs]||c[gs]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(i=Mg(i);i!==null;){if(c=i[gs])return c;i=Mg(i)}return o}i=c,c=i.parentNode}return null}function dl(i){return i=i[gs]||i[zs],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function La(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function eu(i){return i[ul]||null}var Sh=[],Va=-1;function kn(i){return{current:i}}function tt(i){0>Va||(i.current=Sh[Va],Sh[Va]=null,Va--)}function Je(i,o){Va++,Sh[Va]=i.current,i.current=o}var In={},Gt=kn(In),cr=kn(!1),Ii=In;function Fa(i,o){var c=i.type.contextTypes;if(!c)return In;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var f={},v;for(v in c)f[v]=o[v];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=f),f}function ur(i){return i=i.childContextTypes,i!=null}function tu(){tt(cr),tt(Gt)}function Og(i,o,c){if(Gt.current!==In)throw Error(t(168));Je(Gt,o),Je(cr,c)}function Lg(i,o,c){var h=i.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return c;h=h.getChildContext();for(var f in h)if(!(f in o))throw Error(t(108,qe(i)||"Unknown",f));return ue({},c,h)}function ru(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||In,Ii=Gt.current,Je(Gt,i),Je(cr,cr.current),!0}function Vg(i,o,c){var h=i.stateNode;if(!h)throw Error(t(169));c?(i=Lg(i,o,Ii),h.__reactInternalMemoizedMergedChildContext=i,tt(cr),tt(Gt),Je(Gt,i)):tt(cr),Je(cr,c)}var qs=null,su=!1,kh=!1;function Fg(i){qs===null?qs=[i]:qs.push(i)}function j1(i){su=!0,Fg(i)}function Cn(){if(!kh&&qs!==null){kh=!0;var i=0,o=Me;try{var c=qs;for(Me=1;i<c.length;i++){var h=c[i];do h=h(!0);while(h!==null)}qs=null,su=!1}catch(f){throw qs!==null&&(qs=qs.slice(i+1)),ya(bi,Cn),f}finally{Me=o,kh=!1}}return null}var Ua=[],Ba=0,nu=null,iu=0,Rr=[],Dr=0,Ci=null,Hs=1,Ws="";function Ai(i,o){Ua[Ba++]=iu,Ua[Ba++]=nu,nu=i,iu=o}function Ug(i,o,c){Rr[Dr++]=Hs,Rr[Dr++]=Ws,Rr[Dr++]=Ci,Ci=i;var h=Hs;i=Ws;var f=32-tr(h)-1;h&=~(1<<f),c+=1;var v=32-tr(o)+f;if(30<v){var E=f-f%5;v=(h&(1<<E)-1).toString(32),h>>=E,f-=E,Hs=1<<32-tr(o)+f|c<<f|h,Ws=v+i}else Hs=1<<v|c<<f|h,Ws=i}function Ih(i){i.return!==null&&(Ai(i,1),Ug(i,1,0))}function Ch(i){for(;i===nu;)nu=Ua[--Ba],Ua[Ba]=null,iu=Ua[--Ba],Ua[Ba]=null;for(;i===Ci;)Ci=Rr[--Dr],Rr[Dr]=null,Ws=Rr[--Dr],Rr[Dr]=null,Hs=Rr[--Dr],Rr[Dr]=null}var _r=null,Nr=null,it=!1,es=null;function Bg(i,o){var c=Vr(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=i,o=i.deletions,o===null?(i.deletions=[c],i.flags|=16):o.push(c)}function $g(i,o){switch(i.tag){case 5:var c=i.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,_r=i,Nr=Sn(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,_r=i,Nr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=Ci!==null?{id:Hs,overflow:Ws}:null,i.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=Vr(18,null,null,0),c.stateNode=o,c.return=i,i.child=c,_r=i,Nr=null,!0):!1;default:return!1}}function Ah(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Ph(i){if(it){var o=Nr;if(o){var c=o;if(!$g(i,o)){if(Ah(i))throw Error(t(418));o=Sn(c.nextSibling);var h=_r;o&&$g(i,o)?Bg(h,c):(i.flags=i.flags&-4097|2,it=!1,_r=i)}}else{if(Ah(i))throw Error(t(418));i.flags=i.flags&-4097|2,it=!1,_r=i}}}function zg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;_r=i}function au(i){if(i!==_r)return!1;if(!it)return zg(i),it=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Nh(i.type,i.memoizedProps)),o&&(o=Nr)){if(Ah(i))throw qg(),Error(t(418));for(;o;)Bg(i,o),o=Sn(o.nextSibling)}if(zg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"){if(o===0){Nr=Sn(i.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}i=i.nextSibling}Nr=null}}else Nr=_r?Sn(i.stateNode.nextSibling):null;return!0}function qg(){for(var i=Nr;i;)i=Sn(i.nextSibling)}function $a(){Nr=_r=null,it=!1}function Rh(i){es===null?es=[i]:es.push(i)}var E1=K.ReactCurrentBatchConfig;function hl(i,o,c){if(i=c.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var h=c.stateNode}if(!h)throw Error(t(147,i));var f=h,v=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(E){var L=f.refs;E===null?delete L[v]:L[v]=E},o._stringRef=v,o)}if(typeof i!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,i))}return i}function ou(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Hg(i){var o=i._init;return o(i._payload)}function Wg(i){function o($,F){if(i){var z=$.deletions;z===null?($.deletions=[F],$.flags|=16):z.push(F)}}function c($,F){if(!i)return null;for(;F!==null;)o($,F),F=F.sibling;return null}function h($,F){for($=new Map;F!==null;)F.key!==null?$.set(F.key,F):$.set(F.index,F),F=F.sibling;return $}function f($,F){return $=Vn($,F),$.index=0,$.sibling=null,$}function v($,F,z){return $.index=z,i?(z=$.alternate,z!==null?(z=z.index,z<F?($.flags|=2,F):z):($.flags|=2,F)):($.flags|=1048576,F)}function E($){return i&&$.alternate===null&&($.flags|=2),$}function L($,F,z,ae){return F===null||F.tag!==6?(F=jm(z,$.mode,ae),F.return=$,F):(F=f(F,z),F.return=$,F)}function V($,F,z,ae){var ve=z.type;return ve===O?se($,F,z.props.children,ae,z.key):F!==null&&(F.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===Ue&&Hg(ve)===F.type)?(ae=f(F,z.props),ae.ref=hl($,F,z),ae.return=$,ae):(ae=Au(z.type,z.key,z.props,null,$.mode,ae),ae.ref=hl($,F,z),ae.return=$,ae)}function q($,F,z,ae){return F===null||F.tag!==4||F.stateNode.containerInfo!==z.containerInfo||F.stateNode.implementation!==z.implementation?(F=Em(z,$.mode,ae),F.return=$,F):(F=f(F,z.children||[]),F.return=$,F)}function se($,F,z,ae,ve){return F===null||F.tag!==7?(F=Fi(z,$.mode,ae,ve),F.return=$,F):(F=f(F,z),F.return=$,F)}function ie($,F,z){if(typeof F=="string"&&F!==""||typeof F=="number")return F=jm(""+F,$.mode,z),F.return=$,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Y:return z=Au(F.type,F.key,F.props,null,$.mode,z),z.ref=hl($,null,F),z.return=$,z;case J:return F=Em(F,$.mode,z),F.return=$,F;case Ue:var ae=F._init;return ie($,ae(F._payload),z)}if(Ds(F)||ge(F))return F=Fi(F,$.mode,z,null),F.return=$,F;ou($,F)}return null}function re($,F,z,ae){var ve=F!==null?F.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return ve!==null?null:L($,F,""+z,ae);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Y:return z.key===ve?V($,F,z,ae):null;case J:return z.key===ve?q($,F,z,ae):null;case Ue:return ve=z._init,re($,F,ve(z._payload),ae)}if(Ds(z)||ge(z))return ve!==null?null:se($,F,z,ae,null);ou($,z)}return null}function he($,F,z,ae,ve){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return $=$.get(z)||null,L(F,$,""+ae,ve);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case Y:return $=$.get(ae.key===null?z:ae.key)||null,V(F,$,ae,ve);case J:return $=$.get(ae.key===null?z:ae.key)||null,q(F,$,ae,ve);case Ue:var Ne=ae._init;return he($,F,z,Ne(ae._payload),ve)}if(Ds(ae)||ge(ae))return $=$.get(z)||null,se(F,$,ae,ve,null);ou(F,ae)}return null}function fe($,F,z,ae){for(var ve=null,Ne=null,je=F,Se=F=0,Pt=null;je!==null&&Se<z.length;Se++){je.index>Se?(Pt=je,je=null):Pt=je.sibling;var $e=re($,je,z[Se],ae);if($e===null){je===null&&(je=Pt);break}i&&je&&$e.alternate===null&&o($,je),F=v($e,F,Se),Ne===null?ve=$e:Ne.sibling=$e,Ne=$e,je=Pt}if(Se===z.length)return c($,je),it&&Ai($,Se),ve;if(je===null){for(;Se<z.length;Se++)je=ie($,z[Se],ae),je!==null&&(F=v(je,F,Se),Ne===null?ve=je:Ne.sibling=je,Ne=je);return it&&Ai($,Se),ve}for(je=h($,je);Se<z.length;Se++)Pt=he(je,$,Se,z[Se],ae),Pt!==null&&(i&&Pt.alternate!==null&&je.delete(Pt.key===null?Se:Pt.key),F=v(Pt,F,Se),Ne===null?ve=Pt:Ne.sibling=Pt,Ne=Pt);return i&&je.forEach(function(Fn){return o($,Fn)}),it&&Ai($,Se),ve}function xe($,F,z,ae){var ve=ge(z);if(typeof ve!="function")throw Error(t(150));if(z=ve.call(z),z==null)throw Error(t(151));for(var Ne=ve=null,je=F,Se=F=0,Pt=null,$e=z.next();je!==null&&!$e.done;Se++,$e=z.next()){je.index>Se?(Pt=je,je=null):Pt=je.sibling;var Fn=re($,je,$e.value,ae);if(Fn===null){je===null&&(je=Pt);break}i&&je&&Fn.alternate===null&&o($,je),F=v(Fn,F,Se),Ne===null?ve=Fn:Ne.sibling=Fn,Ne=Fn,je=Pt}if($e.done)return c($,je),it&&Ai($,Se),ve;if(je===null){for(;!$e.done;Se++,$e=z.next())$e=ie($,$e.value,ae),$e!==null&&(F=v($e,F,Se),Ne===null?ve=$e:Ne.sibling=$e,Ne=$e);return it&&Ai($,Se),ve}for(je=h($,je);!$e.done;Se++,$e=z.next())$e=he(je,$,Se,$e.value,ae),$e!==null&&(i&&$e.alternate!==null&&je.delete($e.key===null?Se:$e.key),F=v($e,F,Se),Ne===null?ve=$e:Ne.sibling=$e,Ne=$e);return i&&je.forEach(function(nN){return o($,nN)}),it&&Ai($,Se),ve}function ft($,F,z,ae){if(typeof z=="object"&&z!==null&&z.type===O&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case Y:e:{for(var ve=z.key,Ne=F;Ne!==null;){if(Ne.key===ve){if(ve=z.type,ve===O){if(Ne.tag===7){c($,Ne.sibling),F=f(Ne,z.props.children),F.return=$,$=F;break e}}else if(Ne.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===Ue&&Hg(ve)===Ne.type){c($,Ne.sibling),F=f(Ne,z.props),F.ref=hl($,Ne,z),F.return=$,$=F;break e}c($,Ne);break}else o($,Ne);Ne=Ne.sibling}z.type===O?(F=Fi(z.props.children,$.mode,ae,z.key),F.return=$,$=F):(ae=Au(z.type,z.key,z.props,null,$.mode,ae),ae.ref=hl($,F,z),ae.return=$,$=ae)}return E($);case J:e:{for(Ne=z.key;F!==null;){if(F.key===Ne)if(F.tag===4&&F.stateNode.containerInfo===z.containerInfo&&F.stateNode.implementation===z.implementation){c($,F.sibling),F=f(F,z.children||[]),F.return=$,$=F;break e}else{c($,F);break}else o($,F);F=F.sibling}F=Em(z,$.mode,ae),F.return=$,$=F}return E($);case Ue:return Ne=z._init,ft($,F,Ne(z._payload),ae)}if(Ds(z))return fe($,F,z,ae);if(ge(z))return xe($,F,z,ae);ou($,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,F!==null&&F.tag===6?(c($,F.sibling),F=f(F,z),F.return=$,$=F):(c($,F),F=jm(z,$.mode,ae),F.return=$,$=F),E($)):c($,F)}return ft}var za=Wg(!0),Gg=Wg(!1),lu=kn(null),cu=null,qa=null,Dh=null;function Mh(){Dh=qa=cu=null}function Oh(i){var o=lu.current;tt(lu),i._currentValue=o}function Lh(i,o,c){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===c)break;i=i.return}}function Ha(i,o){cu=i,Dh=qa=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(dr=!0),i.firstContext=null)}function Mr(i){var o=i._currentValue;if(Dh!==i)if(i={context:i,memoizedValue:o,next:null},qa===null){if(cu===null)throw Error(t(308));qa=i,cu.dependencies={lanes:0,firstContext:i}}else qa=qa.next=i;return o}var Pi=null;function Vh(i){Pi===null?Pi=[i]:Pi.push(i)}function Kg(i,o,c,h){var f=o.interleaved;return f===null?(c.next=c,Vh(o)):(c.next=f.next,f.next=c),o.interleaved=c,Gs(i,h)}function Gs(i,o){i.lanes|=o;var c=i.alternate;for(c!==null&&(c.lanes|=o),c=i,i=i.return;i!==null;)i.childLanes|=o,c=i.alternate,c!==null&&(c.childLanes|=o),c=i,i=i.return;return c.tag===3?c.stateNode:null}var An=!1;function Fh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qg(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Ks(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Pn(i,o,c){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Be&2)!==0){var f=h.pending;return f===null?o.next=o:(o.next=f.next,f.next=o),h.pending=o,Gs(i,c)}return f=h.interleaved,f===null?(o.next=o,Vh(h)):(o.next=f.next,f.next=o),h.interleaved=o,Gs(i,c)}function uu(i,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var h=o.lanes;h&=i.pendingLanes,c|=h,o.lanes=c,wn(i,c)}}function Yg(i,o){var c=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var f=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var E={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};v===null?f=v=E:v=v.next=E,c=c.next}while(c!==null);v===null?f=v=o:v=v.next=o}else f=v=o;c={baseState:h.baseState,firstBaseUpdate:f,lastBaseUpdate:v,shared:h.shared,effects:h.effects},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=o:i.next=o,c.lastBaseUpdate=o}function du(i,o,c,h){var f=i.updateQueue;An=!1;var v=f.firstBaseUpdate,E=f.lastBaseUpdate,L=f.shared.pending;if(L!==null){f.shared.pending=null;var V=L,q=V.next;V.next=null,E===null?v=q:E.next=q,E=V;var se=i.alternate;se!==null&&(se=se.updateQueue,L=se.lastBaseUpdate,L!==E&&(L===null?se.firstBaseUpdate=q:L.next=q,se.lastBaseUpdate=V))}if(v!==null){var ie=f.baseState;E=0,se=q=V=null,L=v;do{var re=L.lane,he=L.eventTime;if((h&re)===re){se!==null&&(se=se.next={eventTime:he,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var fe=i,xe=L;switch(re=o,he=c,xe.tag){case 1:if(fe=xe.payload,typeof fe=="function"){ie=fe.call(he,ie,re);break e}ie=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=xe.payload,re=typeof fe=="function"?fe.call(he,ie,re):fe,re==null)break e;ie=ue({},ie,re);break e;case 2:An=!0}}L.callback!==null&&L.lane!==0&&(i.flags|=64,re=f.effects,re===null?f.effects=[L]:re.push(L))}else he={eventTime:he,lane:re,tag:L.tag,payload:L.payload,callback:L.callback,next:null},se===null?(q=se=he,V=ie):se=se.next=he,E|=re;if(L=L.next,L===null){if(L=f.shared.pending,L===null)break;re=L,L=re.next,re.next=null,f.lastBaseUpdate=re,f.shared.pending=null}}while(!0);if(se===null&&(V=ie),f.baseState=V,f.firstBaseUpdate=q,f.lastBaseUpdate=se,o=f.shared.interleaved,o!==null){f=o;do E|=f.lane,f=f.next;while(f!==o)}else v===null&&(f.shared.lanes=0);Mi|=E,i.lanes=E,i.memoizedState=ie}}function Xg(i,o,c){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var h=i[o],f=h.callback;if(f!==null){if(h.callback=null,h=c,typeof f!="function")throw Error(t(191,f));f.call(h)}}}var ml={},xs=kn(ml),pl=kn(ml),fl=kn(ml);function Ri(i){if(i===ml)throw Error(t(174));return i}function Uh(i,o){switch(Je(fl,o),Je(pl,i),Je(xs,ml),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Nt(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=Nt(o,i)}tt(xs),Je(xs,o)}function Wa(){tt(xs),tt(pl),tt(fl)}function Jg(i){Ri(fl.current);var o=Ri(xs.current),c=Nt(o,i.type);o!==c&&(Je(pl,i),Je(xs,c))}function Bh(i){pl.current===i&&(tt(xs),tt(pl))}var at=kn(0);function hu(i){for(var o=i;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var $h=[];function zh(){for(var i=0;i<$h.length;i++)$h[i]._workInProgressVersionPrimary=null;$h.length=0}var mu=K.ReactCurrentDispatcher,qh=K.ReactCurrentBatchConfig,Di=0,ot=null,Et=null,Ct=null,pu=!1,gl=!1,xl=0,T1=0;function Kt(){throw Error(t(321))}function Hh(i,o){if(o===null)return!1;for(var c=0;c<o.length&&c<i.length;c++)if(!Zr(i[c],o[c]))return!1;return!0}function Wh(i,o,c,h,f,v){if(Di=v,ot=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,mu.current=i===null||i.memoizedState===null?C1:A1,i=c(h,f),gl){v=0;do{if(gl=!1,xl=0,25<=v)throw Error(t(301));v+=1,Ct=Et=null,o.updateQueue=null,mu.current=P1,i=c(h,f)}while(gl)}if(mu.current=xu,o=Et!==null&&Et.next!==null,Di=0,Ct=Et=ot=null,pu=!1,o)throw Error(t(300));return i}function Gh(){var i=xl!==0;return xl=0,i}function ys(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?ot.memoizedState=Ct=i:Ct=Ct.next=i,Ct}function Or(){if(Et===null){var i=ot.alternate;i=i!==null?i.memoizedState:null}else i=Et.next;var o=Ct===null?ot.memoizedState:Ct.next;if(o!==null)Ct=o,Et=i;else{if(i===null)throw Error(t(310));Et=i,i={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},Ct===null?ot.memoizedState=Ct=i:Ct=Ct.next=i}return Ct}function yl(i,o){return typeof o=="function"?o(i):o}function Kh(i){var o=Or(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=i;var h=Et,f=h.baseQueue,v=c.pending;if(v!==null){if(f!==null){var E=f.next;f.next=v.next,v.next=E}h.baseQueue=f=v,c.pending=null}if(f!==null){v=f.next,h=h.baseState;var L=E=null,V=null,q=v;do{var se=q.lane;if((Di&se)===se)V!==null&&(V=V.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),h=q.hasEagerState?q.eagerState:i(h,q.action);else{var ie={lane:se,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};V===null?(L=V=ie,E=h):V=V.next=ie,ot.lanes|=se,Mi|=se}q=q.next}while(q!==null&&q!==v);V===null?E=h:V.next=L,Zr(h,o.memoizedState)||(dr=!0),o.memoizedState=h,o.baseState=E,o.baseQueue=V,c.lastRenderedState=h}if(i=c.interleaved,i!==null){f=i;do v=f.lane,ot.lanes|=v,Mi|=v,f=f.next;while(f!==i)}else f===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function Qh(i){var o=Or(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=i;var h=c.dispatch,f=c.pending,v=o.memoizedState;if(f!==null){c.pending=null;var E=f=f.next;do v=i(v,E.action),E=E.next;while(E!==f);Zr(v,o.memoizedState)||(dr=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),c.lastRenderedState=v}return[v,h]}function Zg(){}function e0(i,o){var c=ot,h=Or(),f=o(),v=!Zr(h.memoizedState,f);if(v&&(h.memoizedState=f,dr=!0),h=h.queue,Yh(s0.bind(null,c,h,i),[i]),h.getSnapshot!==o||v||Ct!==null&&Ct.memoizedState.tag&1){if(c.flags|=2048,vl(9,r0.bind(null,c,h,f,o),void 0,null),At===null)throw Error(t(349));(Di&30)!==0||t0(c,o,f)}return f}function t0(i,o,c){i.flags|=16384,i={getSnapshot:o,value:c},o=ot.updateQueue,o===null?(o={lastEffect:null,stores:null},ot.updateQueue=o,o.stores=[i]):(c=o.stores,c===null?o.stores=[i]:c.push(i))}function r0(i,o,c,h){o.value=c,o.getSnapshot=h,n0(o)&&i0(i)}function s0(i,o,c){return c(function(){n0(o)&&i0(i)})}function n0(i){var o=i.getSnapshot;i=i.value;try{var c=o();return!Zr(i,c)}catch{return!0}}function i0(i){var o=Gs(i,1);o!==null&&ns(o,i,1,-1)}function a0(i){var o=ys();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yl,lastRenderedState:i},o.queue=i,i=i.dispatch=I1.bind(null,ot,i),[o.memoizedState,i]}function vl(i,o,c,h){return i={tag:i,create:o,destroy:c,deps:h,next:null},o=ot.updateQueue,o===null?(o={lastEffect:null,stores:null},ot.updateQueue=o,o.lastEffect=i.next=i):(c=o.lastEffect,c===null?o.lastEffect=i.next=i:(h=c.next,c.next=i,i.next=h,o.lastEffect=i)),i}function o0(){return Or().memoizedState}function fu(i,o,c,h){var f=ys();ot.flags|=i,f.memoizedState=vl(1|o,c,void 0,h===void 0?null:h)}function gu(i,o,c,h){var f=Or();h=h===void 0?null:h;var v=void 0;if(Et!==null){var E=Et.memoizedState;if(v=E.destroy,h!==null&&Hh(h,E.deps)){f.memoizedState=vl(o,c,v,h);return}}ot.flags|=i,f.memoizedState=vl(1|o,c,v,h)}function l0(i,o){return fu(8390656,8,i,o)}function Yh(i,o){return gu(2048,8,i,o)}function c0(i,o){return gu(4,2,i,o)}function u0(i,o){return gu(4,4,i,o)}function d0(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function h0(i,o,c){return c=c!=null?c.concat([i]):null,gu(4,4,d0.bind(null,o,i),c)}function Xh(){}function m0(i,o){var c=Or();o=o===void 0?null:o;var h=c.memoizedState;return h!==null&&o!==null&&Hh(o,h[1])?h[0]:(c.memoizedState=[i,o],i)}function p0(i,o){var c=Or();o=o===void 0?null:o;var h=c.memoizedState;return h!==null&&o!==null&&Hh(o,h[1])?h[0]:(i=i(),c.memoizedState=[i,o],i)}function f0(i,o,c){return(Di&21)===0?(i.baseState&&(i.baseState=!1,dr=!0),i.memoizedState=c):(Zr(c,o)||(c=Ni(),ot.lanes|=c,Mi|=c,i.baseState=!0),o)}function S1(i,o){var c=Me;Me=c!==0&&4>c?c:4,i(!0);var h=qh.transition;qh.transition={};try{i(!1),o()}finally{Me=c,qh.transition=h}}function g0(){return Or().memoizedState}function k1(i,o,c){var h=On(i);if(c={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null},x0(i))y0(o,c);else if(c=Kg(i,o,c,h),c!==null){var f=nr();ns(c,i,h,f),v0(c,o,h)}}function I1(i,o,c){var h=On(i),f={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null};if(x0(i))y0(o,f);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var E=o.lastRenderedState,L=v(E,c);if(f.hasEagerState=!0,f.eagerState=L,Zr(L,E)){var V=o.interleaved;V===null?(f.next=f,Vh(o)):(f.next=V.next,V.next=f),o.interleaved=f;return}}catch{}c=Kg(i,o,f,h),c!==null&&(f=nr(),ns(c,i,h,f),v0(c,o,h))}}function x0(i){var o=i.alternate;return i===ot||o!==null&&o===ot}function y0(i,o){gl=pu=!0;var c=i.pending;c===null?o.next=o:(o.next=c.next,c.next=o),i.pending=o}function v0(i,o,c){if((c&4194240)!==0){var h=o.lanes;h&=i.pendingLanes,c|=h,o.lanes=c,wn(i,c)}}var xu={readContext:Mr,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},C1={readContext:Mr,useCallback:function(i,o){return ys().memoizedState=[i,o===void 0?null:o],i},useContext:Mr,useEffect:l0,useImperativeHandle:function(i,o,c){return c=c!=null?c.concat([i]):null,fu(4194308,4,d0.bind(null,o,i),c)},useLayoutEffect:function(i,o){return fu(4194308,4,i,o)},useInsertionEffect:function(i,o){return fu(4,2,i,o)},useMemo:function(i,o){var c=ys();return o=o===void 0?null:o,i=i(),c.memoizedState=[i,o],i},useReducer:function(i,o,c){var h=ys();return o=c!==void 0?c(o):o,h.memoizedState=h.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},h.queue=i,i=i.dispatch=k1.bind(null,ot,i),[h.memoizedState,i]},useRef:function(i){var o=ys();return i={current:i},o.memoizedState=i},useState:a0,useDebugValue:Xh,useDeferredValue:function(i){return ys().memoizedState=i},useTransition:function(){var i=a0(!1),o=i[0];return i=S1.bind(null,i[1]),ys().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,c){var h=ot,f=ys();if(it){if(c===void 0)throw Error(t(407));c=c()}else{if(c=o(),At===null)throw Error(t(349));(Di&30)!==0||t0(h,o,c)}f.memoizedState=c;var v={value:c,getSnapshot:o};return f.queue=v,l0(s0.bind(null,h,v,i),[i]),h.flags|=2048,vl(9,r0.bind(null,h,v,c,o),void 0,null),c},useId:function(){var i=ys(),o=At.identifierPrefix;if(it){var c=Ws,h=Hs;c=(h&~(1<<32-tr(h)-1)).toString(32)+c,o=":"+o+"R"+c,c=xl++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=T1++,o=":"+o+"r"+c.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},A1={readContext:Mr,useCallback:m0,useContext:Mr,useEffect:Yh,useImperativeHandle:h0,useInsertionEffect:c0,useLayoutEffect:u0,useMemo:p0,useReducer:Kh,useRef:o0,useState:function(){return Kh(yl)},useDebugValue:Xh,useDeferredValue:function(i){var o=Or();return f0(o,Et.memoizedState,i)},useTransition:function(){var i=Kh(yl)[0],o=Or().memoizedState;return[i,o]},useMutableSource:Zg,useSyncExternalStore:e0,useId:g0,unstable_isNewReconciler:!1},P1={readContext:Mr,useCallback:m0,useContext:Mr,useEffect:Yh,useImperativeHandle:h0,useInsertionEffect:c0,useLayoutEffect:u0,useMemo:p0,useReducer:Qh,useRef:o0,useState:function(){return Qh(yl)},useDebugValue:Xh,useDeferredValue:function(i){var o=Or();return Et===null?o.memoizedState=i:f0(o,Et.memoizedState,i)},useTransition:function(){var i=Qh(yl)[0],o=Or().memoizedState;return[i,o]},useMutableSource:Zg,useSyncExternalStore:e0,useId:g0,unstable_isNewReconciler:!1};function ts(i,o){if(i&&i.defaultProps){o=ue({},o),i=i.defaultProps;for(var c in i)o[c]===void 0&&(o[c]=i[c]);return o}return o}function Jh(i,o,c,h){o=i.memoizedState,c=c(h,o),c=c==null?o:ue({},o,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var yu={isMounted:function(i){return(i=i._reactInternals)?Wr(i)===i:!1},enqueueSetState:function(i,o,c){i=i._reactInternals;var h=nr(),f=On(i),v=Ks(h,f);v.payload=o,c!=null&&(v.callback=c),o=Pn(i,v,f),o!==null&&(ns(o,i,f,h),uu(o,i,f))},enqueueReplaceState:function(i,o,c){i=i._reactInternals;var h=nr(),f=On(i),v=Ks(h,f);v.tag=1,v.payload=o,c!=null&&(v.callback=c),o=Pn(i,v,f),o!==null&&(ns(o,i,f,h),uu(o,i,f))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var c=nr(),h=On(i),f=Ks(c,h);f.tag=2,o!=null&&(f.callback=o),o=Pn(i,f,h),o!==null&&(ns(o,i,h,c),uu(o,i,h))}};function b0(i,o,c,h,f,v,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,v,E):o.prototype&&o.prototype.isPureReactComponent?!il(c,h)||!il(f,v):!0}function w0(i,o,c){var h=!1,f=In,v=o.contextType;return typeof v=="object"&&v!==null?v=Mr(v):(f=ur(o)?Ii:Gt.current,h=o.contextTypes,v=(h=h!=null)?Fa(i,f):In),o=new o(c,v),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=yu,i.stateNode=o,o._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=f,i.__reactInternalMemoizedMaskedChildContext=v),o}function _0(i,o,c,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,h),o.state!==i&&yu.enqueueReplaceState(o,o.state,null)}function Zh(i,o,c,h){var f=i.stateNode;f.props=c,f.state=i.memoizedState,f.refs={},Fh(i);var v=o.contextType;typeof v=="object"&&v!==null?f.context=Mr(v):(v=ur(o)?Ii:Gt.current,f.context=Fa(i,v)),f.state=i.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(Jh(i,o,v,c),f.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(o=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),o!==f.state&&yu.enqueueReplaceState(f,f.state,null),du(i,c,f,h),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308)}function Ga(i,o){try{var c="",h=o;do c+=Pe(h),h=h.return;while(h);var f=c}catch(v){f=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:o,stack:f,digest:null}}function em(i,o,c){return{value:i,source:null,stack:c??null,digest:o??null}}function tm(i,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var R1=typeof WeakMap=="function"?WeakMap:Map;function N0(i,o,c){c=Ks(-1,c),c.tag=3,c.payload={element:null};var h=o.value;return c.callback=function(){Eu||(Eu=!0,gm=h),tm(i,o)},c}function j0(i,o,c){c=Ks(-1,c),c.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;c.payload=function(){return h(f)},c.callback=function(){tm(i,o)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(c.callback=function(){tm(i,o),typeof h!="function"&&(Dn===null?Dn=new Set([this]):Dn.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})}),c}function E0(i,o,c){var h=i.pingCache;if(h===null){h=i.pingCache=new R1;var f=new Set;h.set(o,f)}else f=h.get(o),f===void 0&&(f=new Set,h.set(o,f));f.has(c)||(f.add(c),i=G1.bind(null,i,o,c),o.then(i,i))}function T0(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function S0(i,o,c,h,f){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=Ks(-1,1),o.tag=2,Pn(c,o,1))),c.lanes|=1),i):(i.flags|=65536,i.lanes=f,i)}var D1=K.ReactCurrentOwner,dr=!1;function sr(i,o,c,h){o.child=i===null?Gg(o,null,c,h):za(o,i.child,c,h)}function k0(i,o,c,h,f){c=c.render;var v=o.ref;return Ha(o,f),h=Wh(i,o,c,h,v,f),c=Gh(),i!==null&&!dr?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~f,Qs(i,o,f)):(it&&c&&Ih(o),o.flags|=1,sr(i,o,h,f),o.child)}function I0(i,o,c,h,f){if(i===null){var v=c.type;return typeof v=="function"&&!Nm(v)&&v.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=v,C0(i,o,v,h,f)):(i=Au(c.type,null,h,o,o.mode,f),i.ref=o.ref,i.return=o,o.child=i)}if(v=i.child,(i.lanes&f)===0){var E=v.memoizedProps;if(c=c.compare,c=c!==null?c:il,c(E,h)&&i.ref===o.ref)return Qs(i,o,f)}return o.flags|=1,i=Vn(v,h),i.ref=o.ref,i.return=o,o.child=i}function C0(i,o,c,h,f){if(i!==null){var v=i.memoizedProps;if(il(v,h)&&i.ref===o.ref)if(dr=!1,o.pendingProps=h=v,(i.lanes&f)!==0)(i.flags&131072)!==0&&(dr=!0);else return o.lanes=i.lanes,Qs(i,o,f)}return rm(i,o,c,h,f)}function A0(i,o,c){var h=o.pendingProps,f=h.children,v=i!==null?i.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(Qa,jr),jr|=c;else{if((c&1073741824)===0)return i=v!==null?v.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Je(Qa,jr),jr|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=v!==null?v.baseLanes:c,Je(Qa,jr),jr|=h}else v!==null?(h=v.baseLanes|c,o.memoizedState=null):h=c,Je(Qa,jr),jr|=h;return sr(i,o,f,c),o.child}function P0(i,o){var c=o.ref;(i===null&&c!==null||i!==null&&i.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function rm(i,o,c,h,f){var v=ur(c)?Ii:Gt.current;return v=Fa(o,v),Ha(o,f),c=Wh(i,o,c,h,v,f),h=Gh(),i!==null&&!dr?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~f,Qs(i,o,f)):(it&&h&&Ih(o),o.flags|=1,sr(i,o,c,f),o.child)}function R0(i,o,c,h,f){if(ur(c)){var v=!0;ru(o)}else v=!1;if(Ha(o,f),o.stateNode===null)bu(i,o),w0(o,c,h),Zh(o,c,h,f),h=!0;else if(i===null){var E=o.stateNode,L=o.memoizedProps;E.props=L;var V=E.context,q=c.contextType;typeof q=="object"&&q!==null?q=Mr(q):(q=ur(c)?Ii:Gt.current,q=Fa(o,q));var se=c.getDerivedStateFromProps,ie=typeof se=="function"||typeof E.getSnapshotBeforeUpdate=="function";ie||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(L!==h||V!==q)&&_0(o,E,h,q),An=!1;var re=o.memoizedState;E.state=re,du(o,h,E,f),V=o.memoizedState,L!==h||re!==V||cr.current||An?(typeof se=="function"&&(Jh(o,c,se,h),V=o.memoizedState),(L=An||b0(o,c,L,h,re,V,q))?(ie||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(o.flags|=4194308)):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=V),E.props=h,E.state=V,E.context=q,h=L):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{E=o.stateNode,Qg(i,o),L=o.memoizedProps,q=o.type===o.elementType?L:ts(o.type,L),E.props=q,ie=o.pendingProps,re=E.context,V=c.contextType,typeof V=="object"&&V!==null?V=Mr(V):(V=ur(c)?Ii:Gt.current,V=Fa(o,V));var he=c.getDerivedStateFromProps;(se=typeof he=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(L!==ie||re!==V)&&_0(o,E,h,V),An=!1,re=o.memoizedState,E.state=re,du(o,h,E,f);var fe=o.memoizedState;L!==ie||re!==fe||cr.current||An?(typeof he=="function"&&(Jh(o,c,he,h),fe=o.memoizedState),(q=An||b0(o,c,q,h,re,fe,V)||!1)?(se||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,fe,V),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,fe,V)),typeof E.componentDidUpdate=="function"&&(o.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof E.componentDidUpdate!="function"||L===i.memoizedProps&&re===i.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||L===i.memoizedProps&&re===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=fe),E.props=h,E.state=fe,E.context=V,h=q):(typeof E.componentDidUpdate!="function"||L===i.memoizedProps&&re===i.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||L===i.memoizedProps&&re===i.memoizedState||(o.flags|=1024),h=!1)}return sm(i,o,c,h,v,f)}function sm(i,o,c,h,f,v){P0(i,o);var E=(o.flags&128)!==0;if(!h&&!E)return f&&Vg(o,c,!1),Qs(i,o,v);h=o.stateNode,D1.current=o;var L=E&&typeof c.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,i!==null&&E?(o.child=za(o,i.child,null,v),o.child=za(o,null,L,v)):sr(i,o,L,v),o.memoizedState=h.state,f&&Vg(o,c,!0),o.child}function D0(i){var o=i.stateNode;o.pendingContext?Og(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Og(i,o.context,!1),Uh(i,o.containerInfo)}function M0(i,o,c,h,f){return $a(),Rh(f),o.flags|=256,sr(i,o,c,h),o.child}var nm={dehydrated:null,treeContext:null,retryLane:0};function im(i){return{baseLanes:i,cachePool:null,transitions:null}}function O0(i,o,c){var h=o.pendingProps,f=at.current,v=!1,E=(o.flags&128)!==0,L;if((L=E)||(L=i!==null&&i.memoizedState===null?!1:(f&2)!==0),L?(v=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(f|=1),Je(at,f&1),i===null)return Ph(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(E=h.children,i=h.fallback,v?(h=o.mode,v=o.child,E={mode:"hidden",children:E},(h&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=E):v=Pu(E,h,0,null),i=Fi(i,h,c,null),v.return=o,i.return=o,v.sibling=i,o.child=v,o.child.memoizedState=im(c),o.memoizedState=nm,i):am(o,E));if(f=i.memoizedState,f!==null&&(L=f.dehydrated,L!==null))return M1(i,o,E,h,L,f,c);if(v){v=h.fallback,E=o.mode,f=i.child,L=f.sibling;var V={mode:"hidden",children:h.children};return(E&1)===0&&o.child!==f?(h=o.child,h.childLanes=0,h.pendingProps=V,o.deletions=null):(h=Vn(f,V),h.subtreeFlags=f.subtreeFlags&14680064),L!==null?v=Vn(L,v):(v=Fi(v,E,c,null),v.flags|=2),v.return=o,h.return=o,h.sibling=v,o.child=h,h=v,v=o.child,E=i.child.memoizedState,E=E===null?im(c):{baseLanes:E.baseLanes|c,cachePool:null,transitions:E.transitions},v.memoizedState=E,v.childLanes=i.childLanes&~c,o.memoizedState=nm,h}return v=i.child,i=v.sibling,h=Vn(v,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=c),h.return=o,h.sibling=null,i!==null&&(c=o.deletions,c===null?(o.deletions=[i],o.flags|=16):c.push(i)),o.child=h,o.memoizedState=null,h}function am(i,o){return o=Pu({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function vu(i,o,c,h){return h!==null&&Rh(h),za(o,i.child,null,c),i=am(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function M1(i,o,c,h,f,v,E){if(c)return o.flags&256?(o.flags&=-257,h=em(Error(t(422))),vu(i,o,E,h)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(v=h.fallback,f=o.mode,h=Pu({mode:"visible",children:h.children},f,0,null),v=Fi(v,f,E,null),v.flags|=2,h.return=o,v.return=o,h.sibling=v,o.child=h,(o.mode&1)!==0&&za(o,i.child,null,E),o.child.memoizedState=im(E),o.memoizedState=nm,v);if((o.mode&1)===0)return vu(i,o,E,null);if(f.data==="$!"){if(h=f.nextSibling&&f.nextSibling.dataset,h)var L=h.dgst;return h=L,v=Error(t(419)),h=em(v,h,void 0),vu(i,o,E,h)}if(L=(E&i.childLanes)!==0,dr||L){if(h=At,h!==null){switch(E&-E){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(h.suspendedLanes|E))!==0?0:f,f!==0&&f!==v.retryLane&&(v.retryLane=f,Gs(i,f),ns(h,i,f,-1))}return _m(),h=em(Error(t(421))),vu(i,o,E,h)}return f.data==="$?"?(o.flags|=128,o.child=i.child,o=K1.bind(null,i),f._reactRetry=o,null):(i=v.treeContext,Nr=Sn(f.nextSibling),_r=o,it=!0,es=null,i!==null&&(Rr[Dr++]=Hs,Rr[Dr++]=Ws,Rr[Dr++]=Ci,Hs=i.id,Ws=i.overflow,Ci=o),o=am(o,h.children),o.flags|=4096,o)}function L0(i,o,c){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),Lh(i.return,o,c)}function om(i,o,c,h,f){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:f}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=c,v.tailMode=f)}function V0(i,o,c){var h=o.pendingProps,f=h.revealOrder,v=h.tail;if(sr(i,o,h.children,c),h=at.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&L0(i,c,o);else if(i.tag===19)L0(i,c,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(Je(at,h),(o.mode&1)===0)o.memoizedState=null;else switch(f){case"forwards":for(c=o.child,f=null;c!==null;)i=c.alternate,i!==null&&hu(i)===null&&(f=c),c=c.sibling;c=f,c===null?(f=o.child,o.child=null):(f=c.sibling,c.sibling=null),om(o,!1,f,c,v);break;case"backwards":for(c=null,f=o.child,o.child=null;f!==null;){if(i=f.alternate,i!==null&&hu(i)===null){o.child=f;break}i=f.sibling,f.sibling=c,c=f,f=i}om(o,!0,c,null,v);break;case"together":om(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function bu(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Qs(i,o,c){if(i!==null&&(o.dependencies=i.dependencies),Mi|=o.lanes,(c&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,c=Vn(i,i.pendingProps),o.child=c,c.return=o;i.sibling!==null;)i=i.sibling,c=c.sibling=Vn(i,i.pendingProps),c.return=o;c.sibling=null}return o.child}function O1(i,o,c){switch(o.tag){case 3:D0(o),$a();break;case 5:Jg(o);break;case 1:ur(o.type)&&ru(o);break;case 4:Uh(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,f=o.memoizedProps.value;Je(lu,h._currentValue),h._currentValue=f;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(Je(at,at.current&1),o.flags|=128,null):(c&o.child.childLanes)!==0?O0(i,o,c):(Je(at,at.current&1),i=Qs(i,o,c),i!==null?i.sibling:null);Je(at,at.current&1);break;case 19:if(h=(c&o.childLanes)!==0,(i.flags&128)!==0){if(h)return V0(i,o,c);o.flags|=128}if(f=o.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Je(at,at.current),h)break;return null;case 22:case 23:return o.lanes=0,A0(i,o,c)}return Qs(i,o,c)}var F0,lm,U0,B0;F0=function(i,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},lm=function(){},U0=function(i,o,c,h){var f=i.memoizedProps;if(f!==h){i=o.stateNode,Ri(xs.current);var v=null;switch(c){case"input":f=hi(i,f),h=hi(i,h),v=[];break;case"select":f=ue({},f,{value:void 0}),h=ue({},h,{value:void 0}),v=[];break;case"textarea":f=Do(i,f),h=Do(i,h),v=[];break;default:typeof f.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=Zc)}Uo(c,h);var E;c=null;for(q in f)if(!h.hasOwnProperty(q)&&f.hasOwnProperty(q)&&f[q]!=null)if(q==="style"){var L=f[q];for(E in L)L.hasOwnProperty(E)&&(c||(c={}),c[E]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(a.hasOwnProperty(q)?v||(v=[]):(v=v||[]).push(q,null));for(q in h){var V=h[q];if(L=f?.[q],h.hasOwnProperty(q)&&V!==L&&(V!=null||L!=null))if(q==="style")if(L){for(E in L)!L.hasOwnProperty(E)||V&&V.hasOwnProperty(E)||(c||(c={}),c[E]="");for(E in V)V.hasOwnProperty(E)&&L[E]!==V[E]&&(c||(c={}),c[E]=V[E])}else c||(v||(v=[]),v.push(q,c)),c=V;else q==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,L=L?L.__html:void 0,V!=null&&L!==V&&(v=v||[]).push(q,V)):q==="children"?typeof V!="string"&&typeof V!="number"||(v=v||[]).push(q,""+V):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(a.hasOwnProperty(q)?(V!=null&&q==="onScroll"&&et("scroll",i),v||L===V||(v=[])):(v=v||[]).push(q,V))}c&&(v=v||[]).push("style",c);var q=v;(o.updateQueue=q)&&(o.flags|=4)}},B0=function(i,o,c,h){c!==h&&(o.flags|=4)};function bl(i,o){if(!it)switch(i.tailMode){case"hidden":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Qt(i){var o=i.alternate!==null&&i.alternate.child===i.child,c=0,h=0;if(o)for(var f=i.child;f!==null;)c|=f.lanes|f.childLanes,h|=f.subtreeFlags&14680064,h|=f.flags&14680064,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)c|=f.lanes|f.childLanes,h|=f.subtreeFlags,h|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=h,i.childLanes=c,o}function L1(i,o,c){var h=o.pendingProps;switch(Ch(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(o),null;case 1:return ur(o.type)&&tu(),Qt(o),null;case 3:return h=o.stateNode,Wa(),tt(cr),tt(Gt),zh(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(au(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,es!==null&&(vm(es),es=null))),lm(i,o),Qt(o),null;case 5:Bh(o);var f=Ri(fl.current);if(c=o.type,i!==null&&o.stateNode!=null)U0(i,o,c,h,f),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(t(166));return Qt(o),null}if(i=Ri(xs.current),au(o)){h=o.stateNode,c=o.type;var v=o.memoizedProps;switch(h[gs]=o,h[ul]=v,i=(o.mode&1)!==0,c){case"dialog":et("cancel",h),et("close",h);break;case"iframe":case"object":case"embed":et("load",h);break;case"video":case"audio":for(f=0;f<ol.length;f++)et(ol[f],h);break;case"source":et("error",h);break;case"img":case"image":case"link":et("error",h),et("load",h);break;case"details":et("toggle",h);break;case"input":oa(h,v),et("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!v.multiple},et("invalid",h);break;case"textarea":ca(h,v),et("invalid",h)}Uo(c,v),f=null;for(var E in v)if(v.hasOwnProperty(E)){var L=v[E];E==="children"?typeof L=="string"?h.textContent!==L&&(v.suppressHydrationWarning!==!0&&Jc(h.textContent,L,i),f=["children",L]):typeof L=="number"&&h.textContent!==""+L&&(v.suppressHydrationWarning!==!0&&Jc(h.textContent,L,i),f=["children",""+L]):a.hasOwnProperty(E)&&L!=null&&E==="onScroll"&&et("scroll",h)}switch(c){case"input":Rs(h),jc(h,v,!0);break;case"textarea":Rs(h),Mo(h);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(h.onclick=Zc)}h=f,o.updateQueue=h,h!==null&&(o.flags|=4)}else{E=f.nodeType===9?f:f.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=_t(c)),i==="http://www.w3.org/1999/xhtml"?c==="script"?(i=E.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=E.createElement(c,{is:h.is}):(i=E.createElement(c),c==="select"&&(E=i,h.multiple?E.multiple=!0:h.size&&(E.size=h.size))):i=E.createElementNS(i,c),i[gs]=o,i[ul]=h,F0(i,o,!1,!1),o.stateNode=i;e:{switch(E=Bo(c,h),c){case"dialog":et("cancel",i),et("close",i),f=h;break;case"iframe":case"object":case"embed":et("load",i),f=h;break;case"video":case"audio":for(f=0;f<ol.length;f++)et(ol[f],i);f=h;break;case"source":et("error",i),f=h;break;case"img":case"image":case"link":et("error",i),et("load",i),f=h;break;case"details":et("toggle",i),f=h;break;case"input":oa(i,h),f=hi(i,h),et("invalid",i);break;case"option":f=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},f=ue({},h,{value:void 0}),et("invalid",i);break;case"textarea":ca(i,h),f=Do(i,h),et("invalid",i);break;default:f=h}Uo(c,f),L=f;for(v in L)if(L.hasOwnProperty(v)){var V=L[v];v==="style"?Vo(i,V):v==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&Oo(i,V)):v==="children"?typeof V=="string"?(c!=="textarea"||V!=="")&&gn(i,V):typeof V=="number"&&gn(i,""+V):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(a.hasOwnProperty(v)?V!=null&&v==="onScroll"&&et("scroll",i):V!=null&&Q(i,v,V,E))}switch(c){case"input":Rs(i),jc(i,h,!1);break;case"textarea":Rs(i),Mo(i);break;case"option":h.value!=null&&i.setAttribute("value",""+He(h.value));break;case"select":i.multiple=!!h.multiple,v=h.value,v!=null?Ms(i,!!h.multiple,v,!1):h.defaultValue!=null&&Ms(i,!!h.multiple,h.defaultValue,!0);break;default:typeof f.onClick=="function"&&(i.onclick=Zc)}switch(c){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Qt(o),null;case 6:if(i&&o.stateNode!=null)B0(i,o,i.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(t(166));if(c=Ri(fl.current),Ri(xs.current),au(o)){if(h=o.stateNode,c=o.memoizedProps,h[gs]=o,(v=h.nodeValue!==c)&&(i=_r,i!==null))switch(i.tag){case 3:Jc(h.nodeValue,c,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Jc(h.nodeValue,c,(i.mode&1)!==0)}v&&(o.flags|=4)}else h=(c.nodeType===9?c:c.ownerDocument).createTextNode(h),h[gs]=o,o.stateNode=h}return Qt(o),null;case 13:if(tt(at),h=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(it&&Nr!==null&&(o.mode&1)!==0&&(o.flags&128)===0)qg(),$a(),o.flags|=98560,v=!1;else if(v=au(o),h!==null&&h.dehydrated!==null){if(i===null){if(!v)throw Error(t(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[gs]=o}else $a(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Qt(o),v=!1}else es!==null&&(vm(es),es=null),v=!0;if(!v)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=c,o):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(at.current&1)!==0?Tt===0&&(Tt=3):_m())),o.updateQueue!==null&&(o.flags|=4),Qt(o),null);case 4:return Wa(),lm(i,o),i===null&&ll(o.stateNode.containerInfo),Qt(o),null;case 10:return Oh(o.type._context),Qt(o),null;case 17:return ur(o.type)&&tu(),Qt(o),null;case 19:if(tt(at),v=o.memoizedState,v===null)return Qt(o),null;if(h=(o.flags&128)!==0,E=v.rendering,E===null)if(h)bl(v,!1);else{if(Tt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(E=hu(i),E!==null){for(o.flags|=128,bl(v,!1),h=E.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=c,c=o.child;c!==null;)v=c,i=h,v.flags&=14680066,E=v.alternate,E===null?(v.childLanes=0,v.lanes=i,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=E.childLanes,v.lanes=E.lanes,v.child=E.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=E.memoizedProps,v.memoizedState=E.memoizedState,v.updateQueue=E.updateQueue,v.type=E.type,i=E.dependencies,v.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),c=c.sibling;return Je(at,at.current&1|2),o.child}i=i.sibling}v.tail!==null&&Xe()>Ya&&(o.flags|=128,h=!0,bl(v,!1),o.lanes=4194304)}else{if(!h)if(i=hu(E),i!==null){if(o.flags|=128,h=!0,c=i.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),bl(v,!0),v.tail===null&&v.tailMode==="hidden"&&!E.alternate&&!it)return Qt(o),null}else 2*Xe()-v.renderingStartTime>Ya&&c!==1073741824&&(o.flags|=128,h=!0,bl(v,!1),o.lanes=4194304);v.isBackwards?(E.sibling=o.child,o.child=E):(c=v.last,c!==null?c.sibling=E:o.child=E,v.last=E)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=Xe(),o.sibling=null,c=at.current,Je(at,h?c&1|2:c&1),o):(Qt(o),null);case 22:case 23:return wm(),h=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(jr&1073741824)!==0&&(Qt(o),o.subtreeFlags&6&&(o.flags|=8192)):Qt(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function V1(i,o){switch(Ch(o),o.tag){case 1:return ur(o.type)&&tu(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Wa(),tt(cr),tt(Gt),zh(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return Bh(o),null;case 13:if(tt(at),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));$a()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return tt(at),null;case 4:return Wa(),null;case 10:return Oh(o.type._context),null;case 22:case 23:return wm(),null;case 24:return null;default:return null}}var wu=!1,Yt=!1,F1=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Ka(i,o){var c=i.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(h){dt(i,o,h)}else c.current=null}function cm(i,o,c){try{c()}catch(h){dt(i,o,h)}}var $0=!1;function U1(i,o){if(wh=jn,i=bg(),mh(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var f=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{c.nodeType,v.nodeType}catch{c=null;break e}var E=0,L=-1,V=-1,q=0,se=0,ie=i,re=null;t:for(;;){for(var he;ie!==c||f!==0&&ie.nodeType!==3||(L=E+f),ie!==v||h!==0&&ie.nodeType!==3||(V=E+h),ie.nodeType===3&&(E+=ie.nodeValue.length),(he=ie.firstChild)!==null;)re=ie,ie=he;for(;;){if(ie===i)break t;if(re===c&&++q===f&&(L=E),re===v&&++se===h&&(V=E),(he=ie.nextSibling)!==null)break;ie=re,re=ie.parentNode}ie=he}c=L===-1||V===-1?null:{start:L,end:V}}else c=null}c=c||{start:0,end:0}}else c=null;for(_h={focusedElem:i,selectionRange:c},jn=!1,pe=o;pe!==null;)if(o=pe,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,pe=i;else for(;pe!==null;){o=pe;try{var fe=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var xe=fe.memoizedProps,ft=fe.memoizedState,$=o.stateNode,F=$.getSnapshotBeforeUpdate(o.elementType===o.type?xe:ts(o.type,xe),ft);$.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var z=o.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ae){dt(o,o.return,ae)}if(i=o.sibling,i!==null){i.return=o.return,pe=i;break}pe=o.return}return fe=$0,$0=!1,fe}function wl(i,o,c){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var f=h=h.next;do{if((f.tag&i)===i){var v=f.destroy;f.destroy=void 0,v!==void 0&&cm(o,c,v)}f=f.next}while(f!==h)}}function _u(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&i)===i){var h=c.create;c.destroy=h()}c=c.next}while(c!==o)}}function um(i){var o=i.ref;if(o!==null){var c=i.stateNode;i.tag,i=c,typeof o=="function"?o(i):o.current=i}}function z0(i){var o=i.alternate;o!==null&&(i.alternate=null,z0(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[gs],delete o[ul],delete o[Th],delete o[_1],delete o[N1])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function q0(i){return i.tag===5||i.tag===3||i.tag===4}function H0(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||q0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function dm(i,o,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(i,o):c.insertBefore(i,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(i,c)):(o=c,o.appendChild(i)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Zc));else if(h!==4&&(i=i.child,i!==null))for(dm(i,o,c),i=i.sibling;i!==null;)dm(i,o,c),i=i.sibling}function hm(i,o,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?c.insertBefore(i,o):c.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(hm(i,o,c),i=i.sibling;i!==null;)hm(i,o,c),i=i.sibling}var Vt=null,rs=!1;function Rn(i,o,c){for(c=c.child;c!==null;)W0(i,o,c),c=c.sibling}function W0(i,o,c){if(yr&&typeof yr.onCommitFiberUnmount=="function")try{yr.onCommitFiberUnmount(wi,c)}catch{}switch(c.tag){case 5:Yt||Ka(c,o);case 6:var h=Vt,f=rs;Vt=null,Rn(i,o,c),Vt=h,rs=f,Vt!==null&&(rs?(i=Vt,c=c.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)):Vt.removeChild(c.stateNode));break;case 18:Vt!==null&&(rs?(i=Vt,c=c.stateNode,i.nodeType===8?Eh(i.parentNode,c):i.nodeType===1&&Eh(i,c),Xr(i)):Eh(Vt,c.stateNode));break;case 4:h=Vt,f=rs,Vt=c.stateNode.containerInfo,rs=!0,Rn(i,o,c),Vt=h,rs=f;break;case 0:case 11:case 14:case 15:if(!Yt&&(h=c.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){f=h=h.next;do{var v=f,E=v.destroy;v=v.tag,E!==void 0&&((v&2)!==0||(v&4)!==0)&&cm(c,o,E),f=f.next}while(f!==h)}Rn(i,o,c);break;case 1:if(!Yt&&(Ka(c,o),h=c.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=c.memoizedProps,h.state=c.memoizedState,h.componentWillUnmount()}catch(L){dt(c,o,L)}Rn(i,o,c);break;case 21:Rn(i,o,c);break;case 22:c.mode&1?(Yt=(h=Yt)||c.memoizedState!==null,Rn(i,o,c),Yt=h):Rn(i,o,c);break;default:Rn(i,o,c)}}function G0(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var c=i.stateNode;c===null&&(c=i.stateNode=new F1),o.forEach(function(h){var f=Q1.bind(null,i,h);c.has(h)||(c.add(h),h.then(f,f))})}}function ss(i,o){var c=o.deletions;if(c!==null)for(var h=0;h<c.length;h++){var f=c[h];try{var v=i,E=o,L=E;e:for(;L!==null;){switch(L.tag){case 5:Vt=L.stateNode,rs=!1;break e;case 3:Vt=L.stateNode.containerInfo,rs=!0;break e;case 4:Vt=L.stateNode.containerInfo,rs=!0;break e}L=L.return}if(Vt===null)throw Error(t(160));W0(v,E,f),Vt=null,rs=!1;var V=f.alternate;V!==null&&(V.return=null),f.return=null}catch(q){dt(f,o,q)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)K0(o,i),o=o.sibling}function K0(i,o){var c=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(ss(o,i),vs(i),h&4){try{wl(3,i,i.return),_u(3,i)}catch(xe){dt(i,i.return,xe)}try{wl(5,i,i.return)}catch(xe){dt(i,i.return,xe)}}break;case 1:ss(o,i),vs(i),h&512&&c!==null&&Ka(c,c.return);break;case 5:if(ss(o,i),vs(i),h&512&&c!==null&&Ka(c,c.return),i.flags&32){var f=i.stateNode;try{gn(f,"")}catch(xe){dt(i,i.return,xe)}}if(h&4&&(f=i.stateNode,f!=null)){var v=i.memoizedProps,E=c!==null?c.memoizedProps:v,L=i.type,V=i.updateQueue;if(i.updateQueue=null,V!==null)try{L==="input"&&v.type==="radio"&&v.name!=null&&Po(f,v),Bo(L,E);var q=Bo(L,v);for(E=0;E<V.length;E+=2){var se=V[E],ie=V[E+1];se==="style"?Vo(f,ie):se==="dangerouslySetInnerHTML"?Oo(f,ie):se==="children"?gn(f,ie):Q(f,se,ie,q)}switch(L){case"input":Ro(f,v);break;case"textarea":ua(f,v);break;case"select":var re=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!v.multiple;var he=v.value;he!=null?Ms(f,!!v.multiple,he,!1):re!==!!v.multiple&&(v.defaultValue!=null?Ms(f,!!v.multiple,v.defaultValue,!0):Ms(f,!!v.multiple,v.multiple?[]:"",!1))}f[ul]=v}catch(xe){dt(i,i.return,xe)}}break;case 6:if(ss(o,i),vs(i),h&4){if(i.stateNode===null)throw Error(t(162));f=i.stateNode,v=i.memoizedProps;try{f.nodeValue=v}catch(xe){dt(i,i.return,xe)}}break;case 3:if(ss(o,i),vs(i),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Xr(o.containerInfo)}catch(xe){dt(i,i.return,xe)}break;case 4:ss(o,i),vs(i);break;case 13:ss(o,i),vs(i),f=i.child,f.flags&8192&&(v=f.memoizedState!==null,f.stateNode.isHidden=v,!v||f.alternate!==null&&f.alternate.memoizedState!==null||(fm=Xe())),h&4&&G0(i);break;case 22:if(se=c!==null&&c.memoizedState!==null,i.mode&1?(Yt=(q=Yt)||se,ss(o,i),Yt=q):ss(o,i),vs(i),h&8192){if(q=i.memoizedState!==null,(i.stateNode.isHidden=q)&&!se&&(i.mode&1)!==0)for(pe=i,se=i.child;se!==null;){for(ie=pe=se;pe!==null;){switch(re=pe,he=re.child,re.tag){case 0:case 11:case 14:case 15:wl(4,re,re.return);break;case 1:Ka(re,re.return);var fe=re.stateNode;if(typeof fe.componentWillUnmount=="function"){h=re,c=re.return;try{o=h,fe.props=o.memoizedProps,fe.state=o.memoizedState,fe.componentWillUnmount()}catch(xe){dt(h,c,xe)}}break;case 5:Ka(re,re.return);break;case 22:if(re.memoizedState!==null){X0(ie);continue}}he!==null?(he.return=re,pe=he):X0(ie)}se=se.sibling}e:for(se=null,ie=i;;){if(ie.tag===5){if(se===null){se=ie;try{f=ie.stateNode,q?(v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(L=ie.stateNode,V=ie.memoizedProps.style,E=V!=null&&V.hasOwnProperty("display")?V.display:null,L.style.display=Lo("display",E))}catch(xe){dt(i,i.return,xe)}}}else if(ie.tag===6){if(se===null)try{ie.stateNode.nodeValue=q?"":ie.memoizedProps}catch(xe){dt(i,i.return,xe)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===i)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===i)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===i)break e;se===ie&&(se=null),ie=ie.return}se===ie&&(se=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:ss(o,i),vs(i),h&4&&G0(i);break;case 21:break;default:ss(o,i),vs(i)}}function vs(i){var o=i.flags;if(o&2){try{e:{for(var c=i.return;c!==null;){if(q0(c)){var h=c;break e}c=c.return}throw Error(t(160))}switch(h.tag){case 5:var f=h.stateNode;h.flags&32&&(gn(f,""),h.flags&=-33);var v=H0(i);hm(i,v,f);break;case 3:case 4:var E=h.stateNode.containerInfo,L=H0(i);dm(i,L,E);break;default:throw Error(t(161))}}catch(V){dt(i,i.return,V)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function B1(i,o,c){pe=i,Q0(i)}function Q0(i,o,c){for(var h=(i.mode&1)!==0;pe!==null;){var f=pe,v=f.child;if(f.tag===22&&h){var E=f.memoizedState!==null||wu;if(!E){var L=f.alternate,V=L!==null&&L.memoizedState!==null||Yt;L=wu;var q=Yt;if(wu=E,(Yt=V)&&!q)for(pe=f;pe!==null;)E=pe,V=E.child,E.tag===22&&E.memoizedState!==null?J0(f):V!==null?(V.return=E,pe=V):J0(f);for(;v!==null;)pe=v,Q0(v),v=v.sibling;pe=f,wu=L,Yt=q}Y0(i)}else(f.subtreeFlags&8772)!==0&&v!==null?(v.return=f,pe=v):Y0(i)}}function Y0(i){for(;pe!==null;){var o=pe;if((o.flags&8772)!==0){var c=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Yt||_u(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!Yt)if(c===null)h.componentDidMount();else{var f=o.elementType===o.type?c.memoizedProps:ts(o.type,c.memoizedProps);h.componentDidUpdate(f,c.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&Xg(o,v,h);break;case 3:var E=o.updateQueue;if(E!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}Xg(o,E,c)}break;case 5:var L=o.stateNode;if(c===null&&o.flags&4){c=L;var V=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&c.focus();break;case"img":V.src&&(c.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var q=o.alternate;if(q!==null){var se=q.memoizedState;if(se!==null){var ie=se.dehydrated;ie!==null&&Xr(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Yt||o.flags&512&&um(o)}catch(re){dt(o,o.return,re)}}if(o===i){pe=null;break}if(c=o.sibling,c!==null){c.return=o.return,pe=c;break}pe=o.return}}function X0(i){for(;pe!==null;){var o=pe;if(o===i){pe=null;break}var c=o.sibling;if(c!==null){c.return=o.return,pe=c;break}pe=o.return}}function J0(i){for(;pe!==null;){var o=pe;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{_u(4,o)}catch(V){dt(o,c,V)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var f=o.return;try{h.componentDidMount()}catch(V){dt(o,f,V)}}var v=o.return;try{um(o)}catch(V){dt(o,v,V)}break;case 5:var E=o.return;try{um(o)}catch(V){dt(o,E,V)}}}catch(V){dt(o,o.return,V)}if(o===i){pe=null;break}var L=o.sibling;if(L!==null){L.return=o.return,pe=L;break}pe=o.return}}var $1=Math.ceil,Nu=K.ReactCurrentDispatcher,mm=K.ReactCurrentOwner,Lr=K.ReactCurrentBatchConfig,Be=0,At=null,vt=null,Ft=0,jr=0,Qa=kn(0),Tt=0,_l=null,Mi=0,ju=0,pm=0,Nl=null,hr=null,fm=0,Ya=1/0,Ys=null,Eu=!1,gm=null,Dn=null,Tu=!1,Mn=null,Su=0,jl=0,xm=null,ku=-1,Iu=0;function nr(){return(Be&6)!==0?Xe():ku!==-1?ku:ku=Xe()}function On(i){return(i.mode&1)===0?1:(Be&2)!==0&&Ft!==0?Ft&-Ft:E1.transition!==null?(Iu===0&&(Iu=Ni()),Iu):(i=Me,i!==0||(i=window.event,i=i===void 0?16:Jo(i.type)),i)}function ns(i,o,c,h){if(50<jl)throw jl=0,xm=null,Error(t(185));bn(i,c,h),((Be&2)===0||i!==At)&&(i===At&&((Be&2)===0&&(ju|=c),Tt===4&&Ln(i,Ft)),mr(i,h),c===1&&Be===0&&(o.mode&1)===0&&(Ya=Xe()+500,su&&Cn()))}function mr(i,o){var c=i.callbackNode;Vs(i,o);var h=_i(i,i===At?Ft:0);if(h===0)c!==null&&Go(c),i.callbackNode=null,i.callbackPriority=0;else if(o=h&-h,i.callbackPriority!==o){if(c!=null&&Go(c),o===1)i.tag===0?j1(ex.bind(null,i)):Fg(ex.bind(null,i)),b1(function(){(Be&6)===0&&Cn()}),c=null;else{switch(_n(h)){case 1:c=bi;break;case 4:c=xn;break;case 16:c=Cr;break;case 536870912:c=Ic;break;default:c=Cr}c=lx(c,Z0.bind(null,i))}i.callbackPriority=o,i.callbackNode=c}}function Z0(i,o){if(ku=-1,Iu=0,(Be&6)!==0)throw Error(t(327));var c=i.callbackNode;if(Xa()&&i.callbackNode!==c)return null;var h=_i(i,i===At?Ft:0);if(h===0)return null;if((h&30)!==0||(h&i.expiredLanes)!==0||o)o=Cu(i,h);else{o=h;var f=Be;Be|=2;var v=rx();(At!==i||Ft!==o)&&(Ys=null,Ya=Xe()+500,Li(i,o));do try{H1();break}catch(L){tx(i,L)}while(!0);Mh(),Nu.current=v,Be=f,vt!==null?o=0:(At=null,Ft=0,o=Tt)}if(o!==0){if(o===2&&(f=vr(i),f!==0&&(h=f,o=ym(i,f))),o===1)throw c=_l,Li(i,0),Ln(i,h),mr(i,Xe()),c;if(o===6)Ln(i,h);else{if(f=i.current.alternate,(h&30)===0&&!z1(f)&&(o=Cu(i,h),o===2&&(v=vr(i),v!==0&&(h=v,o=ym(i,v))),o===1))throw c=_l,Li(i,0),Ln(i,h),mr(i,Xe()),c;switch(i.finishedWork=f,i.finishedLanes=h,o){case 0:case 1:throw Error(t(345));case 2:Vi(i,hr,Ys);break;case 3:if(Ln(i,h),(h&130023424)===h&&(o=fm+500-Xe(),10<o)){if(_i(i,0)!==0)break;if(f=i.suspendedLanes,(f&h)!==h){nr(),i.pingedLanes|=i.suspendedLanes&f;break}i.timeoutHandle=jh(Vi.bind(null,i,hr,Ys),o);break}Vi(i,hr,Ys);break;case 4:if(Ln(i,h),(h&4194240)===h)break;for(o=i.eventTimes,f=-1;0<h;){var E=31-tr(h);v=1<<E,E=o[E],E>f&&(f=E),h&=~v}if(h=f,h=Xe()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*$1(h/1960))-h,10<h){i.timeoutHandle=jh(Vi.bind(null,i,hr,Ys),h);break}Vi(i,hr,Ys);break;case 5:Vi(i,hr,Ys);break;default:throw Error(t(329))}}}return mr(i,Xe()),i.callbackNode===c?Z0.bind(null,i):null}function ym(i,o){var c=Nl;return i.current.memoizedState.isDehydrated&&(Li(i,o).flags|=256),i=Cu(i,o),i!==2&&(o=hr,hr=c,o!==null&&vm(o)),i}function vm(i){hr===null?hr=i:hr.push.apply(hr,i)}function z1(i){for(var o=i;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var h=0;h<c.length;h++){var f=c[h],v=f.getSnapshot;f=f.value;try{if(!Zr(v(),f))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ln(i,o){for(o&=~pm,o&=~ju,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var c=31-tr(o),h=1<<c;i[c]=-1,o&=~h}}function ex(i){if((Be&6)!==0)throw Error(t(327));Xa();var o=_i(i,0);if((o&1)===0)return mr(i,Xe()),null;var c=Cu(i,o);if(i.tag!==0&&c===2){var h=vr(i);h!==0&&(o=h,c=ym(i,h))}if(c===1)throw c=_l,Li(i,0),Ln(i,o),mr(i,Xe()),c;if(c===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Vi(i,hr,Ys),mr(i,Xe()),null}function bm(i,o){var c=Be;Be|=1;try{return i(o)}finally{Be=c,Be===0&&(Ya=Xe()+500,su&&Cn())}}function Oi(i){Mn!==null&&Mn.tag===0&&(Be&6)===0&&Xa();var o=Be;Be|=1;var c=Lr.transition,h=Me;try{if(Lr.transition=null,Me=1,i)return i()}finally{Me=h,Lr.transition=c,Be=o,(Be&6)===0&&Cn()}}function wm(){jr=Qa.current,tt(Qa)}function Li(i,o){i.finishedWork=null,i.finishedLanes=0;var c=i.timeoutHandle;if(c!==-1&&(i.timeoutHandle=-1,v1(c)),vt!==null)for(c=vt.return;c!==null;){var h=c;switch(Ch(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&tu();break;case 3:Wa(),tt(cr),tt(Gt),zh();break;case 5:Bh(h);break;case 4:Wa();break;case 13:tt(at);break;case 19:tt(at);break;case 10:Oh(h.type._context);break;case 22:case 23:wm()}c=c.return}if(At=i,vt=i=Vn(i.current,null),Ft=jr=o,Tt=0,_l=null,pm=ju=Mi=0,hr=Nl=null,Pi!==null){for(o=0;o<Pi.length;o++)if(c=Pi[o],h=c.interleaved,h!==null){c.interleaved=null;var f=h.next,v=c.pending;if(v!==null){var E=v.next;v.next=f,h.next=E}c.pending=h}Pi=null}return i}function tx(i,o){do{var c=vt;try{if(Mh(),mu.current=xu,pu){for(var h=ot.memoizedState;h!==null;){var f=h.queue;f!==null&&(f.pending=null),h=h.next}pu=!1}if(Di=0,Ct=Et=ot=null,gl=!1,xl=0,mm.current=null,c===null||c.return===null){Tt=1,_l=o,vt=null;break}e:{var v=i,E=c.return,L=c,V=o;if(o=Ft,L.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var q=V,se=L,ie=se.tag;if((se.mode&1)===0&&(ie===0||ie===11||ie===15)){var re=se.alternate;re?(se.updateQueue=re.updateQueue,se.memoizedState=re.memoizedState,se.lanes=re.lanes):(se.updateQueue=null,se.memoizedState=null)}var he=T0(E);if(he!==null){he.flags&=-257,S0(he,E,L,v,o),he.mode&1&&E0(v,q,o),o=he,V=q;var fe=o.updateQueue;if(fe===null){var xe=new Set;xe.add(V),o.updateQueue=xe}else fe.add(V);break e}else{if((o&1)===0){E0(v,q,o),_m();break e}V=Error(t(426))}}else if(it&&L.mode&1){var ft=T0(E);if(ft!==null){(ft.flags&65536)===0&&(ft.flags|=256),S0(ft,E,L,v,o),Rh(Ga(V,L));break e}}v=V=Ga(V,L),Tt!==4&&(Tt=2),Nl===null?Nl=[v]:Nl.push(v),v=E;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var $=N0(v,V,o);Yg(v,$);break e;case 1:L=V;var F=v.type,z=v.stateNode;if((v.flags&128)===0&&(typeof F.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(Dn===null||!Dn.has(z)))){v.flags|=65536,o&=-o,v.lanes|=o;var ae=j0(v,L,o);Yg(v,ae);break e}}v=v.return}while(v!==null)}nx(c)}catch(ve){o=ve,vt===c&&c!==null&&(vt=c=c.return);continue}break}while(!0)}function rx(){var i=Nu.current;return Nu.current=xu,i===null?xu:i}function _m(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),At===null||(Mi&268435455)===0&&(ju&268435455)===0||Ln(At,Ft)}function Cu(i,o){var c=Be;Be|=2;var h=rx();(At!==i||Ft!==o)&&(Ys=null,Li(i,o));do try{q1();break}catch(f){tx(i,f)}while(!0);if(Mh(),Be=c,Nu.current=h,vt!==null)throw Error(t(261));return At=null,Ft=0,Tt}function q1(){for(;vt!==null;)sx(vt)}function H1(){for(;vt!==null&&!Sc();)sx(vt)}function sx(i){var o=ox(i.alternate,i,jr);i.memoizedProps=i.pendingProps,o===null?nx(i):vt=o,mm.current=null}function nx(i){var o=i;do{var c=o.alternate;if(i=o.return,(o.flags&32768)===0){if(c=L1(c,o,jr),c!==null){vt=c;return}}else{if(c=V1(c,o),c!==null){c.flags&=32767,vt=c;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Tt=6,vt=null;return}}if(o=o.sibling,o!==null){vt=o;return}vt=o=i}while(o!==null);Tt===0&&(Tt=5)}function Vi(i,o,c){var h=Me,f=Lr.transition;try{Lr.transition=null,Me=1,W1(i,o,c,h)}finally{Lr.transition=f,Me=h}return null}function W1(i,o,c,h){do Xa();while(Mn!==null);if((Be&6)!==0)throw Error(t(327));c=i.finishedWork;var f=i.finishedLanes;if(c===null)return null;if(i.finishedWork=null,i.finishedLanes=0,c===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var v=c.lanes|c.childLanes;if(Ke(i,v),i===At&&(vt=At=null,Ft=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Tu||(Tu=!0,lx(Cr,function(){return Xa(),null})),v=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||v){v=Lr.transition,Lr.transition=null;var E=Me;Me=1;var L=Be;Be|=4,mm.current=null,U1(i,c),K0(c,i),h1(_h),jn=!!wh,_h=wh=null,i.current=c,B1(c),ih(),Be=L,Me=E,Lr.transition=v}else i.current=c;if(Tu&&(Tu=!1,Mn=i,Su=f),v=i.pendingLanes,v===0&&(Dn=null),Cc(c.stateNode),mr(i,Xe()),o!==null)for(h=i.onRecoverableError,c=0;c<o.length;c++)f=o[c],h(f.value,{componentStack:f.stack,digest:f.digest});if(Eu)throw Eu=!1,i=gm,gm=null,i;return(Su&1)!==0&&i.tag!==0&&Xa(),v=i.pendingLanes,(v&1)!==0?i===xm?jl++:(jl=0,xm=i):jl=0,Cn(),null}function Xa(){if(Mn!==null){var i=_n(Su),o=Lr.transition,c=Me;try{if(Lr.transition=null,Me=16>i?16:i,Mn===null)var h=!1;else{if(i=Mn,Mn=null,Su=0,(Be&6)!==0)throw Error(t(331));var f=Be;for(Be|=4,pe=i.current;pe!==null;){var v=pe,E=v.child;if((pe.flags&16)!==0){var L=v.deletions;if(L!==null){for(var V=0;V<L.length;V++){var q=L[V];for(pe=q;pe!==null;){var se=pe;switch(se.tag){case 0:case 11:case 15:wl(8,se,v)}var ie=se.child;if(ie!==null)ie.return=se,pe=ie;else for(;pe!==null;){se=pe;var re=se.sibling,he=se.return;if(z0(se),se===q){pe=null;break}if(re!==null){re.return=he,pe=re;break}pe=he}}}var fe=v.alternate;if(fe!==null){var xe=fe.child;if(xe!==null){fe.child=null;do{var ft=xe.sibling;xe.sibling=null,xe=ft}while(xe!==null)}}pe=v}}if((v.subtreeFlags&2064)!==0&&E!==null)E.return=v,pe=E;else e:for(;pe!==null;){if(v=pe,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:wl(9,v,v.return)}var $=v.sibling;if($!==null){$.return=v.return,pe=$;break e}pe=v.return}}var F=i.current;for(pe=F;pe!==null;){E=pe;var z=E.child;if((E.subtreeFlags&2064)!==0&&z!==null)z.return=E,pe=z;else e:for(E=F;pe!==null;){if(L=pe,(L.flags&2048)!==0)try{switch(L.tag){case 0:case 11:case 15:_u(9,L)}}catch(ve){dt(L,L.return,ve)}if(L===E){pe=null;break e}var ae=L.sibling;if(ae!==null){ae.return=L.return,pe=ae;break e}pe=L.return}}if(Be=f,Cn(),yr&&typeof yr.onPostCommitFiberRoot=="function")try{yr.onPostCommitFiberRoot(wi,i)}catch{}h=!0}return h}finally{Me=c,Lr.transition=o}}return!1}function ix(i,o,c){o=Ga(c,o),o=N0(i,o,1),i=Pn(i,o,1),o=nr(),i!==null&&(bn(i,1,o),mr(i,o))}function dt(i,o,c){if(i.tag===3)ix(i,i,c);else for(;o!==null;){if(o.tag===3){ix(o,i,c);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Dn===null||!Dn.has(h))){i=Ga(c,i),i=j0(o,i,1),o=Pn(o,i,1),i=nr(),o!==null&&(bn(o,1,i),mr(o,i));break}}o=o.return}}function G1(i,o,c){var h=i.pingCache;h!==null&&h.delete(o),o=nr(),i.pingedLanes|=i.suspendedLanes&c,At===i&&(Ft&c)===c&&(Tt===4||Tt===3&&(Ft&130023424)===Ft&&500>Xe()-fm?Li(i,0):pm|=c),mr(i,o)}function ax(i,o){o===0&&((i.mode&1)===0?o=1:(o=ba,ba<<=1,(ba&130023424)===0&&(ba=4194304)));var c=nr();i=Gs(i,o),i!==null&&(bn(i,o,c),mr(i,c))}function K1(i){var o=i.memoizedState,c=0;o!==null&&(c=o.retryLane),ax(i,c)}function Q1(i,o){var c=0;switch(i.tag){case 13:var h=i.stateNode,f=i.memoizedState;f!==null&&(c=f.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(o),ax(i,c)}var ox;ox=function(i,o,c){if(i!==null)if(i.memoizedProps!==o.pendingProps||cr.current)dr=!0;else{if((i.lanes&c)===0&&(o.flags&128)===0)return dr=!1,O1(i,o,c);dr=(i.flags&131072)!==0}else dr=!1,it&&(o.flags&1048576)!==0&&Ug(o,iu,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;bu(i,o),i=o.pendingProps;var f=Fa(o,Gt.current);Ha(o,c),f=Wh(null,o,h,i,f,c);var v=Gh();return o.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,ur(h)?(v=!0,ru(o)):v=!1,o.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Fh(o),f.updater=yu,o.stateNode=f,f._reactInternals=o,Zh(o,h,i,c),o=sm(null,o,h,!0,v,c)):(o.tag=0,it&&v&&Ih(o),sr(null,o,f,c),o=o.child),o;case 16:h=o.elementType;e:{switch(bu(i,o),i=o.pendingProps,f=h._init,h=f(h._payload),o.type=h,f=o.tag=X1(h),i=ts(h,i),f){case 0:o=rm(null,o,h,i,c);break e;case 1:o=R0(null,o,h,i,c);break e;case 11:o=k0(null,o,h,i,c);break e;case 14:o=I0(null,o,h,ts(h.type,i),c);break e}throw Error(t(306,h,""))}return o;case 0:return h=o.type,f=o.pendingProps,f=o.elementType===h?f:ts(h,f),rm(i,o,h,f,c);case 1:return h=o.type,f=o.pendingProps,f=o.elementType===h?f:ts(h,f),R0(i,o,h,f,c);case 3:e:{if(D0(o),i===null)throw Error(t(387));h=o.pendingProps,v=o.memoizedState,f=v.element,Qg(i,o),du(o,h,null,c);var E=o.memoizedState;if(h=E.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){f=Ga(Error(t(423)),o),o=M0(i,o,h,c,f);break e}else if(h!==f){f=Ga(Error(t(424)),o),o=M0(i,o,h,c,f);break e}else for(Nr=Sn(o.stateNode.containerInfo.firstChild),_r=o,it=!0,es=null,c=Gg(o,null,h,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if($a(),h===f){o=Qs(i,o,c);break e}sr(i,o,h,c)}o=o.child}return o;case 5:return Jg(o),i===null&&Ph(o),h=o.type,f=o.pendingProps,v=i!==null?i.memoizedProps:null,E=f.children,Nh(h,f)?E=null:v!==null&&Nh(h,v)&&(o.flags|=32),P0(i,o),sr(i,o,E,c),o.child;case 6:return i===null&&Ph(o),null;case 13:return O0(i,o,c);case 4:return Uh(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=za(o,null,h,c):sr(i,o,h,c),o.child;case 11:return h=o.type,f=o.pendingProps,f=o.elementType===h?f:ts(h,f),k0(i,o,h,f,c);case 7:return sr(i,o,o.pendingProps,c),o.child;case 8:return sr(i,o,o.pendingProps.children,c),o.child;case 12:return sr(i,o,o.pendingProps.children,c),o.child;case 10:e:{if(h=o.type._context,f=o.pendingProps,v=o.memoizedProps,E=f.value,Je(lu,h._currentValue),h._currentValue=E,v!==null)if(Zr(v.value,E)){if(v.children===f.children&&!cr.current){o=Qs(i,o,c);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var L=v.dependencies;if(L!==null){E=v.child;for(var V=L.firstContext;V!==null;){if(V.context===h){if(v.tag===1){V=Ks(-1,c&-c),V.tag=2;var q=v.updateQueue;if(q!==null){q=q.shared;var se=q.pending;se===null?V.next=V:(V.next=se.next,se.next=V),q.pending=V}}v.lanes|=c,V=v.alternate,V!==null&&(V.lanes|=c),Lh(v.return,c,o),L.lanes|=c;break}V=V.next}}else if(v.tag===10)E=v.type===o.type?null:v.child;else if(v.tag===18){if(E=v.return,E===null)throw Error(t(341));E.lanes|=c,L=E.alternate,L!==null&&(L.lanes|=c),Lh(E,c,o),E=v.sibling}else E=v.child;if(E!==null)E.return=v;else for(E=v;E!==null;){if(E===o){E=null;break}if(v=E.sibling,v!==null){v.return=E.return,E=v;break}E=E.return}v=E}sr(i,o,f.children,c),o=o.child}return o;case 9:return f=o.type,h=o.pendingProps.children,Ha(o,c),f=Mr(f),h=h(f),o.flags|=1,sr(i,o,h,c),o.child;case 14:return h=o.type,f=ts(h,o.pendingProps),f=ts(h.type,f),I0(i,o,h,f,c);case 15:return C0(i,o,o.type,o.pendingProps,c);case 17:return h=o.type,f=o.pendingProps,f=o.elementType===h?f:ts(h,f),bu(i,o),o.tag=1,ur(h)?(i=!0,ru(o)):i=!1,Ha(o,c),w0(o,h,f),Zh(o,h,f,c),sm(null,o,h,!0,i,c);case 19:return V0(i,o,c);case 22:return A0(i,o,c)}throw Error(t(156,o.tag))};function lx(i,o){return ya(i,o)}function Y1(i,o,c,h){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vr(i,o,c,h){return new Y1(i,o,c,h)}function Nm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function X1(i){if(typeof i=="function")return Nm(i)?1:0;if(i!=null){if(i=i.$$typeof,i===A)return 11;if(i===we)return 14}return 2}function Vn(i,o){var c=i.alternate;return c===null?(c=Vr(i.tag,o,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=o,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&14680064,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,o=i.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c}function Au(i,o,c,h,f,v){var E=2;if(h=i,typeof i=="function")Nm(i)&&(E=1);else if(typeof i=="string")E=5;else e:switch(i){case O:return Fi(c.children,f,v,o);case P:E=8,f|=8;break;case T:return i=Vr(12,c,o,f|2),i.elementType=T,i.lanes=v,i;case I:return i=Vr(13,c,o,f),i.elementType=I,i.lanes=v,i;case oe:return i=Vr(19,c,o,f),i.elementType=oe,i.lanes=v,i;case te:return Pu(c,f,v,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case N:E=10;break e;case S:E=9;break e;case A:E=11;break e;case we:E=14;break e;case Ue:E=16,h=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=Vr(E,c,o,f),o.elementType=i,o.type=h,o.lanes=v,o}function Fi(i,o,c,h){return i=Vr(7,i,h,o),i.lanes=c,i}function Pu(i,o,c,h){return i=Vr(22,i,h,o),i.elementType=te,i.lanes=c,i.stateNode={isHidden:!1},i}function jm(i,o,c){return i=Vr(6,i,null,o),i.lanes=c,i}function Em(i,o,c){return o=Vr(4,i.children!==null?i.children:[],i.key,o),o.lanes=c,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function J1(i,o,c,h,f){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vn(0),this.expirationTimes=vn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vn(0),this.identifierPrefix=h,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Tm(i,o,c,h,f,v,E,L,V){return i=new J1(i,o,c,L,V),o===1?(o=1,v===!0&&(o|=8)):o=0,v=Vr(3,null,null,o),i.current=v,v.stateNode=i,v.memoizedState={element:h,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fh(v),i}function Z1(i,o,c){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:h==null?null:""+h,children:i,containerInfo:o,implementation:c}}function cx(i){if(!i)return In;i=i._reactInternals;e:{if(Wr(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(ur(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var c=i.type;if(ur(c))return Lg(i,c,o)}return o}function ux(i,o,c,h,f,v,E,L,V){return i=Tm(c,h,!0,i,f,v,E,L,V),i.context=cx(null),c=i.current,h=nr(),f=On(c),v=Ks(h,f),v.callback=o??null,Pn(c,v,f),i.current.lanes=f,bn(i,f,h),mr(i,h),i}function Ru(i,o,c,h){var f=o.current,v=nr(),E=On(f);return c=cx(c),o.context===null?o.context=c:o.pendingContext=c,o=Ks(v,E),o.payload={element:i},h=h===void 0?null:h,h!==null&&(o.callback=h),i=Pn(f,o,E),i!==null&&(ns(i,f,E,v),uu(i,f,E)),E}function Du(i){return i=i.current,i.child?(i.child.tag===5,i.child.stateNode):null}function dx(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<o?c:o}}function Sm(i,o){dx(i,o),(i=i.alternate)&&dx(i,o)}function eN(){return null}var hx=typeof reportError=="function"?reportError:function(i){console.error(i)};function km(i){this._internalRoot=i}Mu.prototype.render=km.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));Ru(i,o,null,null)},Mu.prototype.unmount=km.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Oi(function(){Ru(null,i,null,null)}),o[zs]=null}};function Mu(i){this._internalRoot=i}Mu.prototype.unstable_scheduleHydration=function(i){if(i){var o=Mc();i={blockedOn:null,target:i,priority:o};for(var c=0;c<hs.length&&o!==0&&o<hs[c].priority;c++);hs.splice(c,0,i),c===0&&Vc(i)}};function Im(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Ou(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function mx(){}function tN(i,o,c,h,f){if(f){if(typeof h=="function"){var v=h;h=function(){var q=Du(E);v.call(q)}}var E=ux(o,h,i,0,null,!1,!1,"",mx);return i._reactRootContainer=E,i[zs]=E.current,ll(i.nodeType===8?i.parentNode:i),Oi(),E}for(;f=i.lastChild;)i.removeChild(f);if(typeof h=="function"){var L=h;h=function(){var q=Du(V);L.call(q)}}var V=Tm(i,0,!1,null,null,!1,!1,"",mx);return i._reactRootContainer=V,i[zs]=V.current,ll(i.nodeType===8?i.parentNode:i),Oi(function(){Ru(o,V,c,h)}),V}function Lu(i,o,c,h,f){var v=c._reactRootContainer;if(v){var E=v;if(typeof f=="function"){var L=f;f=function(){var V=Du(E);L.call(V)}}Ru(o,E,i,f)}else E=tN(c,o,i,f,h);return Du(E)}Rc=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var c=yn(o.pendingLanes);c!==0&&(wn(o,c|1),mr(o,Xe()),(Be&6)===0&&(Ya=Xe()+500,Cn()))}break;case 13:Oi(function(){var h=Gs(i,1);if(h!==null){var f=nr();ns(h,i,1,f)}}),Sm(i,1)}},wa=function(i){if(i.tag===13){var o=Gs(i,134217728);if(o!==null){var c=nr();ns(o,i,134217728,c)}Sm(i,134217728)}},Dc=function(i){if(i.tag===13){var o=On(i),c=Gs(i,o);if(c!==null){var h=nr();ns(c,i,o,h)}Sm(i,o)}},Mc=function(){return Me},Oc=function(i,o){var c=Me;try{return Me=i,o()}finally{Me=c}},ha=function(i,o,c){switch(o){case"input":if(Ro(i,c),o=c.name,c.type==="radio"&&o!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var h=c[o];if(h!==i&&h.form===i.form){var f=eu(h);if(!f)throw Error(t(90));aa(h),Ro(h,f)}}}break;case"textarea":ua(i,c);break;case"select":o=c.value,o!=null&&Ms(i,!!c.multiple,o,!1)}},gi=bm,zo=Oi;var rN={usingClientEntryPoint:!1,Events:[dl,La,eu,us,$o,bm]},El={findFiberByHostInstance:ki,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sN={bundleType:El.bundleType,version:El.version,rendererPackageName:El.rendererPackageName,rendererConfig:El.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:K.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Wo(i),i===null?null:i.stateNode},findFiberByHostInstance:El.findFiberByHostInstance||eN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vu.isDisabled&&Vu.supportsFiber)try{wi=Vu.inject(sN),yr=Vu}catch{}}return pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rN,pr.createPortal=function(i,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Im(o))throw Error(t(200));return Z1(i,o,null,c)},pr.createRoot=function(i,o){if(!Im(i))throw Error(t(299));var c=!1,h="",f=hx;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(f=o.onRecoverableError)),o=Tm(i,1,!1,null,null,c,!1,h,f),i[zs]=o.current,ll(i.nodeType===8?i.parentNode:i),new km(o)},pr.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Wo(o),i=i===null?null:i.stateNode,i},pr.flushSync=function(i){return Oi(i)},pr.hydrate=function(i,o,c){if(!Ou(o))throw Error(t(200));return Lu(null,i,o,!0,c)},pr.hydrateRoot=function(i,o,c){if(!Im(i))throw Error(t(405));var h=c!=null&&c.hydratedSources||null,f=!1,v="",E=hx;if(c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onRecoverableError!==void 0&&(E=c.onRecoverableError)),o=ux(o,null,i,1,c??null,f,!1,v,E),i[zs]=o.current,ll(i),h)for(i=0;i<h.length;i++)c=h[i],f=c._getVersion,f=f(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,f]:o.mutableSourceEagerHydrationData.push(c,f);return new Mu(o)},pr.render=function(i,o,c){if(!Ou(o))throw Error(t(200));return Lu(null,i,o,!1,c)},pr.unmountComponentAtNode=function(i){if(!Ou(i))throw Error(t(40));return i._reactRootContainer?(Oi(function(){Lu(null,null,i,!1,function(){i._reactRootContainer=null,i[zs]=null})}),!0):!1},pr.unstable_batchedUpdates=bm,pr.unstable_renderSubtreeIntoContainer=function(i,o,c,h){if(!Ou(c))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Lu(i,o,c,!1,h)},pr.version="18.3.1-next-f1338f8080-20240426",pr}var wx;function fv(){if(wx)return Pm.exports;wx=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Pm.exports=hN(),Pm.exports}var _x;function mN(){if(_x)return Fu;_x=1;var r=fv();return Fu.createRoot=r.createRoot,Fu.hydrateRoot=r.hydrateRoot,Fu}var pN=mN();const fN=pv(pN);fv();function zl(){return zl=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},zl.apply(this,arguments)}var Gn;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(Gn||(Gn={}));const Nx="popstate";function gN(r){r===void 0&&(r={});function e(s,a){let{pathname:l,search:u,hash:m}=s.location;return ep("",{pathname:l,search:u,hash:m},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(s,a){return typeof a=="string"?a:ad(a)}return yN(e,t,null,r)}function xt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function $p(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xN(){return Math.random().toString(36).substr(2,8)}function jx(r,e){return{usr:r.state,key:r.key,idx:e}}function ep(r,e,t,s){return t===void 0&&(t=null),zl({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?bo(e):e,{state:t,key:e&&e.key||s||xN()})}function ad(r){let{pathname:e="/",search:t="",hash:s=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function bo(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substr(s),r=r.substr(0,s)),r&&(e.pathname=r)}return e}function yN(r,e,t,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:l=!1}=s,u=a.history,m=Gn.Pop,p=null,x=g();x==null&&(x=0,u.replaceState(zl({},u.state,{idx:x}),""));function g(){return(u.state||{idx:null}).idx}function w(){m=Gn.Pop;let D=g(),W=D==null?null:D-x;x=D,p&&p({action:m,location:M.location,delta:W})}function b(D,W){m=Gn.Push;let H=ep(M.location,D,W);x=g()+1;let Q=jx(H,x),K=M.createHref(H);try{u.pushState(Q,"",K)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;a.location.assign(K)}l&&p&&p({action:m,location:M.location,delta:1})}function j(D,W){m=Gn.Replace;let H=ep(M.location,D,W);x=g();let Q=jx(H,x),K=M.createHref(H);u.replaceState(Q,"",K),l&&p&&p({action:m,location:M.location,delta:0})}function k(D){let W=a.location.origin!=="null"?a.location.origin:a.location.href,H=typeof D=="string"?D:ad(D);return H=H.replace(/ $/,"%20"),xt(W,"No window.location.(origin|href) available to create URL for href: "+H),new URL(H,W)}let M={get action(){return m},get location(){return r(a,u)},listen(D){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(Nx,w),p=D,()=>{a.removeEventListener(Nx,w),p=null}},createHref(D){return e(a,D)},createURL:k,encodeLocation(D){let W=k(D);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:b,replace:j,go(D){return u.go(D)}};return M}var Ex;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(Ex||(Ex={}));function vN(r,e,t){return t===void 0&&(t="/"),bN(r,e,t)}function bN(r,e,t,s){let a=typeof e=="string"?bo(e):e,l=zp(a.pathname||"/",t);if(l==null)return null;let u=gv(r);wN(u);let m=null;for(let p=0;m==null&&p<u.length;++p){let x=RN(l);m=CN(u[p],x)}return m}function gv(r,e,t,s){e===void 0&&(e=[]),t===void 0&&(t=[]),s===void 0&&(s="");let a=(l,u,m)=>{let p={relativePath:m===void 0?l.path||"":m,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};p.relativePath.startsWith("/")&&(xt(p.relativePath.startsWith(s),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(s.length));let x=Yn([s,p.relativePath]),g=t.concat(p);l.children&&l.children.length>0&&(xt(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+x+'".')),gv(l.children,e,g,x)),!(l.path==null&&!l.index)&&e.push({path:x,score:kN(x,l.index),routesMeta:g})};return r.forEach((l,u)=>{var m;if(l.path===""||!((m=l.path)!=null&&m.includes("?")))a(l,u);else for(let p of xv(l.path))a(l,u,p)}),e}function xv(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let u=xv(s.join("/")),m=[];return m.push(...u.map(p=>p===""?l:[l,p].join("/"))),a&&m.push(...u),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function wN(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:IN(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}const _N=/^:[\w-]+$/,NN=3,jN=2,EN=1,TN=10,SN=-2,Tx=r=>r==="*";function kN(r,e){let t=r.split("/"),s=t.length;return t.some(Tx)&&(s+=SN),e&&(s+=jN),t.filter(a=>!Tx(a)).reduce((a,l)=>a+(_N.test(l)?NN:l===""?EN:TN),s)}function IN(r,e){return r.length===e.length&&r.slice(0,-1).every((s,a)=>s===e[a])?r[r.length-1]-e[e.length-1]:0}function CN(r,e,t){let{routesMeta:s}=r,a={},l="/",u=[];for(let m=0;m<s.length;++m){let p=s[m],x=m===s.length-1,g=l==="/"?e:e.slice(l.length)||"/",w=AN({path:p.relativePath,caseSensitive:p.caseSensitive,end:x},g),b=p.route;if(!w)return null;Object.assign(a,w.params),u.push({params:a,pathname:Yn([l,w.pathname]),pathnameBase:VN(Yn([l,w.pathnameBase])),route:b}),w.pathnameBase!=="/"&&(l=Yn([l,w.pathnameBase]))}return u}function AN(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=PN(r.path,r.caseSensitive,r.end),a=e.match(t);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),m=a.slice(1);return{params:s.reduce((x,g,w)=>{let{paramName:b,isOptional:j}=g;if(b==="*"){let M=m[w]||"";u=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const k=m[w];return j&&!k?x[b]=void 0:x[b]=(k||"").replace(/%2F/g,"/"),x},{}),pathname:l,pathnameBase:u,pattern:r}}function PN(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),$p(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let s=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function RN(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $p(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function zp(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}const DN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,MN=r=>DN.test(r);function ON(r,e){e===void 0&&(e="/");let{pathname:t,search:s="",hash:a=""}=typeof r=="string"?bo(r):r,l;if(t)if(MN(t))l=t;else{if(t.includes("//")){let u=t;t=t.replace(/\/\/+/g,"/"),$p(!1,"Pathnames cannot have embedded double slashes - normalizing "+(u+" -> "+t))}t.startsWith("/")?l=Sx(t.substring(1),"/"):l=Sx(t,e)}else l=e;return{pathname:l,search:FN(s),hash:UN(a)}}function Sx(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Mm(r,e,t,s){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function LN(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function qp(r,e){let t=LN(r);return e?t.map((s,a)=>a===t.length-1?s.pathname:s.pathnameBase):t.map(s=>s.pathnameBase)}function Hp(r,e,t,s){s===void 0&&(s=!1);let a;typeof r=="string"?a=bo(r):(a=zl({},r),xt(!a.pathname||!a.pathname.includes("?"),Mm("?","pathname","search",a)),xt(!a.pathname||!a.pathname.includes("#"),Mm("#","pathname","hash",a)),xt(!a.search||!a.search.includes("#"),Mm("#","search","hash",a)));let l=r===""||a.pathname==="",u=l?"/":a.pathname,m;if(u==null)m=t;else{let w=e.length-1;if(!s&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),w-=1;a.pathname=b.join("/")}m=w>=0?e[w]:"/"}let p=ON(a,m),x=u&&u!=="/"&&u.endsWith("/"),g=(l||u===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(x||g)&&(p.pathname+="/"),p}const Yn=r=>r.join("/").replace(/\/\/+/g,"/"),VN=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),FN=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,UN=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function BN(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const yv=["post","put","patch","delete"];new Set(yv);const $N=["get",...yv];new Set($N);function ql(){return ql=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},ql.apply(this,arguments)}const Wp=R.createContext(null),zN=R.createContext(null),ni=R.createContext(null),kd=R.createContext(null),As=R.createContext({outlet:null,matches:[],isDataRoute:!1}),vv=R.createContext(null);function qN(r,e){let{relative:t}=e===void 0?{}:e;wo()||xt(!1);let{basename:s,navigator:a}=R.useContext(ni),{hash:l,pathname:u,search:m}=_v(r,{relative:t}),p=u;return s!=="/"&&(p=u==="/"?s:Yn([s,u])),a.createHref({pathname:p,search:m,hash:l})}function wo(){return R.useContext(kd)!=null}function ii(){return wo()||xt(!1),R.useContext(kd).location}function bv(r){R.useContext(ni).static||R.useLayoutEffect(r)}function Wt(){let{isDataRoute:r}=R.useContext(As);return r?i2():HN()}function HN(){wo()||xt(!1);let r=R.useContext(Wp),{basename:e,future:t,navigator:s}=R.useContext(ni),{matches:a}=R.useContext(As),{pathname:l}=ii(),u=JSON.stringify(qp(a,t.v7_relativeSplatPath)),m=R.useRef(!1);return bv(()=>{m.current=!0}),R.useCallback(function(x,g){if(g===void 0&&(g={}),!m.current)return;if(typeof x=="number"){s.go(x);return}let w=Hp(x,JSON.parse(u),l,g.relative==="path");r==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:Yn([e,w.pathname])),(g.replace?s.replace:s.push)(w,g.state,g)},[e,s,u,l,r])}const WN=R.createContext(null);function GN(r){let e=R.useContext(As).outlet;return e&&R.createElement(WN.Provider,{value:r},e)}function wv(){let{matches:r}=R.useContext(As),e=r[r.length-1];return e?e.params:{}}function _v(r,e){let{relative:t}=e===void 0?{}:e,{future:s}=R.useContext(ni),{matches:a}=R.useContext(As),{pathname:l}=ii(),u=JSON.stringify(qp(a,s.v7_relativeSplatPath));return R.useMemo(()=>Hp(r,JSON.parse(u),l,t==="path"),[r,u,l,t])}function KN(r,e){return QN(r,e)}function QN(r,e,t,s){wo()||xt(!1);let{navigator:a}=R.useContext(ni),{matches:l}=R.useContext(As),u=l[l.length-1],m=u?u.params:{};u&&u.pathname;let p=u?u.pathnameBase:"/";u&&u.route;let x=ii(),g;if(e){var w;let D=typeof e=="string"?bo(e):e;p==="/"||(w=D.pathname)!=null&&w.startsWith(p)||xt(!1),g=D}else g=x;let b=g.pathname||"/",j=b;if(p!=="/"){let D=p.replace(/^\//,"").split("/");j="/"+b.replace(/^\//,"").split("/").slice(D.length).join("/")}let k=vN(r,{pathname:j}),M=e2(k&&k.map(D=>Object.assign({},D,{params:Object.assign({},m,D.params),pathname:Yn([p,a.encodeLocation?a.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?p:Yn([p,a.encodeLocation?a.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),l,t,s);return e&&M?R.createElement(kd.Provider,{value:{location:ql({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Gn.Pop}},M):M}function YN(){let r=n2(),e=BN(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),t?R.createElement("pre",{style:a},t):null,null)}const XN=R.createElement(YN,null);class JN extends R.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?R.createElement(As.Provider,{value:this.props.routeContext},R.createElement(vv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ZN(r){let{routeContext:e,match:t,children:s}=r,a=R.useContext(Wp);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),R.createElement(As.Provider,{value:e},s)}function e2(r,e,t,s){var a;if(e===void 0&&(e=[]),t===void 0&&(t=null),s===void 0&&(s=null),r==null){var l;if(!t)return null;if(t.errors)r=t.matches;else if((l=s)!=null&&l.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let u=r,m=(a=t)==null?void 0:a.errors;if(m!=null){let g=u.findIndex(w=>w.route.id&&m?.[w.route.id]!==void 0);g>=0||xt(!1),u=u.slice(0,Math.min(u.length,g+1))}let p=!1,x=-1;if(t&&s&&s.v7_partialHydration)for(let g=0;g<u.length;g++){let w=u[g];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(x=g),w.route.id){let{loaderData:b,errors:j}=t,k=w.route.loader&&b[w.route.id]===void 0&&(!j||j[w.route.id]===void 0);if(w.route.lazy||k){p=!0,x>=0?u=u.slice(0,x+1):u=[u[0]];break}}}return u.reduceRight((g,w,b)=>{let j,k=!1,M=null,D=null;t&&(j=m&&w.route.id?m[w.route.id]:void 0,M=w.route.errorElement||XN,p&&(x<0&&b===0?(a2("route-fallback"),k=!0,D=null):x===b&&(k=!0,D=w.route.hydrateFallbackElement||null)));let W=e.concat(u.slice(0,b+1)),H=()=>{let Q;return j?Q=M:k?Q=D:w.route.Component?Q=R.createElement(w.route.Component,null):w.route.element?Q=w.route.element:Q=g,R.createElement(ZN,{match:w,routeContext:{outlet:g,matches:W,isDataRoute:t!=null},children:Q})};return t&&(w.route.ErrorBoundary||w.route.errorElement||b===0)?R.createElement(JN,{location:t.location,revalidation:t.revalidation,component:M,error:j,children:H(),routeContext:{outlet:null,matches:W,isDataRoute:!0}}):H()},null)}var Nv=(function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r})(Nv||{}),jv=(function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r})(jv||{});function t2(r){let e=R.useContext(Wp);return e||xt(!1),e}function r2(r){let e=R.useContext(zN);return e||xt(!1),e}function s2(r){let e=R.useContext(As);return e||xt(!1),e}function Ev(r){let e=s2(),t=e.matches[e.matches.length-1];return t.route.id||xt(!1),t.route.id}function n2(){var r;let e=R.useContext(vv),t=r2(),s=Ev();return e!==void 0?e:(r=t.errors)==null?void 0:r[s]}function i2(){let{router:r}=t2(Nv.UseNavigateStable),e=Ev(jv.UseNavigateStable),t=R.useRef(!1);return bv(()=>{t.current=!0}),R.useCallback(function(a,l){l===void 0&&(l={}),t.current&&(typeof a=="number"?r.navigate(a):r.navigate(a,ql({fromRouteId:e},l)))},[r,e])}const kx={};function a2(r,e,t){kx[r]||(kx[r]=!0)}function o2(r,e){r?.v7_startTransition,r?.v7_relativeSplatPath}function Gp(r){let{to:e,replace:t,state:s,relative:a}=r;wo()||xt(!1);let{future:l,static:u}=R.useContext(ni),{matches:m}=R.useContext(As),{pathname:p}=ii(),x=Wt(),g=Hp(e,qp(m,l.v7_relativeSplatPath),p,a==="path"),w=JSON.stringify(g);return R.useEffect(()=>x(JSON.parse(w),{replace:t,state:s,relative:a}),[x,w,a,t,s]),null}function l2(r){return GN(r.context)}function Qe(r){xt(!1)}function c2(r){let{basename:e="/",children:t=null,location:s,navigationType:a=Gn.Pop,navigator:l,static:u=!1,future:m}=r;wo()&&xt(!1);let p=e.replace(/^\/*/,"/"),x=R.useMemo(()=>({basename:p,navigator:l,static:u,future:ql({v7_relativeSplatPath:!1},m)}),[p,m,l,u]);typeof s=="string"&&(s=bo(s));let{pathname:g="/",search:w="",hash:b="",state:j=null,key:k="default"}=s,M=R.useMemo(()=>{let D=zp(g,p);return D==null?null:{location:{pathname:D,search:w,hash:b,state:j,key:k},navigationType:a}},[p,g,w,b,j,k,a]);return M==null?null:R.createElement(ni.Provider,{value:x},R.createElement(kd.Provider,{children:t,value:M}))}function u2(r){let{children:e,location:t}=r;return KN(tp(e),t)}new Promise(()=>{});function tp(r,e){e===void 0&&(e=[]);let t=[];return R.Children.forEach(r,(s,a)=>{if(!R.isValidElement(s))return;let l=[...e,a];if(s.type===R.Fragment){t.push.apply(t,tp(s.props.children,l));return}s.type!==Qe&&xt(!1),!s.props.index||!s.props.children||xt(!1);let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=tp(s.props.children,l)),t.push(u)}),t}function rp(){return rp=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},rp.apply(this,arguments)}function d2(r,e){if(r==null)return{};var t={},s=Object.keys(r),a,l;for(l=0;l<s.length;l++)a=s[l],!(e.indexOf(a)>=0)&&(t[a]=r[a]);return t}function h2(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function m2(r,e){return r.button===0&&(!e||e==="_self")&&!h2(r)}const p2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],f2="6";try{window.__reactRouterVersion=f2}catch{}const g2="startTransition",Ix=cN[g2];function x2(r){let{basename:e,children:t,future:s,window:a}=r,l=R.useRef();l.current==null&&(l.current=gN({window:a,v5Compat:!0}));let u=l.current,[m,p]=R.useState({action:u.action,location:u.location}),{v7_startTransition:x}=s||{},g=R.useCallback(w=>{x&&Ix?Ix(()=>p(w)):p(w)},[p,x]);return R.useLayoutEffect(()=>u.listen(g),[u,g]),R.useEffect(()=>o2(s),[s]),R.createElement(c2,{basename:e,children:t,location:m.location,navigationType:m.action,navigator:u,future:s})}const y2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",v2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lt=R.forwardRef(function(e,t){let{onClick:s,relative:a,reloadDocument:l,replace:u,state:m,target:p,to:x,preventScrollReset:g,viewTransition:w}=e,b=d2(e,p2),{basename:j}=R.useContext(ni),k,M=!1;if(typeof x=="string"&&v2.test(x)&&(k=x,y2))try{let Q=new URL(window.location.href),K=x.startsWith("//")?new URL(Q.protocol+x):new URL(x),Y=zp(K.pathname,j);K.origin===Q.origin&&Y!=null?x=Y+K.search+K.hash:M=!0}catch{}let D=qN(x,{relative:a}),W=b2(x,{replace:u,state:m,target:p,preventScrollReset:g,relative:a,viewTransition:w});function H(Q){s&&s(Q),Q.defaultPrevented||W(Q)}return R.createElement("a",rp({},b,{href:k||D,onClick:M||l?s:H,ref:t,target:p}))});var Cx;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(Cx||(Cx={}));var Ax;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(Ax||(Ax={}));function b2(r,e){let{target:t,replace:s,state:a,preventScrollReset:l,relative:u,viewTransition:m}=e===void 0?{}:e,p=Wt(),x=ii(),g=_v(r,{relative:u});return R.useCallback(w=>{if(m2(w,t)){w.preventDefault();let b=s!==void 0?s:ad(x)===ad(g);p(r,{replace:b,state:a,preventScrollReset:l,relative:u,viewTransition:m})}},[x,p,g,s,a,t,r,l,u,m])}var Px={};const Tv=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let a=r.charCodeAt(s);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},w2=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const a=r[t++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=r[t++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=r[t++],u=r[t++],m=r[t++],p=((a&7)<<18|(l&63)<<12|(u&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=r[t++],u=r[t++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},Sv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<r.length;a+=3){const l=r[a],u=a+1<r.length,m=u?r[a+1]:0,p=a+2<r.length,x=p?r[a+2]:0,g=l>>2,w=(l&3)<<4|m>>4;let b=(m&15)<<2|x>>6,j=x&63;p||(j=64,u||(b=64)),s.push(t[g],t[w],t[b],t[j])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Tv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):w2(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<r.length;){const l=t[r.charAt(a++)],m=a<r.length?t[r.charAt(a)]:0;++a;const x=a<r.length?t[r.charAt(a)]:64;++a;const w=a<r.length?t[r.charAt(a)]:64;if(++a,l==null||m==null||x==null||w==null)throw new _2;const b=l<<2|m>>4;if(s.push(b),x!==64){const j=m<<4&240|x>>2;if(s.push(j),w!==64){const k=x<<6&192|w;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class _2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const N2=function(r){const e=Tv(r);return Sv.encodeByteArray(e,!0)},od=function(r){return N2(r).replace(/\./g,"")},kv=function(r){try{return Sv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function j2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const E2=()=>j2().__FIREBASE_DEFAULTS__,T2=()=>{if(typeof process>"u"||typeof Px>"u")return;const r=Px.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},S2=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&kv(r[1]);return e&&JSON.parse(e)},Id=()=>{try{return E2()||T2()||S2()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Iv=r=>{var e,t;return(t=(e=Id())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},Cv=r=>{const e=Iv(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Av=()=>{var r;return(r=Id())===null||r===void 0?void 0:r.config},Pv=r=>{var e;return(e=Id())===null||e===void 0?void 0:e[`_${r}`]};class k2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}function Rv(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",a=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},r);return[od(JSON.stringify(t)),od(JSON.stringify(u)),""].join(".")}function er(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function I2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(er())}function C2(){var r;const e=(r=Id())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function A2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function P2(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function R2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function D2(){const r=er();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function M2(){return!C2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function O2(){try{return typeof indexedDB=="object"}catch{return!1}}function L2(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}const V2="FirebaseError";class Ps extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=V2,Object.setPrototypeOf(this,Ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ic.prototype.create)}}class ic{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?F2(l,s):"Error",m=`${this.serviceName}: ${u} (${a}).`;return new Ps(a,m,s)}}function F2(r,e){return r.replace(U2,(t,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const U2=/\{\$([^}]+)}/g;function B2(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ld(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const a of t){if(!s.includes(a))return!1;const l=r[a],u=e[a];if(Rx(l)&&Rx(u)){if(!ld(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!t.includes(a))return!1;return!0}function Rx(r){return r!==null&&typeof r=="object"}function ac(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Cl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Al(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function $2(r,e){const t=new z2(r,e);return t.subscribe.bind(t)}class z2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let a;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");q2(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:s},a.next===void 0&&(a.next=Om),a.error===void 0&&(a.error=Om),a.complete===void 0&&(a.complete=Om);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function q2(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Om(){}function ct(r){return r&&r._delegate?r._delegate:r}class ei{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ui="[DEFAULT]";class H2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new k2;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e?.identifier),a=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(G2(e))try{this.getOrInitializeService({instanceIdentifier:Ui})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Ui){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ui){return this.instances.has(e)}getOptions(e=Ui){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,u]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(l);s===m&&u.resolve(a)}return a}onInit(e,t){var s;const a=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(a,l);const u=this.instances.get(a);return u&&e(u,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const a of s)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:W2(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ui){return this.component?this.component.multipleInstances?e:Ui:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function W2(r){return r===Ui?void 0:r}function G2(r){return r.instantiationMode==="EAGER"}class K2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new H2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Oe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Oe||(Oe={}));const Q2={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},Y2=Oe.INFO,X2={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},J2=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),a=X2[e];if(a)console[a](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kp{constructor(e){this.name=e,this._logLevel=Y2,this._logHandler=J2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Q2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const Z2=(r,e)=>e.some(t=>r instanceof t);let Dx,Mx;function ej(){return Dx||(Dx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tj(){return Mx||(Mx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Dv=new WeakMap,sp=new WeakMap,Mv=new WeakMap,Lm=new WeakMap,Qp=new WeakMap;function rj(r){const e=new Promise((t,s)=>{const a=()=>{r.removeEventListener("success",l),r.removeEventListener("error",u)},l=()=>{t(Xn(r.result)),a()},u=()=>{s(r.error),a()};r.addEventListener("success",l),r.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Dv.set(t,r)}).catch(()=>{}),Qp.set(e,r),e}function sj(r){if(sp.has(r))return;const e=new Promise((t,s)=>{const a=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",u),r.removeEventListener("abort",u)},l=()=>{t(),a()},u=()=>{s(r.error||new DOMException("AbortError","AbortError")),a()};r.addEventListener("complete",l),r.addEventListener("error",u),r.addEventListener("abort",u)});sp.set(r,e)}let np={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return sp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Mv.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Xn(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function nj(r){np=r(np)}function ij(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(Vm(this),e,...t);return Mv.set(s,e.sort?e.sort():[e]),Xn(s)}:tj().includes(r)?function(...e){return r.apply(Vm(this),e),Xn(Dv.get(this))}:function(...e){return Xn(r.apply(Vm(this),e))}}function aj(r){return typeof r=="function"?ij(r):(r instanceof IDBTransaction&&sj(r),Z2(r,ej())?new Proxy(r,np):r)}function Xn(r){if(r instanceof IDBRequest)return rj(r);if(Lm.has(r))return Lm.get(r);const e=aj(r);return e!==r&&(Lm.set(r,e),Qp.set(e,r)),e}const Vm=r=>Qp.get(r);function oj(r,e,{blocked:t,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(r,e),m=Xn(u);return s&&u.addEventListener("upgradeneeded",p=>{s(Xn(u.result),p.oldVersion,p.newVersion,Xn(u.transaction),p)}),t&&u.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",x=>a(x.oldVersion,x.newVersion,x))}).catch(()=>{}),m}const lj=["get","getKey","getAll","getAllKeys","count"],cj=["put","add","delete","clear"],Fm=new Map;function Ox(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Fm.get(e))return Fm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,a=cj.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(a||lj.includes(t)))return;const l=async function(u,...m){const p=this.transaction(u,a?"readwrite":"readonly");let x=p.store;return s&&(x=x.index(m.shift())),(await Promise.all([x[t](...m),a&&p.done]))[0]};return Fm.set(e,l),l}nj(r=>({...r,get:(e,t,s)=>Ox(e,t)||r.get(e,t,s),has:(e,t)=>!!Ox(e,t)||r.has(e,t)}));class uj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(dj(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function dj(r){const e=r.getComponent();return e?.type==="VERSION"}const ip="@firebase/app",Lx="0.10.13";const sn=new Kp("@firebase/app"),hj="@firebase/app-compat",mj="@firebase/analytics-compat",pj="@firebase/analytics",fj="@firebase/app-check-compat",gj="@firebase/app-check",xj="@firebase/auth",yj="@firebase/auth-compat",vj="@firebase/database",bj="@firebase/data-connect",wj="@firebase/database-compat",_j="@firebase/functions",Nj="@firebase/functions-compat",jj="@firebase/installations",Ej="@firebase/installations-compat",Tj="@firebase/messaging",Sj="@firebase/messaging-compat",kj="@firebase/performance",Ij="@firebase/performance-compat",Cj="@firebase/remote-config",Aj="@firebase/remote-config-compat",Pj="@firebase/storage",Rj="@firebase/storage-compat",Dj="@firebase/firestore",Mj="@firebase/vertexai-preview",Oj="@firebase/firestore-compat",Lj="firebase",Vj="10.14.1";const ap="[DEFAULT]",Fj={[ip]:"fire-core",[hj]:"fire-core-compat",[pj]:"fire-analytics",[mj]:"fire-analytics-compat",[gj]:"fire-app-check",[fj]:"fire-app-check-compat",[xj]:"fire-auth",[yj]:"fire-auth-compat",[vj]:"fire-rtdb",[bj]:"fire-data-connect",[wj]:"fire-rtdb-compat",[_j]:"fire-fn",[Nj]:"fire-fn-compat",[jj]:"fire-iid",[Ej]:"fire-iid-compat",[Tj]:"fire-fcm",[Sj]:"fire-fcm-compat",[kj]:"fire-perf",[Ij]:"fire-perf-compat",[Cj]:"fire-rc",[Aj]:"fire-rc-compat",[Pj]:"fire-gcs",[Rj]:"fire-gcs-compat",[Dj]:"fire-fst",[Oj]:"fire-fst-compat",[Mj]:"fire-vertex","fire-js":"fire-js",[Lj]:"fire-js-all"};const cd=new Map,Uj=new Map,op=new Map;function Vx(r,e){try{r.container.addComponent(e)}catch(t){sn.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Wi(r){const e=r.name;if(op.has(e))return sn.debug(`There were multiple attempts to register component ${e}.`),!1;op.set(e,r);for(const t of cd.values())Vx(t,r);for(const t of Uj.values())Vx(t,r);return!0}function Cd(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function bs(r){return r.settings!==void 0}const Bj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jn=new ic("app","Firebase",Bj);class $j{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ei("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jn.create("app-deleted",{appName:this._name})}}const ea=Vj;function Ov(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:ap,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw Jn.create("bad-app-name",{appName:String(a)});if(t||(t=Av()),!t)throw Jn.create("no-options");const l=cd.get(a);if(l){if(ld(t,l.options)&&ld(s,l.config))return l;throw Jn.create("duplicate-app",{appName:a})}const u=new K2(a);for(const p of op.values())u.addComponent(p);const m=new $j(t,s,u);return cd.set(a,m),m}function Yp(r=ap){const e=cd.get(r);if(!e&&r===ap&&Av())return Ov();if(!e)throw Jn.create("no-app",{appName:r});return e}function js(r,e,t){var s;let a=(s=Fj[r])!==null&&s!==void 0?s:r;t&&(a+=`-${t}`);const l=a.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const m=[`Unable to register library "${a}" with version "${e}":`];l&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&u&&m.push("and"),u&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),sn.warn(m.join(" "));return}Wi(new ei(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const zj="firebase-heartbeat-database",qj=1,Hl="firebase-heartbeat-store";let Um=null;function Lv(){return Um||(Um=oj(zj,qj,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Hl)}catch(t){console.warn(t)}}}}).catch(r=>{throw Jn.create("idb-open",{originalErrorMessage:r.message})})),Um}async function Hj(r){try{const t=(await Lv()).transaction(Hl),s=await t.objectStore(Hl).get(Vv(r));return await t.done,s}catch(e){if(e instanceof Ps)sn.warn(e.message);else{const t=Jn.create("idb-get",{originalErrorMessage:e?.message});sn.warn(t.message)}}}async function Fx(r,e){try{const s=(await Lv()).transaction(Hl,"readwrite");await s.objectStore(Hl).put(e,Vv(r)),await s.done}catch(t){if(t instanceof Ps)sn.warn(t.message);else{const s=Jn.create("idb-set",{originalErrorMessage:t?.message});sn.warn(s.message)}}}function Vv(r){return`${r.name}!${r.options.appId}`}const Wj=1024,Gj=720*60*60*1e3;class Kj{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Yj(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Ux();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const m=new Date(u.date).valueOf();return Date.now()-m<=Gj}),this._storage.overwrite(this._heartbeatsCache))}catch(s){sn.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Ux(),{heartbeatsToSend:s,unsentEntries:a}=Qj(this._heartbeatsCache.heartbeats),l=od(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return sn.warn(t),""}}}function Ux(){return new Date().toISOString().substring(0,10)}function Qj(r,e=Wj){const t=[];let s=r.slice();for(const a of r){const l=t.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),Bx(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),Bx(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class Yj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return O2()?L2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Hj(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Fx(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Fx(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Bx(r){return od(JSON.stringify({version:2,heartbeats:r})).length}function Xj(r){Wi(new ei("platform-logger",e=>new uj(e),"PRIVATE")),Wi(new ei("heartbeat",e=>new Kj(e),"PRIVATE")),js(ip,Lx,r),js(ip,Lx,"esm2017"),js("fire-js","")}Xj("");function Xp(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(r);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(r,s[a])&&(t[s[a]]=r[s[a]]);return t}function Fv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Jj=Fv,Uv=new ic("auth","Firebase",Fv());const ud=new Kp("@firebase/auth");function Zj(r,...e){ud.logLevel<=Oe.WARN&&ud.warn(`Auth (${ea}): ${r}`,...e)}function Qu(r,...e){ud.logLevel<=Oe.ERROR&&ud.error(`Auth (${ea}): ${r}`,...e)}function as(r,...e){throw Jp(r,...e)}function Es(r,...e){return Jp(r,...e)}function Bv(r,e,t){const s=Object.assign(Object.assign({},Jj()),{[e]:t});return new ic("auth","Firebase",s).create(e,{appName:r.name})}function tn(r){return Bv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jp(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return Uv.create(r,...e)}function Te(r,e,...t){if(!r)throw Jp(e,...t)}function Js(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Qu(e),new Error(e)}function nn(r,e){r||Js(e)}function lp(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function eE(){return $x()==="http:"||$x()==="https:"}function $x(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}function tE(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eE()||P2()||"connection"in navigator)?navigator.onLine:!0}function rE(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class oc{constructor(e,t){this.shortDelay=e,this.longDelay=t,nn(t>e,"Short delay should be less than long delay!"),this.isMobile=I2()||R2()}get(){return tE()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Zp(r,e){nn(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class $v{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Js("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Js("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Js("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const sE={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const nE=new oc(3e4,6e4);function ai(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function oi(r,e,t,s,a={}){return zv(r,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const m=ac(Object.assign({key:r.config.apiKey},u)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const x=Object.assign({method:e,headers:p},l);return A2()||(x.referrerPolicy="no-referrer"),$v.fetch()(qv(r,r.config.apiHost,t,m),x)})}async function zv(r,e,t){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},sE),e);try{const a=new aE(r),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Uu(r,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const m=l.ok?u.errorMessage:u.error.message,[p,x]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uu(r,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw Uu(r,"email-already-in-use",u);if(p==="USER_DISABLED")throw Uu(r,"user-disabled",u);const g=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(x)throw Bv(r,g,x);as(r,g)}}catch(a){if(a instanceof Ps)throw a;as(r,"network-request-failed",{message:String(a)})}}async function lc(r,e,t,s,a={}){const l=await oi(r,e,t,s,a);return"mfaPendingCredential"in l&&as(r,"multi-factor-auth-required",{_serverResponse:l}),l}function qv(r,e,t,s){const a=`${e}${t}?${s}`;return r.config.emulator?Zp(r.config,a):`${r.config.apiScheme}://${a}`}function iE(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class aE{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Es(this.auth,"network-request-failed")),nE.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Uu(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const a=Es(r,e,s);return a.customData._tokenResponse=t,a}function zx(r){return r!==void 0&&r.enterprise!==void 0}class oE{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return iE(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function lE(r,e){return oi(r,"GET","/v2/recaptchaConfig",ai(r,e))}async function cE(r,e){return oi(r,"POST","/v1/accounts:delete",e)}async function Hv(r,e){return oi(r,"POST","/v1/accounts:lookup",e)}function Ol(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uE(r,e=!1){const t=ct(r),s=await t.getIdToken(e),a=ef(s);Te(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:s,authTime:Ol(Bm(a.auth_time)),issuedAtTime:Ol(Bm(a.iat)),expirationTime:Ol(Bm(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Bm(r){return Number(r)*1e3}function ef(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return Qu("JWT malformed, contained fewer than 3 sections"),null;try{const a=kv(t);return a?JSON.parse(a):(Qu("Failed to decode base64 JWT payload"),null)}catch(a){return Qu("Caught error parsing JWT payload as JSON",a?.toString()),null}}function qx(r){const e=ef(r);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Wl(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Ps&&dE(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function dE({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class hE{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class cp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ol(this.lastLoginAt),this.creationTime=Ol(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function dd(r){var e;const t=r.auth,s=await r.getIdToken(),a=await Wl(r,Hv(t,{idToken:s}));Te(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?Wv(l.providerUserInfo):[],m=pE(r.providerData,u),p=r.isAnonymous,x=!(r.email&&l.passwordHash)&&!m?.length,g=p?x:!1,w={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:m,metadata:new cp(l.createdAt,l.lastLoginAt),isAnonymous:g};Object.assign(r,w)}async function mE(r){const e=ct(r);await dd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function pE(r,e){return[...r.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function Wv(r){return r.map(e=>{var{providerId:t}=e,s=Xp(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}async function fE(r,e){const t=await zv(r,{},async()=>{const s=ac({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=r.config,u=qv(r,a,"/v1/token",`key=${l}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",$v.fetch()(u,{method:"POST",headers:m,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function gE(r,e){return oi(r,"POST","/v2/accounts:revokeToken",ai(r,e))}class so{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=qx(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:a,expiresIn:l}=await fE(e,t);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:a,expirationTime:l}=t,u=new so;return s&&(Te(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(Te(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Te(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new so,this.toJSON())}_performRefresh(){return Js("not implemented")}}function Un(r,e){Te(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Zs{constructor(e){var{uid:t,auth:s,stsTokenManager:a}=e,l=Xp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new cp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Wl(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return uE(this,e)}reload(){return mE(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Zs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await dd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bs(this.auth.app))return Promise.reject(tn(this.auth));const e=await this.getIdToken();return await Wl(this,cE(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,a,l,u,m,p,x,g;const w=(s=t.displayName)!==null&&s!==void 0?s:void 0,b=(a=t.email)!==null&&a!==void 0?a:void 0,j=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,k=(u=t.photoURL)!==null&&u!==void 0?u:void 0,M=(m=t.tenantId)!==null&&m!==void 0?m:void 0,D=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,W=(x=t.createdAt)!==null&&x!==void 0?x:void 0,H=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:Q,emailVerified:K,isAnonymous:Y,providerData:J,stsTokenManager:O}=t;Te(Q&&O,e,"internal-error");const P=so.fromJSON(this.name,O);Te(typeof Q=="string",e,"internal-error"),Un(w,e.name),Un(b,e.name),Te(typeof K=="boolean",e,"internal-error"),Te(typeof Y=="boolean",e,"internal-error"),Un(j,e.name),Un(k,e.name),Un(M,e.name),Un(D,e.name),Un(W,e.name),Un(H,e.name);const T=new Zs({uid:Q,auth:e,email:b,emailVerified:K,displayName:w,isAnonymous:Y,photoURL:k,phoneNumber:j,tenantId:M,stsTokenManager:P,createdAt:W,lastLoginAt:H});return J&&Array.isArray(J)&&(T.providerData=J.map(N=>Object.assign({},N))),D&&(T._redirectEventId=D),T}static async _fromIdTokenResponse(e,t,s=!1){const a=new so;a.updateFromServerResponse(t);const l=new Zs({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await dd(l),l}static async _fromGetAccountInfoResponse(e,t,s){const a=t.users[0];Te(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Wv(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,m=new so;m.updateFromIdToken(s);const p=new Zs({uid:a.localId,auth:e,stsTokenManager:m,isAnonymous:u}),x={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new cp(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(p,x),p}}const Hx=new Map;function en(r){nn(r instanceof Function,"Expected a class definition");let e=Hx.get(r);return e?(nn(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Hx.set(r,e),e)}class Gv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Gv.type="NONE";const Wx=Gv;function Yu(r,e,t){return`firebase:${r}:${e}:${t}`}class no{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Yu(this.userKey,a.apiKey,l),this.fullPersistenceKey=Yu("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Zs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new no(en(Wx),e,s);const a=(await Promise.all(t.map(async x=>{if(await x._isAvailable())return x}))).filter(x=>x);let l=a[0]||en(Wx);const u=Yu(s,e.config.apiKey,e.name);let m=null;for(const x of t)try{const g=await x._get(u);if(g){const w=Zs._fromJSON(e,g);x!==l&&(m=w),l=x;break}}catch{}const p=a.filter(x=>x._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new no(l,e,s):(l=p[0],m&&await l._set(u,m.toJSON()),await Promise.all(t.map(async x=>{if(x!==l)try{await x._remove(u)}catch{}})),new no(l,e,s))}}function Gx(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Xv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Kv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Zv(e))return"Blackberry";if(eb(e))return"Webos";if(Qv(e))return"Safari";if((e.includes("chrome/")||Yv(e))&&!e.includes("edge/"))return"Chrome";if(Jv(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if(s?.length===2)return s[1]}return"Other"}function Kv(r=er()){return/firefox\//i.test(r)}function Qv(r=er()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Yv(r=er()){return/crios\//i.test(r)}function Xv(r=er()){return/iemobile/i.test(r)}function Jv(r=er()){return/android/i.test(r)}function Zv(r=er()){return/blackberry/i.test(r)}function eb(r=er()){return/webos/i.test(r)}function tf(r=er()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function xE(r=er()){var e;return tf(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function yE(){return D2()&&document.documentMode===10}function tb(r=er()){return tf(r)||Jv(r)||eb(r)||Zv(r)||/windows phone/i.test(r)||Xv(r)}function rb(r,e=[]){let t;switch(r){case"Browser":t=Gx(er());break;case"Worker":t=`${Gx(er())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ea}/${s}`}class vE{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((u,m)=>{try{const p=e(l);u(p)}catch(p){m(p)}});s.onAbort=t,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function bE(r,e={}){return oi(r,"GET","/v2/passwordPolicy",ai(r,e))}const wE=6;class _E{constructor(e){var t,s,a,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:wE,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,a,l,u,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(a=p.containsLowercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(u=p.containsNumericCharacter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class NE{constructor(e,t,s,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kx(this),this.idTokenSubscription=new Kx(this),this.beforeStateQueue=new vE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Uv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=en(t)),this._initializationPromise=this.queue(async()=>{var s,a;if(!this._deleted&&(this.persistenceManager=await no.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Hv(this,{idToken:e}),s=await Zs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(bs(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let a=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=a?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===m)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await dd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rE()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bs(this.app))return Promise.reject(tn(this));const t=e?ct(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bs(this.app)?Promise.reject(tn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bs(this.app)?Promise.reject(tn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(en(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bE(this),t=new _E(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ic("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await gE(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&en(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await no.create(this,[en(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(m,this,"internal-error"),m.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,a);return()=>{u=!0,p()}}else{const p=e.addObserver(t);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&Zj(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ta(r){return ct(r)}class Kx{constructor(e){this.auth=e,this.observer=null,this.addObserver=$2(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ad={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jE(r){Ad=r}function sb(r){return Ad.loadJS(r)}function EE(){return Ad.recaptchaEnterpriseScript}function TE(){return Ad.gapiScript}function SE(r){return`__${r}${Math.floor(Math.random()*1e6)}`}const kE="recaptcha-enterprise",IE="NO_RECAPTCHA";class CE{constructor(e){this.type=kE,this.auth=ta(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,m)=>{lE(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const x=new oE(p);return l.tenantId==null?l._agentRecaptchaConfig=x:l._tenantRecaptchaConfigs[l.tenantId]=x,u(x.siteKey)}}).catch(p=>{m(p)})})}function a(l,u,m){const p=window.grecaptcha;zx(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(x=>{u(x)}).catch(()=>{u(IE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((l,u)=>{s(this.auth).then(m=>{if(!t&&zx(window.grecaptcha))a(m,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=EE();p.length!==0&&(p+=m),sb(p).then(()=>{a(m,l,u)}).catch(x=>{u(x)})}}).catch(m=>{u(m)})})}}async function Qx(r,e,t,s=!1){const a=new CE(r);let l;try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const u=Object.assign({},e);return s?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function up(r,e,t,s){var a;if(!((a=r._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Qx(r,e,t,t==="getOobCode");return s(r,l)}else return s(r,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await Qx(r,e,t,t==="getOobCode");return s(r,u)}else return Promise.reject(l)})}function AE(r,e){const t=Cd(r,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(ld(l,e??{}))return a;as(a,"already-initialized")}return t.initialize({options:e})}function PE(r,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(en);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function RE(r,e,t){const s=ta(r);Te(s._canInitEmulator,s,"emulator-config-failed"),Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=nb(e),{host:u,port:m}=DE(e),p=m===null?"":`:${m}`;s.config.emulator={url:`${l}//${u}${p}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:u,port:m,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})}),ME()}function nb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function DE(r){const e=nb(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:Yx(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:Yx(u)}}}function Yx(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function ME(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class rf{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Js("not implemented")}_getIdTokenResponse(e){return Js("not implemented")}_linkToIdToken(e,t){return Js("not implemented")}_getReauthenticationResolver(e){return Js("not implemented")}}async function OE(r,e){return oi(r,"POST","/v1/accounts:signUp",e)}async function LE(r,e){return lc(r,"POST","/v1/accounts:signInWithPassword",ai(r,e))}async function VE(r,e){return lc(r,"POST","/v1/accounts:signInWithEmailLink",ai(r,e))}async function FE(r,e){return lc(r,"POST","/v1/accounts:signInWithEmailLink",ai(r,e))}class Gl extends rf{constructor(e,t,s,a=null){super("password",s),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Gl(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Gl(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return up(e,t,"signInWithPassword",LE);case"emailLink":return VE(e,{email:this._email,oobCode:this._password});default:as(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return up(e,s,"signUpPassword",OE);case"emailLink":return FE(e,{idToken:t,email:this._email,oobCode:this._password});default:as(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function io(r,e){return lc(r,"POST","/v1/accounts:signInWithIdp",ai(r,e))}const UE="http://localhost";class Gi extends rf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Gi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):as("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a}=t,l=Xp(t,["providerId","signInMethod"]);if(!s||!a)return null;const u=new Gi(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return io(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,io(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,io(e,t)}buildRequest(){const e={requestUri:UE,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ac(t)}return e}}function BE(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $E(r){const e=Cl(Al(r)).link,t=e?Cl(Al(e)).deep_link_id:null,s=Cl(Al(r)).deep_link_id;return(s?Cl(Al(s)).link:null)||s||t||e||r}class sf{constructor(e){var t,s,a,l,u,m;const p=Cl(Al(e)),x=(t=p.apiKey)!==null&&t!==void 0?t:null,g=(s=p.oobCode)!==null&&s!==void 0?s:null,w=BE((a=p.mode)!==null&&a!==void 0?a:null);Te(x&&g&&w,"argument-error"),this.apiKey=x,this.operation=w,this.code=g,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(u=p.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const t=$E(e);try{return new sf(t)}catch{return null}}}class _o{constructor(){this.providerId=_o.PROVIDER_ID}static credential(e,t){return Gl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=sf.parseLink(t);return Te(s,"argument-error"),Gl._fromEmailAndCode(e,s.code,s.tenantId)}}_o.PROVIDER_ID="password";_o.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_o.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ib{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class cc extends ib{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Bn extends cc{constructor(){super("facebook.com")}static credential(e){return Gi._fromParams({providerId:Bn.PROVIDER_ID,signInMethod:Bn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bn.credentialFromTaggedObject(e)}static credentialFromError(e){return Bn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bn.credential(e.oauthAccessToken)}catch{return null}}}Bn.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bn.PROVIDER_ID="facebook.com";class $n extends cc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Gi._fromParams({providerId:$n.PROVIDER_ID,signInMethod:$n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return $n.credentialFromTaggedObject(e)}static credentialFromError(e){return $n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return $n.credential(t,s)}catch{return null}}}$n.GOOGLE_SIGN_IN_METHOD="google.com";$n.PROVIDER_ID="google.com";class zn extends cc{constructor(){super("github.com")}static credential(e){return Gi._fromParams({providerId:zn.PROVIDER_ID,signInMethod:zn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zn.credentialFromTaggedObject(e)}static credentialFromError(e){return zn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zn.credential(e.oauthAccessToken)}catch{return null}}}zn.GITHUB_SIGN_IN_METHOD="github.com";zn.PROVIDER_ID="github.com";class qn extends cc{constructor(){super("twitter.com")}static credential(e,t){return Gi._fromParams({providerId:qn.PROVIDER_ID,signInMethod:qn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return qn.credentialFromTaggedObject(e)}static credentialFromError(e){return qn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return qn.credential(t,s)}catch{return null}}}qn.TWITTER_SIGN_IN_METHOD="twitter.com";qn.PROVIDER_ID="twitter.com";async function zE(r,e){return lc(r,"POST","/v1/accounts:signUp",ai(r,e))}class Ki{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,a=!1){const l=await Zs._fromIdTokenResponse(e,s,a),u=Xx(s);return new Ki({user:l,providerId:u,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const a=Xx(s);return new Ki({user:e,providerId:a,_tokenResponse:s,operationType:t})}}function Xx(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class hd extends Ps{constructor(e,t,s,a){var l;super(t.code,t.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,hd.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,a){return new hd(e,t,s,a)}}function ab(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?hd._fromErrorAndOperation(r,l,e,s):l})}async function qE(r,e,t=!1){const s=await Wl(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Ki._forOperation(r,"link",s)}async function HE(r,e,t=!1){const{auth:s}=r;if(bs(s.app))return Promise.reject(tn(s));const a="reauthenticate";try{const l=await Wl(r,ab(s,a,e,r),t);Te(l.idToken,s,"internal-error");const u=ef(l.idToken);Te(u,s,"internal-error");const{sub:m}=u;return Te(r.uid===m,s,"user-mismatch"),Ki._forOperation(r,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&as(s,"user-mismatch"),l}}async function ob(r,e,t=!1){if(bs(r.app))return Promise.reject(tn(r));const s="signIn",a=await ab(r,s,e),l=await Ki._fromIdTokenResponse(r,s,a);return t||await r._updateCurrentUser(l.user),l}async function WE(r,e){return ob(ta(r),e)}async function lb(r){const e=ta(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function GE(r,e,t){if(bs(r.app))return Promise.reject(tn(r));const s=ta(r),u=await up(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zE).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&lb(r),p}),m=await Ki._fromIdTokenResponse(s,"signIn",u);return await s._updateCurrentUser(m.user),m}function KE(r,e,t){return bs(r.app)?Promise.reject(tn(r)):WE(ct(r),_o.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&lb(r),s})}function QE(r,e,t,s){return ct(r).onIdTokenChanged(e,t,s)}function YE(r,e,t){return ct(r).beforeAuthStateChanged(e,t)}function XE(r,e,t,s){return ct(r).onAuthStateChanged(e,t,s)}function Jx(r){return ct(r).signOut()}const md="__sak";class cb{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(md,"1"),this.storage.removeItem(md),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const JE=1e3,ZE=10;class ub extends cb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),a=this.localCache[t];s!==a&&e(t,a,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,m,p)=>{this.notifyListeners(u,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!t&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);yE()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,ZE):a()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},JE)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ub.type="LOCAL";const eT=ub;class db extends cb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}db.type="SESSION";const hb=db;function tT(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Pd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const s=new Pd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:a,data:l}=t.data,u=this.handlersMap[a];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const m=Array.from(u).map(async x=>x(t.origin,l)),p=await tT(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Pd.receivers=[];function nf(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}class rT{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((m,p)=>{const x=nf("",20);a.port1.start();const g=setTimeout(()=>{p(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(w){const b=w;if(b.data.eventId===x)switch(b.data.status){case"ack":clearTimeout(g),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(b.data.response);break;default:clearTimeout(g),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:x,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function Ts(){return window}function sT(r){Ts().location.href=r}function mb(){return typeof Ts().WorkerGlobalScope<"u"&&typeof Ts().importScripts=="function"}async function nT(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iT(){var r;return((r=navigator?.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function aT(){return mb()?self:null}const pb="firebaseLocalStorageDb",oT=1,pd="firebaseLocalStorage",fb="fbase_key";class uc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Rd(r,e){return r.transaction([pd],e?"readwrite":"readonly").objectStore(pd)}function lT(){const r=indexedDB.deleteDatabase(pb);return new uc(r).toPromise()}function dp(){const r=indexedDB.open(pb,oT);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(pd,{keyPath:fb})}catch(a){t(a)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(pd)?e(s):(s.close(),await lT(),e(await dp()))})})}async function Zx(r,e,t){const s=Rd(r,!0).put({[fb]:e,value:t});return new uc(s).toPromise()}async function cT(r,e){const t=Rd(r,!1).get(e),s=await new uc(t).toPromise();return s===void 0?null:s.value}function ey(r,e){const t=Rd(r,!0).delete(e);return new uc(t).toPromise()}const uT=800,dT=3;class gb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>dT)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pd._getInstance(aT()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await nT(),!this.activeServiceWorker)return;this.sender=new rT(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iT()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dp();return await Zx(e,md,"1"),await ey(e,md),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Zx(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>cT(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ey(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Rd(a,!1).getAll();return new uc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gb.type="LOCAL";const hT=gb;new oc(3e4,6e4);function mT(r,e){return e?en(e):(Te(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class af extends rf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return io(e,this._buildIdpRequest())}_linkToIdToken(e,t){return io(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return io(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function pT(r){return ob(r.auth,new af(r),r.bypassAuthState)}function fT(r){const{auth:e,user:t}=r;return Te(t,e,"internal-error"),HE(t,new af(r),r.bypassAuthState)}async function gT(r){const{auth:e,user:t}=r;return Te(t,e,"internal-error"),qE(t,new af(r),r.bypassAuthState)}class xb{constructor(e,t,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:a,tenantId:l,error:u,type:m}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(x){this.reject(x)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pT;case"linkViaPopup":case"linkViaRedirect":return gT;case"reauthViaPopup":case"reauthViaRedirect":return fT;default:as(this.auth,"internal-error")}}resolve(e){nn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){nn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const xT=new oc(2e3,1e4);class ro extends xb{constructor(e,t,s,a,l){super(e,t,a,l),this.provider=s,this.authWindow=null,this.pollId=null,ro.currentPopupAction&&ro.currentPopupAction.cancel(),ro.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){nn(this.filter.length===1,"Popup operations only handle one event");const e=nf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Es(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Es(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ro.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Es(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xT.get())};e()}}ro.currentPopupAction=null;const yT="pendingRedirect",Xu=new Map;class vT extends xb{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Xu.get(this.auth._key());if(!e){try{const s=await bT(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Xu.set(this.auth._key(),e)}return this.bypassAuthState||Xu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bT(r,e){const t=NT(e),s=_T(r);if(!await s._isAvailable())return!1;const a=await s._get(t)==="true";return await s._remove(t),a}function wT(r,e){Xu.set(r._key(),e)}function _T(r){return en(r._redirectPersistence)}function NT(r){return Yu(yT,r.config.apiKey,r.name)}async function jT(r,e,t=!1){if(bs(r.app))return Promise.reject(tn(r));const s=ta(r),a=mT(s,e),u=await new vT(s,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}const ET=600*1e3;class TT{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ST(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!yb(e)){const a=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Es(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ET&&this.cachedEventUids.clear(),this.cachedEventUids.has(ty(e))}saveEventToCache(e){this.cachedEventUids.add(ty(e)),this.lastProcessedEventTime=Date.now()}}function ty(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function yb({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function ST(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yb(r);default:return!1}}async function kT(r,e={}){return oi(r,"GET","/v1/projects",e)}const IT=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CT=/^https?/;async function AT(r){if(r.config.emulator)return;const{authorizedDomains:e}=await kT(r);for(const t of e)try{if(PT(t))return}catch{}as(r,"unauthorized-domain")}function PT(r){const e=lp(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const u=new URL(r);return u.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===s}if(!CT.test(t))return!1;if(IT.test(r))return s===r;const a=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const RT=new oc(3e4,6e4);function ry(){const r=Ts().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function DT(r){return new Promise((e,t)=>{var s,a,l;function u(){ry(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ry(),t(Es(r,"network-request-failed"))},timeout:RT.get()})}if(!((a=(s=Ts().gapi)===null||s===void 0?void 0:s.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Ts().gapi)===null||l===void 0)&&l.load)u();else{const m=SE("iframefcb");return Ts()[m]=()=>{gapi.load?u():t(Es(r,"network-request-failed"))},sb(`${TE()}?onload=${m}`).catch(p=>t(p))}}).catch(e=>{throw Ju=null,e})}let Ju=null;function MT(r){return Ju=Ju||DT(r),Ju}const OT=new oc(5e3,15e3),LT="__/auth/iframe",VT="emulator/auth/iframe",FT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BT(r){const e=r.config;Te(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Zp(e,VT):`https://${r.config.authDomain}/${LT}`,s={apiKey:e.apiKey,appName:r.name,v:ea},a=UT.get(r.config.apiHost);a&&(s.eid=a);const l=r._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${ac(s).slice(1)}`}async function $T(r){const e=await MT(r),t=Ts().gapi;return Te(t,r,"internal-error"),e.open({where:document.body,url:BT(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FT,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=Es(r,"network-request-failed"),m=Ts().setTimeout(()=>{l(u)},OT.get());function p(){Ts().clearTimeout(m),a(s)}s.ping(p).then(p,()=>{l(u)})}))}const zT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qT=500,HT=600,WT="_blank",GT="http://localhost";class sy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KT(r,e,t,s=qT,a=HT){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},zT),{width:s.toString(),height:a.toString(),top:l,left:u}),x=er().toLowerCase();t&&(m=Yv(x)?WT:t),Kv(x)&&(e=e||GT,p.scrollbars="yes");const g=Object.entries(p).reduce((b,[j,k])=>`${b}${j}=${k},`,"");if(xE(x)&&m!=="_self")return QT(e||"",m),new sy(null);const w=window.open(e||"",m,g);Te(w,r,"popup-blocked");try{w.focus()}catch{}return new sy(w)}function QT(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}const YT="__/auth/handler",XT="emulator/auth/handler",JT=encodeURIComponent("fac");async function ny(r,e,t,s,a,l){Te(r.config.authDomain,r,"auth-domain-config-required"),Te(r.config.apiKey,r,"invalid-api-key");const u={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:ea,eventId:a};if(e instanceof ib){e.setDefaultLanguage(r.languageCode),u.providerId=e.providerId||"",B2(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,w]of Object.entries({}))u[g]=w}if(e instanceof cc){const g=e.getScopes().filter(w=>w!=="");g.length>0&&(u.scopes=g.join(","))}r.tenantId&&(u.tid=r.tenantId);const m=u;for(const g of Object.keys(m))m[g]===void 0&&delete m[g];const p=await r._getAppCheckToken(),x=p?`#${JT}=${encodeURIComponent(p)}`:"";return`${ZT(r)}?${ac(m).slice(1)}${x}`}function ZT({config:r}){return r.emulator?Zp(r,XT):`https://${r.authDomain}/${YT}`}const $m="webStorageSupport";class eS{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hb,this._completeRedirectFn=jT,this._overrideRedirectResult=wT}async _openPopup(e,t,s,a){var l;nn((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await ny(e,t,s,lp(),a);return KT(e,u,nf())}async _openRedirect(e,t,s,a){await this._originValidation(e);const l=await ny(e,t,s,lp(),a);return sT(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(nn(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await $T(e),s=new TT(e);return t.register("authEvent",a=>(Te(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send($m,{type:$m},a=>{var l;const u=(l=a?.[0])===null||l===void 0?void 0:l[$m];u!==void 0&&t(!!u),as(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=AT(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return tb()||Qv()||tf()}}const tS=eS;var iy="@firebase/auth",ay="1.7.9";class rS{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function sS(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nS(r){Wi(new ei("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:m}=s.options;Te(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:u,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rb(r)},x=new NE(s,a,l,p);return PE(x,t),x},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Wi(new ei("auth-internal",e=>{const t=ta(e.getProvider("auth").getImmediate());return(s=>new rS(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),js(iy,ay,sS(r)),js(iy,ay,"esm2017")}const iS=300,aS=Pv("authIdTokenMaxAge")||iS;let oy=null;const oS=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>aS)return;const a=t?.token;oy!==a&&(oy=a,await fetch(r,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function lS(r=Yp()){const e=Cd(r,"auth");if(e.isInitialized())return e.getImmediate();const t=AE(r,{popupRedirectResolver:tS,persistence:[hT,eT,hb]}),s=Pv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=oS(l.toString());YE(t,u,()=>u(t.currentUser)),QE(t,m=>u(m))}}const a=Iv("auth");return a&&RE(t,`http://${a}`),t}function cS(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}jE({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=a=>{const l=Es("internal-error");l.customData=a,t(l)},s.type="text/javascript",s.charset="UTF-8",cS().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nS("Browser");var uS="firebase",dS="10.14.1";js(uS,dS,"app");var ly=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var zi,vb;(function(){var r;function e(O,P){function T(){}T.prototype=P.prototype,O.D=P.prototype,O.prototype=new T,O.prototype.constructor=O,O.C=function(N,S,A){for(var I=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)I[oe-2]=arguments[oe];return P.prototype[S].apply(N,I)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(O,P,T){T||(T=0);var N=Array(16);if(typeof P=="string")for(var S=0;16>S;++S)N[S]=P.charCodeAt(T++)|P.charCodeAt(T++)<<8|P.charCodeAt(T++)<<16|P.charCodeAt(T++)<<24;else for(S=0;16>S;++S)N[S]=P[T++]|P[T++]<<8|P[T++]<<16|P[T++]<<24;P=O.g[0],T=O.g[1],S=O.g[2];var A=O.g[3],I=P+(A^T&(S^A))+N[0]+3614090360&4294967295;P=T+(I<<7&4294967295|I>>>25),I=A+(S^P&(T^S))+N[1]+3905402710&4294967295,A=P+(I<<12&4294967295|I>>>20),I=S+(T^A&(P^T))+N[2]+606105819&4294967295,S=A+(I<<17&4294967295|I>>>15),I=T+(P^S&(A^P))+N[3]+3250441966&4294967295,T=S+(I<<22&4294967295|I>>>10),I=P+(A^T&(S^A))+N[4]+4118548399&4294967295,P=T+(I<<7&4294967295|I>>>25),I=A+(S^P&(T^S))+N[5]+1200080426&4294967295,A=P+(I<<12&4294967295|I>>>20),I=S+(T^A&(P^T))+N[6]+2821735955&4294967295,S=A+(I<<17&4294967295|I>>>15),I=T+(P^S&(A^P))+N[7]+4249261313&4294967295,T=S+(I<<22&4294967295|I>>>10),I=P+(A^T&(S^A))+N[8]+1770035416&4294967295,P=T+(I<<7&4294967295|I>>>25),I=A+(S^P&(T^S))+N[9]+2336552879&4294967295,A=P+(I<<12&4294967295|I>>>20),I=S+(T^A&(P^T))+N[10]+4294925233&4294967295,S=A+(I<<17&4294967295|I>>>15),I=T+(P^S&(A^P))+N[11]+2304563134&4294967295,T=S+(I<<22&4294967295|I>>>10),I=P+(A^T&(S^A))+N[12]+1804603682&4294967295,P=T+(I<<7&4294967295|I>>>25),I=A+(S^P&(T^S))+N[13]+4254626195&4294967295,A=P+(I<<12&4294967295|I>>>20),I=S+(T^A&(P^T))+N[14]+2792965006&4294967295,S=A+(I<<17&4294967295|I>>>15),I=T+(P^S&(A^P))+N[15]+1236535329&4294967295,T=S+(I<<22&4294967295|I>>>10),I=P+(S^A&(T^S))+N[1]+4129170786&4294967295,P=T+(I<<5&4294967295|I>>>27),I=A+(T^S&(P^T))+N[6]+3225465664&4294967295,A=P+(I<<9&4294967295|I>>>23),I=S+(P^T&(A^P))+N[11]+643717713&4294967295,S=A+(I<<14&4294967295|I>>>18),I=T+(A^P&(S^A))+N[0]+3921069994&4294967295,T=S+(I<<20&4294967295|I>>>12),I=P+(S^A&(T^S))+N[5]+3593408605&4294967295,P=T+(I<<5&4294967295|I>>>27),I=A+(T^S&(P^T))+N[10]+38016083&4294967295,A=P+(I<<9&4294967295|I>>>23),I=S+(P^T&(A^P))+N[15]+3634488961&4294967295,S=A+(I<<14&4294967295|I>>>18),I=T+(A^P&(S^A))+N[4]+3889429448&4294967295,T=S+(I<<20&4294967295|I>>>12),I=P+(S^A&(T^S))+N[9]+568446438&4294967295,P=T+(I<<5&4294967295|I>>>27),I=A+(T^S&(P^T))+N[14]+3275163606&4294967295,A=P+(I<<9&4294967295|I>>>23),I=S+(P^T&(A^P))+N[3]+4107603335&4294967295,S=A+(I<<14&4294967295|I>>>18),I=T+(A^P&(S^A))+N[8]+1163531501&4294967295,T=S+(I<<20&4294967295|I>>>12),I=P+(S^A&(T^S))+N[13]+2850285829&4294967295,P=T+(I<<5&4294967295|I>>>27),I=A+(T^S&(P^T))+N[2]+4243563512&4294967295,A=P+(I<<9&4294967295|I>>>23),I=S+(P^T&(A^P))+N[7]+1735328473&4294967295,S=A+(I<<14&4294967295|I>>>18),I=T+(A^P&(S^A))+N[12]+2368359562&4294967295,T=S+(I<<20&4294967295|I>>>12),I=P+(T^S^A)+N[5]+4294588738&4294967295,P=T+(I<<4&4294967295|I>>>28),I=A+(P^T^S)+N[8]+2272392833&4294967295,A=P+(I<<11&4294967295|I>>>21),I=S+(A^P^T)+N[11]+1839030562&4294967295,S=A+(I<<16&4294967295|I>>>16),I=T+(S^A^P)+N[14]+4259657740&4294967295,T=S+(I<<23&4294967295|I>>>9),I=P+(T^S^A)+N[1]+2763975236&4294967295,P=T+(I<<4&4294967295|I>>>28),I=A+(P^T^S)+N[4]+1272893353&4294967295,A=P+(I<<11&4294967295|I>>>21),I=S+(A^P^T)+N[7]+4139469664&4294967295,S=A+(I<<16&4294967295|I>>>16),I=T+(S^A^P)+N[10]+3200236656&4294967295,T=S+(I<<23&4294967295|I>>>9),I=P+(T^S^A)+N[13]+681279174&4294967295,P=T+(I<<4&4294967295|I>>>28),I=A+(P^T^S)+N[0]+3936430074&4294967295,A=P+(I<<11&4294967295|I>>>21),I=S+(A^P^T)+N[3]+3572445317&4294967295,S=A+(I<<16&4294967295|I>>>16),I=T+(S^A^P)+N[6]+76029189&4294967295,T=S+(I<<23&4294967295|I>>>9),I=P+(T^S^A)+N[9]+3654602809&4294967295,P=T+(I<<4&4294967295|I>>>28),I=A+(P^T^S)+N[12]+3873151461&4294967295,A=P+(I<<11&4294967295|I>>>21),I=S+(A^P^T)+N[15]+530742520&4294967295,S=A+(I<<16&4294967295|I>>>16),I=T+(S^A^P)+N[2]+3299628645&4294967295,T=S+(I<<23&4294967295|I>>>9),I=P+(S^(T|~A))+N[0]+4096336452&4294967295,P=T+(I<<6&4294967295|I>>>26),I=A+(T^(P|~S))+N[7]+1126891415&4294967295,A=P+(I<<10&4294967295|I>>>22),I=S+(P^(A|~T))+N[14]+2878612391&4294967295,S=A+(I<<15&4294967295|I>>>17),I=T+(A^(S|~P))+N[5]+4237533241&4294967295,T=S+(I<<21&4294967295|I>>>11),I=P+(S^(T|~A))+N[12]+1700485571&4294967295,P=T+(I<<6&4294967295|I>>>26),I=A+(T^(P|~S))+N[3]+2399980690&4294967295,A=P+(I<<10&4294967295|I>>>22),I=S+(P^(A|~T))+N[10]+4293915773&4294967295,S=A+(I<<15&4294967295|I>>>17),I=T+(A^(S|~P))+N[1]+2240044497&4294967295,T=S+(I<<21&4294967295|I>>>11),I=P+(S^(T|~A))+N[8]+1873313359&4294967295,P=T+(I<<6&4294967295|I>>>26),I=A+(T^(P|~S))+N[15]+4264355552&4294967295,A=P+(I<<10&4294967295|I>>>22),I=S+(P^(A|~T))+N[6]+2734768916&4294967295,S=A+(I<<15&4294967295|I>>>17),I=T+(A^(S|~P))+N[13]+1309151649&4294967295,T=S+(I<<21&4294967295|I>>>11),I=P+(S^(T|~A))+N[4]+4149444226&4294967295,P=T+(I<<6&4294967295|I>>>26),I=A+(T^(P|~S))+N[11]+3174756917&4294967295,A=P+(I<<10&4294967295|I>>>22),I=S+(P^(A|~T))+N[2]+718787259&4294967295,S=A+(I<<15&4294967295|I>>>17),I=T+(A^(S|~P))+N[9]+3951481745&4294967295,O.g[0]=O.g[0]+P&4294967295,O.g[1]=O.g[1]+(S+(I<<21&4294967295|I>>>11))&4294967295,O.g[2]=O.g[2]+S&4294967295,O.g[3]=O.g[3]+A&4294967295}s.prototype.u=function(O,P){P===void 0&&(P=O.length);for(var T=P-this.blockSize,N=this.B,S=this.h,A=0;A<P;){if(S==0)for(;A<=T;)a(this,O,A),A+=this.blockSize;if(typeof O=="string"){for(;A<P;)if(N[S++]=O.charCodeAt(A++),S==this.blockSize){a(this,N),S=0;break}}else for(;A<P;)if(N[S++]=O[A++],S==this.blockSize){a(this,N),S=0;break}}this.h=S,this.o+=P},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var P=1;P<O.length-8;++P)O[P]=0;var T=8*this.o;for(P=O.length-8;P<O.length;++P)O[P]=T&255,T/=256;for(this.u(O),O=Array(16),P=T=0;4>P;++P)for(var N=0;32>N;N+=8)O[T++]=this.g[P]>>>N&255;return O};function l(O,P){var T=m;return Object.prototype.hasOwnProperty.call(T,O)?T[O]:T[O]=P(O)}function u(O,P){this.h=P;for(var T=[],N=!0,S=O.length-1;0<=S;S--){var A=O[S]|0;N&&A==P||(T[S]=A,N=!1)}this.g=T}var m={};function p(O){return-128<=O&&128>O?l(O,function(P){return new u([P|0],0>P?-1:0)}):new u([O|0],0>O?-1:0)}function x(O){if(isNaN(O)||!isFinite(O))return w;if(0>O)return D(x(-O));for(var P=[],T=1,N=0;O>=T;N++)P[N]=O/T|0,T*=4294967296;return new u(P,0)}function g(O,P){if(O.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(O.charAt(0)=="-")return D(g(O.substring(1),P));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=x(Math.pow(P,8)),N=w,S=0;S<O.length;S+=8){var A=Math.min(8,O.length-S),I=parseInt(O.substring(S,S+A),P);8>A?(A=x(Math.pow(P,A)),N=N.j(A).add(x(I))):(N=N.j(T),N=N.add(x(I)))}return N}var w=p(0),b=p(1),j=p(16777216);r=u.prototype,r.m=function(){if(M(this))return-D(this).m();for(var O=0,P=1,T=0;T<this.g.length;T++){var N=this.i(T);O+=(0<=N?N:4294967296+N)*P,P*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(k(this))return"0";if(M(this))return"-"+D(this).toString(O);for(var P=x(Math.pow(O,6)),T=this,N="";;){var S=K(T,P).g;T=W(T,S.j(P));var A=((0<T.g.length?T.g[0]:T.h)>>>0).toString(O);if(T=S,k(T))return A+N;for(;6>A.length;)A="0"+A;N=A+N}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function k(O){if(O.h!=0)return!1;for(var P=0;P<O.g.length;P++)if(O.g[P]!=0)return!1;return!0}function M(O){return O.h==-1}r.l=function(O){return O=W(this,O),M(O)?-1:k(O)?0:1};function D(O){for(var P=O.g.length,T=[],N=0;N<P;N++)T[N]=~O.g[N];return new u(T,~O.h).add(b)}r.abs=function(){return M(this)?D(this):this},r.add=function(O){for(var P=Math.max(this.g.length,O.g.length),T=[],N=0,S=0;S<=P;S++){var A=N+(this.i(S)&65535)+(O.i(S)&65535),I=(A>>>16)+(this.i(S)>>>16)+(O.i(S)>>>16);N=I>>>16,A&=65535,I&=65535,T[S]=I<<16|A}return new u(T,T[T.length-1]&-2147483648?-1:0)};function W(O,P){return O.add(D(P))}r.j=function(O){if(k(this)||k(O))return w;if(M(this))return M(O)?D(this).j(D(O)):D(D(this).j(O));if(M(O))return D(this.j(D(O)));if(0>this.l(j)&&0>O.l(j))return x(this.m()*O.m());for(var P=this.g.length+O.g.length,T=[],N=0;N<2*P;N++)T[N]=0;for(N=0;N<this.g.length;N++)for(var S=0;S<O.g.length;S++){var A=this.i(N)>>>16,I=this.i(N)&65535,oe=O.i(S)>>>16,we=O.i(S)&65535;T[2*N+2*S]+=I*we,H(T,2*N+2*S),T[2*N+2*S+1]+=A*we,H(T,2*N+2*S+1),T[2*N+2*S+1]+=I*oe,H(T,2*N+2*S+1),T[2*N+2*S+2]+=A*oe,H(T,2*N+2*S+2)}for(N=0;N<P;N++)T[N]=T[2*N+1]<<16|T[2*N];for(N=P;N<2*P;N++)T[N]=0;return new u(T,0)};function H(O,P){for(;(O[P]&65535)!=O[P];)O[P+1]+=O[P]>>>16,O[P]&=65535,P++}function Q(O,P){this.g=O,this.h=P}function K(O,P){if(k(P))throw Error("division by zero");if(k(O))return new Q(w,w);if(M(O))return P=K(D(O),P),new Q(D(P.g),D(P.h));if(M(P))return P=K(O,D(P)),new Q(D(P.g),P.h);if(30<O.g.length){if(M(O)||M(P))throw Error("slowDivide_ only works with positive integers.");for(var T=b,N=P;0>=N.l(O);)T=Y(T),N=Y(N);var S=J(T,1),A=J(N,1);for(N=J(N,2),T=J(T,2);!k(N);){var I=A.add(N);0>=I.l(O)&&(S=S.add(T),A=I),N=J(N,1),T=J(T,1)}return P=W(O,S.j(P)),new Q(S,P)}for(S=w;0<=O.l(P);){for(T=Math.max(1,Math.floor(O.m()/P.m())),N=Math.ceil(Math.log(T)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),A=x(T),I=A.j(P);M(I)||0<I.l(O);)T-=N,A=x(T),I=A.j(P);k(A)&&(A=b),S=S.add(A),O=W(O,I)}return new Q(S,O)}r.A=function(O){return K(this,O).h},r.and=function(O){for(var P=Math.max(this.g.length,O.g.length),T=[],N=0;N<P;N++)T[N]=this.i(N)&O.i(N);return new u(T,this.h&O.h)},r.or=function(O){for(var P=Math.max(this.g.length,O.g.length),T=[],N=0;N<P;N++)T[N]=this.i(N)|O.i(N);return new u(T,this.h|O.h)},r.xor=function(O){for(var P=Math.max(this.g.length,O.g.length),T=[],N=0;N<P;N++)T[N]=this.i(N)^O.i(N);return new u(T,this.h^O.h)};function Y(O){for(var P=O.g.length+1,T=[],N=0;N<P;N++)T[N]=O.i(N)<<1|O.i(N-1)>>>31;return new u(T,O.h)}function J(O,P){var T=P>>5;P%=32;for(var N=O.g.length-T,S=[],A=0;A<N;A++)S[A]=0<P?O.i(A+T)>>>P|O.i(A+T+1)<<32-P:O.i(A+T);return new u(S,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,vb=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=x,u.fromString=g,zi=u}).apply(typeof ly<"u"?ly:typeof self<"u"?self:typeof window<"u"?window:{});var Bu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var bb,Pl,wb,Zu,hp,_b,Nb,jb;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,_){return d==Array.prototype||d==Object.prototype||(d[y]=_.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bu=="object"&&Bu];for(var y=0;y<d.length;++y){var _=d[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function a(d,y){if(y)e:{var _=s;d=d.split(".");for(var C=0;C<d.length-1;C++){var B=d[C];if(!(B in _))break e;_=_[B]}d=d[d.length-1],C=_[d],y=y(C),y!=C&&y!=null&&e(_,d,{configurable:!0,writable:!0,value:y})}}function l(d,y){d instanceof String&&(d+="");var _=0,C=!1,B={next:function(){if(!C&&_<d.length){var G=_++;return{value:y(G,d[G]),done:!1}}return C=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}a("Array.prototype.values",function(d){return d||function(){return l(this,function(y,_){return _})}});var u=u||{},m=this||self;function p(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function x(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function g(d,y,_){return d.call.apply(d.bind,arguments)}function w(d,y,_){if(!d)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,C),d.apply(y,B)}}return function(){return d.apply(y,arguments)}}function b(d,y,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:w,b.apply(null,arguments)}function j(d,y){var _=Array.prototype.slice.call(arguments,1);return function(){var C=_.slice();return C.push.apply(C,arguments),d.apply(this,C)}}function k(d,y){function _(){}_.prototype=y.prototype,d.aa=y.prototype,d.prototype=new _,d.prototype.constructor=d,d.Qb=function(C,B,G){for(var le=Array(arguments.length-2),We=2;We<arguments.length;We++)le[We-2]=arguments[We];return y.prototype[B].apply(C,le)}}function M(d){const y=d.length;if(0<y){const _=Array(y);for(let C=0;C<y;C++)_[C]=d[C];return _}return[]}function D(d,y){for(let _=1;_<arguments.length;_++){const C=arguments[_];if(p(C)){const B=d.length||0,G=C.length||0;d.length=B+G;for(let le=0;le<G;le++)d[B+le]=C[le]}else d.push(C)}}class W{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function H(d){return/^[\s\xa0]*$/.test(d)}function Q(){var d=m.navigator;return d&&(d=d.userAgent)?d:""}function K(d){return K[" "](d),d}K[" "]=function(){};var Y=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function J(d,y,_){for(const C in d)y.call(_,d[C],C,d)}function O(d,y){for(const _ in d)y.call(void 0,d[_],_,d)}function P(d){const y={};for(const _ in d)y[_]=d[_];return y}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(d,y){let _,C;for(let B=1;B<arguments.length;B++){C=arguments[B];for(_ in C)d[_]=C[_];for(let G=0;G<T.length;G++)_=T[G],Object.prototype.hasOwnProperty.call(C,_)&&(d[_]=C[_])}}function S(d){var y=1;d=d.split(":");const _=[];for(;0<y&&d.length;)_.push(d.shift()),y--;return d.length&&_.push(d.join(":")),_}function A(d){m.setTimeout(()=>{throw d},0)}function I(){var d=ge;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class oe{constructor(){this.h=this.g=null}add(y,_){const C=we.get();C.set(y,_),this.h?this.h.next=C:this.g=C,this.h=C}}var we=new W(()=>new Ue,d=>d.reset());class Ue{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let te,X=!1,ge=new oe,ue=()=>{const d=m.Promise.resolve(void 0);te=()=>{d.then(U)}};var U=()=>{for(var d;d=I();){try{d.h.call(d.g)}catch(_){A(_)}var y=we;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}X=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function be(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}be.prototype.h=function(){this.defaultPrevented=!0};var Ae=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return d})();function Pe(d,y){if(be.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var _=this.type=d.type,C=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if(Y){e:{try{K(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else _=="mouseover"?y=d.fromElement:_=="mouseout"&&(y=d.toElement);this.relatedTarget=y,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Le[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Pe.aa.h.call(this)}}k(Pe,be);var Le={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var qe="closure_listenable_"+(1e6*Math.random()|0),He=0;function Ye(d,y,_,C,B){this.listener=d,this.proxy=null,this.src=y,this.type=_,this.capture=!!C,this.ha=B,this.key=++He,this.da=this.fa=!1}function kt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Rs(d){this.src=d,this.g={},this.h=0}Rs.prototype.add=function(d,y,_,C,B){var G=d.toString();d=this.g[G],d||(d=this.g[G]=[],this.h++);var le=fn(d,y,C,B);return-1<le?(y=d[le],_||(y.fa=!1)):(y=new Ye(y,this.src,G,!!C,B),y.fa=_,d.push(y)),y};function aa(d,y){var _=y.type;if(_ in d.g){var C=d.g[_],B=Array.prototype.indexOf.call(C,y,void 0),G;(G=0<=B)&&Array.prototype.splice.call(C,B,1),G&&(kt(y),d.g[_].length==0&&(delete d.g[_],d.h--))}}function fn(d,y,_,C){for(var B=0;B<d.length;++B){var G=d[B];if(!G.da&&G.listener==y&&G.capture==!!_&&G.ha==C)return B}return-1}var hi="closure_lm_"+(1e6*Math.random()|0),oa={};function Po(d,y,_,C,B){if(Array.isArray(y)){for(var G=0;G<y.length;G++)Po(d,y[G],_,C,B);return null}return _=Mo(_),d&&d[qe]?d.K(y,_,x(C)?!!C.capture:!1,B):Ro(d,y,_,!1,C,B)}function Ro(d,y,_,C,B,G){if(!y)throw Error("Invalid event type");var le=x(B)?!!B.capture:!!B,We=ca(d);if(We||(d[hi]=We=new Rs(d)),_=We.add(y,_,C,le,G),_.proxy)return _;if(C=jc(),_.proxy=C,C.src=d,C.listener=_,d.addEventListener)Ae||(B=le),B===void 0&&(B=!1),d.addEventListener(y.toString(),C,B);else if(d.attachEvent)d.attachEvent(Ms(y.toString()),C);else if(d.addListener&&d.removeListener)d.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return _}function jc(){function d(_){return y.call(d.src,d.listener,_)}const y=Do;return d}function la(d,y,_,C,B){if(Array.isArray(y))for(var G=0;G<y.length;G++)la(d,y[G],_,C,B);else C=x(C)?!!C.capture:!!C,_=Mo(_),d&&d[qe]?(d=d.i,y=String(y).toString(),y in d.g&&(G=d.g[y],_=fn(G,_,C,B),-1<_&&(kt(G[_]),Array.prototype.splice.call(G,_,1),G.length==0&&(delete d.g[y],d.h--)))):d&&(d=ca(d))&&(y=d.g[y.toString()],d=-1,y&&(d=fn(y,_,C,B)),(_=-1<d?y[d]:null)&&Ds(_))}function Ds(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[qe])aa(y.i,d);else{var _=d.type,C=d.proxy;y.removeEventListener?y.removeEventListener(_,C,d.capture):y.detachEvent?y.detachEvent(Ms(_),C):y.addListener&&y.removeListener&&y.removeListener(C),(_=ca(y))?(aa(_,d),_.h==0&&(_.src=null,y[hi]=null)):kt(d)}}}function Ms(d){return d in oa?oa[d]:oa[d]="on"+d}function Do(d,y){if(d.da)d=!0;else{y=new Pe(y,this);var _=d.listener,C=d.ha||d.src;d.fa&&Ds(d),d=_.call(C,y)}return d}function ca(d){return d=d[hi],d instanceof Rs?d:null}var ua="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mo(d){return typeof d=="function"?d:(d[ua]||(d[ua]=function(y){return d.handleEvent(y)}),d[ua])}function _t(){ee.call(this),this.i=new Rs(this),this.M=this,this.F=null}k(_t,ee),_t.prototype[qe]=!0,_t.prototype.removeEventListener=function(d,y,_,C){la(this,d,y,_,C)};function Nt(d,y){var _,C=d.F;if(C)for(_=[];C;C=C.F)_.push(C);if(d=d.M,C=y.type||y,typeof y=="string")y=new be(y,d);else if(y instanceof be)y.target=y.target||d;else{var B=y;y=new be(C,d),N(y,B)}if(B=!0,_)for(var G=_.length-1;0<=G;G--){var le=y.g=_[G];B=Os(le,C,!0,y)&&B}if(le=y.g=d,B=Os(le,C,!0,y)&&B,B=Os(le,C,!1,y)&&B,_)for(G=0;G<_.length;G++)le=y.g=_[G],B=Os(le,C,!1,y)&&B}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var _=d.g[y],C=0;C<_.length;C++)kt(_[C]);delete d.g[y],d.h--}}this.F=null},_t.prototype.K=function(d,y,_,C){return this.i.add(String(d),y,!1,_,C)},_t.prototype.L=function(d,y,_,C){return this.i.add(String(d),y,!0,_,C)};function Os(d,y,_,C){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,G=0;G<y.length;++G){var le=y[G];if(le&&!le.da&&le.capture==_){var We=le.listener,jt=le.ha||le.src;le.fa&&aa(d.i,le),B=We.call(jt,C)!==!1&&B}}return B&&!C.defaultPrevented}function Oo(d,y,_){if(typeof d=="function")_&&(d=b(d,_));else if(d&&typeof d.handleEvent=="function")d=b(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(d,y||0)}function gn(d){d.g=Oo(()=>{d.g=null,d.i&&(d.i=!1,gn(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class mi extends ee{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:gn(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pi(d){ee.call(this),this.h=d,this.g={}}k(pi,ee);var Lo=[];function Vo(d){J(d.g,function(y,_){this.g.hasOwnProperty(_)&&Ds(y)},d),d.g={}}pi.prototype.N=function(){pi.aa.N.call(this),Vo(this)},pi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fo=m.JSON.stringify,Uo=m.JSON.parse,Bo=class{stringify(d){return m.JSON.stringify(d,void 0)}parse(d){return m.JSON.parse(d,void 0)}};function fi(){}fi.prototype.h=null;function da(d){return d.h||(d.h=d.i())}function ha(){}var Ir={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function cs(){be.call(this,"d")}k(cs,be);function ma(){be.call(this,"c")}k(ma,be);var us={},$o=null;function gi(){return $o=$o||new _t}us.La="serverreachability";function zo(d){be.call(this,us.La,d)}k(zo,be);function Ls(d){const y=gi();Nt(y,new zo(y))}us.STAT_EVENT="statevent";function qo(d,y){be.call(this,us.STAT_EVENT,d),this.stat=y}k(qo,be);function pt(d){const y=gi();Nt(y,new qo(y,d))}us.Ma="timingevent";function pa(d,y){be.call(this,us.Ma,d),this.size=y}k(pa,be);function qr(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){d()},y)}function xi(){this.g=!0}xi.prototype.xa=function(){this.g=!1};function yi(d,y,_,C,B,G){d.info(function(){if(d.g)if(G)for(var le="",We=G.split("&"),jt=0;jt<We.length;jt++){var Ve=We[jt].split("=");if(1<Ve.length){var It=Ve[0];Ve=Ve[1];var yt=It.split("_");le=2<=yt.length&&yt[1]=="type"?le+(It+"="+Ve+"&"):le+(It+"=redacted&")}}else le=null;else le=G;return"XMLHTTP REQ ("+C+") [attempt "+B+"]: "+y+`
`+_+`
`+le})}function fa(d,y,_,C,B,G,le){d.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+B+"]: "+y+`
`+_+`
`+G+" "+le})}function Hr(d,y,_,C){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+nh(d,_)+(C?" "+C:"")})}function Ho(d,y){d.info(function(){return"TIMEOUT: "+y})}xi.prototype.info=function(){};function nh(d,y){if(!d.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(d=0;d<_.length;d++)if(Array.isArray(_[d])){var C=_[d];if(!(2>C.length)){var B=C[1];if(Array.isArray(B)&&!(1>B.length)){var G=B[0];if(G!="noop"&&G!="stop"&&G!="close")for(var le=1;le<B.length;le++)B[le]=""}}}}return Fo(_)}catch{return y}}var ga={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ec={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wr;function vi(){}k(vi,fi),vi.prototype.g=function(){return new XMLHttpRequest},vi.prototype.i=function(){return{}},Wr=new vi;function Gr(d,y,_,C){this.j=d,this.i=y,this.l=_,this.R=C||1,this.U=new pi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Tc}function Tc(){this.i=null,this.g="",this.h=!1}var Wo={},xa={};function ya(d,y,_){d.L=1,d.v=wn(vr(y)),d.m=_,d.P=!0,Go(d,null)}function Go(d,y){d.F=Date.now(),Xe(d),d.A=vr(d.v);var _=d.A,C=d.R;Array.isArray(C)||(C=[String(C)]),Nn(_.i,"t",C),d.C=0,_=d.j.J,d.h=new Tc,d.g=qc(d.j,_?y:null,!d.m),0<d.O&&(d.M=new mi(b(d.Y,d,d.g),d.O)),y=d.U,_=d.g,C=d.ca;var B="readystatechange";Array.isArray(B)||(B&&(Lo[0]=B.toString()),B=Lo);for(var G=0;G<B.length;G++){var le=Po(_,B[G],C||y.handleEvent,!1,y.h||y);if(!le)break;y.g[le.key]=le}y=d.H?P(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),Ls(),yi(d.i,d.u,d.A,d.l,d.R,d.m)}Gr.prototype.ca=function(d){d=d.target;const y=this.M;y&&lr(d)==3?y.j():this.Y(d)},Gr.prototype.Y=function(d){try{if(d==this.g)e:{const yt=lr(this.g);var y=this.g.Ba();const Pr=this.g.Z();if(!(3>yt)&&(yt!=3||this.g&&(this.h.h||this.g.oa()||Zo(this.g)))){this.J||yt!=4||y==7||(y==8||0>=Pr?Ls(3):Ls(2)),bi(this);var _=this.g.Z();this.X=_;t:if(Sc(this)){var C=Zo(this.g);d="";var B=C.length,G=lr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cr(this),xn(this);var le="";break t}this.h.i=new m.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,d+=this.h.i.decode(C[y],{stream:!(G&&y==B-1)});C.length=0,this.h.g+=d,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=_==200,fa(this.i,this.u,this.A,this.l,this.R,yt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var We,jt=this.g;if((We=jt.g?jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(We)){var Ve=We;break t}}Ve=null}if(_=Ve)Hr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ko(this,_);else{this.o=!1,this.s=3,pt(12),Cr(this),xn(this);break e}}if(this.P){_=!0;let wr;for(;!this.J&&this.C<le.length;)if(wr=ih(this,le),wr==xa){yt==4&&(this.s=4,pt(14),_=!1),Hr(this.i,this.l,null,"[Incomplete Response]");break}else if(wr==Wo){this.s=4,pt(15),Hr(this.i,this.l,le,"[Invalid Chunk]"),_=!1;break}else Hr(this.i,this.l,wr,null),Ko(this,wr);if(Sc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yt!=4||le.length!=0||this.h.h||(this.s=1,pt(16),_=!1),this.o=this.o&&_,!_)Hr(this.i,this.l,le,"[Invalid Chunked Response]"),Cr(this),xn(this);else if(0<le.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),tl(It),It.M=!0,pt(11))}}else Hr(this.i,this.l,le,null),Ko(this,le);yt==4&&Cr(this),this.o&&!this.J&&(yt==4?Ia(this.j,this):(this.o=!1,Xe(this)))}else ja(this.g),_==400&&0<le.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),Cr(this),xn(this)}}}catch{}};function Sc(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function ih(d,y){var _=d.C,C=y.indexOf(`
`,_);return C==-1?xa:(_=Number(y.substring(_,C)),isNaN(_)?Wo:(C+=1,C+_>y.length?xa:(y=y.slice(C,C+_),d.C=C+_,y)))}Gr.prototype.cancel=function(){this.J=!0,Cr(this)};function Xe(d){d.S=Date.now()+d.I,kc(d,d.I)}function kc(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=qr(b(d.ba,d),y)}function bi(d){d.B&&(m.clearTimeout(d.B),d.B=null)}Gr.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Ho(this.i,this.A),this.L!=2&&(Ls(),pt(17)),Cr(this),this.s=2,xn(this)):kc(this,this.S-d)};function xn(d){d.j.G==0||d.J||Ia(d.j,d)}function Cr(d){bi(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,Vo(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function Ko(d,y){try{var _=d.j;if(_.G!=0&&(_.g==d||tr(_.h,d))){if(!d.K&&tr(_.h,d)&&_.G==3){try{var C=_.Da.g.parse(y)}catch{C=null}if(Array.isArray(C)&&C.length==3){var B=C;if(B[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<d.F)ka(_),Jr(_);else break e;Sa(_),pt(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=qr(b(_.Za,_),6e3));if(1>=Cc(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else $s(_,11)}else if((d.K||_.g==d)&&ka(_),!H(y))for(B=_.Da.g.parse(y),y=0;y<B.length;y++){let Ve=B[y];if(_.T=Ve[0],Ve=Ve[1],_.G==2)if(Ve[0]=="c"){_.K=Ve[1],_.ia=Ve[2];const It=Ve[3];It!=null&&(_.la=It,_.j.info("VER="+_.la));const yt=Ve[4];yt!=null&&(_.Aa=yt,_.j.info("SVER="+_.Aa));const Pr=Ve[5];Pr!=null&&typeof Pr=="number"&&0<Pr&&(C=1.5*Pr,_.L=C,_.j.info("backChannelRequestTimeoutMs_="+C)),C=_;const wr=d.g;if(wr){const Si=wr.g?wr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Si){var G=C.h;G.g||Si.indexOf("spdy")==-1&&Si.indexOf("quic")==-1&&Si.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Qo(G,G.h),G.h=null))}if(C.D){const Aa=wr.g?wr.g.getResponseHeader("X-HTTP-Session-Id"):null;Aa&&(C.ya=Aa,Ke(C.I,C.D,Aa))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-d.F,_.j.info("Handshake RTT: "+_.R+"ms")),C=_;var le=d;if(C.qa=zc(C,C.J?C.ia:null,C.W),le.K){Ac(C.h,le);var We=le,jt=C.L;jt&&(We.I=jt),We.B&&(bi(We),Xe(We)),C.g=le}else Ti(C);0<_.i.length&&ps(_)}else Ve[0]!="stop"&&Ve[0]!="close"||$s(_,7);else _.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?$s(_,7):Lt(_):Ve[0]!="noop"&&_.l&&_.l.ta(Ve),_.v=0)}}Ls(4)}catch{}}var Ic=class{constructor(d,y){this.g=d,this.map=y}};function wi(d){this.l=d||10,m.PerformanceNavigationTiming?(d=m.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yr(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Cc(d){return d.h?1:d.g?d.g.size:0}function tr(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function Qo(d,y){d.g?d.g.add(y):d.h=y}function Ac(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}wi.prototype.cancel=function(){if(this.i=Pc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Pc(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const _ of d.g.values())y=y.concat(_.D);return y}return M(d.i)}function va(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(p(d)){for(var y=[],_=d.length,C=0;C<_;C++)y.push(d[C]);return y}y=[],_=0;for(C in d)y[_++]=d[C];return y}function ba(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(p(d)||typeof d=="string"){var y=[];d=d.length;for(var _=0;_<d;_++)y.push(_);return y}y=[],_=0;for(const C in d)y[_++]=C;return y}}}function yn(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(p(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var _=ba(d),C=va(d),B=C.length,G=0;G<B;G++)y.call(void 0,C[G],_&&_[G],d)}var _i=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ah(d,y){if(d){d=d.split("&");for(var _=0;_<d.length;_++){var C=d[_].indexOf("="),B=null;if(0<=C){var G=d[_].substring(0,C);B=d[_].substring(C+1)}else G=d[_];y(G,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Vs(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Vs){this.h=d.h,Ni(this,d.j),this.o=d.o,this.g=d.g,vn(this,d.s),this.l=d.l;var y=d.i,_=new ds;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),bn(this,_),this.m=d.m}else d&&(y=String(d).match(_i))?(this.h=!1,Ni(this,y[1]||"",!0),this.o=Me(y[2]||""),this.g=Me(y[3]||"",!0),vn(this,y[4]),this.l=Me(y[5]||"",!0),bn(this,y[6]||"",!0),this.m=Me(y[7]||"")):(this.h=!1,this.i=new ds(null,this.h))}Vs.prototype.toString=function(){var d=[],y=this.j;y&&d.push(_n(y,wa,!0),":");var _=this.g;return(_||y=="file")&&(d.push("//"),(y=this.o)&&d.push(_n(y,wa,!0),"@"),d.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&d.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&d.push("/"),d.push(_n(_,_.charAt(0)=="/"?Mc:Dc,!0))),(_=this.i.toString())&&d.push("?",_),(_=this.m)&&d.push("#",_n(_,Yo)),d.join("")};function vr(d){return new Vs(d)}function Ni(d,y,_){d.j=_?Me(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function vn(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function bn(d,y,_){y instanceof ds?(d.i=y,hs(d.i,d.h)):(_||(y=_n(y,Oc)),d.i=new ds(y,d.h))}function Ke(d,y,_){d.i.set(y,_)}function wn(d){return Ke(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Me(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function _n(d,y,_){return typeof d=="string"?(d=encodeURI(d).replace(y,Rc),_&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Rc(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var wa=/[#\/\?@]/g,Dc=/[#\?:]/g,Mc=/[#\?]/g,Oc=/[#\?@]/g,Yo=/#/g;function ds(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function Ot(d){d.g||(d.g=new Map,d.h=0,d.i&&ah(d.i,function(y,_){d.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=ds.prototype,r.add=function(d,y){Ot(this),this.i=null,d=Ar(this,d);var _=this.g.get(d);return _||this.g.set(d,_=[]),_.push(y),this.h+=1,this};function Kr(d,y){Ot(d),y=Ar(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function Qr(d,y){return Ot(d),y=Ar(d,y),d.g.has(y)}r.forEach=function(d,y){Ot(this),this.g.forEach(function(_,C){_.forEach(function(B){d.call(y,B,C,this)},this)},this)},r.na=function(){Ot(this);const d=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let C=0;C<y.length;C++){const B=d[C];for(let G=0;G<B.length;G++)_.push(y[C])}return _},r.V=function(d){Ot(this);let y=[];if(typeof d=="string")Qr(this,d)&&(y=y.concat(this.g.get(Ar(this,d))));else{d=Array.from(this.g.values());for(let _=0;_<d.length;_++)y=y.concat(d[_])}return y},r.set=function(d,y){return Ot(this),this.i=null,d=Ar(this,d),Qr(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},r.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function Nn(d,y,_){Kr(d,y),0<_.length&&(d.i=null,d.g.set(Ar(d,y),M(_)),d.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var C=y[_];const G=encodeURIComponent(String(C)),le=this.V(C);for(C=0;C<le.length;C++){var B=G;le[C]!==""&&(B+="="+encodeURIComponent(String(le[C]))),d.push(B)}}return this.i=d.join("&")};function Ar(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function hs(d,y){y&&!d.j&&(Ot(d),d.i=null,d.g.forEach(function(_,C){var B=C.toLowerCase();C!=B&&(Kr(this,C),Nn(this,B,_))},d)),d.j=y}function oh(d,y){const _=new xi;if(m.Image){const C=new Image;C.onload=j(or,_,"TestLoadImage: loaded",!0,y,C),C.onerror=j(or,_,"TestLoadImage: error",!1,y,C),C.onabort=j(or,_,"TestLoadImage: abort",!1,y,C),C.ontimeout=j(or,_,"TestLoadImage: timeout",!1,y,C),m.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=d}else y(!1)}function Lc(d,y){const _=new xi,C=new AbortController,B=setTimeout(()=>{C.abort(),or(_,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:C.signal}).then(G=>{clearTimeout(B),G.ok?or(_,"TestPingServer: ok",!0,y):or(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),or(_,"TestPingServer: error",!1,y)})}function or(d,y,_,C,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),C(_)}catch{}}function lh(){this.g=new Bo}function Vc(d,y,_){const C=_||"";try{yn(d,function(B,G){let le=B;x(B)&&(le=Fo(B)),y.push(C+G+"="+encodeURIComponent(le))})}catch(B){throw y.push(C+"type="+encodeURIComponent("_badmap")),B}}function Fs(d){this.l=d.Ub||null,this.j=d.eb||!1}k(Fs,fi),Fs.prototype.g=function(){return new ji(this.l,this.j)},Fs.prototype.i=(function(d){return function(){return d}})({});function ji(d,y){_t.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(ji,_t),r=ji.prototype,r.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,Xr(this)},r.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yr(this)),this.readyState=0},r.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Xr(this)),this.g&&(this.readyState=3,Xr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fc(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fc(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}r.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?Yr(this):Xr(this),this.readyState==3&&Fc(this)}},r.Ra=function(d){this.g&&(this.response=this.responseText=d,Yr(this))},r.Qa=function(d){this.g&&(this.response=d,Yr(this))},r.ga=function(){this.g&&Yr(this)};function Yr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Xr(d)}r.setRequestHeader=function(d,y){this.u.append(d,y)},r.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,d.push(_[0]+": "+_[1]),_=y.next();return d.join(`\r
`)};function Xr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ji.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Us(d){let y="";return J(d,function(_,C){y+=C,y+=":",y+=_,y+=`\r
`}),y}function jn(d,y,_){e:{for(C in _){var C=!1;break e}C=!0}C||(_=Us(_),typeof d=="string"?_!=null&&encodeURIComponent(String(_)):Ke(d,y,_))}function nt(d){_t.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(nt,_t);var ch=/^https?$/i,Xo=["POST","PUT"];r=nt.prototype,r.Ha=function(d){this.J=d},r.ea=function(d,y,_,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wr.g(),this.v=this.o?da(this.o):da(Wr),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(G){Ei(this,G);return}if(d=_||"",_=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var B in C)_.set(B,C[B]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const G of C.keys())_.set(G,C.get(G));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),B=m.FormData&&d instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Xo,y,void 0))||C||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,le]of _)this.g.setRequestHeader(G,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Na(this),this.u=!0,this.g.send(d),this.u=!1}catch(G){Ei(this,G)}};function Ei(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,_a(d),br(d)}function _a(d){d.A||(d.A=!0,Nt(d,"complete"),Nt(d,"error"))}r.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Nt(this,"complete"),Nt(this,"abort"),br(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),br(this,!0)),nt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Jo(this):this.bb())},r.bb=function(){Jo(this)};function Jo(d){if(d.h&&typeof u<"u"&&(!d.v[1]||lr(d)!=4||d.Z()!=2)){if(d.u&&lr(d)==4)Oo(d.Ea,0,d);else if(Nt(d,"readystatechange"),lr(d)==4){d.h=!1;try{const le=d.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var C;if(C=le===0){var B=String(d.D).match(_i)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),C=!ch.test(B?B.toLowerCase():"")}_=C}if(_)Nt(d,"complete"),Nt(d,"success");else{d.m=6;try{var G=2<lr(d)?d.g.statusText:""}catch{G=""}d.l=G+" ["+d.Z()+"]",_a(d)}}finally{br(d)}}}}function br(d,y){if(d.g){Na(d);const _=d.g,C=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||Nt(d,"ready");try{_.onreadystatechange=C}catch{}}}function Na(d){d.I&&(m.clearTimeout(d.I),d.I=null)}r.isActive=function(){return!!this.g};function lr(d){return d.g?d.g.readyState:0}r.Z=function(){try{return 2<lr(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),Uo(y)}};function Zo(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function ja(d){const y={};d=(d.g&&2<=lr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<d.length;C++){if(H(d[C]))continue;var _=S(d[C]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=y[B]||[];y[B]=G,G.push(_)}O(y,function(C){return C.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ms(d,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[d]||y}function el(d){this.Aa=0,this.i=[],this.j=new xi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ms("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ms("baseRetryDelayMs",5e3,d),this.cb=ms("retryDelaySeedMs",1e4,d),this.Wa=ms("forwardChannelMaxRetries",2,d),this.wa=ms("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new wi(d&&d.concurrentRequestLimit),this.Da=new lh,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=el.prototype,r.la=8,r.G=1,r.connect=function(d,y,_,C){pt(0),this.W=d,this.H=y||{},_&&C!==void 0&&(this.H.OSID=_,this.H.OAID=C),this.F=this.X,this.I=zc(this,null,this.W),ps(this)};function Lt(d){if(Ea(d),d.G==3){var y=d.U++,_=vr(d.I);if(Ke(_,"SID",d.K),Ke(_,"RID",y),Ke(_,"TYPE","terminate"),Bs(d,_),y=new Gr(d,d.j,y),y.L=2,y.v=wn(vr(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=qc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Xe(y)}$c(d)}function Jr(d){d.g&&(tl(d),d.g.cancel(),d.g=null)}function Ea(d){Jr(d),d.u&&(m.clearTimeout(d.u),d.u=null),ka(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&m.clearTimeout(d.s),d.s=null)}function ps(d){if(!yr(d.h)&&!d.s){d.s=!0;var y=d.Ga;te||ue(),X||(te(),X=!0),ge.add(y,d),d.B=0}}function uh(d,y){return Cc(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=qr(b(d.Ga,d,y),Bc(d,d.B)),d.B++,!0)}r.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const B=new Gr(this,this.j,d);let G=this.o;if(this.S&&(G?(G=P(G),N(G,this.S)):G=this.S),this.m!==null||this.O||(B.H=G,G=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var C=this.i[_];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(y+=C,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=En(this,B,y),_=vr(this.I),Ke(_,"RID",d),Ke(_,"CVER",22),this.D&&Ke(_,"X-HTTP-Session-Id",this.D),Bs(this,_),G&&(this.O?y="headers="+encodeURIComponent(String(Us(G)))+"&"+y:this.m&&jn(_,this.m,G)),Qo(this.h,B),this.Ua&&Ke(_,"TYPE","init"),this.P?(Ke(_,"$req",y),Ke(_,"SID","null"),B.T=!0,ya(B,_,null)):ya(B,_,y),this.G=2}}else this.G==3&&(d?Ta(this,d):this.i.length==0||yr(this.h)||Ta(this))};function Ta(d,y){var _;y?_=y.l:_=d.U++;const C=vr(d.I);Ke(C,"SID",d.K),Ke(C,"RID",_),Ke(C,"AID",d.T),Bs(d,C),d.m&&d.o&&jn(C,d.m,d.o),_=new Gr(d,d.j,_,d.B+1),d.m===null&&(_.H=d.o),y&&(d.i=y.D.concat(d.i)),y=En(d,_,1e3),_.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Qo(d.h,_),ya(_,C,y)}function Bs(d,y){d.H&&J(d.H,function(_,C){Ke(y,C,_)}),d.l&&yn({},function(_,C){Ke(y,C,_)})}function En(d,y,_){_=Math.min(d.i.length,_);var C=d.l?b(d.l.Na,d.l,d):null;e:{var B=d.i;let G=-1;for(;;){const le=["count="+_];G==-1?0<_?(G=B[0].g,le.push("ofs="+G)):G=0:le.push("ofs="+G);let We=!0;for(let jt=0;jt<_;jt++){let Ve=B[jt].g;const It=B[jt].map;if(Ve-=G,0>Ve)G=Math.max(0,B[jt].g-100),We=!1;else try{Vc(It,le,"req"+Ve+"_")}catch{C&&C(It)}}if(We){C=le.join("&");break e}}}return d=d.i.splice(0,_),y.D=d,C}function Ti(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;te||ue(),X||(te(),X=!0),ge.add(y,d),d.v=0}}function Sa(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=qr(b(d.Fa,d),Bc(d,d.v)),d.v++,!0)}r.Fa=function(){if(this.u=null,Uc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=qr(b(this.ab,this),d)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),Jr(this),Uc(this))};function tl(d){d.A!=null&&(m.clearTimeout(d.A),d.A=null)}function Uc(d){d.g=new Gr(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=vr(d.qa);Ke(y,"RID","rpc"),Ke(y,"SID",d.K),Ke(y,"AID",d.T),Ke(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&Ke(y,"TO",d.ja),Ke(y,"TYPE","xmlhttp"),Bs(d,y),d.m&&d.o&&jn(y,d.m,d.o),d.L&&(d.g.I=d.L);var _=d.g;d=d.ia,_.L=1,_.v=wn(vr(y)),_.m=null,_.P=!0,Go(_,d)}r.Za=function(){this.C!=null&&(this.C=null,Jr(this),Sa(this),pt(19))};function ka(d){d.C!=null&&(m.clearTimeout(d.C),d.C=null)}function Ia(d,y){var _=null;if(d.g==y){ka(d),tl(d),d.g=null;var C=2}else if(tr(d.h,y))_=y.D,Ac(d.h,y),C=1;else return;if(d.G!=0){if(y.o)if(C==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var B=d.B;C=gi(),Nt(C,new pa(C,_)),ps(d)}else Ti(d);else if(B=y.s,B==3||B==0&&0<y.X||!(C==1&&uh(d,y)||C==2&&Sa(d)))switch(_&&0<_.length&&(y=d.h,y.i=y.i.concat(_)),B){case 1:$s(d,5);break;case 4:$s(d,10);break;case 3:$s(d,6);break;default:$s(d,2)}}}function Bc(d,y){let _=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(_*=2),_*y}function $s(d,y){if(d.j.info("Error code "+y),y==2){var _=b(d.fb,d),C=d.Xa;const B=!C;C=new Vs(C||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ni(C,"https"),wn(C),B?oh(C.toString(),_):Lc(C.toString(),_)}else pt(2);d.G=0,d.l&&d.l.sa(y),$c(d),Ea(d)}r.fb=function(d){d?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function $c(d){if(d.G=0,d.ka=[],d.l){const y=Pc(d.h);(y.length!=0||d.i.length!=0)&&(D(d.ka,y),D(d.ka,d.i),d.h.i.length=0,M(d.i),d.i.length=0),d.l.ra()}}function zc(d,y,_){var C=_ instanceof Vs?vr(_):new Vs(_);if(C.g!="")y&&(C.g=y+"."+C.g),vn(C,C.s);else{var B=m.location;C=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var G=new Vs(null);C&&Ni(G,C),y&&(G.g=y),B&&vn(G,B),_&&(G.l=_),C=G}return _=d.D,y=d.ya,_&&y&&Ke(C,_,y),Ke(C,"VER",d.la),Bs(d,C),C}function qc(d,y,_){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new nt(new Fs({eb:_})):new nt(d.pa),y.Ha(d.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function rl(){}r=rl.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ca(){}Ca.prototype.g=function(d,y){return new rr(d,y)};function rr(d,y){_t.call(this),this.g=new el(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!H(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!H(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new fs(this)}k(rr,_t),rr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rr.prototype.close=function(){Lt(this.g)},rr.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var _={};_.__data__=d,d=_}else this.u&&(_={},_.__data__=Fo(d),d=_);y.i.push(new Ic(y.Ya++,d)),y.G==3&&ps(y)},rr.prototype.N=function(){this.g.l=null,delete this.j,Lt(this.g),delete this.g,rr.aa.N.call(this)};function Hc(d){cs.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const _ in y){d=_;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}k(Hc,cs);function Wc(){ma.call(this),this.status=1}k(Wc,ma);function fs(d){this.g=d}k(fs,rl),fs.prototype.ua=function(){Nt(this.g,"a")},fs.prototype.ta=function(d){Nt(this.g,new Hc(d))},fs.prototype.sa=function(d){Nt(this.g,new Wc)},fs.prototype.ra=function(){Nt(this.g,"b")},Ca.prototype.createWebChannel=Ca.prototype.g,rr.prototype.send=rr.prototype.o,rr.prototype.open=rr.prototype.m,rr.prototype.close=rr.prototype.close,jb=function(){return new Ca},Nb=function(){return gi()},_b=us,hp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ga.NO_ERROR=0,ga.TIMEOUT=8,ga.HTTP_ERROR=6,Zu=ga,Ec.COMPLETE="complete",wb=Ec,ha.EventType=Ir,Ir.OPEN="a",Ir.CLOSE="b",Ir.ERROR="c",Ir.MESSAGE="d",_t.prototype.listen=_t.prototype.K,Pl=ha,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,bb=nt}).apply(typeof Bu<"u"?Bu:typeof self<"u"?self:typeof window<"u"?window:{});const cy="@firebase/firestore";let Jt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");let No="10.14.0";const Qi=new Kp("@firebase/firestore");function Sl(){return Qi.logLevel}function ye(r,...e){if(Qi.logLevel<=Oe.DEBUG){const t=e.map(of);Qi.debug(`Firestore (${No}): ${r}`,...t)}}function an(r,...e){if(Qi.logLevel<=Oe.ERROR){const t=e.map(of);Qi.error(`Firestore (${No}): ${r}`,...t)}}function lo(r,...e){if(Qi.logLevel<=Oe.WARN){const t=e.map(of);Qi.warn(`Firestore (${No}): ${r}`,...t)}}function of(r){if(typeof r=="string")return r;try{return(function(t){return JSON.stringify(t)})(r)}catch{return r}}function ke(r="Unexpected state"){const e=`FIRESTORE (${No}) INTERNAL ASSERTION FAILED: `+r;throw an(e),new Error(e)}function Ge(r,e){r||ke()}function Ce(r,e){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Ps{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class rn{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Eb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Jt.UNAUTHENTICATED)))}shutdown(){}}class mS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class pS{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ge(this.o===void 0);let s=this.i;const a=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let l=new rn;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new rn,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await a(this.currentUser)}))},m=p=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new rn)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string"),new Eb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string"),new Jt(e)}}class fS{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class gS{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new fS(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class xS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yS{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Ge(this.o===void 0);const s=l=>{l.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.R;return this.R=l.token,ye("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ge(typeof t.token=="string"),this.R=t.token,new xS(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function vS(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class Tb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=vS(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<t&&(s+=e.charAt(a[l]%e.length))}return s}}function ze(r,e){return r<e?-1:r>e?1:0}function co(r,e,t){return r.length===e.length&&r.every(((s,a)=>t(s,e[a])))}class St{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new me(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new St(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ie{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new St(0,0))}static max(){return new Ie(new St(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Kl{constructor(e,t,s){t===void 0?t=0:t>e.length&&ke(),s===void 0?s=e.length-t:s>e.length-t&&ke(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Kl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Kl?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const l=e.get(a),u=t.get(a);if(l<u)return-1;if(l>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class st extends Kl{construct(e,t,s){return new st(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new me(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((a=>a.length>0)))}return new st(t)}static emptyPath(){return new st([])}}const bS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zt extends Kl{construct(e,t,s){return new zt(e,t,s)}static isValidIdentifier(e){return bS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new zt(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const l=()=>{if(s.length===0)throw new me(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let u=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new me(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new me(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,a+=2}else m==="`"?(u=!u,a++):m!=="."||u?(s+=m,a++):(l(),a++)}if(l(),u)throw new me(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zt(t)}static emptyPath(){return new zt([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(st.fromString(e))}static fromName(e){return new _e(st.fromString(e).popFirst(5))}static empty(){return new _e(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return st.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new st(e.slice()))}}function wS(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,a=Ie.fromTimestamp(s===1e9?new St(t+1,0):new St(t,s));return new ti(a,_e.empty(),e)}function _S(r){return new ti(r.readTime,r.key,-1)}class ti{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new ti(Ie.min(),_e.empty(),-1)}static max(){return new ti(Ie.max(),_e.empty(),-1)}}function NS(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(r.documentKey,e.documentKey),t!==0?t:ze(r.largestBatchId,e.largestBatchId))}const jS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ES{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function dc(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==jS)throw r;ye("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ne.reject(t)}static resolve(e){return new ne(((t,s)=>{t(e)}))}static reject(e){return new ne(((t,s)=>{s(e)}))}static waitFor(e){return new ne(((t,s)=>{let a=0,l=0,u=!1;e.forEach((m=>{++a,m.next((()=>{++l,u&&l===a&&t()}),(p=>s(p)))})),u=!0,l===a&&t()}))}static or(e){let t=ne.resolve(!1);for(const s of e)t=t.next((a=>a?ne.resolve(a):s()));return t}static forEach(e,t){const s=[];return e.forEach(((a,l)=>{s.push(t.call(this,a,l))})),this.waitFor(s)}static mapArray(e,t){return new ne(((s,a)=>{const l=e.length,u=new Array(l);let m=0;for(let p=0;p<l;p++){const x=p;t(e[x]).next((g=>{u[x]=g,++m,m===l&&s(u)}),(g=>a(g)))}}))}static doWhile(e,t){return new ne(((s,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):s()};l()}))}}function TS(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function hc(r){return r.name==="IndexedDbTransactionError"}class lf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ie(s),this.se=s=>t.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}lf.oe=-1;function Dd(r){return r==null}function fd(r){return r===0&&1/r==-1/0}function SS(r){return typeof r=="number"&&Number.isInteger(r)&&!fd(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function uy(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function ra(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Sb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ut{constructor(e,t){this.comparator=e,this.root=t||Bt.EMPTY}insert(e,t){return new ut(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $u(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $u(this.root,e,this.comparator,!1)}getReverseIterator(){return new $u(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $u(this.root,e,this.comparator,!0)}}class $u{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,t,s,a,l){this.key=e,this.value=t,this.color=s??Bt.RED,this.left=a??Bt.EMPTY,this.right=l??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,l){return new Bt(e??this.key,t??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,s),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Bt.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ke();const e=this.left.check();if(e!==this.right.check())throw ke();return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw ke()}get value(){throw ke()}get color(){throw ke()}get left(){throw ke()}get right(){throw ke()}copy(e,t,s,a,l){return this}insert(e,t,s){return new Bt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new dy(this.data.getIterator())}getIteratorFrom(e){return new dy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new qt(this.comparator);return t.data=e,t}}class dy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Tr{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new Tr([])}unionWith(e){let t=new qt(zt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Tr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return co(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}class kb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new kb("Invalid base64 string: "+l):l}})(e);return new Ht(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new Ht(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const kS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ri(r){if(Ge(!!r),typeof r=="string"){let e=0;const t=kS.exec(r);if(Ge(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(r.seconds),nanos:gt(r.nanos)}}function gt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Yi(r){return typeof r=="string"?Ht.fromBase64String(r):Ht.fromUint8Array(r)}function cf(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function uf(r){const e=r.mapValue.fields.__previous_value__;return cf(e)?uf(e):e}function Ql(r){const e=ri(r.mapValue.fields.__local_write_time__.timestampValue);return new St(e.seconds,e.nanos)}class IS{constructor(e,t,s,a,l,u,m,p,x){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=x}}class Yl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Yl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Yl&&e.projectId===this.projectId&&e.database===this.database}}const zu={mapValue:{}};function Xi(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?cf(r)?4:AS(r)?9007199254740991:CS(r)?10:11:ke()}function Is(r,e){if(r===e)return!0;const t=Xi(r);if(t!==Xi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ql(r).isEqual(Ql(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=ri(a.timestampValue),m=ri(l.timestampValue);return u.seconds===m.seconds&&u.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(a,l){return Yi(a.bytesValue).isEqual(Yi(l.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(a,l){return gt(a.geoPointValue.latitude)===gt(l.geoPointValue.latitude)&&gt(a.geoPointValue.longitude)===gt(l.geoPointValue.longitude)})(r,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return gt(a.integerValue)===gt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=gt(a.doubleValue),m=gt(l.doubleValue);return u===m?fd(u)===fd(m):isNaN(u)&&isNaN(m)}return!1})(r,e);case 9:return co(r.arrayValue.values||[],e.arrayValue.values||[],Is);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},m=l.mapValue.fields||{};if(uy(u)!==uy(m))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(m[p]===void 0||!Is(u[p],m[p])))return!1;return!0})(r,e);default:return ke()}}function Xl(r,e){return(r.values||[]).find((t=>Is(t,e)))!==void 0}function uo(r,e){if(r===e)return 0;const t=Xi(r),s=Xi(e);if(t!==s)return ze(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return ze(r.booleanValue,e.booleanValue);case 2:return(function(l,u){const m=gt(l.integerValue||l.doubleValue),p=gt(u.integerValue||u.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return hy(r.timestampValue,e.timestampValue);case 4:return hy(Ql(r),Ql(e));case 5:return ze(r.stringValue,e.stringValue);case 6:return(function(l,u){const m=Yi(l),p=Yi(u);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(l,u){const m=l.split("/"),p=u.split("/");for(let x=0;x<m.length&&x<p.length;x++){const g=ze(m[x],p[x]);if(g!==0)return g}return ze(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(l,u){const m=ze(gt(l.latitude),gt(u.latitude));return m!==0?m:ze(gt(l.longitude),gt(u.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return my(r.arrayValue,e.arrayValue);case 10:return(function(l,u){var m,p,x,g;const w=l.fields||{},b=u.fields||{},j=(m=w.value)===null||m===void 0?void 0:m.arrayValue,k=(p=b.value)===null||p===void 0?void 0:p.arrayValue,M=ze(((x=j?.values)===null||x===void 0?void 0:x.length)||0,((g=k?.values)===null||g===void 0?void 0:g.length)||0);return M!==0?M:my(j,k)})(r.mapValue,e.mapValue);case 11:return(function(l,u){if(l===zu.mapValue&&u===zu.mapValue)return 0;if(l===zu.mapValue)return 1;if(u===zu.mapValue)return-1;const m=l.fields||{},p=Object.keys(m),x=u.fields||{},g=Object.keys(x);p.sort(),g.sort();for(let w=0;w<p.length&&w<g.length;++w){const b=ze(p[w],g[w]);if(b!==0)return b;const j=uo(m[p[w]],x[g[w]]);if(j!==0)return j}return ze(p.length,g.length)})(r.mapValue,e.mapValue);default:throw ke()}}function hy(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ze(r,e);const t=ri(r),s=ri(e),a=ze(t.seconds,s.seconds);return a!==0?a:ze(t.nanos,s.nanos)}function my(r,e){const t=r.values||[],s=e.values||[];for(let a=0;a<t.length&&a<s.length;++a){const l=uo(t[a],s[a]);if(l)return l}return ze(t.length,s.length)}function ho(r){return mp(r)}function mp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const s=ri(t);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return Yi(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return _e.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let s="[",a=!0;for(const l of t.values||[])a?a=!1:s+=",",s+=mp(l);return s+"]"})(r.arrayValue):"mapValue"in r?(function(t){const s=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${mp(t.fields[u])}`;return a+"}"})(r.mapValue):ke()}function py(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function pp(r){return!!r&&"integerValue"in r}function df(r){return!!r&&"arrayValue"in r}function fy(r){return!!r&&"nullValue"in r}function gy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ed(r){return!!r&&"mapValue"in r}function CS(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Ll(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ra(r.mapValue.fields,((t,s)=>e.mapValue.fields[t]=Ll(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ll(r.arrayValue.values[t]);return e}return Object.assign({},r)}function AS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}class fr{constructor(e){this.value=e}static empty(){return new fr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!ed(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ll(t)}setAll(e){let t=zt.emptyPath(),s={},a=[];e.forEach(((u,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,s,a),s={},a=[],t=m.popLast()}u?s[m.lastSegment()]=Ll(u):a.push(m.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,s,a)}delete(e){const t=this.field(e.popLast());ed(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Is(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];ed(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){ra(t,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new fr(Ll(this.value))}}function Ib(r){const e=[];return ra(r.fields,((t,s)=>{const a=new zt([t]);if(ed(s)){const l=Ib(s.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new Tr(e)}class Zt{constructor(e,t,s,a,l,u,m){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,Ie.min(),Ie.min(),Ie.min(),fr.empty(),0)}static newFoundDocument(e,t,s,a){return new Zt(e,1,t,Ie.min(),s,a,0)}static newNoDocument(e,t){return new Zt(e,2,t,Ie.min(),Ie.min(),fr.empty(),0)}static newUnknownDocument(e,t){return new Zt(e,3,t,Ie.min(),Ie.min(),fr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class gd{constructor(e,t){this.position=e,this.inclusive=t}}function xy(r,e,t){let s=0;for(let a=0;a<r.position.length;a++){const l=e[a],u=r.position[a];if(l.field.isKeyField()?s=_e.comparator(_e.fromName(u.referenceValue),t.key):s=uo(u,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function yy(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Is(r.position[t],e.position[t]))return!1;return!0}class Jl{constructor(e,t="asc"){this.field=e,this.dir=t}}function PS(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Cb{}class wt extends Cb{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new DS(e,t,s):t==="array-contains"?new LS(e,s):t==="in"?new VS(e,s):t==="not-in"?new FS(e,s):t==="array-contains-any"?new US(e,s):new wt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new MS(e,s):new OS(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(uo(t,this.value)):t!==null&&Xi(this.value)===Xi(t)&&this.matchesComparison(uo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class os extends Cb{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new os(e,t)}matches(e){return Ab(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ab(r){return r.op==="and"}function Pb(r){return RS(r)&&Ab(r)}function RS(r){for(const e of r.filters)if(e instanceof os)return!1;return!0}function fp(r){if(r instanceof wt)return r.field.canonicalString()+r.op.toString()+ho(r.value);if(Pb(r))return r.filters.map((e=>fp(e))).join(",");{const e=r.filters.map((t=>fp(t))).join(",");return`${r.op}(${e})`}}function Rb(r,e){return r instanceof wt?(function(s,a){return a instanceof wt&&s.op===a.op&&s.field.isEqual(a.field)&&Is(s.value,a.value)})(r,e):r instanceof os?(function(s,a){return a instanceof os&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,u,m)=>l&&Rb(u,a.filters[m])),!0):!1})(r,e):void ke()}function Db(r){return r instanceof wt?(function(t){return`${t.field.canonicalString()} ${t.op} ${ho(t.value)}`})(r):r instanceof os?(function(t){return t.op.toString()+" {"+t.getFilters().map(Db).join(" ,")+"}"})(r):"Filter"}class DS extends wt{constructor(e,t,s){super(e,t,s),this.key=_e.fromName(s.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class MS extends wt{constructor(e,t){super(e,"in",t),this.keys=Mb("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class OS extends wt{constructor(e,t){super(e,"not-in",t),this.keys=Mb("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Mb(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((s=>_e.fromName(s.referenceValue)))}class LS extends wt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return df(t)&&Xl(t.arrayValue,this.value)}}class VS extends wt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Xl(this.value.arrayValue,t)}}class FS extends wt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Xl(this.value.arrayValue,t)}}class US extends wt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!df(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Xl(this.value.arrayValue,s)))}}class BS{constructor(e,t=null,s=[],a=[],l=null,u=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=m,this.ue=null}}function vy(r,e=null,t=[],s=[],a=null,l=null,u=null){return new BS(r,e,t,s,a,l,u)}function hf(r){const e=Ce(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>fp(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Dd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>ho(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>ho(s))).join(",")),e.ue=t}return e.ue}function mf(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!PS(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Rb(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!yy(r.startAt,e.startAt)&&yy(r.endAt,e.endAt)}function gp(r){return _e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class jo{constructor(e,t=null,s=[],a=[],l=null,u="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=m,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function $S(r,e,t,s,a,l,u,m){return new jo(r,e,t,s,a,l,u,m)}function pf(r){return new jo(r)}function by(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Ob(r){return r.collectionGroup!==null}function Vl(r){const e=Ce(r);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let m=new qt(zt.comparator);return u.filters.forEach((p=>{p.getFlattenedFilters().forEach((x=>{x.isInequality()&&(m=m.add(x.field))}))})),m})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new Jl(l,s))})),t.has(zt.keyField().canonicalString())||e.ce.push(new Jl(zt.keyField(),s))}return e.ce}function Ss(r){const e=Ce(r);return e.le||(e.le=zS(e,Vl(r))),e.le}function zS(r,e){if(r.limitType==="F")return vy(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Jl(a.field,l)}));const t=r.endAt?new gd(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new gd(r.startAt.position,r.startAt.inclusive):null;return vy(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function xp(r,e){const t=r.filters.concat([e]);return new jo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function yp(r,e,t){return new jo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Md(r,e){return mf(Ss(r),Ss(e))&&r.limitType===e.limitType}function Lb(r){return`${hf(Ss(r))}|lt:${r.limitType}`}function Ja(r){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((a=>Db(a))).join(", ")}]`),Dd(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((a=>ho(a))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((a=>ho(a))).join(",")),`Target(${s})`})(Ss(r))}; limitType=${r.limitType})`}function Od(r,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):_e.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(r,e)&&(function(s,a){for(const l of Vl(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(r,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(r,e)&&(function(s,a){return!(s.startAt&&!(function(u,m,p){const x=xy(u,m,p);return u.inclusive?x<=0:x<0})(s.startAt,Vl(s),a)||s.endAt&&!(function(u,m,p){const x=xy(u,m,p);return u.inclusive?x>=0:x>0})(s.endAt,Vl(s),a))})(r,e)}function qS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Vb(r){return(e,t)=>{let s=!1;for(const a of Vl(r)){const l=HS(a,e,t);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function HS(r,e,t){const s=r.field.isKeyField()?_e.comparator(e.key,t.key):(function(l,u,m){const p=u.data.field(l),x=m.data.field(l);return p!==null&&x!==null?uo(p,x):ke()})(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ke()}}class Eo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ra(this.inner,((t,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return Sb(this.inner)}size(){return this.innerSize}}const WS=new ut(_e.comparator);function on(){return WS}const Fb=new ut(_e.comparator);function Rl(...r){let e=Fb;for(const t of r)e=e.insert(t.key,t);return e}function Ub(r){let e=Fb;return r.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function $i(){return Fl()}function Bb(){return Fl()}function Fl(){return new Eo((r=>r.toString()),((r,e)=>r.isEqual(e)))}const GS=new ut(_e.comparator),KS=new qt(_e.comparator);function De(...r){let e=KS;for(const t of r)e=e.add(t);return e}const QS=new qt(ze);function YS(){return QS}function ff(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fd(e)?"-0":e}}function $b(r){return{integerValue:""+r}}function XS(r,e){return SS(e)?$b(e):ff(r,e)}class Ld{constructor(){this._=void 0}}function JS(r,e,t){return r instanceof Zl?(function(a,l){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&cf(l)&&(l=uf(l)),l&&(u.fields.__previous_value__=l),{mapValue:u}})(t,e):r instanceof ec?qb(r,e):r instanceof tc?Hb(r,e):(function(a,l){const u=zb(a,l),m=wy(u)+wy(a.Pe);return pp(u)&&pp(a.Pe)?$b(m):ff(a.serializer,m)})(r,e)}function ZS(r,e,t){return r instanceof ec?qb(r,e):r instanceof tc?Hb(r,e):t}function zb(r,e){return r instanceof xd?(function(s){return pp(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Zl extends Ld{}class ec extends Ld{constructor(e){super(),this.elements=e}}function qb(r,e){const t=Wb(e);for(const s of r.elements)t.some((a=>Is(a,s)))||t.push(s);return{arrayValue:{values:t}}}class tc extends Ld{constructor(e){super(),this.elements=e}}function Hb(r,e){let t=Wb(e);for(const s of r.elements)t=t.filter((a=>!Is(a,s)));return{arrayValue:{values:t}}}class xd extends Ld{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function wy(r){return gt(r.integerValue||r.doubleValue)}function Wb(r){return df(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class ek{constructor(e,t){this.field=e,this.transform=t}}function tk(r,e){return r.field.isEqual(e.field)&&(function(s,a){return s instanceof ec&&a instanceof ec||s instanceof tc&&a instanceof tc?co(s.elements,a.elements,Is):s instanceof xd&&a instanceof xd?Is(s.Pe,a.Pe):s instanceof Zl&&a instanceof Zl})(r.transform,e.transform)}class rk{constructor(e,t){this.version=e,this.transformResults=t}}class Ur{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ur}static exists(e){return new Ur(void 0,e)}static updateTime(e){return new Ur(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function td(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Vd{}function Gb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new gf(r.key,Ur.none()):new mc(r.key,r.data,Ur.none());{const t=r.data,s=fr.empty();let a=new qt(zt.comparator);for(let l of e.fields)if(!a.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new li(r.key,s,new Tr(a.toArray()),Ur.none())}}function sk(r,e,t){r instanceof mc?(function(a,l,u){const m=a.value.clone(),p=Ny(a.fieldTransforms,l,u.transformResults);m.setAll(p),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(r,e,t):r instanceof li?(function(a,l,u){if(!td(a.precondition,l))return void l.convertToUnknownDocument(u.version);const m=Ny(a.fieldTransforms,l,u.transformResults),p=l.data;p.setAll(Kb(a)),p.setAll(m),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(r,e,t):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Ul(r,e,t,s){return r instanceof mc?(function(l,u,m,p){if(!td(l.precondition,u))return m;const x=l.value.clone(),g=jy(l.fieldTransforms,p,u);return x.setAll(g),u.convertToFoundDocument(u.version,x).setHasLocalMutations(),null})(r,e,t,s):r instanceof li?(function(l,u,m,p){if(!td(l.precondition,u))return m;const x=jy(l.fieldTransforms,p,u),g=u.data;return g.setAll(Kb(l)),g.setAll(x),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),m===null?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((w=>w.field)))})(r,e,t,s):(function(l,u,m){return td(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):m})(r,e,t)}function nk(r,e){let t=null;for(const s of r.fieldTransforms){const a=e.data.field(s.field),l=zb(s.transform,a||null);l!=null&&(t===null&&(t=fr.empty()),t.set(s.field,l))}return t||null}function _y(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&co(s,a,((l,u)=>tk(l,u)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class mc extends Vd{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class li extends Vd{constructor(e,t,s,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Kb(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}})),e}function Ny(r,e,t){const s=new Map;Ge(r.length===t.length);for(let a=0;a<t.length;a++){const l=r[a],u=l.transform,m=e.data.field(l.field);s.set(l.field,ZS(u,m,t[a]))}return s}function jy(r,e,t){const s=new Map;for(const a of r){const l=a.transform,u=t.data.field(a.field);s.set(a.field,JS(l,u,e))}return s}class gf extends Vd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ik extends Vd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ak{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&sk(l,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Ul(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Ul(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Bb();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let m=this.applyToLocalView(u,l.mutatedFields);m=t.has(a.key)?null:m;const p=Gb(u,m);p!==null&&s.set(a.key,p),u.isValidDocument()||u.convertToNoDocument(Ie.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),De())}isEqual(e){return this.batchId===e.batchId&&co(this.mutations,e.mutations,((t,s)=>_y(t,s)))&&co(this.baseMutations,e.baseMutations,((t,s)=>_y(t,s)))}}class xf{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){Ge(e.mutations.length===s.length);let a=(function(){return GS})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new xf(e,t,s,a)}}class ok{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class lk{constructor(e,t){this.count=e,this.unchangedNames=t}}var bt,Fe;function ck(r){switch(r){default:return ke();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0}}function Qb(r){if(r===void 0)return an("GRPC error has no .code"),Z.UNKNOWN;switch(r){case bt.OK:return Z.OK;case bt.CANCELLED:return Z.CANCELLED;case bt.UNKNOWN:return Z.UNKNOWN;case bt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case bt.INTERNAL:return Z.INTERNAL;case bt.UNAVAILABLE:return Z.UNAVAILABLE;case bt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case bt.NOT_FOUND:return Z.NOT_FOUND;case bt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case bt.ABORTED:return Z.ABORTED;case bt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case bt.DATA_LOSS:return Z.DATA_LOSS;default:return ke()}}(Fe=bt||(bt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";function uk(){return new TextEncoder}const dk=new zi([4294967295,4294967295],0);function Ey(r){const e=uk().encode(r),t=new vb;return t.update(e),new Uint8Array(t.digest())}function Ty(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new zi([t,s],0),new zi([a,l],0)]}class yf{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Dl(`Invalid padding: ${t}`);if(s<0)throw new Dl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Dl(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Dl(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=zi.fromNumber(this.Ie)}Ee(e,t,s){let a=e.add(t.multiply(zi.fromNumber(s)));return a.compare(dk)===1&&(a=new zi([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=Ey(e),[s,a]=Ty(t);for(let l=0;l<this.hashCount;l++){const u=this.Ee(s,a,l);if(!this.de(u))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new yf(l,a,t);return s.forEach((m=>u.insert(m))),u}insert(e){if(this.Ie===0)return;const t=Ey(e),[s,a]=Ty(t);for(let l=0;l<this.hashCount;l++){const u=this.Ee(s,a,l);this.Ae(u)}}Ae(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Fd{constructor(e,t,s,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,pc.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Fd(Ie.min(),a,new ut(ze),on(),De())}}class pc{constructor(e,t,s,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new pc(s,t,De(),De(),De())}}class rd{constructor(e,t,s,a){this.Re=e,this.removedTargetIds=t,this.key=s,this.Ve=a}}class Yb{constructor(e,t){this.targetId=e,this.me=t}}class Xb{constructor(e,t,s=Ht.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class Sy{constructor(){this.fe=0,this.ge=Iy(),this.pe=Ht.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=De(),t=De(),s=De();return this.ge.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:ke()}})),new pc(this.pe,this.ye,e,t,s)}Ce(){this.we=!1,this.ge=Iy()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ge(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class hk{constructor(e){this.Le=e,this.Be=new Map,this.ke=on(),this.qe=ky(),this.Qe=new ut(ze)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const s=this.Ge(t);switch(e.state){case 0:this.ze(t)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),s.De(e.resumeToken));break;default:ke()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((s,a)=>{this.ze(a)&&t(a)}))}He(e){const t=e.targetId,s=e.me.count,a=this.Je(t);if(a){const l=a.target;if(gp(l))if(s===0){const u=new _e(l.path);this.Ue(t,u,Zt.newNoDocument(u,Ie.min()))}else Ge(s===1);else{const u=this.Ye(t);if(u!==s){const m=this.Ze(e),p=m?this.Xe(m,e,u):1;if(p!==0){this.je(t);const x=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,x)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=t;let u,m;try{u=Yi(s).toUint8Array()}catch(p){if(p instanceof kb)return lo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new yf(u,a,l)}catch(p){return lo(p instanceof Dl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ie===0?null:m}Xe(e,t,s){return t.me.count===s-this.nt(e,t.targetId)?0:2}nt(e,t){const s=this.Le.getRemoteKeysForTarget(t);let a=0;return s.forEach((l=>{const u=this.Le.tt(),m=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(m)||(this.Ue(t,l,null),a++)})),a}rt(e){const t=new Map;this.Be.forEach(((l,u)=>{const m=this.Je(u);if(m){if(l.current&&gp(m.target)){const p=new _e(m.target.path);this.ke.get(p)!==null||this.it(u,p)||this.Ue(u,p,Zt.newNoDocument(p,e))}l.be&&(t.set(u,l.ve()),l.Ce())}}));let s=De();this.qe.forEach(((l,u)=>{let m=!0;u.forEachWhile((p=>{const x=this.Je(p);return!x||x.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(l))})),this.ke.forEach(((l,u)=>u.setReadTime(e)));const a=new Fd(e,t,this.Qe,this.ke,s);return this.ke=on(),this.qe=ky(),this.Qe=new ut(ze),a}$e(e,t){if(!this.ze(e))return;const s=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,s),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,s){if(!this.ze(e))return;const a=this.Ge(e);this.it(e,t)?a.Fe(t,1):a.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),s&&(this.ke=this.ke.insert(t,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Sy,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new qt(ze),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Sy),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function ky(){return new ut(_e.comparator)}function Iy(){return new ut(_e.comparator)}const mk={asc:"ASCENDING",desc:"DESCENDING"},pk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fk={and:"AND",or:"OR"};class gk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function vp(r,e){return r.useProto3Json||Dd(e)?e:{value:e}}function yd(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Jb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function xk(r,e){return yd(r,e.toTimestamp())}function ks(r){return Ge(!!r),Ie.fromTimestamp((function(t){const s=ri(t);return new St(s.seconds,s.nanos)})(r))}function vf(r,e){return bp(r,e).canonicalString()}function bp(r,e){const t=(function(a){return new st(["projects",a.projectId,"databases",a.database])})(r).child("documents");return e===void 0?t:t.child(e)}function Zb(r){const e=st.fromString(r);return Ge(nw(e)),e}function wp(r,e){return vf(r.databaseId,e.path)}function zm(r,e){const t=Zb(e);if(t.get(1)!==r.databaseId.projectId)throw new me(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new me(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new _e(tw(t))}function ew(r,e){return vf(r.databaseId,e)}function yk(r){const e=Zb(r);return e.length===4?st.emptyPath():tw(e)}function _p(r){return new st(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function tw(r){return Ge(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Cy(r,e,t){return{name:wp(r,e),fields:t.value.mapValue.fields}}function vk(r,e){let t;if("targetChange"in e){e.targetChange;const s=(function(x){return x==="NO_CHANGE"?0:x==="ADD"?1:x==="REMOVE"?2:x==="CURRENT"?3:x==="RESET"?4:ke()})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(x,g){return x.useProto3Json?(Ge(g===void 0||typeof g=="string"),Ht.fromBase64String(g||"")):(Ge(g===void 0||g instanceof Buffer||g instanceof Uint8Array),Ht.fromUint8Array(g||new Uint8Array))})(r,e.targetChange.resumeToken),u=e.targetChange.cause,m=u&&(function(x){const g=x.code===void 0?Z.UNKNOWN:Qb(x.code);return new me(g,x.message||"")})(u);t=new Xb(s,a,l,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=zm(r,s.document.name),l=ks(s.document.updateTime),u=s.document.createTime?ks(s.document.createTime):Ie.min(),m=new fr({mapValue:{fields:s.document.fields}}),p=Zt.newFoundDocument(a,l,u,m),x=s.targetIds||[],g=s.removedTargetIds||[];t=new rd(x,g,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=zm(r,s.document),l=s.readTime?ks(s.readTime):Ie.min(),u=Zt.newNoDocument(a,l),m=s.removedTargetIds||[];t=new rd([],m,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=zm(r,s.document),l=s.removedTargetIds||[];t=new rd([],l,a,null)}else{if(!("filter"in e))return ke();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new lk(a,l),m=s.targetId;t=new Yb(m,u)}}return t}function bk(r,e){let t;if(e instanceof mc)t={update:Cy(r,e.key,e.value)};else if(e instanceof gf)t={delete:wp(r,e.key)};else if(e instanceof li)t={update:Cy(r,e.key,e.data),updateMask:Ik(e.fieldMask)};else{if(!(e instanceof ik))return ke();t={verify:wp(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(l,u){const m=u.transform;if(m instanceof Zl)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ec)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof tc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof xd)return{fieldPath:u.field.canonicalString(),increment:m.Pe};throw ke()})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:xk(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:ke()})(r,e.precondition)),t}function wk(r,e){return r&&r.length>0?(Ge(e!==void 0),r.map((t=>(function(a,l){let u=a.updateTime?ks(a.updateTime):ks(l);return u.isEqual(Ie.min())&&(u=ks(l)),new rk(u,a.transformResults||[])})(t,e)))):[]}function _k(r,e){return{documents:[ew(r,e.path)]}}function Nk(r,e){const t={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=ew(r,a);const l=(function(x){if(x.length!==0)return sw(os.create(x,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const u=(function(x){if(x.length!==0)return x.map((g=>(function(b){return{field:Za(b.field),direction:Tk(b.dir)}})(g)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const m=vp(r,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=(function(x){return{before:x.inclusive,values:x.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(x){return{before:!x.inclusive,values:x.position}})(e.endAt)),{_t:t,parent:a}}function jk(r){let e=yk(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){Ge(s===1);const g=t.from[0];g.allDescendants?a=g.collectionId:e=e.child(g.collectionId)}let l=[];t.where&&(l=(function(w){const b=rw(w);return b instanceof os&&Pb(b)?b.getFilters():[b]})(t.where));let u=[];t.orderBy&&(u=(function(w){return w.map((b=>(function(k){return new Jl(eo(k.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(b)))})(t.orderBy));let m=null;t.limit&&(m=(function(w){let b;return b=typeof w=="object"?w.value:w,Dd(b)?null:b})(t.limit));let p=null;t.startAt&&(p=(function(w){const b=!!w.before,j=w.values||[];return new gd(j,b)})(t.startAt));let x=null;return t.endAt&&(x=(function(w){const b=!w.before,j=w.values||[];return new gd(j,b)})(t.endAt)),$S(e,a,u,l,m,"F",p,x)}function Ek(r,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke()}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function rw(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=eo(t.unaryFilter.field);return wt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=eo(t.unaryFilter.field);return wt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=eo(t.unaryFilter.field);return wt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=eo(t.unaryFilter.field);return wt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return ke()}})(r):r.fieldFilter!==void 0?(function(t){return wt.create(eo(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ke()}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return os.create(t.compositeFilter.filters.map((s=>rw(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ke()}})(t.compositeFilter.op))})(r):ke()}function Tk(r){return mk[r]}function Sk(r){return pk[r]}function kk(r){return fk[r]}function Za(r){return{fieldPath:r.canonicalString()}}function eo(r){return zt.fromServerFormat(r.fieldPath)}function sw(r){return r instanceof wt?(function(t){if(t.op==="=="){if(gy(t.value))return{unaryFilter:{field:Za(t.field),op:"IS_NAN"}};if(fy(t.value))return{unaryFilter:{field:Za(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(gy(t.value))return{unaryFilter:{field:Za(t.field),op:"IS_NOT_NAN"}};if(fy(t.value))return{unaryFilter:{field:Za(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Za(t.field),op:Sk(t.op),value:t.value}}})(r):r instanceof os?(function(t){const s=t.getFilters().map((a=>sw(a)));return s.length===1?s[0]:{compositeFilter:{op:kk(t.op),filters:s}}})(r):ke()}function Ik(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function nw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Kn{constructor(e,t,s,a,l=Ie.min(),u=Ie.min(),m=Ht.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Kn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Kn(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Kn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Kn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ck{constructor(e){this.ct=e}}function Ak(r){const e=jk({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?yp(e,e.limit,"L"):e}class Pk{constructor(){this.un=new Rk}addToCollectionParentIndex(e,t){return this.un.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(ti.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(ti.min())}updateCollectionGroup(e,t,s){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class Rk{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new qt(st.comparator),l=!a.has(s);return this.index[t]=a.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new qt(st.comparator)).toArray()}}class mo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new mo(0)}static kn(){return new mo(-1)}}class Dk{constructor(){this.changes=new Eo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ne.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Mk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ok{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(s!==null&&Ul(s.mutation,a,Tr.empty(),St.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,De()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=De()){const a=$i();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,s).next((l=>{let u=Rl();return l.forEach(((m,p)=>{u=u.insert(m,p.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const s=$i();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,De())))}populateOverlays(e,t,s){const a=[];return s.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,m)=>{t.set(u,m)}))}))}computeViews(e,t,s,a){let l=on();const u=Fl(),m=(function(){return Fl()})();return t.forEach(((p,x)=>{const g=s.get(x.key);a.has(x.key)&&(g===void 0||g.mutation instanceof li)?l=l.insert(x.key,x):g!==void 0?(u.set(x.key,g.mutation.getFieldMask()),Ul(g.mutation,x,g.mutation.getFieldMask(),St.now())):u.set(x.key,Tr.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((x,g)=>u.set(x,g))),t.forEach(((x,g)=>{var w;return m.set(x,new Mk(g,(w=u.get(x))!==null&&w!==void 0?w:null))})),m)))}recalculateAndSaveOverlays(e,t){const s=Fl();let a=new ut(((u,m)=>u-m)),l=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const m of u)m.keys().forEach((p=>{const x=t.get(p);if(x===null)return;let g=s.get(p)||Tr.empty();g=m.applyToLocalView(x,g),s.set(p,g);const w=(a.get(m.batchId)||De()).add(p);a=a.insert(m.batchId,w)}))})).next((()=>{const u=[],m=a.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),x=p.key,g=p.value,w=Bb();g.forEach((b=>{if(!l.has(b)){const j=Gb(t.get(b),s.get(b));j!==null&&w.set(b,j),l=l.add(b)}})),u.push(this.documentOverlayCache.saveOverlays(e,x,w))}return ne.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,a){return(function(u){return _e.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ob(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,a):this.getDocumentsMatchingCollectionQuery(e,t,s,a)}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-l.size):ne.resolve($i());let m=-1,p=l;return u.next((x=>ne.forEach(x,((g,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),l.get(g)?ne.resolve():this.remoteDocumentCache.getEntry(e,g).next((b=>{p=p.insert(g,b)}))))).next((()=>this.populateOverlays(e,x,l))).next((()=>this.computeViews(e,p,x,De()))).next((g=>({batchId:m,changes:Ub(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next((s=>{let a=Rl();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,a){const l=t.collectionGroup;let u=Rl();return this.indexManager.getCollectionParents(e,l).next((m=>ne.forEach(m,(p=>{const x=(function(w,b){return new jo(b,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,x,s,a).next((g=>{g.forEach(((w,b)=>{u=u.insert(w,b)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,a)))).next((u=>{l.forEach(((p,x)=>{const g=x.getKey();u.get(g)===null&&(u=u.insert(g,Zt.newInvalidDocument(g)))}));let m=Rl();return u.forEach(((p,x)=>{const g=l.get(p);g!==void 0&&Ul(g.mutation,x,Tr.empty(),St.now()),Od(t,x)&&(m=m.insert(p,x))})),m}))}}class Lk{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return ne.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:ks(a.createTime)}})(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,(function(a){return{name:a.name,query:Ak(a.bundledQuery),readTime:ks(a.readTime)}})(t)),ne.resolve()}}class Vk{constructor(){this.overlays=new ut(_e.comparator),this.Ir=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const s=$i();return ne.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((a,l)=>{this.ht(e,t,l)})),ne.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.Ir.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Ir.delete(s)),ne.resolve()}getOverlaysForCollection(e,t,s){const a=$i(),l=t.length+1,u=new _e(t.child("")),m=this.overlays.getIteratorFrom(u);for(;m.hasNext();){const p=m.getNext().value,x=p.getKey();if(!t.isPrefixOf(x.path))break;x.path.length===l&&p.largestBatchId>s&&a.set(p.getKey(),p)}return ne.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let l=new ut(((x,g)=>x-g));const u=this.overlays.getIterator();for(;u.hasNext();){const x=u.getNext().value;if(x.getKey().getCollectionGroup()===t&&x.largestBatchId>s){let g=l.get(x.largestBatchId);g===null&&(g=$i(),l=l.insert(x.largestBatchId,g)),g.set(x.getKey(),x)}}const m=$i(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((x,g)=>m.set(x,g))),!(m.size()>=a)););return ne.resolve(m)}ht(e,t,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.Ir.get(a.largestBatchId).delete(s.key);this.Ir.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new ok(t,s));let l=this.Ir.get(t);l===void 0&&(l=De(),this.Ir.set(t,l)),this.Ir.set(t,l.add(s.key))}}class Fk{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}class bf{constructor(){this.Tr=new qt(Rt.Er),this.dr=new qt(Rt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const s=new Rt(e,t);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Vr(new Rt(e,t))}mr(e,t){e.forEach((s=>this.removeReference(s,t)))}gr(e){const t=new _e(new st([])),s=new Rt(t,e),a=new Rt(t,e+1),l=[];return this.dr.forEachInRange([s,a],(u=>{this.Vr(u),l.push(u.key)})),l}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new _e(new st([])),s=new Rt(t,e),a=new Rt(t,e+1);let l=De();return this.dr.forEachInRange([s,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const t=new Rt(e,0),s=this.Tr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Rt{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return _e.comparator(e.key,t.key)||ze(e.wr,t.wr)}static Ar(e,t){return ze(e.wr,t.wr)||_e.comparator(e.key,t.key)}}class Uk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new qt(Rt.Er)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,a){const l=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new ak(l,t,s,a);this.mutationQueue.push(u);for(const m of a)this.br=this.br.add(new Rt(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(u)}lookupMutationBatch(e,t){return ne.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=this.vr(s),l=a<0?0:a;return ne.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Rt(t,0),a=new Rt(t,Number.POSITIVE_INFINITY),l=[];return this.br.forEachInRange([s,a],(u=>{const m=this.Dr(u.wr);l.push(m)})),ne.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new qt(ze);return t.forEach((a=>{const l=new Rt(a,0),u=new Rt(a,Number.POSITIVE_INFINITY);this.br.forEachInRange([l,u],(m=>{s=s.add(m.wr)}))})),ne.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let l=s;_e.isDocumentKey(l)||(l=l.child(""));const u=new Rt(new _e(l),0);let m=new qt(ze);return this.br.forEachWhile((p=>{const x=p.key.path;return!!s.isPrefixOf(x)&&(x.length===a&&(m=m.add(p.wr)),!0)}),u),ne.resolve(this.Cr(m))}Cr(e){const t=[];return e.forEach((s=>{const a=this.Dr(s);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){Ge(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.br;return ne.forEach(t.mutations,(a=>{const l=new Rt(a.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.br=s}))}On(e){}containsKey(e,t){const s=new Rt(t,0),a=this.br.firstAfterOrEqual(s);return ne.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Bk{constructor(e){this.Mr=e,this.docs=(function(){return new ut(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),l=a?a.size:0,u=this.Mr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ne.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(t))}getEntries(e,t){let s=on();return t.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():Zt.newInvalidDocument(a))})),ne.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let l=on();const u=t.path,m=new _e(u.child("")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:x,value:{document:g}}=p.getNext();if(!u.isPrefixOf(x.path))break;x.path.length>u.length+1||NS(_S(g),s)<=0||(a.has(g.key)||Od(t,g))&&(l=l.insert(g.key,g.mutableCopy()))}return ne.resolve(l)}getAllFromCollectionGroup(e,t,s,a){ke()}Or(e,t){return ne.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new $k(this)}getSize(e){return ne.resolve(this.size)}}class $k extends Dk{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?t.push(this.cr.addEntry(e,a)):this.cr.removeEntry(s)})),ne.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class zk{constructor(e){this.persistence=e,this.Nr=new Eo((t=>hf(t)),mf),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.Lr=0,this.Br=new bf,this.targetCount=0,this.kr=mo.Bn()}forEachTarget(e,t){return this.Nr.forEach(((s,a)=>t(a))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Lr&&(this.Lr=t),ne.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new mo(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.Kn(t),ne.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,s){let a=0;const l=[];return this.Nr.forEach(((u,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.Nr.delete(u),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)})),ne.waitFor(l).next((()=>a))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const s=this.Nr.get(t)||null;return ne.resolve(s)}addMatchingKeys(e,t,s){return this.Br.Rr(t,s),ne.resolve()}removeMatchingKeys(e,t,s){this.Br.mr(t,s);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),ne.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Br.yr(t);return ne.resolve(s)}containsKey(e,t){return ne.resolve(this.Br.containsKey(t))}}class qk{constructor(e,t){this.qr={},this.overlays={},this.Qr=new lf(0),this.Kr=!1,this.Kr=!0,this.$r=new Fk,this.referenceDelegate=e(this),this.Ur=new zk(this),this.indexManager=new Pk,this.remoteDocumentCache=(function(a){return new Bk(a)})((s=>this.referenceDelegate.Wr(s))),this.serializer=new Ck(t),this.Gr=new Lk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Vk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.qr[e.toKey()];return s||(s=new Uk(t,this.referenceDelegate),this.qr[e.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,s){ye("MemoryPersistence","Starting transaction:",e);const a=new Hk(this.Qr.next());return this.referenceDelegate.zr(),s(a).next((l=>this.referenceDelegate.jr(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Hr(e,t){return ne.or(Object.values(this.qr).map((s=>()=>s.containsKey(e,t))))}}class Hk extends ES{constructor(e){super(),this.currentSequenceNumber=e}}class wf{constructor(e){this.persistence=e,this.Jr=new bf,this.Yr=null}static Zr(e){return new wf(e)}get Xr(){if(this.Yr)return this.Yr;throw ke()}addReference(e,t,s){return this.Jr.addReference(s,t),this.Xr.delete(s.toString()),ne.resolve()}removeReference(e,t,s){return this.Jr.removeReference(s,t),this.Xr.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((a=>this.Xr.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.Xr.add(l.toString())))})).next((()=>s.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.Xr,(s=>{const a=_e.fromPath(s);return this.ei(e,a).next((l=>{l||t.removeEntry(a,Ie.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((s=>{s?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return ne.or([()=>ne.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class _f{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.$i=s,this.Ui=a}static Wi(e,t){let s=De(),a=De();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new _f(e,t.fromCache,s,a)}}class Wk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Gk{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return M2()?8:TS(er())>0?6:4})()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,s,a){const l={result:null};return this.Yi(e,t).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.Zi(e,t,a,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new Wk;return this.Xi(e,t,u).next((m=>{if(l.result=m,this.zi)return this.es(e,t,u,m.size)}))})).next((()=>l.result))}es(e,t,s,a){return s.documentReadCount<this.ji?(Sl()<=Oe.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Ja(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ne.resolve()):(Sl()<=Oe.DEBUG&&ye("QueryEngine","Query:",Ja(t),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.Hi*a?(Sl()<=Oe.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Ja(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ss(t))):ne.resolve())}Yi(e,t){if(by(t))return ne.resolve(null);let s=Ss(t);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=yp(t,null,"F"),s=Ss(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const u=De(...l);return this.Ji.getDocuments(e,u).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const x=this.ts(t,m);return this.ns(t,x,u,p.readTime)?this.Yi(e,yp(t,null,"F")):this.rs(e,x,t,p)}))))})))))}Zi(e,t,s,a){return by(t)||a.isEqual(Ie.min())?ne.resolve(null):this.Ji.getDocuments(e,s).next((l=>{const u=this.ts(t,l);return this.ns(t,u,s,a)?ne.resolve(null):(Sl()<=Oe.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ja(t)),this.rs(e,u,t,wS(a,-1)).next((m=>m)))}))}ts(e,t){let s=new qt(Vb(e));return t.forEach(((a,l)=>{Od(e,l)&&(s=s.add(l))})),s}ns(e,t,s,a){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Xi(e,t,s){return Sl()<=Oe.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Ja(t)),this.Ji.getDocumentsMatchingQuery(e,t,ti.min(),s)}rs(e,t,s,a){return this.Ji.getDocumentsMatchingQuery(e,s,a).next((l=>(t.forEach((u=>{l=l.insert(u.key,u)})),l)))}}class Kk{constructor(e,t,s,a){this.persistence=e,this.ss=t,this.serializer=a,this.os=new ut(ze),this._s=new Eo((l=>hf(l)),mf),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(s)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ok(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function Qk(r,e,t,s){return new Kk(r,e,t,s)}async function iw(r,e){const t=Ce(r);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,t.ls(e),t.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],m=[];let p=De();for(const x of a){u.push(x.batchId);for(const g of x.mutations)p=p.add(g.key)}for(const x of l){m.push(x.batchId);for(const g of x.mutations)p=p.add(g.key)}return t.localDocuments.getDocuments(s,p).next((x=>({hs:x,removedBatchIds:u,addedBatchIds:m})))}))}))}function Yk(r,e){const t=Ce(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=t.cs.newChangeBuffer({trackRemovals:!0});return(function(m,p,x,g){const w=x.batch,b=w.keys();let j=ne.resolve();return b.forEach((k=>{j=j.next((()=>g.getEntry(p,k))).next((M=>{const D=x.docVersions.get(k);Ge(D!==null),M.version.compareTo(D)<0&&(w.applyToRemoteDocument(M,x),M.isValidDocument()&&(M.setReadTime(x.commitVersion),g.addEntry(M)))}))})),j.next((()=>m.mutationQueue.removeMutationBatch(p,w)))})(t,s,e,l).next((()=>l.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=De();for(let x=0;x<m.mutationResults.length;++x)m.mutationResults[x].transformResults.length>0&&(p=p.add(m.batch.mutations[x].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(s,a)))}))}function aw(r){const e=Ce(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Ur.getLastRemoteSnapshotVersion(t)))}function Xk(r,e){const t=Ce(r),s=e.snapshotVersion;let a=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=t.cs.newChangeBuffer({trackRemovals:!0});a=t.os;const m=[];e.targetChanges.forEach(((g,w)=>{const b=a.get(w);if(!b)return;m.push(t.Ur.removeMatchingKeys(l,g.removedDocuments,w).next((()=>t.Ur.addMatchingKeys(l,g.addedDocuments,w))));let j=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?j=j.withResumeToken(Ht.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):g.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(g.resumeToken,s)),a=a.insert(w,j),(function(M,D,W){return M.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(b,j,g)&&m.push(t.Ur.updateTargetData(l,j))}));let p=on(),x=De();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,g))})),m.push(Jk(l,u,e.documentUpdates).next((g=>{p=g.Ps,x=g.Is}))),!s.isEqual(Ie.min())){const g=t.Ur.getLastRemoteSnapshotVersion(l).next((w=>t.Ur.setTargetsMetadata(l,l.currentSequenceNumber,s)));m.push(g)}return ne.waitFor(m).next((()=>u.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,x))).next((()=>p))})).then((l=>(t.os=a,l)))}function Jk(r,e,t){let s=De(),a=De();return t.forEach((l=>s=s.add(l))),e.getEntries(r,s).next((l=>{let u=on();return t.forEach(((m,p)=>{const x=l.get(m);p.isFoundDocument()!==x.isFoundDocument()&&(a=a.add(m)),p.isNoDocument()&&p.version.isEqual(Ie.min())?(e.removeEntry(m,p.readTime),u=u.insert(m,p)):!x.isValidDocument()||p.version.compareTo(x.version)>0||p.version.compareTo(x.version)===0&&x.hasPendingWrites?(e.addEntry(p),u=u.insert(m,p)):ye("LocalStore","Ignoring outdated watch update for ",m,". Current version:",x.version," Watch version:",p.version)})),{Ps:u,Is:a}}))}function Zk(r,e){const t=Ce(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function e4(r,e){const t=Ce(r);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return t.Ur.getTargetData(s,e).next((l=>l?(a=l,ne.resolve(a)):t.Ur.allocateTargetId(s).next((u=>(a=new Kn(e,u,"TargetPurposeListen",s.currentSequenceNumber),t.Ur.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=t.os.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.os=t.os.insert(s.targetId,s),t._s.set(e,s.targetId)),s}))}async function Np(r,e,t){const s=Ce(r),a=s.os.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!hc(u))throw u;ye("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}s.os=s.os.remove(e),s._s.delete(a.target)}function Ay(r,e,t){const s=Ce(r);let a=Ie.min(),l=De();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(p,x,g){const w=Ce(p),b=w._s.get(g);return b!==void 0?ne.resolve(w.os.get(b)):w.Ur.getTargetData(x,g)})(s,u,Ss(e)).next((m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(u,m.targetId).next((p=>{l=p}))})).next((()=>s.ss.getDocumentsMatchingQuery(u,e,t?a:Ie.min(),t?l:De()))).next((m=>(t4(s,qS(e),m),{documents:m,Ts:l})))))}function t4(r,e,t){let s=r.us.get(e)||Ie.min();t.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),r.us.set(e,s)}class Py{constructor(){this.activeTargetIds=YS()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class r4{constructor(){this.so=new Py,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,s){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Py,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class s4{_o(e){}shutdown(){}}class Ry{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ye("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ye("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let qu=null;function qm(){return qu===null?qu=(function(){return 268435456+Math.round(2147483648*Math.random())})():qu++,"0x"+qu.toString(16)}const n4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class i4{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Xt="WebChannelConnection";class a4 extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const s=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+t.host,this.vo=`projects/${a}/databases/${l}`,this.Co=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${l}`}get Fo(){return!1}Mo(t,s,a,l,u){const m=qm(),p=this.xo(t,s.toUriEncodedString());ye("RestConnection",`Sending RPC '${t}' ${m}:`,p,a);const x={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(x,l,u),this.No(t,p,x,a).then((g=>(ye("RestConnection",`Received RPC '${t}' ${m}: `,g),g)),(g=>{throw lo("RestConnection",`RPC '${t}' ${m} failed with error: `,g,"url: ",p,"request:",a),g}))}Lo(t,s,a,l,u,m){return this.Mo(t,s,a,l,u)}Oo(t,s,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+No})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach(((l,u)=>t[u]=l)),a&&a.headers.forEach(((l,u)=>t[u]=l))}xo(t,s){const a=n4[t];return`${this.Do}/v1/${s}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,s,a){const l=qm();return new Promise(((u,m)=>{const p=new bb;p.setWithCredentials(!0),p.listenOnce(wb.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Zu.NO_ERROR:const g=p.getResponseJson();ye(Xt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),u(g);break;case Zu.TIMEOUT:ye(Xt,`RPC '${e}' ${l} timed out`),m(new me(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Zu.HTTP_ERROR:const w=p.getStatus();if(ye(Xt,`RPC '${e}' ${l} failed with status:`,w,"response text:",p.getResponseText()),w>0){let b=p.getResponseJson();Array.isArray(b)&&(b=b[0]);const j=b?.error;if(j&&j.status&&j.message){const k=(function(D){const W=D.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(W)>=0?W:Z.UNKNOWN})(j.status);m(new me(k,j.message))}else m(new me(Z.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new me(Z.UNAVAILABLE,"Connection failed."));break;default:ke()}}finally{ye(Xt,`RPC '${e}' ${l} completed.`)}}));const x=JSON.stringify(a);ye(Xt,`RPC '${e}' ${l} sending request:`,a),p.send(t,"POST",x,s,15)}))}Bo(e,t,s){const a=qm(),l=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=jb(),m=Nb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},x=this.longPollingOptions.timeoutSeconds;x!==void 0&&(p.longPollingTimeout=Math.round(1e3*x)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Oo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const g=l.join("");ye(Xt,`Creating RPC '${e}' stream ${a}: ${g}`,p);const w=u.createWebChannel(g,p);let b=!1,j=!1;const k=new i4({Io:D=>{j?ye(Xt,`Not sending because RPC '${e}' stream ${a} is closed:`,D):(b||(ye(Xt,`Opening RPC '${e}' stream ${a} transport.`),w.open(),b=!0),ye(Xt,`RPC '${e}' stream ${a} sending:`,D),w.send(D))},To:()=>w.close()}),M=(D,W,H)=>{D.listen(W,(Q=>{try{H(Q)}catch(K){setTimeout((()=>{throw K}),0)}}))};return M(w,Pl.EventType.OPEN,(()=>{j||(ye(Xt,`RPC '${e}' stream ${a} transport opened.`),k.yo())})),M(w,Pl.EventType.CLOSE,(()=>{j||(j=!0,ye(Xt,`RPC '${e}' stream ${a} transport closed`),k.So())})),M(w,Pl.EventType.ERROR,(D=>{j||(j=!0,lo(Xt,`RPC '${e}' stream ${a} transport errored:`,D),k.So(new me(Z.UNAVAILABLE,"The operation could not be completed")))})),M(w,Pl.EventType.MESSAGE,(D=>{var W;if(!j){const H=D.data[0];Ge(!!H);const Q=H,K=Q.error||((W=Q[0])===null||W===void 0?void 0:W.error);if(K){ye(Xt,`RPC '${e}' stream ${a} received error:`,K);const Y=K.status;let J=(function(T){const N=bt[T];if(N!==void 0)return Qb(N)})(Y),O=K.message;J===void 0&&(J=Z.INTERNAL,O="Unknown error status: "+Y+" with message "+K.message),j=!0,k.So(new me(J,O)),w.close()}else ye(Xt,`RPC '${e}' stream ${a} received:`,H),k.bo(H)}})),M(m,_b.STAT_EVENT,(D=>{D.stat===hp.PROXY?ye(Xt,`RPC '${e}' stream ${a} detected buffering proxy`):D.stat===hp.NOPROXY&&ye(Xt,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{k.wo()}),0),k}}function Hm(){return typeof document<"u"?document:null}function Ud(r){return new gk(r,!0)}class ow{constructor(e,t,s=1e3,a=1.5,l=6e4){this.ui=e,this.timerId=t,this.ko=s,this.qo=a,this.Qo=l,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),a=Math.max(0,t-s);a>0&&ye("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,a,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class lw{constructor(e,t,s,a,l,u,m,p){this.ui=e,this.Ho=s,this.Jo=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new ow(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===Z.RESOURCE_EXHAUSTED?(an(t.toString()),an("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.Yo===t&&this.P_(s,a)}),(s=>{e((()=>{const a=new me(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(a)}))}))}P_(e,t){const s=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{s((()=>this.listener.Eo()))})),this.stream.Ro((()=>{s((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((a=>{s((()=>this.I_(a)))})),this.stream.onMessage((a=>{s((()=>++this.e_==1?this.E_(a):this.onNext(a)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return ye("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(ye("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class o4 extends lw{constructor(e,t,s,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,u),this.serializer=l}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=vk(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ie.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ie.min():u.readTime?ks(u.readTime):Ie.min()})(e);return this.listener.d_(t,s)}A_(e){const t={};t.database=_p(this.serializer),t.addTarget=(function(l,u){let m;const p=u.target;if(m=gp(p)?{documents:_k(l,p)}:{query:Nk(l,p)._t},m.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){m.resumeToken=Jb(l,u.resumeToken);const x=vp(l,u.expectedCount);x!==null&&(m.expectedCount=x)}else if(u.snapshotVersion.compareTo(Ie.min())>0){m.readTime=yd(l,u.snapshotVersion.toTimestamp());const x=vp(l,u.expectedCount);x!==null&&(m.expectedCount=x)}return m})(this.serializer,e);const s=Ek(this.serializer,e);s&&(t.labels=s),this.a_(t)}R_(e){const t={};t.database=_p(this.serializer),t.removeTarget=e,this.a_(t)}}class l4 extends lw{constructor(e,t,s,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,u),this.serializer=l}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=wk(e.writeResults,e.commitTime),s=ks(e.commitTime);return this.listener.g_(s,t)}p_(){const e={};e.database=_p(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>bk(this.serializer,s)))};this.a_(t)}}class c4 extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.y_=!1}w_(){if(this.y_)throw new me(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,s,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Mo(e,bp(t,s),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new me(Z.UNKNOWN,l.toString())}))}Lo(e,t,s,a,l){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,m])=>this.connection.Lo(e,bp(t,s),a,u,m,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(Z.UNKNOWN,u.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class u4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(an(t),this.D_=!1):ye("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}class d4{constructor(e,t,s,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=l,this.k_._o((u=>{s.enqueueAndForget((async()=>{sa(this)&&(ye("RemoteStore","Restarting streams for network reachability change."),await(async function(p){const x=Ce(p);x.L_.add(4),await fc(x),x.q_.set("Unknown"),x.L_.delete(4),await Bd(x)})(this))}))})),this.q_=new u4(s,a)}}async function Bd(r){if(sa(r))for(const e of r.B_)await e(!0)}async function fc(r){for(const e of r.B_)await e(!1)}function cw(r,e){const t=Ce(r);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),Tf(t)?Ef(t):To(t).r_()&&jf(t,e))}function Nf(r,e){const t=Ce(r),s=To(t);t.N_.delete(e),s.r_()&&uw(t,e),t.N_.size===0&&(s.r_()?s.o_():sa(t)&&t.q_.set("Unknown"))}function jf(r,e){if(r.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}To(r).A_(e)}function uw(r,e){r.Q_.xe(e),To(r).R_(e)}function Ef(r){r.Q_=new hk({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>r.N_.get(e)||null,tt:()=>r.datastore.serializer.databaseId}),To(r).start(),r.q_.v_()}function Tf(r){return sa(r)&&!To(r).n_()&&r.N_.size>0}function sa(r){return Ce(r).L_.size===0}function dw(r){r.Q_=void 0}async function h4(r){r.q_.set("Online")}async function m4(r){r.N_.forEach(((e,t)=>{jf(r,e)}))}async function p4(r,e){dw(r),Tf(r)?(r.q_.M_(e),Ef(r)):r.q_.set("Unknown")}async function f4(r,e,t){if(r.q_.set("Online"),e instanceof Xb&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const m of l.targetIds)a.N_.has(m)&&(await a.remoteSyncer.rejectListen(m,u),a.N_.delete(m),a.Q_.removeTarget(m))})(r,e)}catch(s){ye("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await vd(r,s)}else if(e instanceof rd?r.Q_.Ke(e):e instanceof Yb?r.Q_.He(e):r.Q_.We(e),!t.isEqual(Ie.min()))try{const s=await aw(r.localStore);t.compareTo(s)>=0&&await(function(l,u){const m=l.Q_.rt(u);return m.targetChanges.forEach(((p,x)=>{if(p.resumeToken.approximateByteSize()>0){const g=l.N_.get(x);g&&l.N_.set(x,g.withResumeToken(p.resumeToken,u))}})),m.targetMismatches.forEach(((p,x)=>{const g=l.N_.get(p);if(!g)return;l.N_.set(p,g.withResumeToken(Ht.EMPTY_BYTE_STRING,g.snapshotVersion)),uw(l,p);const w=new Kn(g.target,p,x,g.sequenceNumber);jf(l,w)})),l.remoteSyncer.applyRemoteEvent(m)})(r,t)}catch(s){ye("RemoteStore","Failed to raise snapshot:",s),await vd(r,s)}}async function vd(r,e,t){if(!hc(e))throw e;r.L_.add(1),await fc(r),r.q_.set("Offline"),t||(t=()=>aw(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ye("RemoteStore","Retrying IndexedDB access"),await t(),r.L_.delete(1),await Bd(r)}))}function hw(r,e){return e().catch((t=>vd(r,t,e)))}async function $d(r){const e=Ce(r),t=si(e);let s=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;g4(e);)try{const a=await Zk(e.localStore,s);if(a===null){e.O_.length===0&&t.o_();break}s=a.batchId,x4(e,a)}catch(a){await vd(e,a)}mw(e)&&pw(e)}function g4(r){return sa(r)&&r.O_.length<10}function x4(r,e){r.O_.push(e);const t=si(r);t.r_()&&t.V_&&t.m_(e.mutations)}function mw(r){return sa(r)&&!si(r).n_()&&r.O_.length>0}function pw(r){si(r).start()}async function y4(r){si(r).p_()}async function v4(r){const e=si(r);for(const t of r.O_)e.m_(t.mutations)}async function b4(r,e,t){const s=r.O_.shift(),a=xf.from(s,e,t);await hw(r,(()=>r.remoteSyncer.applySuccessfulWrite(a))),await $d(r)}async function w4(r,e){e&&si(r).V_&&await(async function(s,a){if((function(u){return ck(u)&&u!==Z.ABORTED})(a.code)){const l=s.O_.shift();si(s).s_(),await hw(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await $d(s)}})(r,e),mw(r)&&pw(r)}async function Dy(r,e){const t=Ce(r);t.asyncQueue.verifyOperationInProgress(),ye("RemoteStore","RemoteStore received new credentials");const s=sa(t);t.L_.add(3),await fc(t),s&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await Bd(t)}async function _4(r,e){const t=Ce(r);e?(t.L_.delete(2),await Bd(t)):e||(t.L_.add(2),await fc(t),t.q_.set("Unknown"))}function To(r){return r.K_||(r.K_=(function(t,s,a){const l=Ce(t);return l.w_(),new o4(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(r.datastore,r.asyncQueue,{Eo:h4.bind(null,r),Ro:m4.bind(null,r),mo:p4.bind(null,r),d_:f4.bind(null,r)}),r.B_.push((async e=>{e?(r.K_.s_(),Tf(r)?Ef(r):r.q_.set("Unknown")):(await r.K_.stop(),dw(r))}))),r.K_}function si(r){return r.U_||(r.U_=(function(t,s,a){const l=Ce(t);return l.w_(),new l4(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:y4.bind(null,r),mo:w4.bind(null,r),f_:v4.bind(null,r),g_:b4.bind(null,r)}),r.B_.push((async e=>{e?(r.U_.s_(),await $d(r)):(await r.U_.stop(),r.O_.length>0&&(ye("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))}))),r.U_}class Sf{constructor(e,t,s,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new rn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,a,l){const u=Date.now()+s,m=new Sf(e,t,u,a,l);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kf(r,e){if(an("AsyncQueue",`${e}: ${r}`),hc(r))return new me(Z.UNAVAILABLE,`${e}: ${r}`);throw r}class ao{constructor(e){this.comparator=e?(t,s)=>e(t,s)||_e.comparator(t.key,s.key):(t,s)=>_e.comparator(t.key,s.key),this.keyedMap=Rl(),this.sortedSet=new ut(this.comparator)}static emptySet(e){return new ao(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ao)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new ao;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class My{constructor(){this.W_=new ut(_e.comparator)}track(e){const t=e.doc.key,s=this.W_.get(t);s?e.type!==0&&s.type===3?this.W_=this.W_.insert(t,e):e.type===3&&s.type!==1?this.W_=this.W_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.W_=this.W_.remove(t):e.type===1&&s.type===2?this.W_=this.W_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):ke():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,s)=>{e.push(s)})),e}}class po{constructor(e,t,s,a,l,u,m,p,x){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=x}static fromInitialDocuments(e,t,s,a,l){const u=[];return t.forEach((m=>{u.push({type:0,doc:m})})),new po(e,t,ao.emptySet(t),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Md(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class N4{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class j4{constructor(){this.queries=Oy(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,s){const a=Ce(t),l=a.queries;a.queries=Oy(),l.forEach(((u,m)=>{for(const p of m.j_)p.onError(s)}))})(this,new me(Z.ABORTED,"Firestore shutting down"))}}function Oy(){return new Eo((r=>Lb(r)),Md)}async function fw(r,e){const t=Ce(r);let s=3;const a=e.query;let l=t.queries.get(a);l?!l.H_()&&e.J_()&&(s=2):(l=new N4,s=e.J_()?0:1);try{switch(s){case 0:l.z_=await t.onListen(a,!0);break;case 1:l.z_=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const m=kf(u,`Initialization of query '${Ja(e.query)}' failed`);return void e.onError(m)}t.queries.set(a,l),l.j_.push(e),e.Z_(t.onlineState),l.z_&&e.X_(l.z_)&&If(t)}async function gw(r,e){const t=Ce(r),s=e.query;let a=3;const l=t.queries.get(s);if(l){const u=l.j_.indexOf(e);u>=0&&(l.j_.splice(u,1),l.j_.length===0?a=e.J_()?0:1:!l.H_()&&e.J_()&&(a=2))}switch(a){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function E4(r,e){const t=Ce(r);let s=!1;for(const a of e){const l=a.query,u=t.queries.get(l);if(u){for(const m of u.j_)m.X_(a)&&(s=!0);u.z_=a}}s&&If(t)}function T4(r,e,t){const s=Ce(r),a=s.queries.get(e);if(a)for(const l of a.j_)l.onError(t);s.queries.delete(e)}function If(r){r.Y_.forEach((e=>{e.next()}))}var jp,Ly;(Ly=jp||(jp={})).ea="default",Ly.Cache="cache";class xw{constructor(e,t,s){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new po(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const s=t!=="Offline";return(!this.options._a||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=po.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==jp.Cache}}class yw{constructor(e){this.key=e}}class vw{constructor(e){this.key=e}}class S4{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=De(),this.mutatedKeys=De(),this.Aa=Vb(e),this.Ra=new ao(this.Aa)}get Va(){return this.Ta}ma(e,t){const s=t?t.fa:new My,a=t?t.Ra:this.Ra;let l=t?t.mutatedKeys:this.mutatedKeys,u=a,m=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,x=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((g,w)=>{const b=a.get(g),j=Od(this.query,w)?w:null,k=!!b&&this.mutatedKeys.has(b.key),M=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let D=!1;b&&j?b.data.isEqual(j.data)?k!==M&&(s.track({type:3,doc:j}),D=!0):this.ga(b,j)||(s.track({type:2,doc:j}),D=!0,(p&&this.Aa(j,p)>0||x&&this.Aa(j,x)<0)&&(m=!0)):!b&&j?(s.track({type:0,doc:j}),D=!0):b&&!j&&(s.track({type:1,doc:b}),D=!0,(p||x)&&(m=!0)),D&&(j?(u=u.add(j),l=M?l.add(g):l.delete(g)):(u=u.delete(g),l=l.delete(g)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),l=l.delete(g.key),s.track({type:1,doc:g})}return{Ra:u,fa:s,ns:m,mutatedKeys:l}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,a){const l=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const u=e.fa.G_();u.sort(((g,w)=>(function(j,k){const M=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke()}};return M(j)-M(k)})(g.type,w.type)||this.Aa(g.doc,w.doc))),this.pa(s),a=a!=null&&a;const m=t&&!a?this.ya():[],p=this.da.size===0&&this.current&&!a?1:0,x=p!==this.Ea;return this.Ea=p,u.length!==0||x?{snapshot:new po(this.query,e.Ra,l,u,e.mutatedKeys,p===0,x,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:m}:{wa:m}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new My,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((t=>this.Ta=this.Ta.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ta=this.Ta.delete(t))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=De(),this.Ra.forEach((s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))}));const t=[];return e.forEach((s=>{this.da.has(s)||t.push(new vw(s))})),this.da.forEach((s=>{e.has(s)||t.push(new yw(s))})),t}ba(e){this.Ta=e.Ts,this.da=De();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return po.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class k4{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class I4{constructor(e){this.key=e,this.va=!1}}class C4{constructor(e,t,s,a,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Ca={},this.Fa=new Eo((m=>Lb(m)),Md),this.Ma=new Map,this.xa=new Set,this.Oa=new ut(_e.comparator),this.Na=new Map,this.La=new bf,this.Ba={},this.ka=new Map,this.qa=mo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function A4(r,e,t=!0){const s=Ew(r);let a;const l=s.Fa.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Da()):a=await bw(s,e,t,!0),a}async function P4(r,e){const t=Ew(r);await bw(t,e,!0,!1)}async function bw(r,e,t,s){const a=await e4(r.localStore,Ss(e)),l=a.targetId,u=r.sharedClientState.addLocalQueryTarget(l,t);let m;return s&&(m=await R4(r,e,l,u==="current",a.resumeToken)),r.isPrimaryClient&&t&&cw(r.remoteStore,a),m}async function R4(r,e,t,s,a){r.Ka=(w,b,j)=>(async function(M,D,W,H){let Q=D.view.ma(W);Q.ns&&(Q=await Ay(M.localStore,D.query,!1).then((({documents:O})=>D.view.ma(O,Q))));const K=H&&H.targetChanges.get(D.targetId),Y=H&&H.targetMismatches.get(D.targetId)!=null,J=D.view.applyChanges(Q,M.isPrimaryClient,K,Y);return Fy(M,D.targetId,J.wa),J.snapshot})(r,w,b,j);const l=await Ay(r.localStore,e,!0),u=new S4(e,l.Ts),m=u.ma(l.documents),p=pc.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",a),x=u.applyChanges(m,r.isPrimaryClient,p);Fy(r,t,x.wa);const g=new k4(e,t,u);return r.Fa.set(e,g),r.Ma.has(t)?r.Ma.get(t).push(e):r.Ma.set(t,[e]),x.snapshot}async function D4(r,e,t){const s=Ce(r),a=s.Fa.get(e),l=s.Ma.get(a.targetId);if(l.length>1)return s.Ma.set(a.targetId,l.filter((u=>!Md(u,e)))),void s.Fa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Np(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),t&&Nf(s.remoteStore,a.targetId),Ep(s,a.targetId)})).catch(dc)):(Ep(s,a.targetId),await Np(s.localStore,a.targetId,!0))}async function M4(r,e){const t=Ce(r),s=t.Fa.get(e),a=t.Ma.get(s.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Nf(t.remoteStore,s.targetId))}async function O4(r,e,t){const s=z4(r);try{const a=await(function(u,m){const p=Ce(u),x=St.now(),g=m.reduce(((j,k)=>j.add(k.key)),De());let w,b;return p.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let k=on(),M=De();return p.cs.getEntries(j,g).next((D=>{k=D,k.forEach(((W,H)=>{H.isValidDocument()||(M=M.add(W))}))})).next((()=>p.localDocuments.getOverlayedDocuments(j,k))).next((D=>{w=D;const W=[];for(const H of m){const Q=nk(H,w.get(H.key).overlayedDocument);Q!=null&&W.push(new li(H.key,Q,Ib(Q.value.mapValue),Ur.exists(!0)))}return p.mutationQueue.addMutationBatch(j,x,W,m)})).next((D=>{b=D;const W=D.applyToLocalDocumentSet(w,M);return p.documentOverlayCache.saveOverlays(j,D.batchId,W)}))})).then((()=>({batchId:b.batchId,changes:Ub(w)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(u,m,p){let x=u.Ba[u.currentUser.toKey()];x||(x=new ut(ze)),x=x.insert(m,p),u.Ba[u.currentUser.toKey()]=x})(s,a.batchId,t),await gc(s,a.changes),await $d(s.remoteStore)}catch(a){const l=kf(a,"Failed to persist write");t.reject(l)}}async function ww(r,e){const t=Ce(r);try{const s=await Xk(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=t.Na.get(l);u&&(Ge(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?u.va=!0:a.modifiedDocuments.size>0?Ge(u.va):a.removedDocuments.size>0&&(Ge(u.va),u.va=!1))})),await gc(t,s,e)}catch(s){await dc(s)}}function Vy(r,e,t){const s=Ce(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const a=[];s.Fa.forEach(((l,u)=>{const m=u.view.Z_(e);m.snapshot&&a.push(m.snapshot)})),(function(u,m){const p=Ce(u);p.onlineState=m;let x=!1;p.queries.forEach(((g,w)=>{for(const b of w.j_)b.Z_(m)&&(x=!0)})),x&&If(p)})(s.eventManager,e),a.length&&s.Ca.d_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function L4(r,e,t){const s=Ce(r);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Na.get(e),l=a&&a.key;if(l){let u=new ut(_e.comparator);u=u.insert(l,Zt.newNoDocument(l,Ie.min()));const m=De().add(l),p=new Fd(Ie.min(),new Map,new ut(ze),u,m);await ww(s,p),s.Oa=s.Oa.remove(l),s.Na.delete(e),Cf(s)}else await Np(s.localStore,e,!1).then((()=>Ep(s,e,t))).catch(dc)}async function V4(r,e){const t=Ce(r),s=e.batch.batchId;try{const a=await Yk(t.localStore,e);Nw(t,s,null),_w(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await gc(t,a)}catch(a){await dc(a)}}async function F4(r,e,t){const s=Ce(r);try{const a=await(function(u,m){const p=Ce(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",(x=>{let g;return p.mutationQueue.lookupMutationBatch(x,m).next((w=>(Ge(w!==null),g=w.keys(),p.mutationQueue.removeMutationBatch(x,w)))).next((()=>p.mutationQueue.performConsistencyCheck(x))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(x,g,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(x,g))).next((()=>p.localDocuments.getDocuments(x,g)))}))})(s.localStore,e);Nw(s,e,t),_w(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await gc(s,a)}catch(a){await dc(a)}}function _w(r,e){(r.ka.get(e)||[]).forEach((t=>{t.resolve()})),r.ka.delete(e)}function Nw(r,e,t){const s=Ce(r);let a=s.Ba[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),s.Ba[s.currentUser.toKey()]=a}}function Ep(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Ma.get(e))r.Fa.delete(s),t&&r.Ca.$a(s,t);r.Ma.delete(e),r.isPrimaryClient&&r.La.gr(e).forEach((s=>{r.La.containsKey(s)||jw(r,s)}))}function jw(r,e){r.xa.delete(e.path.canonicalString());const t=r.Oa.get(e);t!==null&&(Nf(r.remoteStore,t),r.Oa=r.Oa.remove(e),r.Na.delete(t),Cf(r))}function Fy(r,e,t){for(const s of t)s instanceof yw?(r.La.addReference(s.key,e),U4(r,s)):s instanceof vw?(ye("SyncEngine","Document no longer in limbo: "+s.key),r.La.removeReference(s.key,e),r.La.containsKey(s.key)||jw(r,s.key)):ke()}function U4(r,e){const t=e.key,s=t.path.canonicalString();r.Oa.get(t)||r.xa.has(s)||(ye("SyncEngine","New document in limbo: "+t),r.xa.add(s),Cf(r))}function Cf(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const e=r.xa.values().next().value;r.xa.delete(e);const t=new _e(st.fromString(e)),s=r.qa.next();r.Na.set(s,new I4(t)),r.Oa=r.Oa.insert(t,s),cw(r.remoteStore,new Kn(Ss(pf(t.path)),s,"TargetPurposeLimboResolution",lf.oe))}}async function gc(r,e,t){const s=Ce(r),a=[],l=[],u=[];s.Fa.isEmpty()||(s.Fa.forEach(((m,p)=>{u.push(s.Ka(p,e,t).then((x=>{var g;if((x||t)&&s.isPrimaryClient){const w=x?!x.fromCache:(g=t?.targetChanges.get(p.targetId))===null||g===void 0?void 0:g.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(x){a.push(x);const w=_f.Wi(p.targetId,x);l.push(w)}})))})),await Promise.all(u),s.Ca.d_(a),await(async function(p,x){const g=Ce(p);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>ne.forEach(x,(b=>ne.forEach(b.$i,(j=>g.persistence.referenceDelegate.addReference(w,b.targetId,j))).next((()=>ne.forEach(b.Ui,(j=>g.persistence.referenceDelegate.removeReference(w,b.targetId,j)))))))))}catch(w){if(!hc(w))throw w;ye("LocalStore","Failed to update sequence numbers: "+w)}for(const w of x){const b=w.targetId;if(!w.fromCache){const j=g.os.get(b),k=j.snapshotVersion,M=j.withLastLimboFreeSnapshotVersion(k);g.os=g.os.insert(b,M)}}})(s.localStore,l))}async function B4(r,e){const t=Ce(r);if(!t.currentUser.isEqual(e)){ye("SyncEngine","User change. New user:",e.toKey());const s=await iw(t.localStore,e);t.currentUser=e,(function(l,u){l.ka.forEach((m=>{m.forEach((p=>{p.reject(new me(Z.CANCELLED,u))}))})),l.ka.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await gc(t,s.hs)}}function $4(r,e){const t=Ce(r),s=t.Na.get(e);if(s&&s.va)return De().add(s.key);{let a=De();const l=t.Ma.get(e);if(!l)return a;for(const u of l){const m=t.Fa.get(u);a=a.unionWith(m.view.Va)}return a}}function Ew(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=ww.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=L4.bind(null,e),e.Ca.d_=E4.bind(null,e.eventManager),e.Ca.$a=T4.bind(null,e.eventManager),e}function z4(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=V4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=F4.bind(null,e),e}class bd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ud(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return Qk(this.persistence,new Gk,e.initialUser,this.serializer)}Ga(e){return new qk(wf.Zr,this.serializer)}Wa(e){return new r4}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bd.provider={build:()=>new bd};class Tp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Vy(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=B4.bind(null,this.syncEngine),await _4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new j4})()}createDatastore(e){const t=Ud(e.databaseInfo.databaseId),s=(function(l){return new a4(l)})(e.databaseInfo);return(function(l,u,m,p){return new c4(l,u,m,p)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,a,l,u,m){return new d4(s,a,l,u,m)})(this.localStore,this.datastore,e.asyncQueue,(t=>Vy(this.syncEngine,t,0)),(function(){return Ry.D()?new Ry:new s4})())}createSyncEngine(e,t){return(function(a,l,u,m,p,x,g){const w=new C4(a,l,u,m,p,x);return g&&(w.Qa=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(a){const l=Ce(a);ye("RemoteStore","RemoteStore shutting down."),l.L_.add(5),await fc(l),l.k_.shutdown(),l.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Tp.provider={build:()=>new Tp};class Tw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):an("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class q4{constructor(e,t,s,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=Jt.UNAUTHENTICATED,this.clientId=Tb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{ye("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(ye("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=kf(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Wm(r,e){r.asyncQueue.verifyOperationInProgress(),ye("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener((async a=>{s.isEqual(a)||(await iw(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Uy(r,e){r.asyncQueue.verifyOperationInProgress();const t=await H4(r);ye("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((s=>Dy(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,a)=>Dy(e.remoteStore,a))),r._onlineComponents=e}async function H4(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ye("FirestoreClient","Using user provided OfflineComponentProvider");try{await Wm(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===Z.FAILED_PRECONDITION||a.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;lo("Error using user provided cache. Falling back to memory cache: "+t),await Wm(r,new bd)}}else ye("FirestoreClient","Using default OfflineComponentProvider"),await Wm(r,new bd);return r._offlineComponents}async function Sw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ye("FirestoreClient","Using user provided OnlineComponentProvider"),await Uy(r,r._uninitializedComponentsProvider._online)):(ye("FirestoreClient","Using default OnlineComponentProvider"),await Uy(r,new Tp))),r._onlineComponents}function W4(r){return Sw(r).then((e=>e.syncEngine))}async function kw(r){const e=await Sw(r),t=e.eventManager;return t.onListen=A4.bind(null,e.syncEngine),t.onUnlisten=D4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=P4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=M4.bind(null,e.syncEngine),t}function G4(r,e,t={}){const s=new rn;return r.asyncQueue.enqueueAndForget((async()=>(function(l,u,m,p,x){const g=new Tw({next:b=>{g.Za(),u.enqueueAndForget((()=>gw(l,w)));const j=b.docs.has(m);!j&&b.fromCache?x.reject(new me(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&b.fromCache&&p&&p.source==="server"?x.reject(new me(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):x.resolve(b)},error:b=>x.reject(b)}),w=new xw(pf(m.path),g,{includeMetadataChanges:!0,_a:!0});return fw(l,w)})(await kw(r),r.asyncQueue,e,t,s))),s.promise}function K4(r,e,t={}){const s=new rn;return r.asyncQueue.enqueueAndForget((async()=>(function(l,u,m,p,x){const g=new Tw({next:b=>{g.Za(),u.enqueueAndForget((()=>gw(l,w))),b.fromCache&&p.source==="server"?x.reject(new me(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):x.resolve(b)},error:b=>x.reject(b)}),w=new xw(m,g,{includeMetadataChanges:!0,_a:!0});return fw(l,w)})(await kw(r),r.asyncQueue,e,t,s))),s.promise}function Iw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const By=new Map;function Cw(r,e,t){if(!t)throw new me(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Q4(r,e,t,s){if(e===!0&&s===!0)throw new me(Z.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function $y(r){if(!_e.isDocumentKey(r))throw new me(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function zy(r){if(_e.isDocumentKey(r))throw new me(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function zd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ke()}function ls(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new me(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=zd(r);throw new me(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}class qy{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new me(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new me(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Q4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Iw((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new me(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new me(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new me(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qd{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qy(e),e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new hS;switch(s.type){case"firstParty":return new gS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new me(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=By.get(t);s&&(ye("ComponentProvider","Removing Datastore"),By.delete(t),s.terminate())})(this),Promise.resolve()}}function Y4(r,e,t,s={}){var a;const l=(r=ls(r,qd))._getSettings(),u=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==u&&lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},l),{host:u,ssl:!1})),s.mockUserToken){let m,p;if(typeof s.mockUserToken=="string")m=s.mockUserToken,p=Jt.MOCK_USER;else{m=Rv(s.mockUserToken,(a=r._app)===null||a===void 0?void 0:a.options.projectId);const x=s.mockUserToken.sub||s.mockUserToken.user_id;if(!x)throw new me(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Jt(x)}r._authCredentials=new mS(new Eb(m,p))}}class na{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new na(this.firestore,e,this._query)}}class ar{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ar(this.firestore,e,this._key)}}class Zn extends na{constructor(e,t,s){super(e,t,pf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ar(this.firestore,null,new _e(e))}withConverter(e){return new Zn(this.firestore,e,this._path)}}function ln(r,e,...t){if(r=ct(r),Cw("collection","path",e),r instanceof qd){const s=st.fromString(e,...t);return zy(s),new Zn(r,null,s)}{if(!(r instanceof ar||r instanceof Zn))throw new me(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(st.fromString(e,...t));return zy(s),new Zn(r.firestore,null,s)}}function Cs(r,e,...t){if(r=ct(r),arguments.length===1&&(e=Tb.newId()),Cw("doc","path",e),r instanceof qd){const s=st.fromString(e,...t);return $y(s),new ar(r,null,new _e(s))}{if(!(r instanceof ar||r instanceof Zn))throw new me(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(st.fromString(e,...t));return $y(s),new ar(r.firestore,r instanceof Zn?r.converter:null,new _e(s))}}class Hy{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new ow(this,"async_queue_retry"),this.Vu=()=>{const s=Hm();s&&ye("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=e;const t=Hm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=Hm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new rn;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!hc(e))throw e;ye("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((s=>{this.Eu=s,this.du=!1;const a=(function(u){let m=u.message||"";return u.stack&&(m=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),m})(s);throw an("INTERNAL UNHANDLED ERROR: ",a),s})).then((s=>(this.du=!1,s))))));return this.mu=t,t}enqueueAfterDelay(e,t,s){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const a=Sf.createAndSchedule(this,e,t,s,(l=>this.yu(l)));return this.Tu.push(a),a}fu(){this.Eu&&ke()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class ia extends qd{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new Hy,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Hy(e),this._firestoreClient=void 0,await e}}}function X4(r,e){const t=typeof r=="object"?r:Yp(),s=typeof r=="string"?r:"(default)",a=Cd(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=Cv("firestore");l&&Y4(a,...l)}return a}function Af(r){if(r._terminated)throw new me(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||J4(r),r._firestoreClient}function J4(r){var e,t,s;const a=r._freezeSettings(),l=(function(m,p,x,g){return new IS(m,p,x,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,Iw(g.experimentalLongPollingOptions),g.useFetchStreams)})(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,a);r._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),r._firestoreClient=new q4(r._authCredentials,r._appCheckCredentials,r._queue,l,r._componentsProvider&&(function(m){const p=m?._online.build();return{_offline:m?._offline.build(p),_online:p}})(r._componentsProvider))}class fo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fo(Ht.fromBase64String(e))}catch(t){throw new me(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new fo(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Hd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Wd{constructor(e){this._methodName=e}}class Pf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}}class Rf{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}}const Z4=/^__.*__$/;class eI{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new li(e,this.data,this.fieldMask,t,this.fieldTransforms):new mc(e,this.data,t,this.fieldTransforms)}}class Aw{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new li(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Pw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke()}}class Df{constructor(e,t,s,a,l,u){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.vu(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Df(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.Fu({path:s,xu:!1});return a.Ou(e),a}Nu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.Fu({path:s,xu:!1});return a.vu(),a}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return wd(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Pw(this.Cu)&&Z4.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class tI{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Ud(e)}Qu(e,t,s,a=!1){return new Df({Cu:e,methodName:t,qu:s,path:zt.emptyPath(),xu:!1,ku:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gd(r){const e=r._freezeSettings(),t=Ud(r._databaseId);return new tI(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Rw(r,e,t,s,a,l={}){const u=r.Qu(l.merge||l.mergeFields?2:0,e,t,a);Of("Data must be an object, but it was:",u,s);const m=Dw(s,u);let p,x;if(l.merge)p=new Tr(u.fieldMask),x=u.fieldTransforms;else if(l.mergeFields){const g=[];for(const w of l.mergeFields){const b=Sp(e,w,t);if(!u.contains(b))throw new me(Z.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);Ow(g,b)||g.push(b)}p=new Tr(g),x=u.fieldTransforms.filter((w=>p.covers(w.field)))}else p=null,x=u.fieldTransforms;return new eI(new fr(m),p,x)}class Kd extends Wd{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kd}}class Mf extends Wd{_toFieldTransform(e){return new ek(e.path,new Zl)}isEqual(e){return e instanceof Mf}}function rI(r,e,t,s){const a=r.Qu(1,e,t);Of("Data must be an object, but it was:",a,s);const l=[],u=fr.empty();ra(s,((p,x)=>{const g=Lf(e,p,t);x=ct(x);const w=a.Nu(g);if(x instanceof Kd)l.push(g);else{const b=xc(x,w);b!=null&&(l.push(g),u.set(g,b))}}));const m=new Tr(l);return new Aw(u,m,a.fieldTransforms)}function sI(r,e,t,s,a,l){const u=r.Qu(1,e,t),m=[Sp(e,s,t)],p=[a];if(l.length%2!=0)throw new me(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)m.push(Sp(e,l[b])),p.push(l[b+1]);const x=[],g=fr.empty();for(let b=m.length-1;b>=0;--b)if(!Ow(x,m[b])){const j=m[b];let k=p[b];k=ct(k);const M=u.Nu(j);if(k instanceof Kd)x.push(j);else{const D=xc(k,M);D!=null&&(x.push(j),g.set(j,D))}}const w=new Tr(x);return new Aw(g,w,u.fieldTransforms)}function nI(r,e,t,s=!1){return xc(t,r.Qu(s?4:3,e))}function xc(r,e){if(Mw(r=ct(r)))return Of("Unsupported field value:",e,r),Dw(r,e);if(r instanceof Wd)return(function(s,a){if(!Pw(a.Cu))throw a.Bu(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Bu(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(s,a){const l=[];let u=0;for(const m of s){let p=xc(m,a.Lu(u));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),u++}return{arrayValue:{values:l}}})(r,e)}return(function(s,a){if((s=ct(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return XS(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=St.fromDate(s);return{timestampValue:yd(a.serializer,l)}}if(s instanceof St){const l=new St(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:yd(a.serializer,l)}}if(s instanceof Pf)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof fo)return{bytesValue:Jb(a.serializer,s._byteString)};if(s instanceof ar){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.Bu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:vf(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Rf)return(function(u,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw m.Bu("VectorValues must only contain numeric values.");return ff(m.serializer,p)}))}}}}}})(s,a);throw a.Bu(`Unsupported field value: ${zd(s)}`)})(r,e)}function Dw(r,e){const t={};return Sb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ra(r,((s,a)=>{const l=xc(a,e.Mu(s));l!=null&&(t[s]=l)})),{mapValue:{fields:t}}}function Mw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof St||r instanceof Pf||r instanceof fo||r instanceof ar||r instanceof Wd||r instanceof Rf)}function Of(r,e,t){if(!Mw(t)||!(function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)})(t)){const s=zd(t);throw s==="an object"?e.Bu(r+" a custom object"):e.Bu(r+" "+s)}}function Sp(r,e,t){if((e=ct(e))instanceof Hd)return e._internalPath;if(typeof e=="string")return Lf(r,e);throw wd("Field path arguments must be of type string or ",r,!1,void 0,t)}const iI=new RegExp("[~\\*/\\[\\]]");function Lf(r,e,t){if(e.search(iI)>=0)throw wd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Hd(...e.split("."))._internalPath}catch{throw wd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function wd(r,e,t,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(l||u)&&(p+=" (found",l&&(p+=` in field ${s}`),u&&(p+=` in document ${a}`),p+=")"),new me(Z.INVALID_ARGUMENT,m+r+p)}function Ow(r,e){return r.some((t=>t.isEqual(e)))}class Lw{constructor(e,t,s,a,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ar(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new aI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Qd("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class aI extends Lw{data(){return super.data()}}function Qd(r,e){return typeof e=="string"?Lf(r,e):e instanceof Hd?e._internalPath:e._delegate._internalPath}function oI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new me(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vf{}class Vw extends Vf{}function Ff(r,e,...t){let s=[];e instanceof Vf&&s.push(e),s=s.concat(t),(function(l){const u=l.filter((p=>p instanceof Uf)).length,m=l.filter((p=>p instanceof Yd)).length;if(u>1||u>0&&m>0)throw new me(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)r=a._apply(r);return r}class Yd extends Vw{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Yd(e,t,s)}_apply(e){const t=this._parse(e);return Uw(e._query,t),new na(e.firestore,e.converter,xp(e._query,t))}_parse(e){const t=Gd(e.firestore);return(function(l,u,m,p,x,g,w){let b;if(x.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new me(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){Gy(w,g);const j=[];for(const k of w)j.push(Wy(p,l,k));b={arrayValue:{values:j}}}else b=Wy(p,l,w)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||Gy(w,g),b=nI(m,u,w,g==="in"||g==="not-in");return wt.create(x,g,b)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function lI(r,e,t){const s=e,a=Qd("where",r);return Yd._create(a,s,t)}class Uf extends Vf{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Uf(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:os.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let u=a;const m=l.getFlattenedFilters();for(const p of m)Uw(u,p),u=xp(u,p)})(e._query,t),new na(e.firestore,e.converter,xp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Bf extends Vw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Bf(e,t)}_apply(e){const t=(function(a,l,u){if(a.startAt!==null)throw new me(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new me(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Jl(l,u)})(e._query,this._field,this._direction);return new na(e.firestore,e.converter,(function(a,l){const u=a.explicitOrderBy.concat([l]);return new jo(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,t))}}function Fw(r,e="asc"){const t=e,s=Qd("orderBy",r);return Bf._create(s,t)}function Wy(r,e,t){if(typeof(t=ct(t))=="string"){if(t==="")throw new me(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ob(e)&&t.indexOf("/")!==-1)throw new me(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(st.fromString(t));if(!_e.isDocumentKey(s))throw new me(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return py(r,new _e(s))}if(t instanceof ar)return py(r,t._key);throw new me(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zd(t)}.`)}function Gy(r,e){if(!Array.isArray(r)||r.length===0)throw new me(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Uw(r,e){const t=(function(a,l){for(const u of a)for(const m of u.getFlattenedFilters())if(l.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new me(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class cI{convertValue(e,t="none"){switch(Xi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Yi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ke()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ra(e,((a,l)=>{s[a]=this.convertValue(l,t)})),s}convertVectorValue(e){var t,s,a;const l=(a=(s=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map((u=>gt(u.doubleValue)));return new Rf(l)}convertGeoPoint(e){return new Pf(gt(e.latitude),gt(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=uf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Ql(e));default:return null}}convertTimestamp(e){const t=ri(e);return new St(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=st.fromString(e);Ge(nw(s));const a=new Yl(s.get(1),s.get(3)),l=new _e(s.popFirst(5));return a.isEqual(t)||an(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function Bw(r,e,t){let s;return s=r?r.toFirestore(e):e,s}class Ml{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $w extends Lw{constructor(e,t,s,a,l,u){super(e,t,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new sd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Qd("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class sd extends $w{data(e={}){return super.data(e)}}class uI{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Ml(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new sd(this._firestore,this._userDataWriter,s.key,s,new Ml(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((m=>{const p=new sd(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Ml(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((m=>l||m.type!==3)).map((m=>{const p=new sd(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Ml(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let x=-1,g=-1;return m.type!==0&&(x=u.indexOf(m.doc.key),u=u.delete(m.doc.key)),m.type!==1&&(u=u.add(m.doc),g=u.indexOf(m.doc.key)),{type:dI(m.type),doc:p,oldIndex:x,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function dI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke()}}function zw(r){r=ls(r,ar);const e=ls(r.firestore,ia);return G4(Af(e),r._key).then((t=>mI(e,r,t)))}class qw extends cI{constructor(e){super(),this.firestore=e}convertBytes(e){return new fo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ar(this.firestore,null,t)}}function So(r){r=ls(r,na);const e=ls(r.firestore,ia),t=Af(e),s=new qw(e);return oI(r._query),K4(t,r._query).then((a=>new uI(e,s,r,a)))}function hI(r,e,t){r=ls(r,ar);const s=ls(r.firestore,ia),a=Bw(r.converter,e);return Xd(s,[Rw(Gd(s),"setDoc",r._key,a,r.converter!==null,t).toMutation(r._key,Ur.none())])}function $f(r,e,t,...s){r=ls(r,ar);const a=ls(r.firestore,ia),l=Gd(a);let u;return u=typeof(e=ct(e))=="string"||e instanceof Hd?sI(l,"updateDoc",r._key,e,t,s):rI(l,"updateDoc",r._key,e),Xd(a,[u.toMutation(r._key,Ur.exists(!0))])}function zf(r){return Xd(ls(r.firestore,ia),[new gf(r._key,Ur.none())])}function qf(r,e){const t=ls(r.firestore,ia),s=Cs(r),a=Bw(r.converter,e);return Xd(t,[Rw(Gd(r.firestore),"addDoc",s._key,a,r.converter!==null,{}).toMutation(s._key,Ur.exists(!1))]).then((()=>s))}function Xd(r,e){return(function(s,a){const l=new rn;return s.asyncQueue.enqueueAndForget((async()=>O4(await W4(s),a,l))),l.promise})(Af(r),e)}function mI(r,e,t){const s=t.docs.get(e._key),a=new qw(r);return new $w(r,a,e._key,s,new Ml(t.hasPendingWrites,t.fromCache),e.converter)}function kp(){return new Mf("serverTimestamp")}(function(e,t=!0){(function(a){No=a})(ea),Wi(new ei("firestore",((s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),m=new ia(new pS(s.getProvider("auth-internal")),new yS(s.getProvider("app-check-internal")),(function(x,g){if(!Object.prototype.hasOwnProperty.apply(x.options,["projectId"]))throw new me(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yl(x.options.projectId,g)})(u,a),u);return l=Object.assign({useFetchStreams:t},l),m._setSettings(l),m}),"PUBLIC").setMultipleInstances(!0)),js(cy,"4.7.3",e),js(cy,"4.7.3","esm2017")})();const Hw="firebasestorage.googleapis.com",Ww="storageBucket",pI=120*1e3,fI=600*1e3;class mt extends Ps{constructor(e,t,s=0){super(Gm(e),`Firebase Storage: ${t} (${Gm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Gm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ht;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ht||(ht={}));function Gm(r){return"storage/"+r}function Hf(){const r="An unknown error occurred, please check the error payload for server response.";return new mt(ht.UNKNOWN,r)}function gI(r){return new mt(ht.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function xI(r){return new mt(ht.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function yI(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new mt(ht.UNAUTHENTICATED,r)}function vI(){return new mt(ht.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function bI(r){return new mt(ht.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function wI(){return new mt(ht.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function _I(){return new mt(ht.CANCELED,"User canceled the upload/download.")}function NI(r){return new mt(ht.INVALID_URL,"Invalid URL '"+r+"'.")}function jI(r){return new mt(ht.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function EI(){return new mt(ht.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ww+"' property when initializing the app?")}function TI(){return new mt(ht.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function SI(){return new mt(ht.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function kI(r){return new mt(ht.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ip(r){return new mt(ht.INVALID_ARGUMENT,r)}function Gw(){return new mt(ht.APP_DELETED,"The Firebase app was deleted.")}function II(r){return new mt(ht.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Bl(r,e){return new mt(ht.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function kl(r){throw new mt(ht.INTERNAL_ERROR,"Internal error: "+r)}class Sr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=Sr.makeFromUrl(e,t)}catch{return new Sr(e,"")}if(s.path==="")return s;throw jI(e)}static makeFromUrl(e,t){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(K){K.path.charAt(K.path.length-1)==="/"&&(K.path_=K.path_.slice(0,-1))}const u="(/(.*))?$",m=new RegExp("^gs://"+a+u,"i"),p={bucket:1,path:3};function x(K){K.path_=decodeURIComponent(K.path)}const g="v[A-Za-z0-9_]+",w=t.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",j=new RegExp(`^https?://${w}/${g}/b/${a}/o${b}`,"i"),k={bucket:1,path:3},M=t===Hw?"(?:storage.googleapis.com|storage.cloud.google.com)":t,D="([^?#]*)",W=new RegExp(`^https?://${M}/${a}/${D}`,"i"),Q=[{regex:m,indices:p,postModify:l},{regex:j,indices:k,postModify:x},{regex:W,indices:{bucket:1,path:2},postModify:x}];for(let K=0;K<Q.length;K++){const Y=Q[K],J=Y.regex.exec(e);if(J){const O=J[Y.indices.bucket];let P=J[Y.indices.path];P||(P=""),s=new Sr(O,P),Y.postModify(s);break}}if(s==null)throw NI(e);return s}}class CI{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function AI(r,e,t){let s=1,a=null,l=null,u=!1,m=0;function p(){return m===2}let x=!1;function g(...D){x||(x=!0,e.apply(null,D))}function w(D){a=setTimeout(()=>{a=null,r(j,p())},D)}function b(){l&&clearTimeout(l)}function j(D,...W){if(x){b();return}if(D){b(),g.call(null,D,...W);return}if(p()||u){b(),g.call(null,D,...W);return}s<64&&(s*=2);let Q;m===1?(m=2,Q=0):Q=(s+Math.random())*1e3,w(Q)}let k=!1;function M(D){k||(k=!0,b(),!x&&(a!==null?(D||(m=2),clearTimeout(a),w(0)):D||(m=1)))}return w(0),l=setTimeout(()=>{u=!0,M(!0)},t),M}function PI(r){r(!1)}function RI(r){return r!==void 0}function DI(r){return typeof r=="object"&&!Array.isArray(r)}function Wf(r){return typeof r=="string"||r instanceof String}function Ky(r){return Gf()&&r instanceof Blob}function Gf(){return typeof Blob<"u"}function Qy(r,e,t,s){if(s<e)throw Ip(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>t)throw Ip(`Invalid value for '${r}'. Expected ${t} or less.`)}function Jd(r,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${r}`}function Kw(r){const e=encodeURIComponent;let t="?";for(const s in r)if(r.hasOwnProperty(s)){const a=e(s)+"="+e(r[s]);t=t+a+"&"}return t=t.slice(0,-1),t}var qi;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(qi||(qi={}));function MI(r,e){const t=r>=500&&r<600,a=[408,429].indexOf(r)!==-1,l=e.indexOf(r)!==-1;return t||a||l}class OI{constructor(e,t,s,a,l,u,m,p,x,g,w,b=!0){this.url_=e,this.method_=t,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=m,this.errorCallback_=p,this.timeout_=x,this.progressCallback_=g,this.connectionFactory_=w,this.retry=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((j,k)=>{this.resolve_=j,this.reject_=k,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new Hu(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=m=>{const p=m.loaded,x=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,x)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const m=l.getErrorCode()===qi.NO_ERROR,p=l.getStatus();if(!m||MI(p,this.additionalRetryCodes_)&&this.retry){const g=l.getErrorCode()===qi.ABORT;s(!1,new Hu(!1,null,g));return}const x=this.successCodes_.indexOf(p)!==-1;s(!0,new Hu(x,l))})},t=(s,a)=>{const l=this.resolve_,u=this.reject_,m=a.connection;if(a.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());RI(p)?l(p):l()}catch(p){u(p)}else if(m!==null){const p=Hf();p.serverResponse=m.getErrorText(),this.errorCallback_?u(this.errorCallback_(m,p)):u(p)}else if(a.canceled){const p=this.appDelete_?Gw():_I();u(p)}else{const p=wI();u(p)}};this.canceled_?t(!1,new Hu(!1,null,!0)):this.backoffId_=AI(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&PI(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Hu{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function LI(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function VI(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function FI(r,e){e&&(r["X-Firebase-GMPID"]=e)}function UI(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function BI(r,e,t,s,a,l,u=!0){const m=Kw(r.urlParams),p=r.url+m,x=Object.assign({},r.headers);return FI(x,e),LI(x,t),VI(x,l),UI(x,s),new OI(p,r.method,x,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,a,u)}function $I(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function zI(...r){const e=$I();if(e!==void 0){const t=new e;for(let s=0;s<r.length;s++)t.append(r[s]);return t.getBlob()}else{if(Gf())return new Blob(r);throw new mt(ht.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function qI(r,e,t){return r.webkitSlice?r.webkitSlice(e,t):r.mozSlice?r.mozSlice(e,t):r.slice?r.slice(e,t):null}function HI(r){if(typeof atob>"u")throw kI("base-64");return atob(r)}const ws={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Km{constructor(e,t){this.data=e,this.contentType=t||null}}function WI(r,e){switch(r){case ws.RAW:return new Km(Qw(e));case ws.BASE64:case ws.BASE64URL:return new Km(Yw(r,e));case ws.DATA_URL:return new Km(KI(e),QI(e))}throw Hf()}function Qw(r){const e=[];for(let t=0;t<r.length;t++){let s=r.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<r.length-1&&(r.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=s,u=r.charCodeAt(++t);s=65536|(l&1023)<<10|u&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function GI(r){let e;try{e=decodeURIComponent(r)}catch{throw Bl(ws.DATA_URL,"Malformed data URL.")}return Qw(e)}function Yw(r,e){switch(r){case ws.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw Bl(r,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case ws.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw Bl(r,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=HI(e)}catch(a){throw a.message.includes("polyfill")?a:Bl(r,"Invalid character found")}const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s}class Xw{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Bl(ws.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=YI(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function KI(r){const e=new Xw(r);return e.base64?Yw(ws.BASE64,e.rest):GI(e.rest)}function QI(r){return new Xw(r).contentType}function YI(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}class Hn{constructor(e,t){let s=0,a="";Ky(e)?(this.data_=e,s=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(Ky(this.data_)){const s=this.data_,a=qI(s,e,t);return a===null?null:new Hn(a)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new Hn(s,!0)}}static getBlob(...e){if(Gf()){const t=e.map(s=>s instanceof Hn?s.data_:s);return new Hn(zI.apply(null,t))}else{const t=e.map(u=>Wf(u)?WI(ws.RAW,u).data:u.data_);let s=0;t.forEach(u=>{s+=u.byteLength});const a=new Uint8Array(s);let l=0;return t.forEach(u=>{for(let m=0;m<u.length;m++)a[l++]=u[m]}),new Hn(a,!0)}}uploadData(){return this.data_}}function Jw(r){let e;try{e=JSON.parse(r)}catch{return null}return DI(e)?e:null}function XI(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function JI(r,e){const t=e.split("/").filter(s=>s.length>0).join("/");return r.length===0?t:r+"/"+t}function Zw(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}function ZI(r,e){return e}class ir{constructor(e,t,s,a){this.server=e,this.local=t||e,this.writable=!!s,this.xform=a||ZI}}let Wu=null;function eC(r){return!Wf(r)||r.length<2?r:Zw(r)}function e_(){if(Wu)return Wu;const r=[];r.push(new ir("bucket")),r.push(new ir("generation")),r.push(new ir("metageneration")),r.push(new ir("name","fullPath",!0));function e(l,u){return eC(u)}const t=new ir("name");t.xform=e,r.push(t);function s(l,u){return u!==void 0?Number(u):u}const a=new ir("size");return a.xform=s,r.push(a),r.push(new ir("timeCreated")),r.push(new ir("updated")),r.push(new ir("md5Hash",null,!0)),r.push(new ir("cacheControl",null,!0)),r.push(new ir("contentDisposition",null,!0)),r.push(new ir("contentEncoding",null,!0)),r.push(new ir("contentLanguage",null,!0)),r.push(new ir("contentType",null,!0)),r.push(new ir("metadata","customMetadata",!0)),Wu=r,Wu}function tC(r,e){function t(){const s=r.bucket,a=r.fullPath,l=new Sr(s,a);return e._makeStorageReference(l)}Object.defineProperty(r,"ref",{get:t})}function rC(r,e,t){const s={};s.type="file";const a=t.length;for(let l=0;l<a;l++){const u=t[l];s[u.local]=u.xform(s,e[u.server])}return tC(s,r),s}function t_(r,e,t){const s=Jw(e);return s===null?null:rC(r,s,t)}function sC(r,e,t,s){const a=Jw(e);if(a===null||!Wf(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const u=encodeURIComponent;return l.split(",").map(x=>{const g=r.bucket,w=r.fullPath,b="/b/"+u(g)+"/o/"+u(w),j=Jd(b,t,s),k=Kw({alt:"media",token:x});return j+k})[0]}function nC(r,e){const t={},s=e.length;for(let a=0;a<s;a++){const l=e[a];l.writable&&(t[l.server]=r[l.local])}return JSON.stringify(t)}class Kf{constructor(e,t,s,a){this.url=e,this.method=t,this.handler=s,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function r_(r){if(!r)throw Hf()}function iC(r,e){function t(s,a){const l=t_(r,a,e);return r_(l!==null),l}return t}function aC(r,e){function t(s,a){const l=t_(r,a,e);return r_(l!==null),sC(l,a,r.host,r._protocol)}return t}function s_(r){function e(t,s){let a;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?a=vI():a=yI():t.getStatus()===402?a=xI(r.bucket):t.getStatus()===403?a=bI(r.path):a=s,a.status=t.getStatus(),a.serverResponse=s.serverResponse,a}return e}function n_(r){const e=s_(r);function t(s,a){let l=e(s,a);return s.getStatus()===404&&(l=gI(r.path)),l.serverResponse=a.serverResponse,l}return t}function oC(r,e,t){const s=e.fullServerUrl(),a=Jd(s,r.host,r._protocol),l="GET",u=r.maxOperationRetryTime,m=new Kf(a,l,aC(r,t),u);return m.errorHandler=n_(e),m}function lC(r,e){const t=e.fullServerUrl(),s=Jd(t,r.host,r._protocol),a="DELETE",l=r.maxOperationRetryTime;function u(p,x){}const m=new Kf(s,a,u,l);return m.successCodes=[200,204],m.errorHandler=n_(e),m}function cC(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function uC(r,e,t){const s=Object.assign({},t);return s.fullPath=r.path,s.size=e.size(),s.contentType||(s.contentType=cC(null,e)),s}function dC(r,e,t,s,a){const l=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function m(){let Q="";for(let K=0;K<2;K++)Q=Q+Math.random().toString().slice(2);return Q}const p=m();u["Content-Type"]="multipart/related; boundary="+p;const x=uC(e,s,a),g=nC(x,t),w="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+p+`\r
Content-Type: `+x.contentType+`\r
\r
`,b=`\r
--`+p+"--",j=Hn.getBlob(w,s,b);if(j===null)throw TI();const k={name:x.fullPath},M=Jd(l,r.host,r._protocol),D="POST",W=r.maxUploadRetryTime,H=new Kf(M,D,iC(r,t),W);return H.urlParams=k,H.headers=u,H.body=j.uploadData(),H.errorHandler=s_(e),H}class hC{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=qi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=qi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=qi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,a){if(this.sent_)throw kl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw kl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw kl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw kl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw kl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class mC extends hC{initXhr(){this.xhr_.responseType="text"}}function Qf(){return new mC}class Ji{constructor(e,t){this._service=e,t instanceof Sr?this._location=t:this._location=Sr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ji(e,t)}get root(){const e=new Sr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Zw(this._location.path)}get storage(){return this._service}get parent(){const e=XI(this._location.path);if(e===null)return null;const t=new Sr(this._location.bucket,e);return new Ji(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw II(e)}}function pC(r,e,t){r._throwIfRoot("uploadBytes");const s=dC(r.storage,r._location,e_(),new Hn(e,!0),t);return r.storage.makeRequestWithTokens(s,Qf).then(a=>({metadata:a,ref:r}))}function fC(r){r._throwIfRoot("getDownloadURL");const e=oC(r.storage,r._location,e_());return r.storage.makeRequestWithTokens(e,Qf).then(t=>{if(t===null)throw SI();return t})}function gC(r){r._throwIfRoot("deleteObject");const e=lC(r.storage,r._location);return r.storage.makeRequestWithTokens(e,Qf)}function xC(r,e){const t=JI(r._location.path,e),s=new Sr(r._location.bucket,t);return new Ji(r.storage,s)}function yC(r){return/^[A-Za-z]+:\/\//.test(r)}function vC(r,e){return new Ji(r,e)}function i_(r,e){if(r instanceof Yf){const t=r;if(t._bucket==null)throw EI();const s=new Ji(t,t._bucket);return e!=null?i_(s,e):s}else return e!==void 0?xC(r,e):r}function bC(r,e){if(e&&yC(e)){if(r instanceof Yf)return vC(r,e);throw Ip("To use ref(service, url), the first argument must be a Storage instance.")}else return i_(r,e)}function Yy(r,e){const t=e?.[Ww];return t==null?null:Sr.makeFromBucketSpec(t,r)}function wC(r,e,t,s={}){r.host=`${e}:${t}`,r._protocol="http";const{mockUserToken:a}=s;a&&(r._overrideAuthToken=typeof a=="string"?a:Rv(a,r.app.options.projectId))}class Yf{constructor(e,t,s,a,l){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._bucket=null,this._host=Hw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=pI,this._maxUploadRetryTime=fI,this._requests=new Set,a!=null?this._bucket=Sr.makeFromBucketSpec(a,this._host):this._bucket=Yy(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Sr.makeFromBucketSpec(this._url,e):this._bucket=Yy(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Qy("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Qy("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ji(this,e)}_makeRequest(e,t,s,a,l=!0){if(this._deleted)return new CI(Gw());{const u=BI(e,this._appId,s,a,t,this._firebaseVersion,l);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,a).getPromise()}}const Xy="@firebase/storage",Jy="0.13.2";const a_="storage";function Xf(r,e,t){return r=ct(r),pC(r,e,t)}function Jf(r){return r=ct(r),fC(r)}function o_(r){return r=ct(r),gC(r)}function rc(r,e){return r=ct(r),bC(r,e)}function _C(r=Yp(),e){r=ct(r);const s=Cd(r,a_).getImmediate({identifier:e}),a=Cv("storage");return a&&NC(s,...a),s}function NC(r,e,t,s={}){wC(r,e,t,s)}function jC(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),a=r.getProvider("app-check-internal");return new Yf(t,s,a,e,ea)}function EC(){Wi(new ei(a_,jC,"PUBLIC").setMultipleInstances(!0)),js(Xy,Jy,""),js(Xy,Jy,"esm2017")}EC();const TC={apiKey:"AIzaSyBvs3kM02lPJPmU0dUrXxSqLa5KFWaXH1E",authDomain:"batistaglobalservice.firebaseapp.com",projectId:"batistaglobalservice",storageBucket:"batistaglobalservice.firebasestorage.app",messagingSenderId:"1066536738262",appId:"1:1066536738262:web:b48439ef2de7551022812b"},Zf=Ov(TC),to=lS(Zf),Dt=X4(Zf),sc=_C(Zf);to.languageCode="es";let SC={data:""},kC=r=>{if(typeof window=="object"){let e=(r?r.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(r||document.head).appendChild(e),e.firstChild}return r||SC},IC=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,CC=/\/\*[^]*?\*\/|  +/g,Zy=/\n+/g,Wn=(r,e)=>{let t="",s="",a="";for(let l in r){let u=r[l];l[0]=="@"?l[1]=="i"?t=l+" "+u+";":s+=l[1]=="f"?Wn(u,l):l+"{"+Wn(u,l[1]=="k"?"":e)+"}":typeof u=="object"?s+=Wn(u,e?e.replace(/([^,])+/g,m=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,m):m?m+" "+p:p)):l):u!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Wn.p?Wn.p(l,u):l+":"+u+";")}return t+(e&&a?e+"{"+a+"}":a)+s},Xs={},l_=r=>{if(typeof r=="object"){let e="";for(let t in r)e+=t+l_(r[t]);return e}return r},AC=(r,e,t,s,a)=>{let l=l_(r),u=Xs[l]||(Xs[l]=(p=>{let x=0,g=11;for(;x<p.length;)g=101*g+p.charCodeAt(x++)>>>0;return"go"+g})(l));if(!Xs[u]){let p=l!==r?r:(x=>{let g,w,b=[{}];for(;g=IC.exec(x.replace(CC,""));)g[4]?b.shift():g[3]?(w=g[3].replace(Zy," ").trim(),b.unshift(b[0][w]=b[0][w]||{})):b[0][g[1]]=g[2].replace(Zy," ").trim();return b[0]})(r);Xs[u]=Wn(a?{["@keyframes "+u]:p}:p,t?"":"."+u)}let m=t&&Xs.g?Xs.g:null;return t&&(Xs.g=Xs[u]),((p,x,g,w)=>{w?x.data=x.data.replace(w,p):x.data.indexOf(p)===-1&&(x.data=g?p+x.data:x.data+p)})(Xs[u],e,s,m),u},PC=(r,e,t)=>r.reduce((s,a,l)=>{let u=e[l];if(u&&u.call){let m=u(t),p=m&&m.props&&m.props.className||/^go/.test(m)&&m;u=p?"."+p:m&&typeof m=="object"?m.props?"":Wn(m,""):m===!1?"":m}return s+a+(u??"")},"");function Zd(r){let e=this||{},t=r.call?r(e.p):r;return AC(t.unshift?t.raw?PC(t,[].slice.call(arguments,1),e.p):t.reduce((s,a)=>Object.assign(s,a&&a.call?a(e.p):a),{}):t,kC(e.target),e.g,e.o,e.k)}let c_,Cp,Ap;Zd.bind({g:1});let cn=Zd.bind({k:1});function RC(r,e,t,s){Wn.p=e,c_=r,Cp=t,Ap=s}function ci(r,e){let t=this||{};return function(){let s=arguments;function a(l,u){let m=Object.assign({},l),p=m.className||a.className;t.p=Object.assign({theme:Cp&&Cp()},m),t.o=/ *go\d+/.test(p),m.className=Zd.apply(t,s)+(p?" "+p:"");let x=r;return r[0]&&(x=m.as||r,delete m.as),Ap&&x[0]&&Ap(m),c_(x,m)}return a}}var DC=r=>typeof r=="function",_d=(r,e)=>DC(r)?r(e):r,MC=(()=>{let r=0;return()=>(++r).toString()})(),u_=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");r=!e||e.matches}return r}})(),OC=20,eg="default",d_=(r,e)=>{let{toastLimit:t}=r.settings;switch(e.type){case 0:return{...r,toasts:[e.toast,...r.toasts].slice(0,t)};case 1:return{...r,toasts:r.toasts.map(u=>u.id===e.toast.id?{...u,...e.toast}:u)};case 2:let{toast:s}=e;return d_(r,{type:r.toasts.find(u=>u.id===s.id)?1:0,toast:s});case 3:let{toastId:a}=e;return{...r,toasts:r.toasts.map(u=>u.id===a||a===void 0?{...u,dismissed:!0,visible:!1}:u)};case 4:return e.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(u=>u.id!==e.toastId)};case 5:return{...r,pausedAt:e.time};case 6:let l=e.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(u=>({...u,pauseDuration:u.pauseDuration+l}))}}},nd=[],h_={toasts:[],pausedAt:void 0,settings:{toastLimit:OC}},_s={},m_=(r,e=eg)=>{_s[e]=d_(_s[e]||h_,r),nd.forEach(([t,s])=>{t===e&&s(_s[e])})},p_=r=>Object.keys(_s).forEach(e=>m_(r,e)),LC=r=>Object.keys(_s).find(e=>_s[e].toasts.some(t=>t.id===r)),eh=(r=eg)=>e=>{m_(e,r)},VC={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},FC=(r={},e=eg)=>{let[t,s]=R.useState(_s[e]||h_),a=R.useRef(_s[e]);R.useEffect(()=>(a.current!==_s[e]&&s(_s[e]),nd.push([e,s]),()=>{let u=nd.findIndex(([m])=>m===e);u>-1&&nd.splice(u,1)}),[e]);let l=t.toasts.map(u=>{var m,p,x;return{...r,...r[u.type],...u,removeDelay:u.removeDelay||((m=r[u.type])==null?void 0:m.removeDelay)||r?.removeDelay,duration:u.duration||((p=r[u.type])==null?void 0:p.duration)||r?.duration||VC[u.type],style:{...r.style,...(x=r[u.type])==null?void 0:x.style,...u.style}}});return{...t,toasts:l}},UC=(r,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...t,id:t?.id||MC()}),yc=r=>(e,t)=>{let s=UC(e,r,t);return eh(s.toasterId||LC(s.id))({type:2,toast:s}),s.id},de=(r,e)=>yc("blank")(r,e);de.error=yc("error");de.success=yc("success");de.loading=yc("loading");de.custom=yc("custom");de.dismiss=(r,e)=>{let t={type:3,toastId:r};e?eh(e)(t):p_(t)};de.dismissAll=r=>de.dismiss(void 0,r);de.remove=(r,e)=>{let t={type:4,toastId:r};e?eh(e)(t):p_(t)};de.removeAll=r=>de.remove(void 0,r);de.promise=(r,e,t)=>{let s=de.loading(e.loading,{...t,...t?.loading});return typeof r=="function"&&(r=r()),r.then(a=>{let l=e.success?_d(e.success,a):void 0;return l?de.success(l,{id:s,...t,...t?.success}):de.dismiss(s),a}).catch(a=>{let l=e.error?_d(e.error,a):void 0;l?de.error(l,{id:s,...t,...t?.error}):de.dismiss(s)}),r};var BC=1e3,$C=(r,e="default")=>{let{toasts:t,pausedAt:s}=FC(r,e),a=R.useRef(new Map).current,l=R.useCallback((w,b=BC)=>{if(a.has(w))return;let j=setTimeout(()=>{a.delete(w),u({type:4,toastId:w})},b);a.set(w,j)},[]);R.useEffect(()=>{if(s)return;let w=Date.now(),b=t.map(j=>{if(j.duration===1/0)return;let k=(j.duration||0)+j.pauseDuration-(w-j.createdAt);if(k<0){j.visible&&de.dismiss(j.id);return}return setTimeout(()=>de.dismiss(j.id,e),k)});return()=>{b.forEach(j=>j&&clearTimeout(j))}},[t,s,e]);let u=R.useCallback(eh(e),[e]),m=R.useCallback(()=>{u({type:5,time:Date.now()})},[u]),p=R.useCallback((w,b)=>{u({type:1,toast:{id:w,height:b}})},[u]),x=R.useCallback(()=>{s&&u({type:6,time:Date.now()})},[s,u]),g=R.useCallback((w,b)=>{let{reverseOrder:j=!1,gutter:k=8,defaultPosition:M}=b||{},D=t.filter(Q=>(Q.position||M)===(w.position||M)&&Q.height),W=D.findIndex(Q=>Q.id===w.id),H=D.filter((Q,K)=>K<W&&Q.visible).length;return D.filter(Q=>Q.visible).slice(...j?[H+1]:[0,H]).reduce((Q,K)=>Q+(K.height||0)+k,0)},[t]);return R.useEffect(()=>{t.forEach(w=>{if(w.dismissed)l(w.id,w.removeDelay);else{let b=a.get(w.id);b&&(clearTimeout(b),a.delete(w.id))}})},[t,l]),{toasts:t,handlers:{updateHeight:p,startPause:m,endPause:x,calculateOffset:g}}},zC=cn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,qC=cn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,HC=cn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,WC=ci("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${zC} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${qC} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${HC} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,GC=cn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,KC=ci("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${GC} 1s linear infinite;
`,QC=cn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,YC=cn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,XC=ci("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${QC} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${YC} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,JC=ci("div")`
  position: absolute;
`,ZC=ci("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,eA=cn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,tA=ci("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${eA} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,rA=({toast:r})=>{let{icon:e,type:t,iconTheme:s}=r;return e!==void 0?typeof e=="string"?R.createElement(tA,null,e):e:t==="blank"?null:R.createElement(ZC,null,R.createElement(KC,{...s}),t!=="loading"&&R.createElement(JC,null,t==="error"?R.createElement(WC,{...s}):R.createElement(XC,{...s})))},sA=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,nA=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,iA="0%{opacity:0;} 100%{opacity:1;}",aA="0%{opacity:1;} 100%{opacity:0;}",oA=ci("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,lA=ci("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,cA=(r,e)=>{let t=r.includes("top")?1:-1,[s,a]=u_()?[iA,aA]:[sA(t),nA(t)];return{animation:e?`${cn(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${cn(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},uA=R.memo(({toast:r,position:e,style:t,children:s})=>{let a=r.height?cA(r.position||e||"top-center",r.visible):{opacity:0},l=R.createElement(rA,{toast:r}),u=R.createElement(lA,{...r.ariaProps},_d(r.message,r));return R.createElement(oA,{className:r.className,style:{...a,...t,...r.style}},typeof s=="function"?s({icon:l,message:u}):R.createElement(R.Fragment,null,l,u))});RC(R.createElement);var dA=({id:r,className:e,style:t,onHeightUpdate:s,children:a})=>{let l=R.useCallback(u=>{if(u){let m=()=>{let p=u.getBoundingClientRect().height;s(r,p)};m(),new MutationObserver(m).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[r,s]);return R.createElement("div",{ref:l,className:e,style:t},a)},hA=(r,e)=>{let t=r.includes("top"),s=t?{top:0}:{bottom:0},a=r.includes("center")?{justifyContent:"center"}:r.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:u_()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...s,...a}},mA=Zd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Gu=16,pA=({reverseOrder:r,position:e="top-center",toastOptions:t,gutter:s,children:a,toasterId:l,containerStyle:u,containerClassName:m})=>{let{toasts:p,handlers:x}=$C(t,l);return R.createElement("div",{"data-rht-toaster":l||"",style:{position:"fixed",zIndex:9999,top:Gu,left:Gu,right:Gu,bottom:Gu,pointerEvents:"none",...u},className:m,onMouseEnter:x.startPause,onMouseLeave:x.endPause},p.map(g=>{let w=g.position||e,b=x.calculateOffset(g,{reverseOrder:r,gutter:s,defaultPosition:e}),j=hA(w,b);return R.createElement(dA,{id:g.id,key:g.id,onHeightUpdate:x.updateHeight,className:g.visible?mA:"",style:j},g.type==="custom"?_d(g.message,g):a?a(g):R.createElement(uA,{toast:g,position:w}))}))};class vc{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const fA=()=>{if(!(typeof localStorage>"u"))return{get:r=>Promise.resolve(localStorage.getItem(r)),set:(r,e)=>Promise.resolve(localStorage.setItem(r,e)),remove:r=>Promise.resolve(localStorage.removeItem(r))}},$t={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:fA()},tg=r=>r?typeof r=="string"?{publicKey:r}:r.toString()==="[object Object]"?r:{}:{},gA=(r,e="https://api.emailjs.com")=>{if(!r)return;const t=tg(r);$t.publicKey=t.publicKey,$t.blockHeadless=t.blockHeadless,$t.storageProvider=t.storageProvider,$t.blockList=t.blockList,$t.limitRate=t.limitRate,$t.origin=t.origin||e},f_=async(r,e,t={})=>{const s=await fetch($t.origin+r,{method:"POST",headers:t,body:e}),a=await s.text(),l=new vc(s.status,a);if(s.ok)return l;throw l},g_=(r,e,t)=>{if(!r||typeof r!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},xA=r=>{if(r&&r.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},x_=r=>r.webdriver||!r.languages||r.languages.length===0,y_=()=>new vc(451,"Unavailable For Headless Browser"),yA=(r,e)=>{if(!Array.isArray(r))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},vA=r=>!r.list?.length||!r.watchVariable,bA=(r,e)=>r instanceof FormData?r.get(e):r[e],v_=(r,e)=>{if(vA(r))return!1;yA(r.list,r.watchVariable);const t=bA(e,r.watchVariable);return typeof t!="string"?!1:r.list.includes(t)},b_=()=>new vc(403,"Forbidden"),wA=(r,e)=>{if(typeof r!="number"||r<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},_A=async(r,e,t)=>{const s=Number(await t.get(r)||0);return e-Date.now()+s},w_=async(r,e,t)=>{if(!e.throttle||!t)return!1;wA(e.throttle,e.id);const s=e.id||r;return await _A(s,e.throttle,t)>0?!0:(await t.set(s,Date.now().toString()),!1)},__=()=>new vc(429,"Too Many Requests"),NA=async(r,e,t,s)=>{const a=tg(s),l=a.publicKey||$t.publicKey,u=a.blockHeadless||$t.blockHeadless,m=a.storageProvider||$t.storageProvider,p={...$t.blockList,...a.blockList},x={...$t.limitRate,...a.limitRate};return u&&x_(navigator)?Promise.reject(y_()):(g_(l,r,e),xA(t),t&&v_(p,t)?Promise.reject(b_()):await w_(location.pathname,x,m)?Promise.reject(__()):f_("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:l,service_id:r,template_id:e,template_params:t}),{"Content-type":"application/json"}))},jA=r=>{if(!r||r.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},EA=r=>typeof r=="string"?document.querySelector(r):r,TA=async(r,e,t,s)=>{const a=tg(s),l=a.publicKey||$t.publicKey,u=a.blockHeadless||$t.blockHeadless,m=$t.storageProvider||a.storageProvider,p={...$t.blockList,...a.blockList},x={...$t.limitRate,...a.limitRate};if(u&&x_(navigator))return Promise.reject(y_());const g=EA(t);g_(l,r,e),jA(g);const w=new FormData(g);return v_(p,w)?Promise.reject(b_()):await w_(location.pathname,x,m)?Promise.reject(__()):(w.append("lib_version","4.4.1"),w.append("service_id",r),w.append("template_id",e),w.append("user_id",l),f_("/api/v1.0/email/send-form",w))},N_={init:gA,send:NA,sendForm:TA,EmailJSResponseStatus:vc},SA="service_a8mly7e",kA="template_mt2syvx",IA="SObq46i_K8W1ZK1Lk";N_.init(IA);const CA=()=>Math.floor(1e5+Math.random()*9e5).toString(),$l=new Map,AA=(r,e,t={})=>($l.set(r,{codigo:e,expira:Date.now()+600*1e3,intentos:0,datos:t}),console.log(` Cdigo guardado para ${r}: ${e}`),!0),PA=async(r,e,t="Usuario")=>{try{const s={to_email:r,to_name:t,codigo:e,from_name:"Batista Global Service",reply_to:"no-reply@batistaglobalservice.com"},a=await N_.send(SA,kA,s);return console.log(" Email enviado:",a.status,a.text),{success:!0}}catch(s){return console.error(" Error enviando email:",s),{success:!1,error:s.message}}},RA=(r,e)=>{const t=$l.get(r);return t?Date.now()>t.expira?($l.delete(r),{valido:!1,error:" Cdigo expirado. Solicita uno nuevo."}):t.intentos>=3?($l.delete(r),{valido:!1,error:" Demasiados intentos. Solicita un nuevo cdigo."}):(t.intentos++,t.codigo!==e?{valido:!1,error:` Cdigo incorrecto. Intentos restantes: ${3-t.intentos}`}:(t.verificado=!0,{valido:!0,datos:t.datos})):{valido:!1,error:" No hay cdigo pendiente. Solicita uno nuevo."}},DA=r=>{$l.delete(r)},j_=R.createContext(),ui=()=>{const r=R.useContext(j_);if(!r)throw new Error("useClienteAuth debe usarse dentro de ClienteAuthProvider");return r},MA=({children:r})=>{const[e,t]=R.useState(null),[s,a]=R.useState(null),[l,u]=R.useState(!0);R.useEffect(()=>{const w=XE(to,async b=>{if(b){t(b);const j=Cs(Dt,"users",b.uid),k=await zw(j);k.exists()&&a(k.data())}else t(null),a(null);u(!1)});return()=>w()},[]);const g={user:e,userData:s,loading:l,register:async(w,b,j)=>{try{const M=(await GE(to,w,b)).user;return await hI(Cs(Dt,"users",M.uid),{uid:M.uid,email:M.email,name:j.name,phone:j.phone||"",emailVerified:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),DA(w),await Jx(to),de.success(" Cuenta creada exitosamente"),{success:!0}}catch(k){console.error("Error en registro:",k);let M="Error al registrarse";switch(k.code){case"auth/email-already-in-use":M="Este email ya est registrado";break;case"auth/invalid-email":M="Email invlido";break;case"auth/weak-password":M="La contrasea debe tener al menos 6 caracteres";break;default:M=k.message}return de.error(M),{success:!1,error:M}}},login:async(w,b)=>{try{const k=(await KE(to,w,b)).user;return de.success(" Bienvenido"),{success:!0,user:k}}catch(j){console.error("Error en login:",j);let k="Error al iniciar sesin";switch(j.code){case"auth/user-not-found":k="Usuario no encontrado";break;case"auth/wrong-password":k="Contrasea incorrecta";break;case"auth/too-many-requests":k="Demasiados intentos. Intenta ms tarde";break;default:k=j.message}return de.error(k),{success:!1,error:k}}},logout:async()=>{try{return await Jx(to),de.success("Sesin cerrada"),{success:!0}}catch(w){return console.error("Error al cerrar sesin:",w),de.error("Error al cerrar sesin"),{success:!1}}},isAuthenticated:!!e};return n.jsx(j_.Provider,{value:g,children:r})},E_=R.createContext(),OA=(r,e)=>{switch(e.type){case"SET_CART":return{...r,items:e.payload,loading:!1};case"ADD_ITEM":if(r.items.find(s=>s.id===e.payload.id)){const s=r.items.map(a=>a.id===e.payload.id?{...a,quantity:a.quantity+e.payload.quantity}:a);return{...r,items:s}}return{...r,items:[...r.items,e.payload]};case"UPDATE_ITEM":return{...r,items:r.items.map(s=>s.id===e.payload.id?e.payload:s)};case"REMOVE_ITEM":return{...r,items:r.items.filter(s=>s.id!==e.payload)};case"CLEAR_CART":return{...r,items:[],loading:!1};case"SET_LOADING":return{...r,loading:e.payload};default:return r}},T_=r=>r?`cart_user_${r}`:"cart_guest",LA=r=>{const e=T_(r);try{const t=localStorage.getItem(e);return console.log(` Cargando carrito para clave: ${e}`,t?"":" vaco"),t?JSON.parse(t):[]}catch(t){return console.error("Error loading cart:",t),[]}},VA=(r,e)=>{const t=T_(r);try{localStorage.setItem(t,JSON.stringify(e)),console.log(` Guardando carrito para clave: ${t} (${e.length} items)`)}catch(s){console.error("Error saving cart:",s)}},FA=({children:r})=>{const{user:e,isAuthenticated:t}=ui(),[s,a]=R.useReducer(OA,{items:[],loading:!0}),l=e?.uid||null;R.useEffect(()=>{(async()=>{a({type:"SET_LOADING",payload:!0}),console.log(" Usuario actual:",l||"Invitado");const k=LA(l);a({type:"SET_CART",payload:k}),a({type:"SET_LOADING",payload:!1})})()},[l]),R.useEffect(()=>{s.loading||VA(l,s.items)},[s.items,l,s.loading]);const u=R.useCallback((j,k=1)=>{const M={...j,quantity:k};a({type:"ADD_ITEM",payload:M}),de.success("Producto agregado al carrito")},[]),m=R.useCallback(j=>{a({type:"REMOVE_ITEM",payload:j}),de.success("Producto eliminado del carrito")},[]),p=R.useCallback((j,k)=>{if(k<1){m(j);return}const M=s.items.find(D=>D.id===j);if(M){const D={...M,quantity:k};a({type:"UPDATE_ITEM",payload:D})}},[s.items,m]),x=R.useCallback(()=>{a({type:"CLEAR_CART"}),de.success("Carrito vaciado")},[]),g=s.items.reduce((j,k)=>j+k.price*k.quantity,0),w=s.items.reduce((j,k)=>j+k.quantity,0),b={cart:s.items,loading:s.loading,addToCart:u,removeFromCart:m,updateQuantity:p,clearCart:x,cartTotal:g,cartCount:w};return n.jsx(E_.Provider,{value:b,children:r})},th=()=>{const r=R.useContext(E_);if(!r)throw new Error("useCart debe usarse dentro de CartProvider");return r},S_=R.createContext(),pn=()=>{const r=R.useContext(S_);if(!r)throw new Error("useLanguage debe usarse dentro de LanguageProvider");return r},Qm={es:{inicio:"Inicio",tienda:"Tienda",servicios:"Servicios",carrito:"Carrito",perfil:"Perfil",buscar:"Buscar",ingresar:"Ingresar",cerrar_sesion:"Cerrar sesin",mi_cuenta:"Mi cuenta",admin:"Admin",panel_admin:"Panel Admin",volver:"Volver",atras:"Atrs",cancelar:"Cancelar",guardar:"Guardar",aceptar:"Aceptar",cargando:"Cargando...",error:"Error",exito:"xito",volver_inicio:"Volver al inicio",procesando_general:"Procesando...",confirmar_eliminacion:"Ests seguro de eliminar este elemento?",cambios_guardados:"Cambios guardados correctamente",sin_datos:"No hay datos para mostrar",buscar_productos:"Buscar productos, marcas y ms...",explorar_tienda:"Explorar Tienda",nuestros_servicios:"Nuestros Servicios",search_placeholder:"Buscar productos, marcas y ms...",search:"Buscar",voice_search:"Bsqueda por voz",voice_search_not_supported:"Tu navegador no soporta bsqueda por voz",suggestions:"Sugerencias",recent_searches:"Bsquedas recientes",popular_searches:"Bsquedas populares",clear_recent:"Limpiar bsquedas",search_results_for:"Resultados de bsqueda para",products_found:"productos encontrados",filters:"Filtros",sort_by:"Ordenar por",relevance:"Relevancia",price_low_to_high:"Precio: menor a mayor",price_high_to_low:"Precio: mayor a menor",name_a_to_z:"Nombre: A a Z",category:"Categora",all_categories:"Todas las categoras",price_range:"Rango de precio",in_stock_only:"Solo en stock",clear_filters:"Limpiar filtros",no_results:"No encontramos resultados",try_different_keywords:"Prueba con diferentes palabras clave",browse_all_products:"Ver todos los productos",searching:"Buscando",productos:"Productos",producto:"Producto",precio:"Precio",desde:"Desde",hasta:"Hasta",stock:"Stock",disponible:"Disponible",no_disponible:"No disponible",add_to_cart:"Agregar al carrito",out_of_stock:"Sin stock",quantity:"Cantidad",total:"Total",subtotal:"Subtotal",continue_shopping:"Seguir comprando",checkout:"Finalizar compra",vaciar_carrito:"Vaciar carrito",carrito_vacio:"Tu carrito est vaco",ir_comprar:"Ir a comprar",ver_todos:"Ver todos",comprar_ahora:"Comprar ahora",servicios_turisticos:"Servicios Tursticos",descripcion_servicios:"Descubre todos los servicios que tenemos para ti",paqueteria_express:"Paquetera Express",envios_internacionales:"Envos internacionales",paquetes_turisticos:"Paquetes Tursticos",viajes_incluido:"Viajes todo incluido",renta_autos:"Renta de Autos",vehiculos_lujo:"Vehculos de lujo",reservas_hoteles:"Reservas de Hoteles",mejores_tarifas:"Mejores tarifas",reservas_vuelos:"Reservas de Vuelos",aerolineas_internacionales:"Aerolneas internacionales",visas:"Visas",tramite_profesional:"Trmite profesional",ver_detalles:"Ver detalles",destacado:"Destacado",ofertas:"Ofertas",mas_informacion:"Ms informacin",proximamente:"Prximamente",preparando_servicios:"Estamos preparando servicios increbles para ti",bienvenido:"Bienvenido",cliente:"Cliente",administrador:"Administrador",mis_pedidos:"Mis Pedidos",mis_favoritos:"Mis Favoritos",mis_direcciones:"Mis Direcciones",configuracion:"Configuracin",resumen:"Resumen",pedidos:"Pedidos",favoritos:"Favoritos",direcciones:"Direcciones",informacion_personal:"Informacin Personal",nombre_completo:"Nombre completo",correo_electronico:"Correo electrnico",telefono:"Telfono",fecha_registro:"Fecha de registro",miembro_desde:"Miembro desde",guardar_cambios:"Guardar cambios",editar_perfil:"Editar perfil",cambiar_contrasea:"Cambiar contrasea",nueva_contrasea:"Nueva contrasea",confirmar_contrasea:"Confirmar contrasea",pedidos_realizados:"Pedidos realizados",productos_favoritos:"Productos favoritos",dias_como_miembro:"Das como miembro",puntos_acumulados:"Puntos acumulados",direcciones_guardadas:"Direcciones guardadas",agregar_direccion:"Agregar direccin",pais:"Pas",ciudad:"Ciudad",direccion:"Direccin",codigo_postal:"Cdigo postal",telefono_contacto:"Telfono de contacto",no_sesion:"No has iniciado sesin",sin_pedidos:"No tienes pedidos an",sin_favoritos:"No tienes favoritos an",sin_direcciones:"No tienes direcciones guardadas",id_pedido:"ID Pedido",fecha:"Fecha",estado:"Estado",entregado:"Entregado",en_camino:"En camino",procesando_pedido:"Procesando pedido",pedidos_recientes:"Pedidos Recientes",ir_tienda:"Ir a Tienda",iniciar_sesion:"Iniciar Sesin",crear_cuenta:"Crear Cuenta",registrarme:"Registrarme",email:"Correo electrnico",contrasea:"Contrasea",recordarme:"Recordarme",olvide_contrasea:"Olvidaste tu contrasea?",no_tienes_cuenta:"No tienes cuenta?",ya_tienes_cuenta:"Ya tienes cuenta?",registrate:"Regstrate",inicia_sesion:"Inicia sesin",continuar_invitado:"Continuar como invitado",bienvenido_usuario:"Bienvenido",accede_continuar:"Accede a tu cuenta para continuar",registrate_comprar:"Regstrate para comenzar a comprar",tu_nombre:"Tu nombre",passwords_no_match:"Las contraseas no coinciden",contactanos:"Contctanos",llamanos_ahora:"LLMANOS AHORA",escribenos:"ESCRBENOS",visitanos:"VISTANOS",horarios:"Horarios",lun_vie:"Lunes a Viernes",sabado:"Sbado",domingo:"Domingo",redes_sociales:"Redes Sociales",siguenos:"Sguenos",terminos_condiciones:"Trminos y condiciones",politica_privacidad:"Poltica de privacidad",derechos:"Todos los derechos reservados",enlaces_rapidos:"Enlaces rpidos",copyright:" {year} Batista Global Service. {rights}",panel_administrativo:"Panel Administrativo",dashboard:"Dashboard",gestion_productos:"Gestin de Productos",gestion_servicios:"Gestin de Servicios",gestion_pedidos:"Gestin de Pedidos",gestion_usuarios:"Gestin de Usuarios",analiticas:"Analticas",configuracion_admin:"Configuracin",nuevo_producto:"Nuevo Producto",nuevo_servicio:"Nuevo Servicio",editar:"Editar",eliminar:"Eliminar",activar:"Activar",desactivar:"Desactivar",buscar_admin:"Buscar...",todos:"Todos",aplicar:"Aplicar",exportar:"Exportar",importar:"Importar",error_inesperado:"Error inesperado",intentar_nuevamente:"Intentar nuevamente",pagina_no_encontrada:"Pgina no encontrada",acceso_denegado:"Acceso denegado",no_autorizado:"No autorizado",sesion_expirada:"Sesin expirada",campos_obligatorios:"Campos obligatorios",formato_invalido:"Formato invlido",hoy:"Hoy",ayer:"Ayer",manana:"Maana",dias:"das",semanas:"semanas",meses:"meses",aos:"aos",minutos:"minutos",horas:"horas",usd:"USD",eur:"EUR",dop:"DOP",pesos:"pesos",dolares:"dlares",kg:"kg",lb:"lb",g:"g",unidad:"unidad",unidades:"unidades",paquete:"paquete",paquetes:"paquetes"},en:{inicio:"Home",tienda:"Store",servicios:"Services",carrito:"Cart",perfil:"Profile",buscar:"Search",ingresar:"Login",cerrar_sesion:"Logout",mi_cuenta:"My Account",admin:"Admin",panel_admin:"Admin Panel",volver:"Back",atras:"Back",cancelar:"Cancel",guardar:"Save",aceptar:"Accept",cargando:"Loading...",error:"Error",exito:"Success",volver_inicio:"Back to home",procesando_general:"Processing...",confirmar_eliminacion:"Are you sure you want to delete this item?",cambios_guardados:"Changes saved successfully",sin_datos:"No data to display",buscar_productos:"Search products, brands and more...",explorar_tienda:"Explore Store",nuestros_servicios:"Our Services",search_placeholder:"Search products, brands and more...",search:"Search",voice_search:"Voice search",voice_search_not_supported:"Your browser does not support voice search",suggestions:"Suggestions",recent_searches:"Recent searches",popular_searches:"Popular searches",clear_recent:"Clear recent",search_results_for:"Search results for",products_found:"products found",filters:"Filters",sort_by:"Sort by",relevance:"Relevance",price_low_to_high:"Price: low to high",price_high_to_low:"Price: high to low",name_a_to_z:"Name: A to Z",category:"Category",all_categories:"All categories",price_range:"Price range",in_stock_only:"In stock only",clear_filters:"Clear filters",no_results:"No results found",try_different_keywords:"Try different keywords",browse_all_products:"Browse all products",searching:"Searching",productos:"Products",producto:"Product",precio:"Price",desde:"From",hasta:"To",stock:"Stock",disponible:"Available",no_disponible:"Not available",add_to_cart:"Add to cart",out_of_stock:"Out of stock",quantity:"Quantity",total:"Total",subtotal:"Subtotal",continue_shopping:"Continue shopping",checkout:"Checkout",vaciar_carrito:"Empty cart",carrito_vacio:"Your cart is empty",ir_comprar:"Go shopping",ver_todos:"View all",comprar_ahora:"Buy now",servicios_turisticos:"Tourist Services",descripcion_servicios:"Discover all the services we have for you",paqueteria_express:"Express Shipping",envios_internacionales:"International shipping",paquetes_turisticos:"Tour Packages",viajes_incluido:"All-inclusive trips",renta_autos:"Car Rental",vehiculos_lujo:"Luxury vehicles",reservas_hoteles:"Hotel Reservations",mejores_tarifas:"Best rates",reservas_vuelos:"Flight Reservations",aerolineas_internacionales:"International airlines",visas:"Visas",tramite_profesional:"Professional processing",ver_detalles:"View details",destacado:"Featured",ofertas:"Offers",mas_informacion:"More information",proximamente:"Coming soon",preparando_servicios:"We are preparing amazing services for you",bienvenido:"Welcome",cliente:"Client",administrador:"Administrator",mis_pedidos:"My Orders",mis_favoritos:"My Favorites",mis_direcciones:"My Addresses",configuracion:"Settings",resumen:"Summary",pedidos:"Orders",favoritos:"Favorites",direcciones:"Addresses",informacion_personal:"Personal Information",nombre_completo:"Full name",correo_electronico:"Email",telefono:"Phone",fecha_registro:"Registration date",miembro_desde:"Member since",guardar_cambios:"Save changes",editar_perfil:"Edit profile",cambiar_contrasea:"Change password",nueva_contrasea:"New password",confirmar_contrasea:"Confirm password",pedidos_realizados:"Orders placed",productos_favoritos:"Favorite products",dias_como_miembro:"Days as member",puntos_acumulados:"Accumulated points",direcciones_guardadas:"Saved addresses",agregar_direccion:"Add address",pais:"Country",ciudad:"City",direccion:"Address",codigo_postal:"Postal code",telefono_contacto:"Contact phone",no_sesion:"You are not logged in",sin_pedidos:"You have no orders yet",sin_favoritos:"You have no favorites yet",sin_direcciones:"You have no saved addresses",id_pedido:"Order ID",fecha:"Date",estado:"Status",entregado:"Delivered",en_camino:"In transit",procesando_pedido:"Processing order",pedidos_recientes:"Recent Orders",ir_tienda:"Go to Store",iniciar_sesion:"Sign In",crear_cuenta:"Create Account",registrarme:"Sign Up",email:"Email",contrasea:"Password",recordarme:"Remember me",olvide_contrasea:"Forgot password?",no_tienes_cuenta:"Don't have an account?",ya_tienes_cuenta:"Already have an account?",registrate:"Sign up",inicia_sesion:"Sign in",continuar_invitado:"Continue as guest",bienvenido_usuario:"Welcome",accede_continuar:"Access your account to continue",registrate_comprar:"Sign up to start shopping",tu_nombre:"Your name",passwords_no_match:"Passwords do not match",contactanos:"Contact us",llamanos_ahora:"CALL US NOW",escribenos:"WRITE TO US",visitanos:"VISIT US",horarios:"Hours",lun_vie:"Monday to Friday",sabado:"Saturday",domingo:"Sunday",redes_sociales:"Social Media",siguenos:"Follow us",terminos_condiciones:"Terms and conditions",politica_privacidad:"Privacy policy",derechos:"All rights reserved",enlaces_rapidos:"Quick links",copyright:" {year} Batista Global Service. {rights}",panel_administrativo:"Administrative Panel",dashboard:"Dashboard",gestion_productos:"Product Management",gestion_servicios:"Service Management",gestion_pedidos:"Order Management",gestion_usuarios:"User Management",analiticas:"Analytics",configuracion_admin:"Settings",nuevo_producto:"New Product",nuevo_servicio:"New Service",editar:"Edit",eliminar:"Delete",activar:"Activate",desactivar:"Deactivate",buscar_admin:"Search...",todos:"All",aplicar:"Apply",exportar:"Export",importar:"Import",error_inesperado:"Unexpected error",intentar_nuevamente:"Try again",pagina_no_encontrada:"Page not found",acceso_denegado:"Access denied",no_autorizado:"Unauthorized",sesion_expirada:"Session expired",campos_obligatorios:"Required fields",formato_invalido:"Invalid format",hoy:"Today",ayer:"Yesterday",manana:"Tomorrow",dias:"days",semanas:"weeks",meses:"months",aos:"years",minutos:"minutes",horas:"hours",usd:"USD",eur:"EUR",dop:"DOP",pesos:"pesos",dolares:"dollars",kg:"kg",lb:"lb",g:"g",unidad:"unit",unidades:"units",paquete:"package",paquetes:"packages"}},UA=({children:r})=>{const[e,t]=R.useState(()=>localStorage.getItem("language")||"es");R.useEffect(()=>{localStorage.setItem("language",e),document.documentElement.lang=e},[e]);const a={language:e,setLanguage:t,t:(l,u={})=>{let m=Qm[e]?.[l]||Qm.es[l]||l;return Object.keys(u).forEach(p=>{m=m.replace(`{${p}}`,u[p])}),m},translations:Qm[e]};return n.jsx(S_.Provider,{value:a,children:r})};const k_=(...r)=>r.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();const BA=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const $A=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());const ev=r=>{const e=$A(r);return e.charAt(0).toUpperCase()+e.slice(1)};var zA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const qA=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const HA=R.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:u,...m},p)=>R.createElement("svg",{ref:p,...zA,width:e,height:e,stroke:r,strokeWidth:s?Number(t)*24/Number(e):t,className:k_("lucide",a),...!l&&!qA(m)&&{"aria-hidden":"true"},...m},[...u.map(([x,g])=>R.createElement(x,g)),...Array.isArray(l)?l:[l]]));const ce=(r,e)=>{const t=R.forwardRef(({className:s,...a},l)=>R.createElement(HA,{ref:l,iconNode:e,className:k_(`lucide-${BA(ev(r))}`,`lucide-${r}`,s),...a}));return t.displayName=ev(r),t};const WA=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],un=ce("arrow-left",WA);const GA=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],rg=ce("award",GA);const KA=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M9 9h.01",key:"1q5me6"}],["path",{d:"M15 15h.01",key:"lqbp3k"}]],QA=ce("badge-percent",KA);const YA=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],ko=ce("briefcase",YA);const XA=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Hi=ce("calendar",XA);const JA=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],Fr=ce("car",JA);const ZA=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],eP=ce("chart-column",ZA);const tP=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],I_=ce("chevron-left",tP);const rP=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],C_=ce("chevron-right",rP);const sP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Pp=ce("circle-alert",sP);const nP=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],gr=ce("circle-check-big",nP);const iP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],aP=ce("circle-user",iP);const oP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],go=ce("circle-x",oP);const lP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6h4",key:"135r8i"}]],cP=ce("clock-3",lP);const uP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],xr=ce("clock",uP);const dP=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],Rp=ce("coffee",dP);const hP=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],mP=ce("credit-card",hP);const pP=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],fP=ce("crown",pP);const gP=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Nd=ce("dollar-sign",gP);const xP=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],A_=ce("download",xP);const yP=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],vP=ce("dumbbell",yP);const bP=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],P_=ce("eye",bP);const wP=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],_P=ce("eye-off",wP);const NP=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],jP=ce("file-text",NP);const EP=[["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 4 0v-6.998a2 2 0 0 0-.59-1.42L18 5",key:"1wtuz0"}],["path",{d:"M14 21V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v16",key:"e09ifn"}],["path",{d:"M2 21h13",key:"1x0fut"}],["path",{d:"M3 9h11",key:"1p7c0w"}]],TP=ce("fuel",EP);const SP=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],R_=ce("funnel",SP);const kP=[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]],IP=ce("gem",kP);const CP=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M20 11v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-8",key:"1sqzm4"}],["path",{d:"M7.5 7a1 1 0 0 1 0-5A4.8 8 0 0 1 12 7a4.8 8 0 0 1 4.5-5 1 1 0 0 1 0 5",key:"kc0143"}],["rect",{x:"3",y:"7",width:"18",height:"4",rx:"1",key:"1hberx"}]],AP=ce("gift",CP);const PP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],dn=ce("globe",PP);const RP=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],bc=ce("heart",RP);const DP=[["path",{d:"M10 22v-6.57",key:"1wmca3"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M14 15.43V22",key:"1q2vjd"}],["path",{d:"M15 16a5 5 0 0 0-6 0",key:"o9wqvi"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],Qn=ce("hotel",DP);const MP=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],jd=ce("house",MP);const OP=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],LP=ce("image",OP);const VP=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],FP=ce("layout-dashboard",VP);const UP=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],D_=ce("loader-circle",UP);const BP=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Ed=ce("loader",BP);const $P=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],sg=ce("lock",$P);const zP=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],qP=ce("log-in",zP);const HP=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],M_=ce("log-out",HP);const WP=[["path",{d:"M6 20a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2",key:"1m57jg"}],["path",{d:"M8 18V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v14",key:"1l99gc"}],["path",{d:"M10 20h4",key:"ni2waw"}],["circle",{cx:"16",cy:"20",r:"2",key:"1vifvg"}],["circle",{cx:"8",cy:"20",r:"2",key:"ckkr5m"}]],GP=ce("luggage",WP);const KP=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Zi=ce("mail",KP);const QP=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],zr=ce("map-pin",QP);const YP=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],O_=ce("menu",YP);const XP=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],JP=ce("message-circle",XP);const ZP=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],L_=ce("mic",ZP);const eR=[["path",{d:"M5 12h14",key:"1ays0h"}]],tR=ce("minus",eR);const rR=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],sR=ce("moon",rR);const nR=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Br=ce("package",nR);const iR=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],aR=ce("pause",iR);const oR=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],wc=ce("phone",oR);const lR=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],cR=ce("play",lR);const uR=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],Io=ce("plane",uR);const dR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],rt=ce("plus",dR);const hR=[["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}],["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09",key:"u4xsad"}],["path",{d:"M9 12a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.4 22.4 0 0 1-4 2z",key:"676m9"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 .05 5 .05",key:"92ym6u"}]],mR=ce("rocket",hR);const pR=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],V_=ce("save",pR);const fR=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],F_=ce("scale",fR);const gR=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],hn=ce("search",gR);const xR=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],yR=ce("send",xR);const vR=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],U_=ce("settings",vR);const bR=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],wR=ce("share-2",bR);const _R=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],xo=ce("shield",_R);const NR=[["path",{d:"M12 10.189V14",key:"1p8cqu"}],["path",{d:"M12 2v3",key:"qbqxhf"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-8.188-3.639a2 2 0 0 0-1.624 0L3 14a11.6 11.6 0 0 0 2.81 7.76",key:"7tigtc"}],["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1s1.2 1 2.5 1c2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"1924j5"}]],jR=ce("ship",NR);const ER=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],oo=ce("shopping-bag",ER);const TR=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],yo=ce("shopping-cart",TR);const SR=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],tv=ce("sparkles",SR);const kR=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],rh=ce("square-pen",kR);const IR=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],kr=ce("star",IR);const CR=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],ng=ce("sun",CR);const AR=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],$r=ce("trash-2",AR);const PR=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Mt=ce("trending-up",PR);const RR=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Co=ce("truck",RR);const DR=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],nc=ce("upload",DR);const MR=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],vo=ce("user",MR);const OR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],_c=ce("users",OR);const LR=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],rv=ce("utensils",LR);const VR=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],sv=ce("waves",VR);const FR=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Dp=ce("wifi",FR);const UR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ze=ce("x",UR);function mn(r){return Array.isArray?Array.isArray(r):z_(r)==="[object Array]"}function BR(r){if(typeof r=="string")return r;let e=r+"";return e=="0"&&1/r==-1/0?"-0":e}function $R(r){return r==null?"":BR(r)}function Ns(r){return typeof r=="string"}function B_(r){return typeof r=="number"}function zR(r){return r===!0||r===!1||qR(r)&&z_(r)=="[object Boolean]"}function $_(r){return typeof r=="object"}function qR(r){return $_(r)&&r!==null}function Er(r){return r!=null}function Ym(r){return!r.trim().length}function z_(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}const HR="Incorrect 'index' type",WR=r=>`Invalid value for key ${r}`,GR=r=>`Pattern length exceeds max of ${r}.`,KR=r=>`Missing ${r} property in key`,QR=r=>`Property 'weight' in key '${r}' must be a positive integer`,nv=Object.prototype.hasOwnProperty;class YR{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(s=>{let a=q_(s);this._keys.push(a),this._keyMap[a.id]=a,t+=a.weight}),this._keys.forEach(s=>{s.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function q_(r){let e=null,t=null,s=null,a=1,l=null;if(Ns(r)||mn(r))s=r,e=iv(r),t=Mp(r);else{if(!nv.call(r,"name"))throw new Error(KR("name"));const u=r.name;if(s=u,nv.call(r,"weight")&&(a=r.weight,a<=0))throw new Error(QR(u));e=iv(u),t=Mp(u),l=r.getFn}return{path:e,id:t,weight:a,src:s,getFn:l}}function iv(r){return mn(r)?r:r.split(".")}function Mp(r){return mn(r)?r.join("."):r}function XR(r,e){let t=[],s=!1;const a=(l,u,m)=>{if(Er(l))if(!u[m])t.push(l);else{let p=u[m];const x=l[p];if(!Er(x))return;if(m===u.length-1&&(Ns(x)||B_(x)||zR(x)))t.push($R(x));else if(mn(x)){s=!0;for(let g=0,w=x.length;g<w;g+=1)a(x[g],u,m+1)}else u.length&&a(x,u,m+1)}};return a(r,Ns(e)?e.split("."):e,0),s?t:t[0]}const JR={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},ZR={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(r,e)=>r.score===e.score?r.idx<e.idx?-1:1:r.score<e.score?-1:1},e5={location:0,threshold:.6,distance:100},t5={useExtendedSearch:!1,getFn:XR,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Ee={...ZR,...JR,...e5,...t5};const r5=/[^ ]+/g;function s5(r=1,e=3){const t=new Map,s=Math.pow(10,e);return{get(a){const l=a.match(r5).length;if(t.has(l))return t.get(l);const u=1/Math.pow(l,.5*r),m=parseFloat(Math.round(u*s)/s);return t.set(l,m),m},clear(){t.clear()}}}class ig{constructor({getFn:e=Ee.getFn,fieldNormWeight:t=Ee.fieldNormWeight}={}){this.norm=s5(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((t,s)=>{this._keysMap[t.id]=s})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Ns(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){const t=this.size();Ns(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,s=this.size();t<s;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!Er(e)||Ym(e))return;let s={v:e,i:t,n:this.norm.get(e)};this.records.push(s)}_addObject(e,t){let s={i:t,$:{}};this.keys.forEach((a,l)=>{let u=a.getFn?a.getFn(e):this.getFn(e,a.path);if(Er(u)){if(mn(u)){let m=[];const p=[{nestedArrIndex:-1,value:u}];for(;p.length;){const{nestedArrIndex:x,value:g}=p.pop();if(Er(g))if(Ns(g)&&!Ym(g)){let w={v:g,i:x,n:this.norm.get(g)};m.push(w)}else mn(g)&&g.forEach((w,b)=>{p.push({nestedArrIndex:b,value:w})})}s.$[l]=m}else if(Ns(u)&&!Ym(u)){let m={v:u,n:this.norm.get(u)};s.$[l]=m}}}),this.records.push(s)}toJSON(){return{keys:this.keys,records:this.records}}}function H_(r,e,{getFn:t=Ee.getFn,fieldNormWeight:s=Ee.fieldNormWeight}={}){const a=new ig({getFn:t,fieldNormWeight:s});return a.setKeys(r.map(q_)),a.setSources(e),a.create(),a}function n5(r,{getFn:e=Ee.getFn,fieldNormWeight:t=Ee.fieldNormWeight}={}){const{keys:s,records:a}=r,l=new ig({getFn:e,fieldNormWeight:t});return l.setKeys(s),l.setIndexRecords(a),l}function Ku(r,{errors:e=0,currentLocation:t=0,expectedLocation:s=0,distance:a=Ee.distance,ignoreLocation:l=Ee.ignoreLocation}={}){const u=e/r.length;if(l)return u;const m=Math.abs(s-t);return a?u+m/a:m?1:u}function i5(r=[],e=Ee.minMatchCharLength){let t=[],s=-1,a=-1,l=0;for(let u=r.length;l<u;l+=1){let m=r[l];m&&s===-1?s=l:!m&&s!==-1&&(a=l-1,a-s+1>=e&&t.push([s,a]),s=-1)}return r[l-1]&&l-s>=e&&t.push([s,l-1]),t}const Bi=32;function a5(r,e,t,{location:s=Ee.location,distance:a=Ee.distance,threshold:l=Ee.threshold,findAllMatches:u=Ee.findAllMatches,minMatchCharLength:m=Ee.minMatchCharLength,includeMatches:p=Ee.includeMatches,ignoreLocation:x=Ee.ignoreLocation}={}){if(e.length>Bi)throw new Error(GR(Bi));const g=e.length,w=r.length,b=Math.max(0,Math.min(s,w));let j=l,k=b;const M=m>1||p,D=M?Array(w):[];let W;for(;(W=r.indexOf(e,k))>-1;){let O=Ku(e,{currentLocation:W,expectedLocation:b,distance:a,ignoreLocation:x});if(j=Math.min(O,j),k=W+g,M){let P=0;for(;P<g;)D[W+P]=1,P+=1}}k=-1;let H=[],Q=1,K=g+w;const Y=1<<g-1;for(let O=0;O<g;O+=1){let P=0,T=K;for(;P<T;)Ku(e,{errors:O,currentLocation:b+T,expectedLocation:b,distance:a,ignoreLocation:x})<=j?P=T:K=T,T=Math.floor((K-P)/2+P);K=T;let N=Math.max(1,b-T+1),S=u?w:Math.min(b+T,w)+g,A=Array(S+2);A[S+1]=(1<<O)-1;for(let oe=S;oe>=N;oe-=1){let we=oe-1,Ue=t[r.charAt(we)];if(M&&(D[we]=+!!Ue),A[oe]=(A[oe+1]<<1|1)&Ue,O&&(A[oe]|=(H[oe+1]|H[oe])<<1|1|H[oe+1]),A[oe]&Y&&(Q=Ku(e,{errors:O,currentLocation:we,expectedLocation:b,distance:a,ignoreLocation:x}),Q<=j)){if(j=Q,k=we,k<=b)break;N=Math.max(1,2*b-k)}}if(Ku(e,{errors:O+1,currentLocation:b,expectedLocation:b,distance:a,ignoreLocation:x})>j)break;H=A}const J={isMatch:k>=0,score:Math.max(.001,Q)};if(M){const O=i5(D,m);O.length?p&&(J.indices=O):J.isMatch=!1}return J}function o5(r){let e={};for(let t=0,s=r.length;t<s;t+=1){const a=r.charAt(t);e[a]=(e[a]||0)|1<<s-t-1}return e}const Td=String.prototype.normalize?(r=>r.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(r=>r);class W_{constructor(e,{location:t=Ee.location,threshold:s=Ee.threshold,distance:a=Ee.distance,includeMatches:l=Ee.includeMatches,findAllMatches:u=Ee.findAllMatches,minMatchCharLength:m=Ee.minMatchCharLength,isCaseSensitive:p=Ee.isCaseSensitive,ignoreDiacritics:x=Ee.ignoreDiacritics,ignoreLocation:g=Ee.ignoreLocation}={}){if(this.options={location:t,threshold:s,distance:a,includeMatches:l,findAllMatches:u,minMatchCharLength:m,isCaseSensitive:p,ignoreDiacritics:x,ignoreLocation:g},e=p?e:e.toLowerCase(),e=x?Td(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const w=(j,k)=>{this.chunks.push({pattern:j,alphabet:o5(j),startIndex:k})},b=this.pattern.length;if(b>Bi){let j=0;const k=b%Bi,M=b-k;for(;j<M;)w(this.pattern.substr(j,Bi),j),j+=Bi;if(k){const D=b-Bi;w(this.pattern.substr(D),D)}}else w(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,ignoreDiacritics:s,includeMatches:a}=this.options;if(e=t?e:e.toLowerCase(),e=s?Td(e):e,this.pattern===e){let M={isMatch:!0,score:0};return a&&(M.indices=[[0,e.length-1]]),M}const{location:l,distance:u,threshold:m,findAllMatches:p,minMatchCharLength:x,ignoreLocation:g}=this.options;let w=[],b=0,j=!1;this.chunks.forEach(({pattern:M,alphabet:D,startIndex:W})=>{const{isMatch:H,score:Q,indices:K}=a5(e,M,D,{location:l+W,distance:u,threshold:m,findAllMatches:p,minMatchCharLength:x,includeMatches:a,ignoreLocation:g});H&&(j=!0),b+=Q,H&&K&&(w=[...w,...K])});let k={isMatch:j,score:j?b/this.chunks.length:1};return j&&a&&(k.indices=w),k}}class di{constructor(e){this.pattern=e}static isMultiMatch(e){return av(e,this.multiRegex)}static isSingleMatch(e){return av(e,this.singleRegex)}search(){}}function av(r,e){const t=r.match(e);return t?t[1]:null}class l5 extends di{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class c5 extends di{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const s=e.indexOf(this.pattern)===-1;return{isMatch:s,score:s?0:1,indices:[0,e.length-1]}}}class u5 extends di{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class d5 extends di{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class h5 extends di{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class m5 extends di{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class G_ extends di{constructor(e,{location:t=Ee.location,threshold:s=Ee.threshold,distance:a=Ee.distance,includeMatches:l=Ee.includeMatches,findAllMatches:u=Ee.findAllMatches,minMatchCharLength:m=Ee.minMatchCharLength,isCaseSensitive:p=Ee.isCaseSensitive,ignoreDiacritics:x=Ee.ignoreDiacritics,ignoreLocation:g=Ee.ignoreLocation}={}){super(e),this._bitapSearch=new W_(e,{location:t,threshold:s,distance:a,includeMatches:l,findAllMatches:u,minMatchCharLength:m,isCaseSensitive:p,ignoreDiacritics:x,ignoreLocation:g})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class K_ extends di{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t=0,s;const a=[],l=this.pattern.length;for(;(s=e.indexOf(this.pattern,t))>-1;)t=s+l,a.push([s,t-1]);const u=!!a.length;return{isMatch:u,score:u?0:1,indices:a}}}const Op=[l5,K_,u5,d5,m5,h5,c5,G_],ov=Op.length,p5=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,f5="|";function g5(r,e={}){return r.split(f5).map(t=>{let s=t.trim().split(p5).filter(l=>l&&!!l.trim()),a=[];for(let l=0,u=s.length;l<u;l+=1){const m=s[l];let p=!1,x=-1;for(;!p&&++x<ov;){const g=Op[x];let w=g.isMultiMatch(m);w&&(a.push(new g(w,e)),p=!0)}if(!p)for(x=-1;++x<ov;){const g=Op[x];let w=g.isSingleMatch(m);if(w){a.push(new g(w,e));break}}}return a})}const x5=new Set([G_.type,K_.type]);class y5{constructor(e,{isCaseSensitive:t=Ee.isCaseSensitive,ignoreDiacritics:s=Ee.ignoreDiacritics,includeMatches:a=Ee.includeMatches,minMatchCharLength:l=Ee.minMatchCharLength,ignoreLocation:u=Ee.ignoreLocation,findAllMatches:m=Ee.findAllMatches,location:p=Ee.location,threshold:x=Ee.threshold,distance:g=Ee.distance}={}){this.query=null,this.options={isCaseSensitive:t,ignoreDiacritics:s,includeMatches:a,minMatchCharLength:l,findAllMatches:m,ignoreLocation:u,location:p,threshold:x,distance:g},e=t?e:e.toLowerCase(),e=s?Td(e):e,this.pattern=e,this.query=g5(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:s,isCaseSensitive:a,ignoreDiacritics:l}=this.options;e=a?e:e.toLowerCase(),e=l?Td(e):e;let u=0,m=[],p=0;for(let x=0,g=t.length;x<g;x+=1){const w=t[x];m.length=0,u=0;for(let b=0,j=w.length;b<j;b+=1){const k=w[b],{isMatch:M,indices:D,score:W}=k.search(e);if(M){if(u+=1,p+=W,s){const H=k.constructor.type;x5.has(H)?m=[...m,...D]:m.push(D)}}else{p=0,u=0,m.length=0;break}}if(u){let b={isMatch:!0,score:p/u};return s&&(b.indices=m),b}}return{isMatch:!1,score:1}}}const Lp=[];function v5(...r){Lp.push(...r)}function Vp(r,e){for(let t=0,s=Lp.length;t<s;t+=1){let a=Lp[t];if(a.condition(r,e))return new a(r,e)}return new W_(r,e)}const Sd={AND:"$and",OR:"$or"},Fp={PATH:"$path",PATTERN:"$val"},Up=r=>!!(r[Sd.AND]||r[Sd.OR]),b5=r=>!!r[Fp.PATH],w5=r=>!mn(r)&&$_(r)&&!Up(r),lv=r=>({[Sd.AND]:Object.keys(r).map(e=>({[e]:r[e]}))});function Q_(r,e,{auto:t=!0}={}){const s=a=>{let l=Object.keys(a);const u=b5(a);if(!u&&l.length>1&&!Up(a))return s(lv(a));if(w5(a)){const p=u?a[Fp.PATH]:l[0],x=u?a[Fp.PATTERN]:a[p];if(!Ns(x))throw new Error(WR(p));const g={keyId:Mp(p),pattern:x};return t&&(g.searcher=Vp(x,e)),g}let m={children:[],operator:l[0]};return l.forEach(p=>{const x=a[p];mn(x)&&x.forEach(g=>{m.children.push(s(g))})}),m};return Up(r)||(r=lv(r)),s(r)}function _5(r,{ignoreFieldNorm:e=Ee.ignoreFieldNorm}){r.forEach(t=>{let s=1;t.matches.forEach(({key:a,norm:l,score:u})=>{const m=a?a.weight:null;s*=Math.pow(u===0&&m?Number.EPSILON:u,(m||1)*(e?1:l))}),t.score=s})}function N5(r,e){const t=r.matches;e.matches=[],Er(t)&&t.forEach(s=>{if(!Er(s.indices)||!s.indices.length)return;const{indices:a,value:l}=s;let u={indices:a,value:l};s.key&&(u.key=s.key.src),s.idx>-1&&(u.refIndex=s.idx),e.matches.push(u)})}function j5(r,e){e.score=r.score}function E5(r,e,{includeMatches:t=Ee.includeMatches,includeScore:s=Ee.includeScore}={}){const a=[];return t&&a.push(N5),s&&a.push(j5),r.map(l=>{const{idx:u}=l,m={item:e[u],refIndex:u};return a.length&&a.forEach(p=>{p(l,m)}),m})}class Ao{constructor(e,t={},s){this.options={...Ee,...t},this.options.useExtendedSearch,this._keyStore=new YR(this.options.keys),this.setCollection(e,s)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof ig))throw new Error(HR);this._myIndex=t||H_(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){Er(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const t=[];for(let s=0,a=this._docs.length;s<a;s+=1){const l=this._docs[s];e(l,s)&&(this.removeAt(s),s-=1,a-=1,t.push(l))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:s,includeScore:a,shouldSort:l,sortFn:u,ignoreFieldNorm:m}=this.options;let p=Ns(e)?Ns(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return _5(p,{ignoreFieldNorm:m}),l&&p.sort(u),B_(t)&&t>-1&&(p=p.slice(0,t)),E5(p,this._docs,{includeMatches:s,includeScore:a})}_searchStringList(e){const t=Vp(e,this.options),{records:s}=this._myIndex,a=[];return s.forEach(({v:l,i:u,n:m})=>{if(!Er(l))return;const{isMatch:p,score:x,indices:g}=t.searchIn(l);p&&a.push({item:l,idx:u,matches:[{score:x,value:l,norm:m,indices:g}]})}),a}_searchLogical(e){const t=Q_(e,this.options),s=(m,p,x)=>{if(!m.children){const{keyId:w,searcher:b}=m,j=this._findMatches({key:this._keyStore.get(w),value:this._myIndex.getValueForItemAtKeyId(p,w),searcher:b});return j&&j.length?[{idx:x,item:p,matches:j}]:[]}const g=[];for(let w=0,b=m.children.length;w<b;w+=1){const j=m.children[w],k=s(j,p,x);if(k.length)g.push(...k);else if(m.operator===Sd.AND)return[]}return g},a=this._myIndex.records,l={},u=[];return a.forEach(({$:m,i:p})=>{if(Er(m)){let x=s(t,m,p);x.length&&(l[p]||(l[p]={idx:p,item:m,matches:[]},u.push(l[p])),x.forEach(({matches:g})=>{l[p].matches.push(...g)}))}}),u}_searchObjectList(e){const t=Vp(e,this.options),{keys:s,records:a}=this._myIndex,l=[];return a.forEach(({$:u,i:m})=>{if(!Er(u))return;let p=[];s.forEach((x,g)=>{p.push(...this._findMatches({key:x,value:u[g],searcher:t}))}),p.length&&l.push({idx:m,item:u,matches:p})}),l}_findMatches({key:e,value:t,searcher:s}){if(!Er(t))return[];let a=[];if(mn(t))t.forEach(({v:l,i:u,n:m})=>{if(!Er(l))return;const{isMatch:p,score:x,indices:g}=s.searchIn(l);p&&a.push({score:x,key:e,value:l,idx:u,norm:m,indices:g})});else{const{v:l,n:u}=t,{isMatch:m,score:p,indices:x}=s.searchIn(l);m&&a.push({score:p,key:e,value:l,norm:u,indices:x})}return a}}Ao.version="7.1.0";Ao.createIndex=H_;Ao.parseIndex=n5;Ao.config=Ee;Ao.parseQuery=Q_;v5(y5);class T5{constructor(){this.fuse=null,this.products=[],this.options={keys:[{name:"name",weight:.7},{name:"description",weight:.2},{name:"category",weight:.1},{name:"tags",weight:.3},{name:"brand",weight:.4}],threshold:.4,ignoreLocation:!0,findAllMatches:!0,minMatchCharLength:2,useExtendedSearch:!0,includeScore:!0,includeMatches:!0}}async loadProducts(){try{const e=await So(ln(Dt,"products"));return this.products=e.docs.map(t=>({id:t.id,...t.data(),normalizedName:t.data().name?.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),searchableText:this.generateSearchableText(t.data())})),this.fuse=new Ao(this.products,this.options),console.log(` ${this.products.length} productos cargados para bsqueda`),this.products}catch(e){return console.error("Error loading products for search:",e),[]}}generateSearchableText(e){return[e.name,e.description,e.category,e.brand,...e.tags||[]].filter(Boolean).join(" ").toLowerCase()}search(e,t=20){return!this.fuse||!e||e.trim().length<2?[]:this.fuse.search(e).slice(0,t).map(a=>({...a.item,score:a.score,matches:a.matches}))}searchByCategory(e,t){const s=this.search(e);return t&&t!=="all"?s.filter(a=>a.category===t):s}getSuggestions(e,t=5){return this.search(e,t).map(a=>({id:a.id,name:a.name,image:a.imageUrl,price:a.price,category:a.category}))}}const Xm=new T5,Y_=R.createContext(),X_=()=>{const r=R.useContext(Y_);if(!r)throw new Error("useSearch debe usarse dentro de SearchProvider");return r},S5=({children:r})=>{const[e,t]=R.useState(!1),[s,a]=R.useState([]),[l,u]=R.useState(["celular","ropa","zapatos","electrnica","hogar"]);R.useEffect(()=>{(async()=>(await Xm.loadProducts(),t(!0)))();const j=localStorage.getItem("recent_searches");j&&a(JSON.parse(j))},[]);const w={isInitialized:e,search:(b,j)=>Xm.search(b,j),getSuggestions:b=>Xm.getSuggestions(b),recentSearches:s,popularSearches:l,addRecentSearch:b=>{if(!b.trim())return;const j=[b,...s.filter(k=>k!==b)].slice(0,5);a(j),localStorage.setItem("recent_searches",JSON.stringify(j))},clearRecentSearches:()=>{a([]),localStorage.removeItem("recent_searches")}};return n.jsx(Y_.Provider,{value:w,children:r})},cv=({variant:r="default",onClose:e})=>{const[t,s]=R.useState(""),[a,l]=R.useState([]),[u,m]=R.useState(!1),[p,x]=R.useState(!1),g=R.useRef(null),w=R.useRef(null),{getSuggestions:b,recentSearches:j,popularSearches:k,addRecentSearch:M}=X_(),{t:D}=pn(),W=Wt();R.useEffect(()=>{const Y=setTimeout(()=>{if(t.length>=2){m(!0);const J=b(t);l(J),m(!1)}else l([])},300);return()=>clearTimeout(Y)},[t,b]),R.useEffect(()=>{const Y=J=>{w.current&&!w.current.contains(J.target)&&x(!1)};return document.addEventListener("mousedown",Y),()=>document.removeEventListener("mousedown",Y)},[]);const H=Y=>{Y.preventDefault(),t.trim()&&(M(t),W(`/buscar?q=${encodeURIComponent(t)}`),x(!1),e&&e())},Q=Y=>{M(Y.name),W(`/producto/${Y.id}`),x(!1),e&&e()},K=()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const Y=window.SpeechRecognition||window.webkitSpeechRecognition,J=new Y;J.lang="es-ES",J.start(),J.onresult=O=>{const P=O.results[0][0].transcript;s(P)}}else alert(D("voice_search_not_supported"))};return n.jsxs("div",{className:"relative w-full",ref:w,children:[n.jsxs("form",{onSubmit:H,className:"relative",children:[n.jsx("input",{ref:g,type:"text",value:t,onChange:Y=>s(Y.target.value),onFocus:()=>x(!0),placeholder:D("search_placeholder"),className:`
            w-full px-4 py-3 pl-12 pr-24 
            border border-gray-300 rounded-full 
            focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent
            ${r==="hero"?"text-lg py-4":""}
          `}),n.jsx(hn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsxs("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 flex items-center gap-1",children:[n.jsx("button",{type:"button",onClick:K,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",title:D("voice_search"),children:n.jsx(L_,{className:"h-4 w-4 text-gray-500"})}),n.jsx("button",{type:"submit",className:"px-4 py-1.5 bg-amber-500 text-white rounded-full text-sm font-medium hover:bg-amber-600 transition-colors",children:D("search")})]})]}),p&&(a.length>0||j.length>0||k.length>0)&&n.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-2xl border border-gray-200 z-50 max-h-96 overflow-y-auto",children:[u&&n.jsx("div",{className:"p-4 text-center text-gray-500",children:n.jsx(Ed,{className:"h-5 w-5 animate-spin mx-auto"})}),a.length>0&&n.jsxs("div",{className:"p-2",children:[n.jsx("h4",{className:"text-xs font-semibold text-gray-500 px-3 py-2",children:D("suggestions")}),a.map(Y=>n.jsxs("button",{onClick:()=>Q(Y),className:"w-full flex items-center gap-3 px-3 py-2 hover:bg-gray-50 rounded-lg transition-colors",children:[Y.image?n.jsx("img",{src:Y.image,alt:Y.name,className:"w-10 h-10 object-cover rounded"}):n.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded flex items-center justify-center",children:n.jsx(hn,{className:"h-4 w-4 text-gray-400"})}),n.jsxs("div",{className:"flex-1 text-left",children:[n.jsx("p",{className:"text-sm font-medium text-gray-800",children:Y.name}),n.jsxs("p",{className:"text-xs text-gray-500",children:["$",Y.price]})]})]},Y.id))]}),j.length>0&&n.jsxs("div",{className:"p-2 border-t",children:[n.jsxs("h4",{className:"text-xs font-semibold text-gray-500 px-3 py-2 flex items-center gap-1",children:[n.jsx(xr,{className:"h-3 w-3"}),D("recent_searches")]}),j.map((Y,J)=>n.jsxs("button",{onClick:()=>{s(Y),H(new Event("submit"))},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-gray-50 rounded-lg transition-colors text-left",children:[n.jsx(xr,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{className:"text-sm text-gray-700",children:Y})]},J))]}),n.jsxs("div",{className:"p-2 border-t",children:[n.jsxs("h4",{className:"text-xs font-semibold text-gray-500 px-3 py-2 flex items-center gap-1",children:[n.jsx(Mt,{className:"h-3 w-3"}),D("popular_searches")]}),n.jsx("div",{className:"flex flex-wrap gap-2 px-3",children:k.map((Y,J)=>n.jsx("button",{onClick:()=>{s(Y),H(new Event("submit"))},className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-full text-sm hover:bg-gray-200 transition-colors",children:Y},J))})]})]})]})},k5=()=>{const[r,e]=R.useState(!1),[t,s]=R.useState(!1),{cartCount:a}=th(),{t:l,language:u,setLanguage:m}=pn(),{user:p,isAuthenticated:x}=ui(),g=Wt();R.useEffect(()=>{const M=()=>{s(window.scrollY>50)};return window.addEventListener("scroll",M),()=>window.removeEventListener("scroll",M)},[]);const w=()=>{m(u==="es"?"en":"es")},b=()=>{g("/"),e(!1)},j=()=>{g("/admin-login"),e(!1)},k=()=>{g(-1)};return n.jsx("header",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${t?"bg-gradient-to-r from-gray-900 to-black shadow-lg py-2":"bg-gradient-to-r from-black to-gray-900 py-4"}`,children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:b,className:"flex items-center gap-2","aria-label":"Ir al inicio",children:[n.jsx("img",{src:"/images/logo-icon.png",alt:"Batista",className:"h-8 lg:h-10 w-auto"}),n.jsx("img",{src:"/images/logo-text.png",alt:"Batista Global Service",className:"h-6 lg:h-8 w-auto hidden sm:block"})]}),n.jsxs("button",{onClick:j,className:"ml-2 p-2 hover:bg-amber-600/20 rounded-full transition-colors relative group","aria-label":"Panel de Administracin",title:"Acceso Administrativo",children:[n.jsx(xo,{className:"h-5 w-5 text-amber-400 group-hover:text-amber-300"}),n.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-amber-500 rounded-full animate-pulse"})]})]}),n.jsx("div",{className:"hidden lg:block flex-1 max-w-2xl mx-8",children:n.jsx(cv,{})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:w,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:u==="es"?n.jsx("img",{src:"https://flagcdn.com/w40/es.png",alt:"Espaol",className:"w-6 h-6 rounded-full border border-white/30"}):n.jsx("img",{src:"https://flagcdn.com/w40/us.png",alt:"English",className:"w-6 h-6 rounded-full border border-white/30"})}),n.jsxs(lt,{to:x?"/cliente/perfil":"/cliente/login",className:"p-2 hover:bg-white/10 rounded-full transition-colors relative",children:[n.jsx(vo,{className:"h-5 w-5 text-white/80"}),x&&n.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-green-500 rounded-full"})]}),n.jsxs(lt,{to:"/cart",className:"p-2 hover:bg-white/10 rounded-full transition-colors relative",children:[n.jsx(yo,{className:"h-5 w-5 text-white/80"}),a>0&&n.jsx("span",{className:"absolute -top-1 -right-1 bg-amber-500 text-white text-xs font-bold rounded-full min-w-[18px] h-4 px-1 flex items-center justify-center",children:a})]}),n.jsx("button",{onClick:()=>e(!r),className:"lg:hidden p-2 hover:bg-white/10 rounded-full transition-colors",children:r?n.jsx(Ze,{className:"h-6 w-6 text-white"}):n.jsx(O_,{className:"h-6 w-6 text-white"})})]})]}),r&&n.jsxs("div",{className:"lg:hidden py-4 border-t border-white/10",children:[n.jsx("div",{className:"mb-4",children:n.jsx(cv,{onClose:()=>e(!1)})}),n.jsxs("nav",{className:"flex flex-col space-y-2",children:[n.jsxs("button",{onClick:b,className:"flex items-center gap-3 px-4 py-3 hover:bg-white/10 rounded-lg text-white/80 hover:text-amber-400",children:[n.jsx(jd,{className:"h-5 w-5"})," ",n.jsx("span",{children:l("inicio")})]}),n.jsxs("button",{onClick:k,className:"flex items-center gap-3 px-4 py-3 hover:bg-white/10 rounded-lg text-white/80 hover:text-amber-400",children:[n.jsx(un,{className:"h-5 w-5"})," ",n.jsx("span",{children:l("atras")})]}),n.jsxs("button",{onClick:j,className:"flex items-center gap-3 px-4 py-3 hover:bg-amber-600/20 rounded-lg text-amber-400",children:[n.jsx(xo,{className:"h-5 w-5"})," ",n.jsx("span",{children:"Admin"})]}),n.jsxs(lt,{to:"/tienda",className:"flex items-center gap-3 px-4 py-3 hover:bg-white/10 rounded-lg text-white/80 hover:text-amber-400",onClick:()=>e(!1),children:[n.jsx(yo,{className:"h-5 w-5"})," ",n.jsx("span",{children:l("tienda")})]}),n.jsxs(lt,{to:"/servicios",className:"flex items-center gap-3 px-4 py-3 hover:bg-white/10 rounded-lg text-white/80 hover:text-amber-400",onClick:()=>e(!1),children:[n.jsx(dn,{className:"h-5 w-5"})," ",n.jsx("span",{children:l("servicios")})]}),n.jsxs(lt,{to:x?"/cliente/perfil":"/cliente/login",className:"flex items-center gap-3 px-4 py-3 hover:bg-white/10 rounded-lg text-white/80 hover:text-amber-400",onClick:()=>e(!1),children:[n.jsx(vo,{className:"h-5 w-5"})," ",n.jsx("span",{children:l(x?"perfil":"ingresar")})]})]})]})]})})},I5=()=>{const{t:r}=pn(),e=new Date().getFullYear();return n.jsx("footer",{className:"bg-gradient-to-r from-gray-900 to-black text-white border-t border-amber-500/20",children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs(lt,{to:"/",className:"flex items-center gap-3",children:[n.jsx("img",{src:"/images/logo-icon.png",alt:"Batista Global",className:"h-10 w-auto"}),n.jsxs("span",{className:"font-bold text-xl",children:["Batista ",n.jsx("span",{className:"text-amber-400",children:"Global"})]})]}),n.jsx("p",{className:"text-gray-400 text-sm",children:r("descripcion_servicios")})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-lg mb-4 text-amber-400",children:r("enlaces_rapidos")}),n.jsxs("ul",{className:"space-y-2",children:[n.jsx("li",{children:n.jsx(lt,{to:"/",className:"text-gray-400 hover:text-amber-400",children:r("inicio")})}),n.jsx("li",{children:n.jsx(lt,{to:"/tienda",className:"text-gray-400 hover:text-amber-400",children:r("tienda")})}),n.jsx("li",{children:n.jsx(lt,{to:"/servicios",className:"text-gray-400 hover:text-amber-400",children:r("servicios")})}),n.jsx("li",{children:n.jsx(lt,{to:"/cart",className:"text-gray-400 hover:text-amber-400",children:r("carrito")})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-lg mb-4 text-amber-400",children:r("contactanos")}),n.jsxs("ul",{className:"space-y-3",children:[n.jsx("li",{children:n.jsxs("a",{href:"tel:+17866583567",className:"flex items-start gap-3 group hover:bg-white/5 p-2 rounded-lg",children:[n.jsx(wc,{className:"h-5 w-5 text-amber-400 flex-shrink-0 mt-0.5"}),n.jsx("span",{className:"text-gray-400 group-hover:text-white",children:"+1 (786) 658-3567"})]})}),n.jsx("li",{children:n.jsxs("a",{href:"mailto:batistaglobalservice25@gmail.com",className:"flex items-start gap-3 group hover:bg-white/5 p-2 rounded-lg",children:[n.jsx(Zi,{className:"h-5 w-5 text-amber-400 flex-shrink-0 mt-0.5"}),n.jsx("span",{className:"text-gray-400 group-hover:text-white break-all",children:"batistaglobalservice25@gmail.com"})]})}),n.jsx("li",{children:n.jsxs("a",{href:"https://www.google.com/maps/search/?api=1&query=700+SW+57th+Ave+Miami+FL+33144",target:"_blank",rel:"noopener noreferrer",className:"flex items-start gap-3 group hover:bg-white/5 p-2 rounded-lg",children:[n.jsx(zr,{className:"h-5 w-5 text-amber-400 flex-shrink-0 mt-0.5"}),n.jsx("span",{className:"text-gray-400 group-hover:text-white",children:"700 SW 57th Ave, Miami FL"})]})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-lg mb-4 text-amber-400",children:r("horarios")}),n.jsx("div",{className:"space-y-2 mb-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(xr,{className:"h-5 w-5 text-amber-400"}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-gray-400",children:[r("lun_vie"),": 9:00 - 18:00"]}),n.jsxs("p",{className:"text-gray-400",children:[r("sabado"),": 10:00 - 16:00"]}),n.jsxs("p",{className:"text-gray-400",children:[r("domingo"),": 10:00 - 14:00"]})]})]})}),n.jsx("h3",{className:"font-bold text-lg mb-4 text-amber-400",children:r("siguenos")}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("a",{href:"https://facebook.com/BatistaGlobalServices",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-[#1877F2] rounded-full flex items-center justify-center hover:scale-110 transition-transform",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"white",children:n.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),n.jsx("a",{href:"https://instagram.com/batistaglobalservice",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-gradient-to-br from-[#833AB4] via-[#E4405F] to-[#FDC830] rounded-full flex items-center justify-center hover:scale-110 transition-transform",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"white",children:n.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zM5.838 12a6.162 6.162 0 1112.324 0 6.162 6.162 0 01-12.324 0zM12 16a4 4 0 110-8 4 4 0 010 8zm4.965-10.405a1.44 1.44 0 112.881.001 1.44 1.44 0 01-2.881-.001z"})})}),n.jsx("a",{href:"https://tiktok.com/@batista.global",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-black rounded-full flex items-center justify-center hover:scale-110 transition-transform border border-white/20",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"white",children:n.jsx("path",{d:"M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"})})})]})]})]}),n.jsx("div",{className:"border-t border-gray-800 mt-8 pt-6 text-center",children:n.jsx("p",{className:"text-gray-500 text-sm",children:r("copyright",{year:e,rights:r("derechos")})})})]})})},C5=()=>{const[r,e]=R.useState(!1),[t,s]=R.useState(""),[a,l]=R.useState(!1),{cartCount:u}=th(),{t:m}=pn(),{user:p,logout:x,isAuthenticated:g}=ui(),w=Wt(),b=H=>{H.preventDefault(),t.trim()&&(w(`/tienda?buscar=${encodeURIComponent(t)}`),e(!1),s(""))},j=()=>{x(),l(!1),de.success("Sesin cerrada correctamente"),w("/")},k=()=>{g?l(!a):w("/cliente/login")},M=()=>{w("/"),l(!1)},D=()=>{w(-1),l(!1)},W=()=>{w("/admin-login"),l(!1)};return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 z-50 bg-black/95 backdrop-blur-lg border-t border-amber-400/20 shadow-2xl",children:n.jsxs("div",{className:"flex items-center justify-around px-2 py-2",children:[n.jsxs("button",{onClick:M,className:"flex flex-col items-center justify-center p-2 text-white/80 hover:text-amber-400 transition-colors",children:[n.jsx(jd,{className:"w-5 h-5"}),n.jsx("span",{className:"text-[10px] mt-0.5",children:"Inicio"})]}),n.jsxs("button",{onClick:D,className:"flex flex-col items-center justify-center p-2 text-white/80 hover:text-amber-400 transition-colors",children:[n.jsx(un,{className:"w-5 h-5"}),n.jsx("span",{className:"text-[10px] mt-0.5",children:"Atrs"})]}),n.jsxs("button",{onClick:()=>e(!0),className:"flex flex-col items-center justify-center p-2 text-white/80 hover:text-amber-400 transition-colors",children:[n.jsx(hn,{className:"w-5 h-5"}),n.jsx("span",{className:"text-[10px] mt-0.5",children:m("buscar")})]}),n.jsxs("button",{onClick:W,className:"flex flex-col items-center justify-center p-2 text-amber-400 hover:text-amber-300 transition-colors relative",children:[n.jsx(xo,{className:"w-5 h-5"}),n.jsx("span",{className:"text-[10px] mt-0.5",children:"Admin"}),n.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-amber-500 rounded-full animate-pulse"})]}),n.jsxs(lt,{to:"/cart",className:"flex flex-col items-center justify-center p-2 text-white/80 hover:text-amber-400 transition-colors relative",children:[n.jsx(yo,{className:"w-5 h-5"}),u>0&&n.jsx("span",{className:"absolute -top-1 right-1 bg-amber-400 text-black text-[10px] font-bold rounded-full min-w-[16px] h-4 px-1 flex items-center justify-center",children:u}),n.jsx("span",{className:"text-[10px] mt-0.5",children:m("carrito")})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:k,className:"flex flex-col items-center justify-center p-2 text-white/80 hover:text-amber-400 transition-colors",children:[g?n.jsx(aP,{className:"w-5 h-5"}):n.jsx(vo,{className:"w-5 h-5"}),n.jsx("span",{className:"text-[10px] mt-0.5",children:g?"Mi cuenta":m("ingresar")})]}),a&&g&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>l(!1)}),n.jsxs("div",{className:"absolute bottom-full right-0 mb-2 w-48 bg-gray-900 rounded-xl shadow-2xl border border-amber-400/20 overflow-hidden z-50",children:[n.jsxs("div",{className:"p-3 border-b border-amber-400/20",children:[n.jsx("p",{className:"text-white font-medium text-sm truncate",children:p?.name||"Usuario"}),n.jsx("p",{className:"text-white/60 text-xs truncate",children:p?.email})]}),n.jsxs("div",{className:"py-1",children:[n.jsx(lt,{to:"/cliente/perfil",className:"block px-4 py-2 text-sm text-white/80 hover:text-amber-400 hover:bg-white/5 transition-colors",onClick:()=>l(!1),children:"Mi perfil"}),n.jsx(lt,{to:"/cliente/pedidos",className:"block px-4 py-2 text-sm text-white/80 hover:text-amber-400 hover:bg-white/5 transition-colors",onClick:()=>l(!1),children:"Mis pedidos"}),n.jsx(lt,{to:"/cliente/favoritos",className:"block px-4 py-2 text-sm text-white/80 hover:text-amber-400 hover:bg-white/5 transition-colors",onClick:()=>l(!1),children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(bc,{className:"w-4 h-4"}),"Favoritos"]})}),n.jsx("div",{className:"border-t border-amber-400/20 my-1"}),n.jsxs("button",{onClick:j,className:"w-full text-left px-4 py-2 text-sm text-red-400 hover:text-red-300 hover:bg-red-500/10 transition-colors flex items-center gap-2",children:[n.jsx(M_,{className:"w-4 h-4"}),"Cerrar sesin"]})]})]})]})]})]})}),r&&n.jsx("div",{className:"lg:hidden fixed inset-0 z-[60] bg-black/95 backdrop-blur-sm",children:n.jsx("div",{className:"flex items-start justify-center min-h-screen pt-20 px-4",children:n.jsxs("div",{className:"w-full max-w-md bg-gray-900 rounded-2xl p-6 border border-amber-400/20",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-white",children:"Buscar productos"}),n.jsx("button",{onClick:()=>e(!1),className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:n.jsx(Ze,{className:"w-5 h-5 text-white/80"})})]}),n.jsxs("form",{onSubmit:b,children:[n.jsx("input",{type:"text",value:t,onChange:H=>s(H.target.value),placeholder:"Escribe lo que buscas...",className:"w-full px-4 py-3 bg-black/50 border border-white/10 rounded-xl text-white placeholder:text-white/40 focus:outline-none focus:ring-2 focus:ring-amber-400 mb-4",autoFocus:!0}),n.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-amber-400 to-yellow-500 text-black font-semibold py-3 px-4 rounded-xl hover:shadow-lg transition-all",children:"Buscar"})]})]})})}),n.jsx("div",{className:"lg:hidden h-16"})]})},is=({children:r,showFooter:e=!0,showMobileBar:t=!0})=>n.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[n.jsx(k5,{})," ",n.jsx("main",{className:"flex-grow",children:r}),e&&n.jsx(I5,{}),t&&n.jsx(C5,{}),n.jsx(pA,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]}),J_=R.createContext(),ag=()=>{const r=R.useContext(J_);if(!r)throw new Error("useAuth debe usarse dentro de AuthProvider");return r},A5=({children:r})=>{const[e,t]=R.useState(null),[s,a]=R.useState(!0);R.useEffect(()=>{const p=localStorage.getItem("adminAuth");if(p)try{t(JSON.parse(p))}catch(x){console.error("Error loading admin:",x)}a(!1)},[]);const m={user:e,loading:s,login:async(p,x)=>{try{if(p==="admin@batista.com"&&x==="Keily8520"){const g={id:"admin",email:p,name:"Administrador",role:"admin"};return t(g),localStorage.setItem("adminAuth",JSON.stringify(g)),de.success(" Bienvenido Administrador"),{success:!0}}return de.error(" Credenciales incorrectas"),{success:!1,error:"Credenciales invlidas"}}catch(g){return de.error(" Error al iniciar sesin"),{success:!1,error:g.message}}},logout:()=>{t(null),localStorage.removeItem("adminAuth"),de.success(" Sesin cerrada")},isAuthenticated:!!e};return n.jsx(J_.Provider,{value:m,children:r})},Z_=R.createContext(),sh=()=>{const r=R.useContext(Z_);if(!r)throw new Error("useServices debe usarse dentro de ServicesProvider");return r},P5=({children:r})=>{const[e,t]=R.useState([]),[s,a]=R.useState(!1),[l,u]=R.useState(null),m=R.useCallback(async()=>{a(!0),u(null);try{const j=(await So(ln(Dt,"services"))).docs.map(k=>({id:k.id,...k.data()}));t(j),console.log(" Servicios cargados:",j.length)}catch(b){console.error(" Error cargando servicios:",b),u("Error al cargar los servicios"),de.error("Error al cargar servicios")}finally{a(!1)}},[]),w={services:e,loading:s,error:l,loadServices:m,addService:async b=>{a(!0);try{const j={...b,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},M={id:(await qf(ln(Dt,"services"),j)).id,...j};return t(D=>[M,...D]),de.success(" Servicio creado correctamente"),M}catch(j){throw console.error(" Error agregando servicio:",j),de.error("Error al crear el servicio"),j}finally{a(!1)}},updateService:async(b,j)=>{a(!0);try{const k=Cs(Dt,"services",b),M={...j,updatedAt:new Date().toISOString()};return await $f(k,M),t(D=>D.map(W=>W.id===b?{...W,...M}:W)),de.success(" Servicio actualizado correctamente"),{id:b,...M}}catch(k){throw console.error(" Error actualizando servicio:",k),de.error("Error al actualizar el servicio"),k}finally{a(!1)}},deleteService:async b=>{a(!0);try{const j=Cs(Dt,"services",b);return await zf(j),t(k=>k.filter(M=>M.id!==b)),de.success(" Servicio eliminado correctamente"),b}catch(j){throw console.error(" Error eliminando servicio:",j),de.error("Error al eliminar el servicio"),j}finally{a(!1)}},servicesCount:e.length};return n.jsx(Z_.Provider,{value:w,children:r})},e1=R.createContext(),t1=()=>{const r=R.useContext(e1);if(!r)throw new Error("useDestinos debe usarse dentro de DestinosProvider");return r},uv=[{id:"destino-1",nombre:"Punta Cana",imagen:"https://images.pexels.com/photos/1285625/pexels-photo-1285625.jpeg",precioMin:499,precioMax:599,precioOfertaMin:399,precioOfertaMax:499,descripcion:"Paraso caribeo con las mejores playas",activo:!0,destacado:!0,orden:1},{id:"destino-2",nombre:"Cancn",imagen:"https://images.pexels.com/photos/1533720/pexels-photo-1533720.jpeg",precioMin:549,precioMax:699,precioOfertaMin:449,precioOfertaMax:549,descripcion:"Aguas turquesas y diversin sin lmites",activo:!0,destacado:!0,orden:2},{id:"destino-3",nombre:"Miami",imagen:"https://images.pexels.com/photos/161963/chicago-illinois-skyline-skyscrapers-161963.jpeg",precioMin:649,precioMax:799,precioOfertaMin:549,precioOfertaMax:649,descripcion:"Ciudad vibrante y playas espectaculares",activo:!0,destacado:!0,orden:3},{id:"destino-4",nombre:"La Habana",imagen:"https://images.pexels.com/photos/3581363/pexels-photo-3581363.jpeg",precioMin:399,precioMax:499,precioOfertaMin:299,precioOfertaMax:399,descripcion:"Historia, cultura y autenticidad cubana",activo:!0,destacado:!0,orden:4}],R5=({children:r})=>{const[e,t]=R.useState([]),[s,a]=R.useState(!1),[l,u]=R.useState(null),m=R.useCallback(async()=>{a(!0),u(null);try{const j=(await So(ln(Dt,"destinos"))).docs.map(k=>({id:k.id,...k.data()}));console.log(" Destinos desde Firebase:",j),j.length>0?(t(j),console.log(" Usando datos de Firebase")):(console.log(" No hay destinos en Firebase, usando datos de ejemplo"),t(uv))}catch(b){console.error(" Error cargando destinos:",b),u("Error al cargar los destinos"),t(uv)}finally{a(!1)}},[]),w={destinos:e,loading:s,error:l,loadDestinos:m,addDestino:async b=>{a(!0);try{const j={...b,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},M={id:(await qf(ln(Dt,"destinos"),j)).id,...j};return t(D=>[...D,M]),de.success(" Destino agregado correctamente"),M}catch(j){throw console.error(" Error agregando destino:",j),de.error("Error al agregar el destino"),j}finally{a(!1)}},updateDestino:async(b,j)=>{a(!0);try{const k=Cs(Dt,"destinos",b),M={...j,updatedAt:new Date().toISOString()};return await $f(k,M),t(D=>D.map(W=>W.id===b?{...W,...M}:W)),de.success(" Destino actualizado correctamente"),{id:b,...M}}catch(k){throw console.error(" Error actualizando destino:",k),de.error("Error al actualizar el destino"),k}finally{a(!1)}},deleteDestino:async b=>{a(!0);try{const j=Cs(Dt,"destinos",b);return await zf(j),t(k=>k.filter(M=>M.id!==b)),de.success(" Destino eliminado correctamente"),b}catch(j){throw console.error(" Error eliminando destino:",j),de.error("Error al eliminar el destino"),j}finally{a(!1)}}};return n.jsx(e1.Provider,{value:w,children:r})},D5=()=>{const[r,e]=R.useState(!1),t="17866583567",s="Hola%20Batista%20Global%20Service%2C%20necesito%20informaci%C3%B3n",a=()=>{window.open(`https://wa.me/${t}?text=${s}`,"_blank")};return n.jsxs("button",{onClick:a,onMouseEnter:()=>e(!0),onMouseLeave:()=>e(!1),className:"fixed bottom-6 left-6 z-50 group","aria-label":"Chatear por WhatsApp",children:[n.jsx("span",{className:"absolute inset-0 rounded-full bg-green-500 animate-ping opacity-75"}),n.jsx("span",{className:"absolute inset-0 rounded-full bg-green-400 animate-ping opacity-50",style:{animationDelay:"0.5s"}}),n.jsx("span",{className:"absolute inset-0 rounded-full bg-green-300 animate-ping opacity-25",style:{animationDelay:"1s"}}),n.jsx("div",{className:`
        relative bg-gradient-to-r from-green-500 to-green-600 
        text-white rounded-full p-4 shadow-lg
        transition-all duration-300 transform
        ${r?"scale-110 rotate-12 shadow-2xl":"scale-100"}
      `,children:n.jsx(JP,{className:"h-8 w-8"})}),r&&n.jsxs("div",{className:"absolute bottom-16 left-0 bg-gray-800 text-white px-4 py-2 rounded-lg shadow-lg whitespace-nowrap",children:[n.jsx("p",{className:"text-sm font-medium",children:"Chatea con nosotros!"}),n.jsx("div",{className:"absolute bottom-0 left-6 transform translate-y-1/2 rotate-45 w-3 h-3 bg-gray-800"})]})]})},M5=()=>{const[r,e]=id.useState(!1),{user:t,logout:s}=ag(),a=ii(),l=Wt(),u=[{path:"/admin/dashboard",icon:FP,label:"Dashboard"},{path:"/admin/products",icon:Br,label:"Productos"},{path:"/admin/services",icon:Co,label:"Servicios"},{path:"/admin/destinos",icon:zr,label:"Destinos Populares"},{path:"/admin/orders",icon:oo,label:"Pedidos"},{path:"/admin/analytics",icon:eP,label:"Analticas"},{path:"/admin/users",icon:_c,label:"Usuarios"},{path:"/admin/settings",icon:U_,label:"Configuracin"}],m=()=>{s(),l("/admin-login")},p=()=>{l("/")},x=()=>{l(-1)};return id.useEffect(()=>{e(!1)},[a]),n.jsxs("div",{className:"min-h-screen bg-gray-100",children:[n.jsx("div",{className:"bg-white shadow-sm sticky top-0 z-30 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>e(!0),className:"lg:hidden p-2 hover:bg-gray-100 rounded-lg",children:n.jsx(O_,{className:"h-6 w-6"})}),n.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-3 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors shadow-sm",children:[n.jsx(jd,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Inicio"})]}),n.jsx("button",{onClick:x,className:"flex items-center gap-2 px-3 py-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors sm:hidden",children:n.jsx(un,{className:"h-5 w-5"})})]}),n.jsx("h1",{className:"text-base lg:text-lg font-bold text-gray-800",children:"Panel Administrativo"}),n.jsx("div",{className:"hidden md:block text-sm text-gray-600 truncate max-w-[200px]",children:t?.email||"admin@batista.com"}),n.jsx("div",{className:"w-10 md:hidden"})]})}),r&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>e(!1)}),n.jsx("div",{className:`fixed inset-y-0 left-0 w-64 bg-white shadow-xl z-50 transform transition-transform duration-300 ease-in-out ${r?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,children:n.jsxs("div",{className:"h-full flex flex-col",children:[n.jsxs("div",{className:"p-4 border-b flex justify-between items-center bg-gradient-to-r from-amber-50 to-orange-50",children:[n.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Batista Admin"}),n.jsx("button",{onClick:()=>e(!1),className:"lg:hidden p-2 hover:bg-white/50 rounded-lg",children:n.jsx(Ze,{className:"h-5 w-5"})})]}),n.jsxs("button",{onClick:()=>{l("/"),e(!1)},className:"flex items-center gap-3 px-4 py-3 mx-4 mt-4 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors shadow-md",children:[n.jsx(jd,{className:"h-5 w-5"}),n.jsx("span",{className:"font-medium",children:"Volver al sitio web"})]}),n.jsx("div",{className:"px-4 mt-4 mb-2",children:n.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Men de Administracin"})}),n.jsx("nav",{className:"flex-1 px-4 space-y-1 overflow-y-auto",children:u.map(g=>{const w=g.icon,b=a.pathname===g.path||g.path==="/admin/services"&&a.pathname.includes("/admin/services");return n.jsxs(lt,{to:g.path,className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${b?"bg-amber-50 text-amber-600 font-medium":"text-gray-600 hover:bg-gray-100"}`,onClick:()=>e(!1),children:[n.jsx(w,{className:"h-5 w-5"}),n.jsx("span",{children:g.label})]},g.path)})}),n.jsxs("div",{className:"p-4 border-t bg-gray-50",children:[n.jsxs("div",{className:"mb-4 px-4 py-3 bg-white rounded-lg shadow-sm",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Administrador"}),n.jsx("p",{className:"text-sm font-medium truncate text-gray-800",children:t?.email||"admin@batista.com"})]}),n.jsxs("button",{onClick:m,className:"flex items-center gap-3 px-4 py-3 w-full text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[n.jsx(M_,{className:"h-5 w-5"}),n.jsx("span",{children:"Cerrar Sesin"})]})]})]})}),n.jsx("div",{className:"lg:pl-64",children:n.jsx("main",{className:"p-4 sm:p-6",children:n.jsx(l2,{})})})]})},Nc="products",og=async()=>{try{const r=ln(Dt,Nc),e=Ff(r,Fw("createdAt","desc")),t=await So(e),s=[];return t.forEach(a=>{s.push({id:a.id,...a.data()})}),{success:!0,data:s}}catch(r){return console.error("Error getting products:",r),{success:!1,error:r.message}}},O5=async r=>{try{const e=Cs(Dt,Nc,r),t=await zw(e);return t.exists()?{success:!0,data:{id:t.id,...t.data()}}:{success:!1,error:"Producto no encontrado"}}catch(e){return console.error("Error getting product:",e),{success:!1,error:e.message}}},L5=async(r,e=null)=>{try{let t=null;if(e){const l=rc(sc,`products/${Date.now()}_${e.name}`);await Xf(l,e),t=await Jf(l)}const s=ln(Dt,Nc);return{success:!0,data:{id:(await qf(s,{...r,imageUrl:t,createdAt:kp(),updatedAt:kp()})).id,...r,imageUrl:t}}}catch(t){return console.error("Error creating product:",t),{success:!1,error:t.message}}},V5=async(r,e,t=null)=>{try{const s=Cs(Dt,Nc,r);let a=e.imageUrl;if(t){if(e.imageUrl)try{const u=rc(sc,e.imageUrl);await o_(u)}catch(u){console.warn("Error deleting old image:",u)}const l=rc(sc,`products/${Date.now()}_${t.name}`);await Xf(l,t),a=await Jf(l)}return await $f(s,{...e,imageUrl:a,updatedAt:kp()}),{success:!0}}catch(s){return console.error("Error updating product:",s),{success:!1,error:s.message}}},F5=async(r,e=null)=>{try{if(e)try{const s=rc(sc,e);await o_(s)}catch(s){console.warn("Error deleting image:",s)}const t=Cs(Dt,Nc,r);return await zf(t),{success:!0}}catch(t){return console.error("Error deleting product:",t),{success:!1,error:t.message}}},U5="orders",B5=async()=>{try{const r=ln(Dt,U5),e=Ff(r,Fw("createdAt","desc")),t=await So(e),s=[];return t.forEach(a=>{s.push({id:a.id,...a.data()})}),{success:!0,data:s}}catch(r){return console.error("Error getting orders:",r),{success:!0,data:[{id:"ORD-001",customer:{name:"Juan Prez",email:"juan@email.com"},total:125.99,status:"delivered",createdAt:new Date().toISOString(),items:[]},{id:"ORD-002",customer:{name:"Mara Garca",email:"maria@email.com"},total:89.99,status:"processing",createdAt:new Date().toISOString(),items:[]},{id:"ORD-003",customer:{name:"Carlos Rodrguez",email:"carlos@email.com"},total:299.99,status:"pending",createdAt:new Date().toISOString(),items:[]},{id:"ORD-004",customer:{name:"Ana Martnez",email:"ana@email.com"},total:54.5,status:"shipped",createdAt:new Date().toISOString(),items:[]},{id:"ORD-005",customer:{name:"Pedro Snchez",email:"pedro@email.com"},total:199.99,status:"delivered",createdAt:new Date().toISOString(),items:[]}]}}},$5=()=>{const[r,e]=R.useState({totalSales:0,totalOrders:0,totalVisits:12456,totalProducts:0,pendingOrders:0,completedOrders:0,lowStockProducts:0,revenue:0}),[t,s]=R.useState([]),[a,l]=R.useState(!0);R.useEffect(()=>{u()},[]);const u=async()=>{l(!0);try{const g=await og(),w=await B5();if(g.success){const b=g.data,j=b.filter(k=>k.stock<10).length;e(k=>({...k,totalProducts:b.length,lowStockProducts:j}))}if(w.success){const b=w.data,j=b.filter(D=>D.status==="pending"||D.status==="processing").length,k=b.filter(D=>D.status==="delivered"||D.status==="completed").length,M=b.reduce((D,W)=>D+(W.total||0),0);e(D=>({...D,totalOrders:b.length,pendingOrders:j,completedOrders:k,totalSales:M,revenue:M*.3})),s(b.slice(0,5))}}catch(g){console.error("Error cargando dashboard:",g),de.error("Error al cargar datos del dashboard")}finally{l(!1)}},m=g=>new Intl.NumberFormat("es-CU",{style:"currency",currency:"CUP",minimumFractionDigits:0,maximumFractionDigits:0}).format(g||0),p=g=>{const w={pending:{color:"bg-yellow-100 text-yellow-800",icon:xr,text:"Pendiente"},processing:{color:"bg-blue-100 text-blue-800",icon:Br,text:"Procesando"},shipped:{color:"bg-purple-100 text-purple-800",icon:Co,text:"Enviado"},delivered:{color:"bg-green-100 text-green-800",icon:gr,text:"Entregado"},cancelled:{color:"bg-red-100 text-red-800",icon:go,text:"Cancelado"}};return w[g]||w.pending},x=g=>new Date(g).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"});return a?n.jsx("div",{className:"flex justify-center items-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:"Dashboard"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Bienvenido de nuevo, Administrador"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:[n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl shadow-lg",children:n.jsx(Nd,{className:"w-6 h-6 text-white"})}),n.jsx("span",{className:"text-xs font-medium text-green-600 bg-green-100 px-3 py-1.5 rounded-full",children:"+12.5%"})]}),n.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Ventas Totales"}),n.jsxs("div",{className:"flex items-end justify-between",children:[n.jsx("span",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:m(r.totalSales)}),n.jsx("span",{className:"text-sm text-gray-500",children:"ltimo mes"})]})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-xl shadow-lg",children:n.jsx(oo,{className:"w-6 h-6 text-white"})}),n.jsx("span",{className:"text-xs font-medium text-blue-600 bg-blue-100 px-3 py-1.5 rounded-full",children:"+8.2%"})]}),n.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"rdenes Totales"}),n.jsxs("div",{className:"flex items-end justify-between",children:[n.jsx("span",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:r.totalOrders}),n.jsxs("span",{className:"text-sm text-gray-500",children:[r.pendingOrders," pendientes"]})]})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl shadow-lg",children:n.jsx(_c,{className:"w-6 h-6 text-white"})}),n.jsx("span",{className:"text-xs font-medium text-purple-600 bg-purple-100 px-3 py-1.5 rounded-full",children:"+5.3%"})]}),n.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Visitantes"}),n.jsxs("div",{className:"flex items-end justify-between",children:[n.jsx("span",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:r.totalVisits.toLocaleString()}),n.jsx("span",{className:"text-sm text-gray-500",children:"este mes"})]})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"p-3 bg-gradient-to-br from-orange-500 to-red-600 rounded-xl shadow-lg",children:n.jsx(Br,{className:"w-6 h-6 text-white"})}),n.jsxs("span",{className:"text-xs font-medium text-orange-600 bg-orange-100 px-3 py-1.5 rounded-full",children:[r.lowStockProducts," bajo stock"]})]}),n.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Productos"}),n.jsxs("div",{className:"flex items-end justify-between",children:[n.jsx("span",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:r.totalProducts}),n.jsx("span",{className:"text-sm text-gray-500",children:"en catlogo"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 bg-white rounded-2xl shadow-lg p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"rdenes Recientes"}),n.jsx("button",{onClick:()=>window.location.href="/admin/orders",className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Ver todas"})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Orden"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cliente"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Fecha"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Estado"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:t.length>0?t.map((g,w)=>{const b=p(g.status),j=b.icon;return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsxs("td",{className:"px-4 py-4 text-sm font-medium text-gray-900",children:["#",g.id?.slice(-6)||`ORD-${w+1}`]}),n.jsx("td",{className:"px-4 py-4 text-sm text-gray-600",children:g.customer?.name||"Cliente"}),n.jsx("td",{className:"px-4 py-4 text-sm text-gray-600",children:x(g.createdAt)}),n.jsx("td",{className:"px-4 py-4 text-sm font-medium text-gray-900",children:m(g.total)}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1.5 rounded-full text-xs font-medium ${b.color}`,children:[n.jsx(j,{className:"w-3 h-3"}),b.text]})})]},w)}):n.jsx("tr",{children:n.jsx("td",{colSpan:"5",className:"px-4 py-8 text-center text-gray-500",children:"No hay rdenes recientes"})})})]})})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Resumen de Ventas"}),n.jsx(Mt,{className:"w-5 h-5 text-gray-400"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Ingresos totales"}),n.jsx("span",{className:"font-semibold text-gray-900",children:m(r.totalSales)})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"rdenes completadas"}),n.jsx("span",{className:"font-semibold text-gray-900",children:r.completedOrders})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Ticket promedio"}),n.jsx("span",{className:"font-semibold text-gray-900",children:m(r.completedOrders>0?r.totalSales/r.completedOrders:0)})]}),n.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Margen estimado"}),n.jsx("span",{className:"font-semibold text-green-600",children:m(r.revenue)})]})]}),n.jsxs("div",{className:"mt-6 pt-6 border-t",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Productos con stock bajo"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Necesitan reabastecimiento"}),n.jsx("span",{className:"font-semibold text-orange-600",children:r.lowStockProducts})]}),n.jsx("button",{onClick:()=>window.location.href="/admin/products?filter=low-stock",className:"w-full bg-blue-50 text-blue-600 px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-100 transition-colors",children:"Ver productos"})]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Acciones Rpidas"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("button",{onClick:()=>window.location.href="/admin/products/new",className:"flex flex-col items-center gap-3 p-4 bg-gray-50 rounded-xl hover:bg-blue-50 hover:text-blue-600 transition-colors group",children:[n.jsx("div",{className:"p-3 bg-white rounded-lg shadow-sm group-hover:bg-blue-600 group-hover:text-white transition-colors",children:n.jsx(Br,{className:"w-5 h-5"})}),n.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-blue-600",children:"Nuevo Producto"})]}),n.jsxs("button",{onClick:()=>window.location.href="/admin/orders",className:"flex flex-col items-center gap-3 p-4 bg-gray-50 rounded-xl hover:bg-blue-50 hover:text-blue-600 transition-colors group",children:[n.jsx("div",{className:"p-3 bg-white rounded-lg shadow-sm group-hover:bg-blue-600 group-hover:text-white transition-colors",children:n.jsx(oo,{className:"w-5 h-5"})}),n.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-blue-600",children:"Ver rdenes"})]}),n.jsxs("button",{onClick:()=>window.location.href="/admin/products?filter=low-stock",className:"flex flex-col items-center gap-3 p-4 bg-gray-50 rounded-xl hover:bg-blue-50 hover:text-blue-600 transition-colors group",children:[n.jsx("div",{className:"p-3 bg-white rounded-lg shadow-sm group-hover:bg-blue-600 group-hover:text-white transition-colors",children:n.jsx(Mt,{className:"w-5 h-5"})}),n.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-blue-600",children:"Stock Bajo"})]}),n.jsxs("button",{onClick:()=>window.location.href="/admin/analytics",className:"flex flex-col items-center gap-3 p-4 bg-gray-50 rounded-xl hover:bg-blue-50 hover:text-blue-600 transition-colors group",children:[n.jsx("div",{className:"p-3 bg-white rounded-lg shadow-sm group-hover:bg-blue-600 group-hover:text-white transition-colors",children:n.jsx(Nd,{className:"w-5 h-5"})}),n.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-blue-600",children:"Reportes"})]})]})]})]})},z5=()=>{const[r,e]=R.useState([]),[t,s]=R.useState(!0);R.useEffect(()=>{a()},[]);const a=async()=>{const u=await og();u.success?e(u.data):de.error("Error al cargar productos"),s(!1)},l=async(u,m)=>{window.confirm(`Eliminar "${m}"?`)&&(await F5(u)).success&&(de.success("Producto eliminado"),a())};return t?n.jsx("div",{className:"flex justify-center items-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Productos"}),n.jsx(lt,{to:"/admin/products/new",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:"+ Nuevo Producto"})]}),r.length===0?n.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[n.jsx("p",{className:"text-gray-500 text-lg mb-4",children:"No hay productos disponibles"}),n.jsx(lt,{to:"/admin/products/new",className:"text-blue-600 hover:text-blue-800 font-medium",children:"Crear el primer producto "})]}):n.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Producto"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categora"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Precio"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:r.map(u=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center",children:[u.imageUrl?n.jsx("img",{src:u.imageUrl,alt:u.name,className:"w-10 h-10 rounded object-cover mr-3"}):n.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded mr-3"}),n.jsx("span",{className:"font-medium text-gray-900",children:u.name})]})}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:u.category||"Sin categora"}),n.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:["$",u.price||0]}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:n.jsxs("span",{className:`px-2 py-1 rounded-full text-xs ${u.stock>10?"bg-green-100 text-green-800":u.stock>0?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[u.stock||0," unidades"]})}),n.jsxs("td",{className:"px-6 py-4 text-sm",children:[n.jsx(lt,{to:`/admin/products/edit/${u.id}`,className:"text-blue-600 hover:text-blue-900 mr-4 font-medium",children:"Editar"}),n.jsx("button",{onClick:()=>l(u.id,u.name),className:"text-red-600 hover:text-red-900 font-medium",children:"Eliminar"})]})]},u.id))})]})})]})},q5=()=>{const[r]=R.useState([{id:"ORD-001",customer:"Juan Prez",email:"juan@email.com",total:149.99,date:"2024-02-10",status:"Completado",payment:"Tarjeta"},{id:"ORD-002",customer:"Mara Garca",email:"maria@email.com",total:89.5,date:"2024-02-10",status:"Pendiente",payment:"PayPal"},{id:"ORD-003",customer:"Carlos Lpez",email:"carlos@email.com",total:299.99,date:"2024-02-09",status:"Enviado",payment:"Tarjeta"},{id:"ORD-004",customer:"Ana Rodrguez",email:"ana@email.com",total:45.99,date:"2024-02-09",status:"Completado",payment:"Transferencia"},{id:"ORD-005",customer:"Pedro Martnez",email:"pedro@email.com",total:189.99,date:"2024-02-08",status:"Cancelado",payment:"Tarjeta"},{id:"ORD-006",customer:"Laura Snchez",email:"laura@email.com",total:75.25,date:"2024-02-08",status:"Procesando",payment:"PayPal"},{id:"ORD-007",customer:"Roberto Daz",email:"roberto@email.com",total:320,date:"2024-02-07",status:"Enviado",payment:"Tarjeta"},{id:"ORD-008",customer:"Sofa Ruiz",email:"sofia@email.com",total:55.5,date:"2024-02-07",status:"Completado",payment:"PayPal"}]),e={Completado:"bg-green-100 text-green-800",Pendiente:"bg-yellow-100 text-yellow-800",Enviado:"bg-blue-100 text-blue-800",Procesando:"bg-purple-100 text-purple-800",Cancelado:"bg-red-100 text-red-800"};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestin de rdenes"}),n.jsx("p",{className:"text-gray-600",children:"Administra y procesa las rdenes de los clientes"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Total rdenes"}),n.jsx("p",{className:"text-2xl font-bold",children:"156"}),n.jsx("p",{className:"text-sm text-green-500",children:"+12% este mes"})]}),n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Ventas Totales"}),n.jsx("p",{className:"text-2xl font-bold",children:"$12,450"}),n.jsx("p",{className:"text-sm text-green-500",children:"+8% este mes"})]}),n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"rdenes Pendientes"}),n.jsx("p",{className:"text-2xl font-bold",children:"8"}),n.jsx("p",{className:"text-sm text-yellow-500",children:"Necesitan atencin"})]}),n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Ticket Promedio"}),n.jsx("p",{className:"text-2xl font-bold",children:"$79.81"}),n.jsx("p",{className:"text-sm text-green-500",children:"+5% este mes"})]})]}),n.jsx("div",{className:"bg-white p-4 rounded-xl shadow",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(hn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Buscar rdenes...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("select",{className:"px-4 py-2 border rounded-lg",children:[n.jsx("option",{children:"Todos los estados"}),n.jsx("option",{children:"Completado"}),n.jsx("option",{children:"Pendiente"}),n.jsx("option",{children:"Enviado"}),n.jsx("option",{children:"Cancelado"})]}),n.jsx("input",{type:"date",className:"px-4 py-2 border rounded-lg"}),n.jsxs("button",{className:"flex items-center px-4 py-2 border rounded-lg hover:bg-gray-50",children:[n.jsx(R_,{className:"w-5 h-5 mr-2"}),"Filtros"]})]})}),n.jsxs("div",{className:"bg-white rounded-xl shadow overflow-hidden",children:[n.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"rdenes Recientes"}),n.jsxs("button",{className:"flex items-center text-gray-600 hover:text-gray-900",children:[n.jsx(A_,{className:"w-5 h-5 mr-2"}),"Exportar CSV"]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"ID Orden"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cliente"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Fecha"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Estado"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Pago"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Acciones"})]})}),n.jsx("tbody",{className:"divide-y",children:r.map(t=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 font-medium",children:t.id}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:t.customer}),n.jsx("p",{className:"text-sm text-gray-500",children:t.email})]})}),n.jsx("td",{className:"px-6 py-4",children:t.date}),n.jsxs("td",{className:"px-6 py-4 font-bold",children:["$",t.total.toFixed(2)]}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${e[t.status]}`,children:t.status})}),n.jsx("td",{className:"px-6 py-4",children:t.payment}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"Ver detalles",children:n.jsx(P_,{className:"w-4 h-4"})}),t.status==="Pendiente"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"p-2 text-green-600 hover:bg-green-50 rounded",title:"Aprobar",children:n.jsx(gr,{className:"w-4 h-4"})}),n.jsx("button",{className:"p-2 text-red-600 hover:bg-red-50 rounded",title:"Rechazar",children:n.jsx(go,{className:"w-4 h-4"})})]}),t.status==="Procesando"&&n.jsx("button",{className:"p-2 text-purple-600 hover:bg-purple-50 rounded",title:"Marcar como enviado",children:n.jsx(Co,{className:"w-4 h-4"})})]})})]},t.id))})]})})]})]})},H5=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Analticas y Reportes"}),n.jsx("p",{className:"text-gray-600",children:"Mtricas y anlisis de rendimiento de tu tienda"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("select",{className:"px-4 py-2 border rounded-lg",children:[n.jsx("option",{children:"ltimos 7 das"}),n.jsx("option",{children:"ltimos 30 das"}),n.jsx("option",{children:"ltimos 3 meses"}),n.jsx("option",{children:"Este ao"})]}),n.jsxs("button",{className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[n.jsx(A_,{className:"w-5 h-5 mr-2"}),"Exportar Reporte"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"bg-white p-6 rounded-xl shadow",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Ingresos Totales"}),n.jsx("p",{className:"text-2xl font-bold mt-2",children:"$12,450"}),n.jsxs("div",{className:"flex items-center mt-2",children:[n.jsx(Mt,{className:"w-4 h-4 text-green-500 mr-1"}),n.jsx("span",{className:"text-sm text-green-500",children:"+18.2%"}),n.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"vs mes pasado"})]})]}),n.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:n.jsx(Nd,{className:"w-6 h-6 text-green-600"})})]})}),n.jsx("div",{className:"bg-white p-6 rounded-xl shadow",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"rdenes Totales"}),n.jsx("p",{className:"text-2xl font-bold mt-2",children:"156"}),n.jsxs("div",{className:"flex items-center mt-2",children:[n.jsx(Mt,{className:"w-4 h-4 text-green-500 mr-1"}),n.jsx("span",{className:"text-sm text-green-500",children:"+12.5%"}),n.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"vs mes pasado"})]})]}),n.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:n.jsx(yo,{className:"w-6 h-6 text-blue-600"})})]})}),n.jsx("div",{className:"bg-white p-6 rounded-xl shadow",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Clientes Nuevos"}),n.jsx("p",{className:"text-2xl font-bold mt-2",children:"48"}),n.jsxs("div",{className:"flex items-center mt-2",children:[n.jsx(Mt,{className:"w-4 h-4 text-green-500 mr-1"}),n.jsx("span",{className:"text-sm text-green-500",children:"+8.7%"}),n.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"vs mes pasado"})]})]}),n.jsx("div",{className:"bg-purple-100 p-3 rounded-lg",children:n.jsx(_c,{className:"w-6 h-6 text-purple-600"})})]})}),n.jsx("div",{className:"bg-white p-6 rounded-xl shadow",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Ticket Promedio"}),n.jsx("p",{className:"text-2xl font-bold mt-2",children:"$79.81"}),n.jsxs("div",{className:"flex items-center mt-2",children:[n.jsx(Mt,{className:"w-4 h-4 text-green-500 mr-1"}),n.jsx("span",{className:"text-sm text-green-500",children:"+5.4%"}),n.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"vs mes pasado"})]})]}),n.jsx("div",{className:"bg-orange-100 p-3 rounded-lg",children:n.jsx(Nd,{className:"w-6 h-6 text-orange-600"})})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Ventas por Da"}),n.jsx(Hi,{className:"w-5 h-5 text-gray-400"})]}),n.jsx("div",{className:"h-64 flex items-end space-x-2",children:[40,65,80,60,75,90,85].map((r,e)=>n.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[n.jsx("div",{className:"w-full bg-blue-500 rounded-t",style:{height:`${r}%`}}),n.jsx("span",{className:"text-xs text-gray-500 mt-2",children:["Lun","Mar","Mi","Jue","Vie","Sb","Dom"][e]})]},e))})]}),n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow",children:[n.jsx("h2",{className:"text-lg font-semibold mb-6",children:"Productos Ms Vendidos"}),n.jsx("div",{className:"space-y-4",children:[{name:"Smartphone X",sales:45,revenue:"$13,500"},{name:"Audfonos Bluetooth",sales:32,revenue:"$2,880"},{name:"Smart Watch Pro",sales:28,revenue:"$5,600"},{name:"Camiseta Casual",sales:25,revenue:"$625"},{name:"Zapatos Deportivos",sales:18,revenue:"$1,440"}].map((r,e)=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:r.name}),n.jsxs("p",{className:"text-sm text-gray-500",children:[r.sales," unidades"]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"font-bold",children:r.revenue}),n.jsxs("p",{className:"text-sm text-green-500",children:["+",Math.floor(Math.random()*20)+5,"%"]})]})]},e))})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow",children:[n.jsx("h3",{className:"font-semibold mb-4",children:"Dispositivos de Acceso"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between mb-1",children:[n.jsx("span",{children:"Mvil"}),n.jsx("span",{className:"font-medium",children:"62%"})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"62%"}})})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between mb-1",children:[n.jsx("span",{children:"Desktop"}),n.jsx("span",{className:"font-medium",children:"32%"})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"32%"}})})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between mb-1",children:[n.jsx("span",{children:"Tablet"}),n.jsx("span",{className:"font-medium",children:"6%"})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:"6%"}})})]})]})]}),n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow",children:[n.jsx("h3",{className:"font-semibold mb-4",children:"Fuentes de Trfico"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Bsqueda Orgnica"}),n.jsx("span",{className:"font-medium",children:"42%"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Redes Sociales"}),n.jsx("span",{className:"font-medium",children:"28%"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Marketing por Email"}),n.jsx("span",{className:"font-medium",children:"18%"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Directo"}),n.jsx("span",{className:"font-medium",children:"12%"})]})]})]}),n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow",children:[n.jsx("h3",{className:"font-semibold mb-4",children:"Tasa de Conversin"}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-32 h-32 rounded-full border-8 border-blue-500 mb-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-3xl font-bold",children:"4.2%"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Conversin"})]})}),n.jsx("p",{className:"text-sm text-gray-600",children:"+0.8% respecto al mes anterior"})]})]})]})]}),W5=[{id:"shipping",name:"Paquetera",icon:Br,color:"green",desc:"Envos nacionales e internacionales"},{id:"tours",name:"Tours",icon:jR,color:"blue",desc:"Excursiones y paquetes tursticos"},{id:"rental",name:"Renta de Autos",icon:Fr,color:"amber",desc:"Vehculos de todo tipo"},{id:"hotels",name:"Hoteles",icon:Qn,color:"purple",desc:"Alojamientos y resorts"},{id:"flights",name:"Vuelos",icon:Io,color:"sky",desc:"Reservas de vuelos"},{id:"visas",name:"Visas",icon:ko,color:"emerald",desc:"Trmites migratorios"}],G5=({selected:r,onChange:e,disabled:t})=>n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Tipo de Servicio"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:W5.map(s=>{const a=s.icon,l=r===s.id;return n.jsxs("button",{type:"button",onClick:()=>!t&&e(s.id),disabled:t,className:`
                relative p-6 rounded-xl border-2 transition-all text-left
                ${l?`border-${s.color}-500 bg-${s.color}-50 shadow-lg`:"border-gray-200 hover:border-gray-300 bg-white"}
                ${t?"opacity-50 cursor-not-allowed":"cursor-pointer"}
              `,children:[n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:`p-3 rounded-xl ${l?`bg-${s.color}-500 text-white`:`bg-${s.color}-100 text-${s.color}-600`}`,children:n.jsx(a,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx("h3",{className:`font-semibold ${l?`text-${s.color}-700`:"text-gray-700"}`,children:s.name}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:s.desc})]})]}),l&&n.jsx("div",{className:"absolute top-2 right-2",children:n.jsx("span",{className:"text-2xl",children:""})})]},s.id)})})]}),K5=({title:r,subtitle:e,onChange:t})=>n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Informacin Bsica"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ttulo del Servicio *"}),n.jsx("input",{type:"text",value:r,onChange:s=>t("title",s.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Ej: Paquetera Express Internacional",required:!0}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Nombre principal que vern los clientes"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subttulo"}),n.jsx("input",{type:"text",value:e,onChange:s=>t("subtitle",s.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"Ej: Envos rpidos y seguros a todo el mundo"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Breve descripcin que acompaa al ttulo"})]})]})]}),Q5=({mainImage:r,gallery:e=[],onChange:t})=>{const[s,a]=R.useState("main"),l=x=>{const g=x.target.files[0];if(!g)return;if(!g.type.startsWith("image/")){alert("Por favor selecciona una imagen vlida");return}if(g.size>5*1024*1024){alert("La imagen no debe superar los 5MB");return}const w=new FileReader;w.onloadend=()=>t("mainImage",w.result),w.readAsDataURL(g)},u=x=>{const w=Array.from(x.target.files).filter(b=>b.type.startsWith("image/")&&b.size<=5*1024*1024);Promise.all(w.map(b=>new Promise(j=>{const k=new FileReader;k.onloadend=()=>j(k.result),k.readAsDataURL(b)}))).then(b=>{t("gallery",[...e,...b])})},m=x=>{t("gallery",e.filter((g,w)=>w!==x))},p=()=>{t("mainImage","")};return n.jsxs("div",{className:"space-y-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Imgenes"}),n.jsxs("div",{className:"flex gap-2 border-b",children:[n.jsx("button",{onClick:()=>a("main"),className:`px-4 py-2 font-medium transition-colors ${s==="main"?"text-amber-500 border-b-2 border-amber-500":"text-gray-500 hover:text-gray-700"}`,children:"Imagen Principal"}),n.jsxs("button",{onClick:()=>a("gallery"),className:`px-4 py-2 font-medium transition-colors ${s==="gallery"?"text-amber-500 border-b-2 border-amber-500":"text-gray-500 hover:text-gray-700"}`,children:["Galera (",e.length,")"]})]}),s==="main"&&n.jsx("div",{className:"p-4 bg-gray-50 rounded-xl",children:r?n.jsxs("div",{className:"relative inline-block",children:[n.jsx("img",{src:r,alt:"Principal",className:"w-64 h-64 object-cover rounded-lg border-2 border-gray-200"}),n.jsx("button",{onClick:p,className:"absolute -top-2 -right-2 p-1.5 bg-red-500 text-white rounded-full hover:bg-red-600",children:n.jsx(Ze,{className:"h-4 w-4"})})]}):n.jsxs("label",{className:"block cursor-pointer",children:[n.jsxs("div",{className:"border-3 border-dashed border-gray-300 rounded-2xl p-12 text-center hover:border-amber-400 hover:bg-amber-50 transition-colors",children:[n.jsx(nc,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 font-medium mb-2",children:"Haz clic para subir la imagen principal"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Recomendado: 800x600px  Mximo 5MB"})]}),n.jsx("input",{type:"file",accept:"image/*",onChange:l,className:"hidden"})]})}),s==="gallery"&&n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:e.map((x,g)=>n.jsxs("div",{className:"relative aspect-square group",children:[n.jsx("img",{src:x,alt:`Galera ${g+1}`,className:"w-full h-full object-cover rounded-lg border-2 border-gray-200"}),n.jsx("button",{onClick:()=>m(g),className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx(Ze,{className:"h-3 w-3"})})]},g))}),n.jsxs("label",{className:"block cursor-pointer",children:[n.jsxs("div",{className:"border-3 border-dashed border-gray-300 rounded-2xl p-8 text-center hover:border-amber-400 hover:bg-amber-50 transition-colors",children:[n.jsx(nc,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),n.jsx("p",{className:"text-gray-600",children:"Agregar ms imgenes a la galera"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Puedes seleccionar mltiples imgenes"})]}),n.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:u,className:"hidden"})]})]})]})},Y5=({data:r,onChange:e})=>{const[t,s]=R.useState(""),[a,l]=R.useState({peso:"",precioMin:"",precioMax:"",tiempo:""}),[u,m]=R.useState({pais:"",precioMin:"",precioMax:"",tiempo:""}),p={rangosPrecios:r?.rangosPrecios||{minimo:15,maximo:250},productosPermitidos:r?.productosPermitidos||[],productosRestringidos:r?.productosRestringidos||[],tarifas:r?.tarifas||[],destinos:r?.destinos||[],tiempos:r?.tiempos||{nacional:"2-4 das",internacional:"5-10 das",express:"24-48h"}},x=()=>{t.trim()&&(e({...p,productosPermitidos:[...p.productosPermitidos,t.trim()]}),s(""))},g=()=>{a.peso&&a.precioMin&&(e({...p,tarifas:[...p.tarifas,{...a,precioMin:parseFloat(a.precioMin),precioMax:parseFloat(a.precioMax)||parseFloat(a.precioMin)*1.5}]}),l({peso:"",precioMin:"",precioMax:"",tiempo:""}))},w=()=>{u.pais&&(e({...p,destinos:[...p.destinos,{...u,precioMin:parseFloat(u.precioMin)||25,precioMax:parseFloat(u.precioMax)||50}]}),m({pais:"",precioMin:"",precioMax:"",tiempo:""}))},b=(j,k)=>{e({...p,[j]:p[j].filter((M,D)=>D!==k)})};return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-xl p-6",children:[n.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[n.jsx(Mt,{className:"h-5 w-5"})," Rango de Precios"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm opacity-90 block mb-1",children:"Mnimo ($)"}),n.jsx("input",{type:"number",value:p.rangosPrecios.minimo,onChange:j=>e({...p,rangosPrecios:{...p.rangosPrecios,minimo:parseFloat(j.target.value)}}),className:"w-full px-4 py-2 bg-white/20 backdrop-blur-sm border border-white/30 rounded-lg text-white"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm opacity-90 block mb-1",children:"Mximo ($)"}),n.jsx("input",{type:"number",value:p.rangosPrecios.maximo,onChange:j=>e({...p,rangosPrecios:{...p.rangosPrecios,maximo:parseFloat(j.target.value)}}),className:"w-full px-4 py-2 bg-white/20 backdrop-blur-sm border border-white/30 rounded-lg text-white"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[n.jsx(Br,{className:"h-5 w-5 text-green-600"})," Productos Permitidos"]}),n.jsxs("div",{className:"flex gap-2 mb-4",children:[n.jsx("input",{type:"text",value:t,onChange:j=>s(j.target.value),placeholder:"Ej: Electrnicos, Ropa...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg"}),n.jsx("button",{onClick:x,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:n.jsx(rt,{className:"h-4 w-4"})})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:p.productosPermitidos.map((j,k)=>n.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm flex items-center gap-2",children:[j," ",n.jsx("button",{onClick:()=>b("productosPermitidos",k),children:n.jsx(Ze,{className:"h-3 w-3 text-red-500"})})]},k))})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[n.jsx(F_,{className:"h-5 w-5 text-amber-600"})," Tarifas por Peso"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3 mb-4",children:[n.jsx("input",{type:"text",placeholder:"Peso",value:a.peso,onChange:j=>l({...a,peso:j.target.value}),className:"px-3 py-2 border rounded-lg"}),n.jsx("input",{type:"number",placeholder:"Mnimo $",value:a.precioMin,onChange:j=>l({...a,precioMin:j.target.value}),className:"px-3 py-2 border rounded-lg"}),n.jsx("input",{type:"number",placeholder:"Mximo $",value:a.precioMax,onChange:j=>l({...a,precioMax:j.target.value}),className:"px-3 py-2 border rounded-lg"}),n.jsx("input",{type:"text",placeholder:"Tiempo",value:a.tiempo,onChange:j=>l({...a,tiempo:j.target.value}),className:"px-3 py-2 border rounded-lg"}),n.jsx("button",{onClick:g,className:"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700",children:n.jsx(rt,{className:"h-4 w-4"})})]}),n.jsx("div",{className:"space-y-2",children:p.tarifas.map((j,k)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsx("span",{className:"font-medium w-24",children:j.peso}),n.jsxs("span",{className:"text-green-600 font-semibold w-32",children:["$",j.precioMin," - $",j.precioMax]}),n.jsx("span",{className:"text-gray-600 w-32",children:j.tiempo}),n.jsx("button",{onClick:()=>b("tarifas",k),children:n.jsx($r,{className:"h-4 w-4 text-red-500"})})]},k))})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[n.jsx(zr,{className:"h-5 w-5 text-blue-600"})," Destinos"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3 mb-4",children:[n.jsx("input",{type:"text",placeholder:"Pas",value:u.pais,onChange:j=>m({...u,pais:j.target.value}),className:"px-3 py-2 border rounded-lg"}),n.jsx("input",{type:"number",placeholder:"Mnimo $",value:u.precioMin,onChange:j=>m({...u,precioMin:j.target.value}),className:"px-3 py-2 border rounded-lg"}),n.jsx("input",{type:"number",placeholder:"Mximo $",value:u.precioMax,onChange:j=>m({...u,precioMax:j.target.value}),className:"px-3 py-2 border rounded-lg"}),n.jsx("input",{type:"text",placeholder:"Tiempo",value:u.tiempo,onChange:j=>m({...u,tiempo:j.target.value}),className:"px-3 py-2 border rounded-lg"}),n.jsx("button",{onClick:w,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:n.jsx(rt,{className:"h-4 w-4"})})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:p.destinos.map((j,k)=>n.jsxs("div",{className:"relative bg-gray-50 rounded-lg p-4 border group",children:[n.jsx("button",{onClick:()=>b("destinos",k),className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100",children:n.jsx(Ze,{className:"h-4 w-4 text-red-500"})}),n.jsx("h5",{className:"font-bold",children:j.pais}),n.jsxs("p",{className:"text-sm text-green-600",children:["$",j.precioMin," - $",j.precioMax]}),n.jsx("p",{className:"text-sm text-gray-600",children:j.tiempo})]},k))})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[n.jsx(xr,{className:"h-5 w-5 text-purple-600"})," Tiempos de Entrega"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nacional"}),n.jsx("input",{type:"text",value:p.tiempos.nacional,onChange:j=>e({...p,tiempos:{...p.tiempos,nacional:j.target.value}}),className:"w-full px-4 py-2 border rounded-lg"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Internacional"}),n.jsx("input",{type:"text",value:p.tiempos.internacional,onChange:j=>e({...p,tiempos:{...p.tiempos,internacional:j.target.value}}),className:"w-full px-4 py-2 border rounded-lg"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Express"}),n.jsx("input",{type:"text",value:p.tiempos.express,onChange:j=>e({...p,tiempos:{...p.tiempos,express:j.target.value}}),className:"w-full px-4 py-2 border rounded-lg"})]})]})]})]})},X5=({data:r,onChange:e})=>{const[t,s]=R.useState(""),[a,l]=R.useState({nombre:"",duracion:"",hotel:"",precioMin:"",precioMax:"",descripcion:"",incluye:[]}),[u,m]=R.useState(""),[p,x]=R.useState(null),[g,w]=R.useState(null),b={rangosPrecios:{minimo:r?.rangosPrecios?.minimo||79,maximo:r?.rangosPrecios?.maximo||599,promedio:r?.rangosPrecios?.promedio||250},destinos:r?.destinos||[],paquetes:r?.paquetes||[],ofertas:r?.ofertas||[],incluye:r?.incluye||["Transporte ida y vuelta","Gua profesional","Almuerzo tpico","Seguro de viaje"],noIncluye:r?.noIncluye||["Bebidas alcohlicas","Fotografas profesionales","Propinas"],recomendaciones:r?.recomendaciones||["Ropa cmoda","Bloqueador solar","Cmara fotogrfica"]},j=(N,S)=>{e({...b,rangosPrecios:{...b.rangosPrecios,[N]:parseFloat(S)||0}})},k=()=>{t.trim()&&(e({...b,destinos:[...b.destinos,{nombre:t,paquetes:[],descripcion:"",imagen:""}]}),s(""))},M=N=>{e({...b,destinos:b.destinos.filter((S,A)=>A!==N)})},D=()=>{if(p!==null&&a.nombre&&a.precioMin){const N=[...b.destinos];N[p].paquetes||(N[p].paquetes=[]),N[p].paquetes.push({...a,precioMin:parseFloat(a.precioMin),precioMax:parseFloat(a.precioMax)||parseFloat(a.precioMin)*1.5,incluye:a.incluye||[]}),e({...b,destinos:N}),K(),x(null)}},W=()=>{if(p!==null&&g!==null&&a.nombre){const N=[...b.destinos];N[p].paquetes[g]={...a,precioMin:parseFloat(a.precioMin),precioMax:parseFloat(a.precioMax)||parseFloat(a.precioMin)*1.5},e({...b,destinos:N}),K(),x(null),w(null)}},H=(N,S)=>{const A=b.destinos[N].paquetes[S];l({nombre:A.nombre||"",duracion:A.duracion||"",hotel:A.hotel||"",precioMin:A.precioMin||"",precioMax:A.precioMax||"",descripcion:A.descripcion||"",incluye:A.incluye||[]}),x(N),w(S)},Q=(N,S)=>{const A=[...b.destinos];A[N].paquetes=A[N].paquetes.filter((I,oe)=>oe!==S),e({...b,destinos:A})},K=()=>{l({nombre:"",duracion:"",hotel:"",precioMin:"",precioMax:"",descripcion:"",incluye:[]}),m("")},Y=()=>{u.trim()&&(l({...a,incluye:[...a.incluye,u.trim()]}),m(""))},J=N=>{l({...a,incluye:a.incluye.filter((S,A)=>A!==N)})},O=(N,S)=>{S.trim()&&e({...b,[N]:[...b[N],S.trim()]})},P=(N,S)=>{e({...b,[N]:b[N].filter((A,I)=>I!==S)})},T=(N,S,A)=>{const I=[...b[N]];I[S]=A,e({...b,[N]:I})};return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"bg-gradient-to-r from-amber-600 to-orange-600 text-white rounded-xl p-6 shadow-lg",children:[n.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[n.jsx(Mt,{className:"h-6 w-6"}),"Rango General de Precios"]}),n.jsx("p",{className:"text-sm text-amber-100 mb-4",children:'Estos valores aparecern en las tarjetas como "Desde $X hasta $Y"'}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm opacity-90 block mb-1",children:"Precio mnimo ($)"}),n.jsx("input",{type:"number",value:b.rangosPrecios.minimo,onChange:N=>j("minimo",N.target.value),className:"w-full px-4 py-2 bg-white/20 backdrop-blur-sm border border-white/30 rounded-lg text-white placeholder-white/60",placeholder:"79"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm opacity-90 block mb-1",children:"Precio mximo ($)"}),n.jsx("input",{type:"number",value:b.rangosPrecios.maximo,onChange:N=>j("maximo",N.target.value),className:"w-full px-4 py-2 bg-white/20 backdrop-blur-sm border border-white/30 rounded-lg text-white placeholder-white/60",placeholder:"599"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm opacity-90 block mb-1",children:"Precio promedio ($)"}),n.jsx("input",{type:"number",value:b.rangosPrecios.promedio,onChange:N=>j("promedio",N.target.value),className:"w-full px-4 py-2 bg-white/20 backdrop-blur-sm border border-white/30 rounded-lg text-white placeholder-white/60",placeholder:"250"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 px-6 py-4 border-b",children:n.jsxs("h3",{className:"font-semibold text-gray-800 flex items-center gap-2",children:[n.jsx(zr,{className:"h-5 w-5 text-amber-600"}),"Destinos Tursticos"]})}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex gap-2 mb-6",children:[n.jsx("input",{type:"text",value:t,onChange:N=>s(N.target.value),placeholder:"Nombre del destino (ej: Punta Cana)",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500"}),n.jsxs("button",{onClick:k,className:"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 flex items-center gap-2",children:[n.jsx(rt,{className:"h-4 w-4"}),"Agregar Destino"]})]}),n.jsx("div",{className:"space-y-4",children:b.destinos.map((N,S)=>n.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[n.jsxs("div",{className:"bg-gray-50 px-4 py-3 flex justify-between items-center",children:[n.jsx("h4",{className:"font-bold text-lg",children:N.nombre}),n.jsx("button",{onClick:()=>M(S),className:"text-red-500 hover:text-red-700",children:n.jsx($r,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin"}),n.jsx("input",{type:"text",value:N.descripcion||"",onChange:A=>{const I=[...b.destinos];I[S].descripcion=A.target.value,e({...b,destinos:I})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"Breve descripcin del destino"})]}),n.jsxs("div",{className:"space-y-3 mb-4",children:[n.jsx("h5",{className:"font-medium",children:"Paquetes disponibles"}),N.paquetes?.map((A,I)=>n.jsx("div",{className:"bg-amber-50 rounded-lg p-4 relative group",children:n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("input",{type:"text",value:A.nombre||"",onChange:oe=>{const we=[...b.destinos];we[S].paquetes[I].nombre=oe.target.value,e({...b,destinos:we})},className:"font-bold text-lg bg-transparent border-b border-dashed border-gray-300 focus:outline-none focus:border-amber-500",placeholder:"Nombre del paquete"}),n.jsx("span",{className:"text-sm text-gray-500",children:A.duracion})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Precio mnimo"}),n.jsx("input",{type:"number",value:A.precioMin||"",onChange:oe=>{const we=[...b.destinos];we[S].paquetes[I].precioMin=parseFloat(oe.target.value),e({...b,destinos:we})},className:"w-full px-2 py-1 border rounded text-sm",placeholder:"Mnimo"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Precio mximo"}),n.jsx("input",{type:"number",value:A.precioMax||"",onChange:oe=>{const we=[...b.destinos];we[S].paquetes[I].precioMax=parseFloat(oe.target.value),e({...b,destinos:we})},className:"w-full px-2 py-1 border rounded text-sm",placeholder:"Mximo"})]})]}),n.jsx("input",{type:"text",value:A.hotel||"",onChange:oe=>{const we=[...b.destinos];we[S].paquetes[I].hotel=oe.target.value,e({...b,destinos:we})},className:"w-full px-2 py-1 border rounded text-sm mb-2",placeholder:"Hotel"}),n.jsx("div",{className:"flex flex-wrap gap-1",children:(A.incluye||[]).map((oe,we)=>n.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs flex items-center gap-1",children:[oe,n.jsx("button",{onClick:()=>{const Ue=[...b.destinos];Ue[S].paquetes[I].incluye=A.incluye.filter((te,X)=>X!==we),e({...b,destinos:Ue})},children:n.jsx(Ze,{className:"h-3 w-3"})})]},we))})]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx("button",{onClick:()=>H(S,I),className:"text-blue-600 hover:text-blue-800",children:n.jsx(rh,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>Q(S,I),className:"text-red-600 hover:text-red-800",children:n.jsx($r,{className:"h-4 w-4"})})]})]})},I))]}),p===S&&n.jsxs("div",{className:"mt-4 p-4 bg-amber-50 rounded-lg",children:[n.jsx("h5",{className:"font-medium mb-3",children:g!==null?"Editar Paquete":"Nuevo Paquete"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("input",{type:"text",placeholder:"Nombre del paquete",value:a.nombre,onChange:A=>l({...a,nombre:A.target.value}),className:"w-full px-3 py-2 border rounded-lg"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx("input",{type:"text",placeholder:"Duracin",value:a.duracion,onChange:A=>l({...a,duracion:A.target.value}),className:"px-3 py-2 border rounded-lg"}),n.jsx("input",{type:"text",placeholder:"Hotel",value:a.hotel,onChange:A=>l({...a,hotel:A.target.value}),className:"px-3 py-2 border rounded-lg"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx("input",{type:"number",placeholder:"Precio mnimo $",value:a.precioMin,onChange:A=>l({...a,precioMin:A.target.value}),className:"px-3 py-2 border rounded-lg"}),n.jsx("input",{type:"number",placeholder:"Precio mximo $",value:a.precioMax,onChange:A=>l({...a,precioMax:A.target.value}),className:"px-3 py-2 border rounded-lg"})]}),n.jsx("textarea",{placeholder:"Descripcin",value:a.descripcion,onChange:A=>l({...a,descripcion:A.target.value}),className:"w-full px-3 py-2 border rounded-lg",rows:"2"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Incluye"}),n.jsxs("div",{className:"flex gap-2 mb-2",children:[n.jsx("input",{type:"text",value:u,onChange:A=>m(A.target.value),className:"flex-1 px-3 py-2 border rounded-lg",placeholder:"Ej: Transporte"}),n.jsx("button",{onClick:Y,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:n.jsx(rt,{className:"h-4 w-4"})})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:a.incluye.map((A,I)=>n.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs flex items-center gap-1",children:[A,n.jsx("button",{onClick:()=>J(I),children:n.jsx(Ze,{className:"h-3 w-3"})})]},I))})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:g!==null?W:D,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[g!==null?"Actualizar":"Guardar"," Paquete"]}),n.jsx("button",{onClick:()=>{x(null),w(null),K()},className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:"Cancelar"})]})]})]}),p!==S&&n.jsxs("button",{onClick:()=>{x(S),w(null),K()},className:"text-sm text-amber-600 hover:text-amber-700 flex items-center gap-1",children:[n.jsx(rt,{className:"h-4 w-4"}),"Agregar paquete"]})]})]},S))})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[n.jsx(gr,{className:"h-5 w-5 text-green-600"}),"Incluye"]}),n.jsxs("div",{className:"space-y-2",children:[b.incluye.map((N,S)=>n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"text",value:N,onChange:A=>T("incluye",S,A.target.value),className:"flex-1 px-3 py-2 border rounded-lg"}),n.jsx("button",{onClick:()=>P("incluye",S),className:"text-red-500",children:n.jsx(Ze,{className:"h-5 w-5"})})]},S)),n.jsxs("button",{onClick:()=>O("incluye",""),className:"mt-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2",children:[n.jsx(rt,{className:"h-4 w-4"}),"Agregar"]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[n.jsx(go,{className:"h-5 w-5 text-red-600"}),"No incluye"]}),n.jsxs("div",{className:"space-y-2",children:[b.noIncluye.map((N,S)=>n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"text",value:N,onChange:A=>T("noIncluye",S,A.target.value),className:"flex-1 px-3 py-2 border rounded-lg"}),n.jsx("button",{onClick:()=>P("noIncluye",S),className:"text-red-500",children:n.jsx(Ze,{className:"h-5 w-5"})})]},S)),n.jsxs("button",{onClick:()=>O("noIncluye",""),className:"mt-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center gap-2",children:[n.jsx(rt,{className:"h-4 w-4"}),"Agregar"]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[n.jsx(ng,{className:"h-5 w-5 text-blue-600"}),"Recomendaciones"]}),n.jsxs("div",{className:"space-y-2",children:[b.recomendaciones.map((N,S)=>n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"text",value:N,onChange:A=>T("recomendaciones",S,A.target.value),className:"flex-1 px-3 py-2 border rounded-lg"}),n.jsx("button",{onClick:()=>P("recomendaciones",S),className:"text-red-500",children:n.jsx(Ze,{className:"h-5 w-5"})})]},S)),n.jsxs("button",{onClick:()=>O("recomendaciones",""),className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[n.jsx(rt,{className:"h-4 w-4"}),"Agregar"]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[n.jsx(kr,{className:"h-5 w-5 text-purple-600"}),"Ofertas Especiales"]}),n.jsxs("div",{className:"space-y-4",children:[b.ofertas.map((N,S)=>n.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-2",children:[n.jsx("input",{type:"text",value:N.nombre||"",onChange:A=>{const I=[...b.ofertas];I[S].nombre=A.target.value,e({...b,ofertas:I})},placeholder:"Nombre",className:"px-3 py-2 border rounded-lg"}),n.jsx("input",{type:"text",value:N.descuento||"",onChange:A=>{const I=[...b.ofertas];I[S].descuento=A.target.value,e({...b,ofertas:I})},placeholder:"Descuento",className:"px-3 py-2 border rounded-lg"}),n.jsx("input",{type:"text",value:N.condiciones||"",onChange:A=>{const I=[...b.ofertas];I[S].condiciones=A.target.value,e({...b,ofertas:I})},placeholder:"Condiciones",className:"px-3 py-2 border rounded-lg"})]}),n.jsx("button",{onClick:()=>P("ofertas",S),className:"text-red-500 text-sm",children:"Eliminar oferta"})]},S)),n.jsxs("button",{onClick:()=>{const N=[...b.ofertas,{nombre:"",descuento:"",condiciones:""}];e({...b,ofertas:N})},className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[n.jsx(rt,{className:"h-4 w-4"}),"Agregar Oferta"]})]})]})]})},J5=({data:r,onChange:e})=>{const[t,s]=R.useState({ciudad:"",direccion:"",telefono:""}),[a,l]=R.useState({nombre:"",categoria:"",precioMin:"",precioMax:"",disponible:!0,transmision:"Automtico",combustible:"Gasolina",pasajeros:5,imagen:""}),[u,m]=R.useState(""),p={rangosPrecios:{economicoMin:r?.rangosPrecios?.economicoMin||35,economicoMax:r?.rangosPrecios?.economicoMax||65,intermedioMin:r?.rangosPrecios?.intermedioMin||65,intermedioMax:r?.rangosPrecios?.intermedioMax||120,premiumMin:r?.rangosPrecios?.premiumMin||120,premiumMax:r?.rangosPrecios?.premiumMax||250},sucursales:r?.sucursales||[],vehiculos:r?.vehiculos||[],tarifas:r?.tarifas||[{tipo:"Diaria",descuento:0},{tipo:"Semanal",descuento:15},{tipo:"Mensual",descuento:30}],seguros:r?.seguros||[],requisitos:r?.requisitos||["Licencia de conducir vigente","Tarjeta de crdito","Edad mnima 25 aos","Pasaporte"],extras:r?.extras||[]},x=k=>{const M=k.target.files[0];if(!M)return;if(!M.type.startsWith("image/")){alert("Por favor selecciona una imagen vlida");return}if(M.size>5*1024*1024){alert("La imagen no debe superar los 5MB");return}const D=new FileReader;D.onloadend=()=>{m(D.result),l({...a,imagen:D.result})},D.readAsDataURL(M)},g=()=>{t.ciudad&&t.direccion&&(e({...p,sucursales:[...p.sucursales,t]}),s({ciudad:"",direccion:"",telefono:""}))},w=()=>{a.nombre&&a.precioMin&&(e({...p,vehiculos:[...p.vehiculos,{...a,precioMin:parseFloat(a.precioMin),precioMax:parseFloat(a.precioMax)||parseFloat(a.precioMin)*1.5}]}),l({nombre:"",categoria:"",precioMin:"",precioMax:"",disponible:!0,transmision:"Automtico",combustible:"Gasolina",pasajeros:5,imagen:""}),m(""))},b=(k,M)=>{e({...p,[k]:p[k].filter((D,W)=>W!==M)})},j=k=>{const M=[...p.vehiculos];M[k].disponible=!M[k].disponible,e({...p,vehiculos:M})};return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl p-6",children:[n.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[n.jsx(Mt,{className:"h-6 w-6"}),"Rangos de Precios por Categora"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm opacity-90 block mb-1",children:"Econmico ($)"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"number",value:p.rangosPrecios.economicoMin,onChange:k=>e({...p,rangosPrecios:{...p.rangosPrecios,economicoMin:parseFloat(k.target.value)}}),className:"w-1/2 px-3 py-2 bg-white/20 border border-white/30 rounded-lg text-white"}),n.jsx("input",{type:"number",value:p.rangosPrecios.economicoMax,onChange:k=>e({...p,rangosPrecios:{...p.rangosPrecios,economicoMax:parseFloat(k.target.value)}}),className:"w-1/2 px-3 py-2 bg-white/20 border border-white/30 rounded-lg text-white"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm opacity-90 block mb-1",children:"Intermedio ($)"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"number",value:p.rangosPrecios.intermedioMin,onChange:k=>e({...p,rangosPrecios:{...p.rangosPrecios,intermedioMin:parseFloat(k.target.value)}}),className:"w-1/2 px-3 py-2 bg-white/20 border border-white/30 rounded-lg text-white"}),n.jsx("input",{type:"number",value:p.rangosPrecios.intermedioMax,onChange:k=>e({...p,rangosPrecios:{...p.rangosPrecios,intermedioMax:parseFloat(k.target.value)}}),className:"w-1/2 px-3 py-2 bg-white/20 border border-white/30 rounded-lg text-white"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm opacity-90 block mb-1",children:"Premium ($)"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"number",value:p.rangosPrecios.premiumMin,onChange:k=>e({...p,rangosPrecios:{...p.rangosPrecios,premiumMin:parseFloat(k.target.value)}}),className:"w-1/2 px-3 py-2 bg-white/20 border border-white/30 rounded-lg text-white"}),n.jsx("input",{type:"number",value:p.rangosPrecios.premiumMax,onChange:k=>e({...p,rangosPrecios:{...p.rangosPrecios,premiumMax:parseFloat(k.target.value)}}),className:"w-1/2 px-3 py-2 bg-white/20 border border-white/30 rounded-lg text-white"})]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(Fr,{className:"h-5 w-5 text-blue-600"}),"Agregar Nuevo Vehculo"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("input",{type:"text",placeholder:"Modelo del vehculo",value:a.nombre,onChange:k=>l({...a,nombre:k.target.value}),className:"w-full px-4 py-2 border rounded-lg"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx("input",{type:"text",placeholder:"Categora",value:a.categoria,onChange:k=>l({...a,categoria:k.target.value}),className:"px-4 py-2 border rounded-lg"}),n.jsxs("select",{value:a.transmision,onChange:k=>l({...a,transmision:k.target.value}),className:"px-4 py-2 border rounded-lg",children:[n.jsx("option",{value:"Automtico",children:"Automtico"}),n.jsx("option",{value:"Manual",children:"Manual"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("select",{value:a.combustible,onChange:k=>l({...a,combustible:k.target.value}),className:"px-4 py-2 border rounded-lg",children:[n.jsx("option",{value:"Gasolina",children:"Gasolina"}),n.jsx("option",{value:"Diesel",children:"Diesel"}),n.jsx("option",{value:"Hbrido",children:"Hbrido"}),n.jsx("option",{value:"Elctrico",children:"Elctrico"})]}),n.jsx("input",{type:"number",placeholder:"Pasajeros",value:a.pasajeros,onChange:k=>l({...a,pasajeros:parseInt(k.target.value)}),className:"px-4 py-2 border rounded-lg"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx("input",{type:"number",placeholder:"Precio mnimo $",value:a.precioMin,onChange:k=>l({...a,precioMin:k.target.value}),className:"px-4 py-2 border rounded-lg"}),n.jsx("input",{type:"number",placeholder:"Precio mximo $",value:a.precioMax,onChange:k=>l({...a,precioMax:k.target.value}),className:"px-4 py-2 border rounded-lg"})]}),n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:a.disponible,onChange:k=>l({...a,disponible:k.target.checked}),className:"w-4 h-4"}),n.jsx("span",{children:"Vehculo disponible inmediatamente"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Foto del vehculo"}),u?n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:u,alt:"Preview",className:"w-full h-40 object-cover rounded-lg border-2 border-gray-200"}),n.jsx("button",{onClick:()=>{m(""),l({...a,imagen:""})},className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full",children:n.jsx(Ze,{className:"h-4 w-4"})})]}):n.jsxs("label",{className:"block cursor-pointer",children:[n.jsxs("div",{className:"border-3 border-dashed border-gray-300 rounded-xl p-6 text-center hover:border-blue-400 hover:bg-blue-50 transition-colors",children:[n.jsx(nc,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Haz clic para subir imagen"}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Mximo 5MB"})]}),n.jsx("input",{type:"file",accept:"image/*",onChange:x,className:"hidden"})]})]})]}),n.jsxs("button",{onClick:w,className:"mt-4 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2",children:[n.jsx(rt,{className:"h-4 w-4"}),"Agregar Vehculo"]})]}),p.vehiculos.length>0&&n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Vehculos en Flota (",p.vehiculos.length,")"]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p.vehiculos.map((k,M)=>n.jsxs("div",{className:"border rounded-lg overflow-hidden bg-white hover:shadow-md transition-shadow",children:[n.jsx("div",{className:"h-32 bg-gray-100 overflow-hidden",children:k.imagen?n.jsx("img",{src:k.imagen,alt:k.nombre,className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-100 to-gray-200",children:n.jsx(Fr,{className:"h-10 w-10 text-gray-400"})})}),n.jsxs("div",{className:"p-3",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold",children:k.nombre}),n.jsx("p",{className:"text-xs text-gray-600",children:k.categoria})]}),n.jsx("button",{onClick:()=>j(M),className:`text-xs px-2 py-1 rounded ${k.disponible?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:k.disponible?"Disponible":"No disponible"})]}),n.jsxs("p",{className:"text-green-600 font-bold text-sm mt-1",children:["$",k.precioMin," - $",k.precioMax,"/da"]}),n.jsx("div",{className:"flex justify-end mt-2",children:n.jsx("button",{onClick:()=>b("vehiculos",M),className:"text-red-500 hover:text-red-700",children:n.jsx($r,{className:"h-4 w-4"})})})]})]},M))})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(zr,{className:"h-5 w-5 text-blue-600"}),"Sucursales"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 mb-4",children:[n.jsx("input",{type:"text",placeholder:"Ciudad",value:t.ciudad,onChange:k=>s({...t,ciudad:k.target.value}),className:"px-3 py-2 border rounded-lg"}),n.jsx("input",{type:"text",placeholder:"Direccin",value:t.direccion,onChange:k=>s({...t,direccion:k.target.value}),className:"px-3 py-2 border rounded-lg"}),n.jsx("input",{type:"text",placeholder:"Telfono",value:t.telefono,onChange:k=>s({...t,telefono:k.target.value}),className:"px-3 py-2 border rounded-lg"}),n.jsx("button",{onClick:g,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:n.jsx(rt,{className:"h-4 w-4"})})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:p.sucursales.map((k,M)=>n.jsxs("div",{className:"relative bg-gray-50 rounded-lg p-3 border group",children:[n.jsx("button",{onClick:()=>b("sucursales",M),className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100",children:n.jsx(Ze,{className:"h-4 w-4 text-red-500"})}),n.jsx("h4",{className:"font-bold",children:k.ciudad}),n.jsx("p",{className:"text-sm text-gray-600",children:k.direccion}),k.telefono&&n.jsx("p",{className:"text-sm text-blue-600 mt-1",children:k.telefono})]},M))})]})]})},Z5=({data:r,onChange:e})=>{const[t,s]=R.useState({ciudad:"",pais:""}),[a,l]=R.useState({nombre:"",precioMin:"",precioMax:"",estrellas:4}),[u,m]=R.useState(null),p={destinos:r?.destinos||[],serviciosGenerales:r?.serviciosGenerales||["WiFi","Desayuno","Piscina"],politicas:r?.politicas||{checkIn:"15:00",checkOut:"12:00"}},x=()=>{t.ciudad&&(e({...p,destinos:[...p.destinos,{...t,hoteles:[]}]}),s({ciudad:"",pais:""}))},g=()=>{if(u!==null&&a.nombre&&a.precioMin){const j=[...p.destinos];j[u].hoteles.push({...a,precioMin:parseFloat(a.precioMin),precioMax:parseFloat(a.precioMax)||parseFloat(a.precioMin)*1.5}),e({...p,destinos:j}),l({nombre:"",precioMin:"",precioMax:"",estrellas:4}),m(null)}},w=j=>{e({...p,destinos:p.destinos.filter((k,M)=>M!==j)})},b=(j,k)=>{const M=[...p.destinos];M[j].hoteles=M[j].hoteles.filter((D,W)=>W!==k),e({...p,destinos:M})};return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-xl p-6",children:[n.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[n.jsx(Qn,{className:"h-5 w-5"})," Destinos Hoteleros"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[n.jsx("input",{type:"text",placeholder:"Ciudad",value:t.ciudad,onChange:j=>s({...t,ciudad:j.target.value}),className:"px-4 py-2 bg-white/20 backdrop-blur-sm border border-white/30 rounded-lg text-white placeholder-white/60"}),n.jsx("input",{type:"text",placeholder:"Pas",value:t.pais,onChange:j=>s({...t,pais:j.target.value}),className:"px-4 py-2 bg-white/20 backdrop-blur-sm border border-white/30 rounded-lg text-white placeholder-white/60"}),n.jsx("button",{onClick:x,className:"px-4 py-2 bg-white text-purple-600 rounded-lg hover:bg-purple-50",children:n.jsx(rt,{className:"h-4 w-4"})})]})]}),p.destinos.map((j,k)=>n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[n.jsxs("div",{className:"bg-gray-50 px-4 py-3 flex justify-between items-center",children:[n.jsxs("h4",{className:"font-bold text-lg",children:[n.jsx(zr,{className:"h-4 w-4 inline mr-2 text-purple-600"})," ",j.ciudad,", ",j.pais]}),n.jsx("button",{onClick:()=>w(k),children:n.jsx($r,{className:"h-4 w-4 text-red-500"})})]}),n.jsxs("div",{className:"p-4",children:[j.hoteles.map((M,D)=>n.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 mb-3 flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:M.nombre}),n.jsx("span",{className:"ml-4 flex items-center gap-1",children:[...Array(5)].map((W,H)=>n.jsx(kr,{className:`h-4 w-4 ${H<M.estrellas?"text-yellow-500 fill-yellow-500":"text-gray-300"}`},H))})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("span",{className:"text-green-600 font-bold",children:["$",M.precioMin," - $",M.precioMax]}),n.jsx("button",{onClick:()=>b(k,D),children:n.jsx(Ze,{className:"h-4 w-4 text-red-500"})})]})]},D)),u===k?n.jsxs("div",{className:"mt-4 p-4 bg-purple-50 rounded-lg",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 mb-3",children:[n.jsx("input",{type:"text",placeholder:"Nombre",value:a.nombre,onChange:M=>l({...a,nombre:M.target.value}),className:"px-3 py-2 border rounded-lg"}),n.jsx("input",{type:"number",placeholder:"Mnimo $",value:a.precioMin,onChange:M=>l({...a,precioMin:M.target.value}),className:"px-3 py-2 border rounded-lg"}),n.jsx("input",{type:"number",placeholder:"Mximo $",value:a.precioMax,onChange:M=>l({...a,precioMax:M.target.value}),className:"px-3 py-2 border rounded-lg"}),n.jsxs("select",{value:a.estrellas,onChange:M=>l({...a,estrellas:parseInt(M.target.value)}),className:"px-3 py-2 border rounded-lg",children:[n.jsx("option",{value:"5",children:"5 Estrellas"}),n.jsx("option",{value:"4",children:"4 Estrellas"}),n.jsx("option",{value:"3",children:"3 Estrellas"}),n.jsx("option",{value:"2",children:"2 Estrellas"}),n.jsx("option",{value:"1",children:"1 Estrella"})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:g,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Guardar"}),n.jsx("button",{onClick:()=>m(null),className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:"Cancelar"})]})]}):n.jsxs("button",{onClick:()=>m(k),className:"text-sm text-purple-600 hover:text-purple-700 flex items-center gap-1",children:[n.jsx(rt,{className:"h-4 w-4"})," Agregar hotel"]})]})]},k))]})},e6=({data:r,onChange:e})=>{const[t,s]=R.useState({origen:"",destino:""}),[a,l]=R.useState({aerolinea:"",precioMin:"",precioMax:"",clase:"Econmica",equipaje:"23kg",comida:"Incluida",horario:"",beneficios:[]}),[u,m]=R.useState(""),[p,x]=R.useState(null),[g,w]=R.useState(null),b={rangosPrecios:{minimo:r?.rangosPrecios?.minimo||150,maximo:r?.rangosPrecios?.maximo||950,promedio:r?.rangosPrecios?.promedio||450},rutas:r?.rutas||[],clases:r?.clases||[],aerolineas:r?.aerolineas||[],ofertas:r?.ofertas||[],destinosPopulares:r?.destinosPopulares||[],equipaje:r?.equipaje||{cabina:"10 kg",bodega:"23 kg",precioExtra:35}},j=(T,N)=>{e({...b,rangosPrecios:{...b.rangosPrecios,[T]:parseFloat(N)||0}})},k=()=>{t.origen&&t.destino&&(e({...b,rutas:[...b.rutas,{...t,vuelos:[]}]}),s({origen:"",destino:""}))},M=T=>{e({...b,rutas:b.rutas.filter((N,S)=>S!==T)})},D=()=>{if(p!==null&&a.aerolinea&&a.precioMin){const T=[...b.rutas];T[p].vuelos||(T[p].vuelos=[]),T[p].vuelos.push({...a,precioMin:parseFloat(a.precioMin),precioMax:parseFloat(a.precioMax)||parseFloat(a.precioMin)*2,beneficios:a.beneficios||[]}),e({...b,rutas:T}),K(),x(null)}},W=()=>{if(p!==null&&g!==null&&a.aerolinea){const T=[...b.rutas];T[p].vuelos[g]={...a,precioMin:parseFloat(a.precioMin),precioMax:parseFloat(a.precioMax)||parseFloat(a.precioMin)*2},e({...b,rutas:T}),K(),x(null),w(null)}},H=(T,N)=>{const S=b.rutas[T].vuelos[N];l({aerolinea:S.aerolinea||"",precioMin:S.precioMin||"",precioMax:S.precioMax||"",clase:S.clase||"Econmica",equipaje:S.equipaje||"23kg",comida:S.comida||"Incluida",horario:S.horario||"",beneficios:S.beneficios||[]}),x(T),w(N)},Q=(T,N)=>{const S=[...b.rutas];S[T].vuelos=S[T].vuelos.filter((A,I)=>I!==N),e({...b,rutas:S})},K=()=>{l({aerolinea:"",precioMin:"",precioMax:"",clase:"Econmica",equipaje:"23kg",comida:"Incluida",horario:"",beneficios:[]}),m("")},Y=()=>{u.trim()&&(l({...a,beneficios:[...a.beneficios,u.trim()]}),m(""))},J=T=>{l({...a,beneficios:a.beneficios.filter((N,S)=>S!==T)})},O=(T,N)=>{N.trim()&&e({...b,[T]:[...b[T],N.trim()]})},P=(T,N)=>{e({...b,[T]:b[T].filter((S,A)=>A!==N)})};return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"bg-gradient-to-r from-sky-600 to-blue-600 text-white rounded-xl p-6 shadow-lg",children:[n.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[n.jsx(Mt,{className:"h-6 w-6"}),"Rango General de Precios"]}),n.jsx("p",{className:"text-sm text-sky-100 mb-4",children:'Estos valores aparecern en las tarjetas como "Desde $X hasta $Y"'}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm opacity-90 block mb-1",children:"Precio mnimo ($)"}),n.jsx("input",{type:"number",value:b.rangosPrecios.minimo,onChange:T=>j("minimo",T.target.value),className:"w-full px-4 py-2 bg-white/20 backdrop-blur-sm border border-white/30 rounded-lg text-white placeholder-white/60",placeholder:"150"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm opacity-90 block mb-1",children:"Precio mximo ($)"}),n.jsx("input",{type:"number",value:b.rangosPrecios.maximo,onChange:T=>j("maximo",T.target.value),className:"w-full px-4 py-2 bg-white/20 backdrop-blur-sm border border-white/30 rounded-lg text-white placeholder-white/60",placeholder:"950"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm opacity-90 block mb-1",children:"Precio promedio ($)"}),n.jsx("input",{type:"number",value:b.rangosPrecios.promedio,onChange:T=>j("promedio",T.target.value),className:"w-full px-4 py-2 bg-white/20 backdrop-blur-sm border border-white/30 rounded-lg text-white placeholder-white/60",placeholder:"450"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-sky-50 to-blue-50 px-6 py-4 border-b",children:n.jsxs("h3",{className:"font-semibold text-gray-800 flex items-center gap-2",children:[n.jsx(Io,{className:"h-5 w-5 text-sky-600"}),"Rutas Areas"]})}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-6",children:[n.jsx("input",{type:"text",placeholder:"Origen (ej: Miami - MIA)",value:t.origen,onChange:T=>s({...t,origen:T.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500"}),n.jsx("input",{type:"text",placeholder:"Destino (ej: Madrid - MAD)",value:t.destino,onChange:T=>s({...t,destino:T.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500"}),n.jsxs("button",{onClick:k,className:"px-4 py-2 bg-sky-600 text-white rounded-lg hover:bg-sky-700 flex items-center justify-center gap-2",children:[n.jsx(rt,{className:"h-4 w-4"}),"Agregar Ruta"]})]}),n.jsx("div",{className:"space-y-4",children:b.rutas.map((T,N)=>n.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[n.jsxs("div",{className:"bg-gray-50 px-4 py-3 flex justify-between items-center",children:[n.jsxs("h4",{className:"font-bold text-lg",children:[T.origen,"  ",T.destino]}),n.jsx("button",{onClick:()=>M(N),className:"text-red-500 hover:text-red-700",children:n.jsx($r,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duracin del vuelo"}),n.jsx("input",{type:"text",value:T.duracion||"",onChange:S=>{const A=[...b.rutas];A[N].duracion=S.target.value,e({...b,rutas:A})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"Ej: 8h 30m"})]}),n.jsxs("div",{className:"space-y-3 mb-4",children:[n.jsx("h5",{className:"font-medium",children:"Vuelos disponibles"}),(T.vuelos||[]).map((S,A)=>n.jsx("div",{className:"bg-sky-50 rounded-lg p-4 relative group",children:n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("input",{type:"text",value:S.aerolinea||"",onChange:I=>{const oe=[...b.rutas];oe[N].vuelos[A].aerolinea=I.target.value,e({...b,rutas:oe})},className:"font-bold text-lg bg-transparent border-b border-dashed border-gray-300 focus:outline-none focus:border-sky-500",placeholder:"Aerolnea"}),n.jsxs("select",{value:S.clase||"Econmica",onChange:I=>{const oe=[...b.rutas];oe[N].vuelos[A].clase=I.target.value,e({...b,rutas:oe})},className:"px-2 py-1 border rounded text-sm",children:[n.jsx("option",{value:"Econmica",children:"Econmica"}),n.jsx("option",{value:"Ejecutiva",children:"Ejecutiva"}),n.jsx("option",{value:"Primera Clase",children:"Primera Clase"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Precio mnimo"}),n.jsx("input",{type:"number",value:S.precioMin||"",onChange:I=>{const oe=[...b.rutas];oe[N].vuelos[A].precioMin=parseFloat(I.target.value),e({...b,rutas:oe})},className:"w-full px-2 py-1 border rounded text-sm",placeholder:"Mnimo"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Precio mximo"}),n.jsx("input",{type:"number",value:S.precioMax||"",onChange:I=>{const oe=[...b.rutas];oe[N].vuelos[A].precioMax=parseFloat(I.target.value),e({...b,rutas:oe})},className:"w-full px-2 py-1 border rounded text-sm",placeholder:"Mximo"})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-2",children:[n.jsx("input",{type:"text",value:S.horario||"",onChange:I=>{const oe=[...b.rutas];oe[N].vuelos[A].horario=I.target.value,e({...b,rutas:oe})},className:"px-2 py-1 border rounded text-sm",placeholder:"Horario"}),n.jsx("input",{type:"text",value:S.equipaje||"23kg",onChange:I=>{const oe=[...b.rutas];oe[N].vuelos[A].equipaje=I.target.value,e({...b,rutas:oe})},className:"px-2 py-1 border rounded text-sm",placeholder:"Equipaje"}),n.jsx("input",{type:"text",value:S.comida||"Incluida",onChange:I=>{const oe=[...b.rutas];oe[N].vuelos[A].comida=I.target.value,e({...b,rutas:oe})},className:"px-2 py-1 border rounded text-sm",placeholder:"Comida"})]}),n.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:(S.beneficios||[]).map((I,oe)=>n.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs flex items-center gap-1",children:[I,n.jsx("button",{onClick:()=>{const we=[...b.rutas];we[N].vuelos[A].beneficios=S.beneficios.filter((Ue,te)=>te!==oe),e({...b,rutas:we})},children:n.jsx(Ze,{className:"h-3 w-3"})})]},oe))})]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx("button",{onClick:()=>H(N,A),className:"text-blue-600 hover:text-blue-800",children:n.jsx(rh,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>Q(N,A),className:"text-red-600 hover:text-red-800",children:n.jsx($r,{className:"h-4 w-4"})})]})]})},A))]}),p===N&&n.jsxs("div",{className:"mt-4 p-4 bg-sky-50 rounded-lg",children:[n.jsx("h5",{className:"font-medium mb-3",children:g!==null?"Editar Vuelo":"Nuevo Vuelo"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("input",{type:"text",placeholder:"Aerolnea",value:a.aerolinea,onChange:S=>l({...a,aerolinea:S.target.value}),className:"w-full px-3 py-2 border rounded-lg"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("select",{value:a.clase,onChange:S=>l({...a,clase:S.target.value}),className:"px-3 py-2 border rounded-lg",children:[n.jsx("option",{value:"Econmica",children:"Econmica"}),n.jsx("option",{value:"Ejecutiva",children:"Ejecutiva"}),n.jsx("option",{value:"Primera Clase",children:"Primera Clase"})]}),n.jsx("input",{type:"text",placeholder:"Horario",value:a.horario,onChange:S=>l({...a,horario:S.target.value}),className:"px-3 py-2 border rounded-lg"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx("input",{type:"number",placeholder:"Precio mnimo $",value:a.precioMin,onChange:S=>l({...a,precioMin:S.target.value}),className:"px-3 py-2 border rounded-lg"}),n.jsx("input",{type:"number",placeholder:"Precio mximo $",value:a.precioMax,onChange:S=>l({...a,precioMax:S.target.value}),className:"px-3 py-2 border rounded-lg"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx("input",{type:"text",placeholder:"Equipaje",value:a.equipaje,onChange:S=>l({...a,equipaje:S.target.value}),className:"px-3 py-2 border rounded-lg"}),n.jsx("input",{type:"text",placeholder:"Comida",value:a.comida,onChange:S=>l({...a,comida:S.target.value}),className:"px-3 py-2 border rounded-lg"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Beneficios"}),n.jsxs("div",{className:"flex gap-2 mb-2",children:[n.jsx("input",{type:"text",value:u,onChange:S=>m(S.target.value),className:"flex-1 px-3 py-2 border rounded-lg",placeholder:"Ej: Sala VIP"}),n.jsx("button",{onClick:Y,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:n.jsx(rt,{className:"h-4 w-4"})})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:a.beneficios.map((S,A)=>n.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs flex items-center gap-1",children:[S,n.jsx("button",{onClick:()=>J(A),children:n.jsx(Ze,{className:"h-3 w-3"})})]},A))})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:g!==null?W:D,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[g!==null?"Actualizar":"Guardar"," Vuelo"]}),n.jsx("button",{onClick:()=>{x(null),w(null),K()},className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:"Cancelar"})]})]})]}),p!==N&&n.jsxs("button",{onClick:()=>{x(N),w(null),K()},className:"text-sm text-sky-600 hover:text-sky-700 flex items-center gap-1",children:[n.jsx(rt,{className:"h-4 w-4"}),"Agregar vuelo"]})]})]},N))})]})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[n.jsx(rg,{className:"h-5 w-5 text-amber-600"}),"Clases y Tarifas"]}),n.jsxs("div",{className:"space-y-4",children:[b.clases.map((T,N)=>n.jsxs("div",{className:"bg-amber-50 rounded-lg p-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[n.jsx("input",{type:"text",value:T.nombre||"",onChange:S=>{const A=[...b.clases];A[N].nombre=S.target.value,e({...b,clases:A})},placeholder:"Nombre de la clase",className:"px-3 py-2 border rounded-lg"}),n.jsx("input",{type:"text",value:T.precio||"",onChange:S=>{const A=[...b.clases];A[N].precio=S.target.value,e({...b,clases:A})},placeholder:"Precio (ej: $350-750)",className:"px-3 py-2 border rounded-lg"})]}),n.jsx("textarea",{value:T.descripcion||"",onChange:S=>{const A=[...b.clases];A[N].descripcion=S.target.value,e({...b,clases:A})},placeholder:"Descripcin",className:"w-full px-3 py-2 border rounded-lg mb-2",rows:"2"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h6",{className:"text-sm font-medium",children:"Beneficios"}),T.beneficios?.map((S,A)=>n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"text",value:S,onChange:I=>{const oe=[...b.clases];oe[N].beneficios[A]=I.target.value,e({...b,clases:oe})},className:"flex-1 px-3 py-2 border rounded-lg"}),n.jsx("button",{onClick:()=>{const I=[...b.clases];I[N].beneficios=T.beneficios.filter((oe,we)=>we!==A),e({...b,clases:I})},className:"text-red-500",children:n.jsx(Ze,{className:"h-5 w-5"})})]},A)),n.jsxs("button",{onClick:()=>{const S=[...b.clases];S[N].beneficios||(S[N].beneficios=[]),S[N].beneficios.push(""),e({...b,clases:S})},className:"text-sm text-amber-600 hover:text-amber-700 flex items-center gap-1",children:[n.jsx(rt,{className:"h-4 w-4"}),"Agregar beneficio"]})]})]},N)),n.jsxs("button",{onClick:()=>{const T=[...b.clases,{nombre:"",precio:"",descripcion:"",beneficios:[]}];e({...b,clases:T})},className:"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 flex items-center gap-2",children:[n.jsx(rt,{className:"h-4 w-4"}),"Agregar Clase"]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsx("h3",{className:"text-lg font-bold mb-3",children:"Aerolneas"}),n.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:b.aerolineas.map((T,N)=>n.jsxs("span",{className:"flex items-center gap-2 px-3 py-2 bg-sky-100 text-sky-700 rounded-lg",children:[n.jsx("input",{type:"text",value:T,onChange:S=>{const A=[...b.aerolineas];A[N]=S.target.value,e({...b,aerolineas:A})},className:"bg-transparent border-none focus:outline-none w-auto"}),n.jsx("button",{onClick:()=>P("aerolineas",N),children:n.jsx(Ze,{className:"h-4 w-4 text-red-500"})})]},N))}),n.jsxs("button",{onClick:()=>O("aerolineas",""),className:"px-4 py-2 bg-sky-600 text-white rounded-lg hover:bg-sky-700 flex items-center gap-2",children:[n.jsx(rt,{className:"h-4 w-4"}),"Agregar Aerolnea"]})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[n.jsx(ko,{className:"h-5 w-5 text-blue-600"}),"Polticas de Equipaje"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Equipaje de cabina"}),n.jsx("input",{type:"text",value:b.equipaje.cabina,onChange:T=>e({...b,equipaje:{...b.equipaje,cabina:T.target.value}}),className:"w-full px-4 py-2 border rounded-lg"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Equipaje en bodega"}),n.jsx("input",{type:"text",value:b.equipaje.bodega,onChange:T=>e({...b,equipaje:{...b.equipaje,bodega:T.target.value}}),className:"w-full px-4 py-2 border rounded-lg"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Precio por kg extra ($)"}),n.jsx("input",{type:"number",value:b.equipaje.precioExtra,onChange:T=>e({...b,equipaje:{...b.equipaje,precioExtra:parseFloat(T.target.value)}}),className:"w-full px-4 py-2 border rounded-lg"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsx("h3",{className:"text-lg font-bold mb-4",children:"Destinos Populares"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:b.destinosPopulares.map((T,N)=>n.jsxs("div",{className:"flex gap-2 p-3 bg-gray-50 rounded-lg",children:[n.jsx("input",{type:"text",value:T.ciudad||"",onChange:S=>{const A=[...b.destinosPopulares];A[N].ciudad=S.target.value,e({...b,destinosPopulares:A})},placeholder:"Ciudad",className:"flex-1 px-3 py-2 border rounded-lg"}),n.jsx("input",{type:"text",value:T.precio||"",onChange:S=>{const A=[...b.destinosPopulares];A[N].precio=S.target.value,e({...b,destinosPopulares:A})},placeholder:"Precio",className:"w-24 px-3 py-2 border rounded-lg"}),n.jsx("input",{type:"number",value:T.vuelos||"",onChange:S=>{const A=[...b.destinosPopulares];A[N].vuelos=parseInt(S.target.value),e({...b,destinosPopulares:A})},placeholder:"Vuelos",className:"w-20 px-3 py-2 border rounded-lg"}),n.jsx("button",{onClick:()=>P("destinosPopulares",N),children:n.jsx($r,{className:"h-5 w-5 text-red-500"})})]},N))}),n.jsxs("button",{onClick:()=>O("destinosPopulares",{ciudad:"",precio:"",vuelos:0}),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2",children:[n.jsx(rt,{className:"h-4 w-4"}),"Agregar Destino Popular"]})]})]})},t6=({data:r,onChange:e})=>{const[t,s]=R.useState({nombre:"",precioMin:"",precioMax:"",tiempo:""}),[a,l]=R.useState(""),u={paises:r?.paises||[],requisitos:r?.requisitos||[],documentos:r?.documentos||[],tiempos:r?.tiempos||{minimo:"5 das",promedio:"15 das",maximo:"30 das"}},m=()=>{t.nombre&&(e({...u,paises:[...u.paises,{...t,precioMin:parseFloat(t.precioMin)||120,precioMax:parseFloat(t.precioMax)||180}]}),s({nombre:"",precioMin:"",precioMax:"",tiempo:""}))},p=()=>{a.trim()&&(e({...u,requisitos:[...u.requisitos,a.trim()]}),l(""))},x=(g,w)=>{e({...u,[g]:u[g].filter((b,j)=>j!==w)})};return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"bg-gradient-to-r from-emerald-600 to-emerald-700 text-white rounded-xl p-6",children:[n.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[n.jsx(dn,{className:"h-5 w-5"})," Pases"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3",children:[n.jsx("input",{type:"text",placeholder:"Pas",value:t.nombre,onChange:g=>s({...t,nombre:g.target.value}),className:"px-3 py-2 bg-white/20 backdrop-blur-sm border border-white/30 rounded-lg text-white placeholder-white/60"}),n.jsx("input",{type:"number",placeholder:"Mnimo $",value:t.precioMin,onChange:g=>s({...t,precioMin:g.target.value}),className:"px-3 py-2 bg-white/20 backdrop-blur-sm border border-white/30 rounded-lg text-white placeholder-white/60"}),n.jsx("input",{type:"number",placeholder:"Mximo $",value:t.precioMax,onChange:g=>s({...t,precioMax:g.target.value}),className:"px-3 py-2 bg-white/20 backdrop-blur-sm border border-white/30 rounded-lg text-white placeholder-white/60"}),n.jsx("input",{type:"text",placeholder:"Tiempo",value:t.tiempo,onChange:g=>s({...t,tiempo:g.target.value}),className:"px-3 py-2 bg-white/20 backdrop-blur-sm border border-white/30 rounded-lg text-white placeholder-white/60"}),n.jsx("button",{onClick:m,className:"px-4 py-2 bg-white text-emerald-600 rounded-lg hover:bg-emerald-50",children:n.jsx(rt,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsx("h4",{className:"font-semibold mb-4",children:"Pases Agregados"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:u.paises.map((g,w)=>n.jsxs("div",{className:"relative bg-gray-50 rounded-lg p-4 border group",children:[n.jsx("button",{onClick:()=>x("paises",w),className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100",children:n.jsx(Ze,{className:"h-4 w-4 text-red-500"})}),n.jsx("h5",{className:"font-bold",children:g.nombre}),n.jsxs("p",{className:"text-sm text-green-600",children:["$",g.precioMin," - $",g.precioMax]}),g.tiempo&&n.jsx("p",{className:"text-sm text-gray-600",children:g.tiempo})]},w))})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[n.jsx(jP,{className:"h-5 w-5 text-amber-600"})," Requisitos"]}),n.jsxs("div",{className:"flex gap-2 mb-4",children:[n.jsx("input",{type:"text",value:a,onChange:g=>l(g.target.value),placeholder:"Ej: Pasaporte vigente",className:"flex-1 px-4 py-2 border rounded-lg"}),n.jsx("button",{onClick:p,className:"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700",children:n.jsx(rt,{className:"h-4 w-4"})})]}),n.jsx("div",{className:"space-y-2",children:u.requisitos.map((g,w)=>n.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[n.jsx("span",{children:g}),n.jsx("button",{onClick:()=>x("requisitos",w),children:n.jsx(Ze,{className:"h-4 w-4 text-red-500"})})]},w))})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[n.jsx(xr,{className:"h-5 w-5 text-purple-600"})," Tiempos"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mnimo"}),n.jsx("input",{type:"text",value:u.tiempos.minimo,onChange:g=>e({...u,tiempos:{...u.tiempos,minimo:g.target.value}}),className:"w-full px-4 py-2 border rounded-lg"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Promedio"}),n.jsx("input",{type:"text",value:u.tiempos.promedio,onChange:g=>e({...u,tiempos:{...u.tiempos,promedio:g.target.value}}),className:"w-full px-4 py-2 border rounded-lg"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mximo"}),n.jsx("input",{type:"text",value:u.tiempos.maximo,onChange:g=>e({...u,tiempos:{...u.tiempos,maximo:g.target.value}}),className:"w-full px-4 py-2 border rounded-lg"})]})]})]})]})},Il=r=>({...{title:"",subtitle:"",mainImage:"",gallery:[],isActive:!0,isFeatured:!1},type:r,content:{shipping:{rangosPrecios:{minimo:15,maximo:250},productosPermitidos:[],productosRestringidos:[],tarifas:[],destinos:[],tiempos:{nacional:"2-4 das",internacional:"5-10 das",express:"24-48h"}},tours:{destinos:[],incluye:[],noIncluye:[],recomendaciones:[]},rental:{sucursales:[],vehiculos:[],seguros:[],requisitos:[]},hotels:{destinos:[],serviciosGenerales:["WiFi","Desayuno","Piscina"],politicas:{checkIn:"15:00",checkOut:"12:00"}},flights:{rutas:[],clases:[{nombre:"Econmica",beneficios:["Asiento estndar","Comida incluida"]},{nombre:"Ejecutiva",beneficios:["Asiento reclinable","Sala VIP"]}],aerolineas:[]},visas:{paises:[],requisitos:[],documentos:[],tiempos:{minimo:"5 das",promedio:"15 das",maximo:"30 das"}}}[r]||{}}),r6=()=>{const{services:r,loading:e,addService:t,updateService:s,deleteService:a}=sh(),[l,u]=R.useState("shipping"),[m,p]=R.useState(null),[x,g]=R.useState(Il("shipping")),[w,b]=R.useState(""),[j,k]=R.useState("all"),[M,D]=R.useState(!1);R.useEffect(()=>{m||g(Il(l))},[l]);const W=r.filter(T=>{const N=T.title?.toLowerCase().includes(w.toLowerCase())||T.subtitle?.toLowerCase().includes(w.toLowerCase()),S=j==="all"||T.type===j;return N&&S}),H=(T,N)=>{g(S=>({...S,[T]:N}))},Q=T=>{g(N=>({...N,content:T}))},K=async T=>{if(T.preventDefault(),!x.title.trim()){de.error("El ttulo es obligatorio");return}D(!0);try{const N={...x,updatedAt:new Date().toISOString()};m?(await s(m,N),de.success(" Servicio actualizado")):(await t(N),de.success(" Servicio creado")),p(null),g(Il(l))}catch{de.error("Error al guardar")}finally{D(!1)}},Y=T=>{p(T.id),u(T.type),g({title:T.title||"",subtitle:T.subtitle||"",mainImage:T.mainImage||"",gallery:T.gallery||[],content:T.content||Il(T.type).content,isActive:T.isActive!==!1,isFeatured:T.isFeatured||!1,type:T.type}),window.scrollTo({top:0,behavior:"smooth"})},J=async T=>{window.confirm("Eliminar este servicio?")&&await a(T)},O=()=>{p(null),g(Il(l))},P=()=>{const T={data:x.content,onChange:Q};switch(l){case"shipping":return n.jsx(Y5,{...T});case"tours":return n.jsx(X5,{...T});case"rental":return n.jsx(J5,{...T});case"hotels":return n.jsx(Z5,{...T});case"flights":return n.jsx(e6,{...T});case"visas":return n.jsx(t6,{...T});default:return null}};return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-amber-600 text-white rounded-2xl p-8 shadow-xl",children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Gestin de Servicios"}),n.jsx("p",{className:"text-amber-100",children:"Administra todos tus servicios tursticos"})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:m?" Editar Servicio":" Nuevo Servicio"}),m&&n.jsxs("button",{onClick:O,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:[n.jsx(Ze,{className:"h-4 w-4"}),"Cancelar"]})]}),n.jsxs("form",{onSubmit:K,className:"space-y-8",children:[n.jsx(G5,{selected:l,onChange:u,disabled:!!m}),n.jsx(K5,{title:x.title,subtitle:x.subtitle,onChange:H}),n.jsx(Q5,{mainImage:x.mainImage,gallery:x.gallery,onChange:(T,N)=>H(T,N)}),n.jsxs("div",{className:"border-t pt-8",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Configuracin Especfica"}),P()]}),n.jsxs("div",{className:"flex gap-6 pt-4 border-t",children:[n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:x.isActive,onChange:T=>H("isActive",T.target.checked),className:"w-5 h-5 text-amber-500 rounded"}),n.jsx("span",{className:"text-gray-700",children:"Servicio activo"})]}),n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:x.isFeatured,onChange:T=>H("isFeatured",T.target.checked),className:"w-5 h-5 text-amber-500 rounded"}),n.jsx("span",{className:"text-gray-700",children:"Destacar en inicio"})]})]}),n.jsxs("div",{className:"flex justify-end gap-4",children:[n.jsx("button",{type:"button",onClick:O,className:"px-6 py-3 border border-gray-300 rounded-lg font-medium hover:bg-gray-50",children:"Cancelar"}),n.jsxs("button",{type:"submit",disabled:M,className:"flex items-center gap-2 px-8 py-3 bg-amber-500 text-white rounded-lg font-medium hover:bg-amber-600 disabled:opacity-50",children:[n.jsx(V_,{className:"h-5 w-5"}),M?"Guardando...":m?"Actualizar":"Crear Servicio"]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Servicios Creados"}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(hn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx("input",{type:"text",placeholder:"Buscar...",value:w,onChange:T=>b(T.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500"})]}),n.jsxs("select",{value:j,onChange:T=>k(T.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500",children:[n.jsx("option",{value:"all",children:"Todos"}),n.jsx("option",{value:"shipping",children:" Paquetera"}),n.jsx("option",{value:"tours",children:" Tours"}),n.jsx("option",{value:"rental",children:" Autos"}),n.jsx("option",{value:"hotels",children:" Hoteles"}),n.jsx("option",{value:"flights",children:" Vuelos"}),n.jsx("option",{value:"visas",children:" Visas"})]})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:W.map(T=>n.jsxs("div",{className:"border border-gray-200 rounded-xl overflow-hidden hover:shadow-lg transition-shadow",children:[n.jsxs("div",{className:"relative h-40 bg-gray-100",children:[T.mainImage?n.jsx("img",{src:T.mainImage,alt:T.title,className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:"Sin imagen"}),n.jsx("div",{className:"absolute top-2 left-2",children:n.jsxs("span",{className:"px-2 py-1 bg-white/90 backdrop-blur-sm rounded-full text-xs font-medium",children:[T.type==="shipping"&&"",T.type==="tours"&&"",T.type==="rental"&&"",T.type==="hotels"&&"",T.type==="flights"&&"",T.type==="visas"&&""]})}),T.isFeatured&&n.jsx("div",{className:"absolute top-2 right-2",children:n.jsx("span",{className:"px-2 py-1 bg-amber-500 text-white rounded-full text-xs",children:" Destacado"})})]}),n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"font-bold text-gray-800 mb-1",children:T.title}),n.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:T.subtitle}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx("button",{onClick:()=>Y(T),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",children:n.jsx(rh,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>J(T.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:n.jsx($r,{className:"h-4 w-4"})})]})]})]},T.id))})]})]})},s6=()=>n.jsx(r6,{}),Ut=[];for(let r=0;r<256;++r)Ut.push((r+256).toString(16).slice(1));function n6(r,e=0){return(Ut[r[e+0]]+Ut[r[e+1]]+Ut[r[e+2]]+Ut[r[e+3]]+"-"+Ut[r[e+4]]+Ut[r[e+5]]+"-"+Ut[r[e+6]]+Ut[r[e+7]]+"-"+Ut[r[e+8]]+Ut[r[e+9]]+"-"+Ut[r[e+10]]+Ut[r[e+11]]+Ut[r[e+12]]+Ut[r[e+13]]+Ut[r[e+14]]+Ut[r[e+15]]).toLowerCase()}let Jm;const i6=new Uint8Array(16);function a6(){if(!Jm){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Jm=crypto.getRandomValues.bind(crypto)}return Jm(i6)}const o6=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),dv={randomUUID:o6};function l6(r,e,t){r=r||{};const s=r.random??r.rng?.()??a6();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,n6(s)}function c6(r,e,t){return dv.randomUUID&&!r?dv.randomUUID():l6(r)}const u6=async(r,e="destinos")=>{try{if(console.log(" Subiendo imagen...",r.name),!r)throw new Error("No se proporcion un archivo");const t=`${e}/${c6()}_${r.name.replace(/[^a-zA-Z0-9.]/g,"_")}`,s=rc(sc,t);console.log(" Referencia de storage:",t);const a=await Xf(s,r);console.log(" Archivo subido a storage");const l=await Jf(a.ref);return console.log(" URL obtenida:",l),{success:!0,url:l,path:t}}catch(t){return console.error(" Error subiendo imagen:",t),{success:!1,error:t.message}}},d6=()=>{const{destinos:r,loading:e,loadDestinos:t,addDestino:s,updateDestino:a,deleteDestino:l}=t1(),[u,m]=R.useState(""),[p,x]=R.useState(null),[g,w]=R.useState({nombre:"",imagen:"",precioMin:"",precioMax:"",precioOfertaMin:"",precioOfertaMax:"",descripcion:"",activo:!0,destacado:!1,orden:0}),[b,j]=R.useState(""),[k,M]=R.useState(!1),[D,W]=R.useState(!1),[H,Q]=R.useState(null);R.useEffect(()=>{t()},[]),R.useEffect(()=>{p&&g.imagen&&j(g.imagen)},[p,g.imagen]);const K=I=>{const{name:oe,value:we,type:Ue,checked:te}=I.target;w(X=>({...X,[oe]:Ue==="checkbox"?te:we}))},Y=async I=>{const oe=I.target.files[0];if(!oe)return;if(!oe.type.startsWith("image/")){de.error("Por favor selecciona una imagen vlida");return}if(oe.size>5*1024*1024){de.error("La imagen no debe superar los 5MB");return}Q(oe);const we=new FileReader;we.onloadend=()=>{j(we.result)},we.readAsDataURL(oe),de.success(" Imagen seleccionada. Guarda el destino para subirla.")},J=async I=>{if(I.preventDefault(),!g.nombre.trim()){de.error("El nombre del destino es obligatorio");return}W(!0),M(!0);try{let oe=g.imagen;if(H){de.loading("Subiendo imagen...",{id:"upload"});const Ue=await u6(H,"destinos");if(de.dismiss("upload"),Ue.success)oe=Ue.url,de.success(" Imagen subida correctamente");else{de.error("Error al subir la imagen"),W(!1),M(!1);return}}const we={...g,imagen:oe,precioMin:parseFloat(g.precioMin)||0,precioMax:parseFloat(g.precioMax)||0,precioOfertaMin:parseFloat(g.precioOfertaMin)||0,precioOfertaMax:parseFloat(g.precioOfertaMax)||0,orden:parseInt(g.orden)||0};p?(await a(p,we),de.success(" Destino actualizado")):(await s(we),de.success(" Destino agregado")),N()}catch(oe){console.error("Error:",oe),de.error("Error al guardar")}finally{W(!1),M(!1)}},O=I=>{x(I.id),w({nombre:I.nombre||"",imagen:I.imagen||"",precioMin:I.precioMin||"",precioMax:I.precioMax||"",precioOfertaMin:I.precioOfertaMin||"",precioOfertaMax:I.precioOfertaMax||"",descripcion:I.descripcion||"",activo:I.activo!==!1,destacado:I.destacado||!1,orden:I.orden||0}),j(I.imagen||""),Q(null),window.scrollTo({top:0,behavior:"smooth"})},P=async I=>{window.confirm("Ests seguro de eliminar este destino?")&&await l(I)},T=async I=>{await a(I.id,{...I,activo:!I.activo})},N=()=>{x(null),w({nombre:"",imagen:"",precioMin:"",precioMax:"",precioOfertaMin:"",precioOfertaMax:"",descripcion:"",activo:!0,destacado:!1,orden:0}),j(""),Q(null)},S=()=>{j(""),w(I=>({...I,imagen:""})),Q(null)},A=r.filter(I=>I.nombre?.toLowerCase().includes(u.toLowerCase())||I.descripcion?.toLowerCase().includes(u.toLowerCase()));return e&&r.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-500 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Cargando destinos..."})]}):n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-2xl p-8",children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Gestin de Destinos Populares"}),n.jsx("p",{className:"text-blue-100",children:"Administra los destinos que se muestran en la pgina principal"})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:p?" Editar Destino":" Agregar Nuevo Destino"}),n.jsxs("form",{onSubmit:J,className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre del Destino *"}),n.jsx("input",{type:"text",name:"nombre",value:g.nombre,onChange:K,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ej: Punta Cana",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripcin"}),n.jsx("textarea",{name:"descripcion",value:g.descripcion,onChange:K,rows:"3",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Breve descripcin del destino"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Precio Mnimo ($)"}),n.jsx("input",{type:"number",name:"precioMin",value:g.precioMin,onChange:K,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"499"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Precio Mximo ($)"}),n.jsx("input",{type:"number",name:"precioMax",value:g.precioMax,onChange:K,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"599"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Precio Oferta Mnimo ($)"}),n.jsx("input",{type:"number",name:"precioOfertaMin",value:g.precioOfertaMin,onChange:K,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"399"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Precio Oferta Mximo ($)"}),n.jsx("input",{type:"number",name:"precioOfertaMax",value:g.precioOfertaMax,onChange:K,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"499"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Imagen del Destino *"}),b?n.jsxs("div",{className:"relative mb-4",children:[n.jsx("img",{src:b,alt:"Preview",className:"w-full h-48 object-cover rounded-lg border-2 border-gray-200"}),n.jsx("button",{type:"button",onClick:S,className:"absolute top-2 right-2 p-2 bg-red-500 text-white rounded-full hover:bg-red-600",children:n.jsx(Ze,{className:"h-4 w-4"})})]}):n.jsxs("div",{className:"mb-4 p-8 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300 text-center",children:[n.jsx(LP,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),n.jsx("p",{className:"text-gray-500",children:"No hay imagen seleccionada"})]}),n.jsx("div",{children:n.jsxs("label",{className:"block w-full cursor-pointer",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[k?n.jsx(Ed,{className:"h-5 w-5 animate-spin"}):n.jsx(nc,{className:"h-5 w-5"}),n.jsx("span",{children:k?"Subiendo...":"Seleccionar imagen"})]}),n.jsx("input",{type:"file",accept:"image/*",onChange:Y,className:"hidden",disabled:k})]})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Orden de aparicin"}),n.jsx("input",{type:"number",name:"orden",value:g.orden,onChange:K,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"1"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"checkbox",name:"activo",checked:g.activo,onChange:K,className:"w-5 h-5 text-blue-600 rounded"}),n.jsx("span",{className:"text-gray-700",children:"Destino activo"})]}),n.jsxs("label",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"checkbox",name:"destacado",checked:g.destacado,onChange:K,className:"w-5 h-5 text-blue-600 rounded"}),n.jsx("span",{className:"text-gray-700",children:"Destacado"})]})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t",children:[n.jsx("button",{type:"button",onClick:N,className:"px-6 py-3 border border-gray-300 rounded-lg font-medium hover:bg-gray-50",children:"Cancelar"}),n.jsxs("button",{type:"submit",disabled:D||k,className:"flex items-center gap-2 px-8 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50",children:[D||k?n.jsx(Ed,{className:"h-5 w-5 animate-spin"}):n.jsx(V_,{className:"h-5 w-5"}),D||k?"Guardando...":p?"Actualizar":"Agregar"]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Destinos Creados"}),n.jsxs("div",{className:"relative",children:[n.jsx(hn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"text",placeholder:"Buscar...",value:u,onChange:I=>m(I.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 w-64"})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:A.map(I=>n.jsxs("div",{className:`border rounded-xl overflow-hidden hover:shadow-lg transition-shadow ${I.activo?"":"opacity-60"}`,children:[n.jsxs("div",{className:"relative h-48",children:[n.jsx("img",{src:I.imagen||"https://via.placeholder.com/400x200",alt:I.nombre,className:"w-full h-full object-cover"}),I.destacado&&n.jsx("div",{className:"absolute top-2 left-2",children:n.jsx("span",{className:"px-2 py-1 bg-amber-500 text-white rounded-full text-xs font-bold",children:" Destacado"})})]}),n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"font-bold text-lg mb-2",children:I.nombre}),n.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:I.descripcion}),n.jsxs("div",{className:"space-y-1 text-sm mb-4",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Precio:"}),n.jsxs("span",{className:"font-semibold",children:["$",I.precioMin," - $",I.precioMax]})]}),I.precioOfertaMin>0&&n.jsxs("div",{className:"flex justify-between text-green-600",children:[n.jsx("span",{className:"text-gray-600",children:"Oferta:"}),n.jsxs("span",{className:"font-semibold",children:["$",I.precioOfertaMin," - $",I.precioOfertaMax]})]})]}),n.jsxs("div",{className:"flex justify-between items-center pt-3 border-t",children:[n.jsxs("div",{className:"text-xs text-gray-500",children:["Orden: ",I.orden]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>O(I),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",children:n.jsx(rh,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>T(I),className:`p-2 rounded-lg ${I.activo?"text-yellow-600 hover:bg-yellow-50":"text-green-600 hover:bg-green-50"}`,children:I.activo?n.jsx(_P,{className:"h-4 w-4"}):n.jsx(P_,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>P(I.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:n.jsx($r,{className:"h-4 w-4"})})]})]})]})]},I.id))})]})]})},h6=({value:r,onChange:e,folder:t="services"})=>{const[s,a]=R.useState(r||""),[l,u]=R.useState(!1),m=x=>{const g=x.target.files[0];if(!g)return;if(!g.type.startsWith("image/")){alert("Por favor selecciona una imagen vlida");return}if(g.size>5*1024*1024){alert("La imagen no debe superar los 5MB");return}u(!0);const w=new FileReader;w.onloadend=()=>{a(w.result),e(w.result),u(!1)},w.readAsDataURL(g)},p=()=>{a(""),e("")};return n.jsx("div",{className:"space-y-4",children:s?n.jsxs("div",{className:"relative inline-block",children:[n.jsx("img",{src:s,alt:"Preview",className:"w-48 h-48 object-cover rounded-lg border-2 border-gray-200"}),n.jsx("button",{type:"button",onClick:p,className:"absolute -top-2 -right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",children:n.jsx(Ze,{className:"h-4 w-4"})})]}):n.jsxs("label",{className:"block cursor-pointer",children:[n.jsxs("div",{className:"border-3 border-dashed border-gray-300 rounded-2xl p-8 text-center hover:border-amber-400 hover:bg-amber-50 transition-colors w-48",children:[n.jsx(nc,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-gray-600",children:l?"Subiendo...":"Seleccionar imagen"}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"PNG, JPG hasta 5MB"})]}),n.jsx("input",{type:"file",accept:"image/*",onChange:m,className:"hidden",disabled:l})]})})},hv=()=>{const{id:r}=wv(),e=Wt(),t=!!r,[s,a]=R.useState(!1),[l,u]=R.useState([]),[m,p]=R.useState([]),[x,g]=R.useState({name:"",description:"",category:"electronics",price:"",stock:"",specifications:"",isFeatured:!1,isNew:!0,status:"active"});R.useEffect(()=>{t&&w()},[r]);const w=async()=>{a(!0);const k=await O5(r);k.success?(g(k.data),k.data.imageUrl&&p([{url:k.data.imageUrl,isExisting:!0}])):de.error("Error al cargar el producto"),a(!1)},b=k=>{const{name:M,value:D,type:W,checked:H}=k.target;g(Q=>({...Q,[M]:W==="checkbox"?H:D}))},j=async k=>{k.preventDefault(),a(!0);try{const M={...x,price:parseFloat(x.price)||0,stock:parseInt(x.stock)||0,imageUrl:l.length>0?l[0]:m[0]?.url||null,additionalImages:l.slice(1)};let D;if(t?D=await V5(r,M):D=await L5(M),D.success)de.success(t?"Producto actualizado":"Producto creado"),e("/admin/products");else throw new Error(D.error)}catch{de.error("Error al guardar el producto")}finally{a(!1)}};return s&&t?n.jsx("div",{className:"flex justify-center items-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n.jsxs("div",{className:"max-w-5xl mx-auto p-6",children:[n.jsx("div",{className:"mb-6",children:n.jsx(lt,{to:"/admin/products",className:"text-blue-600 hover:text-blue-800 flex items-center gap-2",children:" Volver a productos"})}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:t?"Editar Producto":"Nuevo Producto"}),n.jsxs("form",{onSubmit:j,className:"space-y-8",children:[n.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 p-6 rounded-2xl border-2 border-blue-100",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx("span",{className:"w-2 h-8 bg-gradient-to-b from-blue-600 to-purple-600 rounded-full"}),"Imgenes del Producto"]}),n.jsx(h6,{onImagesChange:u,maxFiles:5,existingImages:m})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Nombre del Producto *"}),n.jsx("input",{type:"text",name:"name",value:x.name||"",onChange:b,required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",placeholder:"Ej: Smartphone X Pro"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Categora"}),n.jsxs("select",{name:"category",value:x.category||"electronics",onChange:b,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",children:[n.jsx("option",{value:"electronics",children:"Electrnica"}),n.jsx("option",{value:"fashion",children:"Moda"}),n.jsx("option",{value:"home",children:"Hogar"}),n.jsx("option",{value:"sports",children:"Deportes"}),n.jsx("option",{value:"beauty",children:"Belleza"}),n.jsx("option",{value:"tourism",children:"Turismo"}),n.jsx("option",{value:"others",children:"Otros"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Precio *"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),n.jsx("input",{type:"number",name:"price",value:x.price||"",onChange:b,required:!0,min:"0",step:"0.01",className:"w-full pl-8 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",placeholder:"0.00"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Stock *"}),n.jsx("input",{type:"number",name:"stock",value:x.stock||"",onChange:b,required:!0,min:"0",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",placeholder:"0"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Descripcin"}),n.jsx("textarea",{name:"description",value:x.description||"",onChange:b,rows:"5",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",placeholder:"Describe las caractersticas del producto..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Especificaciones Tcnicas"}),n.jsx("textarea",{name:"specifications",value:x.specifications||"",onChange:b,rows:"3",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",placeholder:"Color: Rojo, Material: Plstico, Dimensiones: 10x5x2cm..."})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 p-6 bg-gray-50 rounded-xl",children:[n.jsxs("label",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"checkbox",name:"isFeatured",checked:x.isFeatured||!1,onChange:b,className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Producto Destacado"})]}),n.jsxs("label",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"checkbox",name:"isNew",checked:x.isNew||!1,onChange:b,className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Marcar como Nuevo"})]}),n.jsx("div",{children:n.jsxs("select",{name:"status",value:x.status||"active",onChange:b,className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",children:[n.jsx("option",{value:"active",children:" Activo"}),n.jsx("option",{value:"inactive",children:" Inactivo"}),n.jsx("option",{value:"draft",children:" Borrador"})]})})]}),n.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t-2 border-gray-100",children:[n.jsx(lt,{to:"/admin/products",className:"px-6 py-3 border-2 border-gray-300 rounded-xl font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancelar"}),n.jsx("button",{type:"submit",disabled:s,className:`px-8 py-3 rounded-xl font-medium text-white transition-all ${s?"bg-blue-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-purple-600 hover:shadow-lg hover:scale-105"}`,children:s?"Guardando...":t?"Actualizar Producto":"Crear Producto"})]})]})]})]})},m6=()=>{const[r,e]=R.useState("admin@batista.com"),[t,s]=R.useState(""),[a,l]=R.useState(""),[u,m]=R.useState(!1),{login:p}=ag(),x=Wt(),g=async w=>{w.preventDefault(),l(""),m(!0);try{const b=await p(r,t);b.success?x("/admin/dashboard"):l(b.error||"Credenciales incorrectas")}catch{l("Error al iniciar sesin")}finally{m(!1)}};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl w-full max-w-md p-6 border border-amber-500/20",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-amber-500 to-amber-600 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:n.jsx(xo,{className:"h-8 w-8 text-white"})}),n.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Acceso Administrativo"}),n.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Panel de control Batista Global Service"})]}),n.jsxs("form",{onSubmit:g,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Administrador"}),n.jsxs("div",{className:"relative",children:[n.jsx(Zi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"email",value:r,onChange:w=>e(w.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent text-base",placeholder:"admin@batista.com",required:!0})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrasea"}),n.jsxs("div",{className:"relative",children:[n.jsx(sg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"password",value:t,onChange:w=>s(w.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent text-base",placeholder:"",required:!0})]})]}),a&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 p-3 rounded-lg text-sm",children:a}),n.jsx("button",{type:"submit",disabled:u,className:"w-full bg-gradient-to-r from-amber-500 to-amber-600 text-white py-3 rounded-lg font-medium hover:from-amber-600 hover:to-amber-700 transition-all duration-300 disabled:opacity-50 flex items-center justify-center gap-2 shadow-lg text-base",children:u?"Iniciando sesin...":n.jsxs(n.Fragment,{children:[n.jsx(qP,{className:"h-5 w-5"}),"Acceder al Panel"]})})]})]})})},p6=()=>{const{t:r}=pn(),e=Wt(),{services:t,loadServices:s}=sh(),{destinos:a,loadDestinos:l}=t1(),[u,m]=R.useState([]),[p,x]=R.useState([]),[g,w]=R.useState({}),[b,j]=R.useState(0),[k,M]=R.useState(!0),D=R.useRef({}),W=R.useRef(),H=[{url:"/images/imagen1.png",nombre:"Imagen 1"},{url:"/images/imagen2.png",nombre:"Imagen 2"},{url:"/images/imagen3.png",nombre:"Imagen 3"},{url:"/images/imagen4.png",nombre:"Imagen 4"},{url:"/images/hero1.png",nombre:"Hero original"}];R.useEffect(()=>{s(),l()},[]),R.useEffect(()=>{if(t.length>0){const N=t.filter(S=>S.isActive!==!1);m(N.slice(0,12))}},[t]),R.useEffect(()=>{if(a.length>0){const N=a.filter(S=>S.activo!==!1).sort((S,A)=>(S.orden||0)-(A.orden||0));console.log("Destinos activos cargados:",N),x(N)}},[a]),R.useEffect(()=>(k&&(W.current=setInterval(()=>{j(N=>(N+1)%H.length)},5e3)),()=>clearInterval(W.current)),[k,H.length]),R.useEffect(()=>{const N=new IntersectionObserver(S=>{S.forEach(A=>{A.isIntersecting&&w(I=>({...I,[A.target.id]:!0}))})},{threshold:.1,rootMargin:"0px"});return Object.values(D.current).forEach(S=>{S&&N.observe(S)}),()=>N.disconnect()},[]);const Q=N=>{e(`/servicio/${N}`)},K=N=>{const S=N.mainImage||N.imageUrl;return S?S.startsWith("http")||S.startsWith("data:")||S.startsWith("/")?S:`/images/${S}`:"https://images.pexels.com/photos/1285625/pexels-photo-1285625.jpeg"},Y=()=>{j(N=>(N+1)%H.length),M(!1)},J=()=>{j(N=>(N-1+H.length)%H.length),M(!1)},O=[{icon:_c,value:"15K+",label:"Clientes",color:"blue"},{icon:Br,value:"25K+",label:"Envos",color:"green"},{icon:dn,value:"25+",label:"Pases",color:"amber"},{icon:rg,value:"10 aos",label:"Experiencia",color:"purple"},{icon:kr,value:"4.9/5",label:"Calificacin",color:"yellow"},{icon:bc,value:"98%",label:"Recomendacin",color:"red"},{icon:Co,value:"5K+",label:"Entregas",color:"orange"},{icon:Io,value:"3K+",label:"Vuelos",color:"sky"}],P=[{nombre:"Mara Gonzlez",avatar:"https://randomuser.me/api/portraits/women/44.jpg",texto:"Excelente servicio, mis envos siempre llegan a tiempo. Muy profesionales.",rating:5,pais:"Espaa"},{nombre:"Carlos Rodrguez",avatar:"https://randomuser.me/api/portraits/men/32.jpg",texto:"Los tours son increbles, conoc lugares maravillosos. Volver a reservar.",rating:5,pais:"Mxico"},{nombre:"Ana Martnez",avatar:"https://randomuser.me/api/portraits/women/68.jpg",texto:"La renta de autos fue perfecta, el vehculo impecable y el precio justo.",rating:5,pais:"Colombia"},{nombre:"Javier Lpez",avatar:"https://randomuser.me/api/portraits/men/75.jpg",texto:"Me ayudaron con todos los trmites de visa, sper recomendados.",rating:5,pais:"Argentina"},{nombre:"Laura Snchez",avatar:"https://randomuser.me/api/portraits/women/33.jpg",texto:"Increble experiencia, volver a contratar sus servicios sin duda.",rating:5,pais:"Chile"},{nombre:"Pedro Gmez",avatar:"https://randomuser.me/api/portraits/men/46.jpg",texto:"Profesionales y confiables, 100% recomendados.",rating:5,pais:"Per"}],T=[{icon:xo,titulo:"Seguridad Total",desc:"Tus datos y pagos protegidos"},{icon:cP,titulo:"Atencin 24/7",desc:"Soporte las 24 horas"},{icon:mP,titulo:"Mltiples pagos",desc:"Aceptamos todas las tarjetas"},{icon:Dp,titulo:"Seguimiento online",desc:"Rastrea tus envos"},{icon:IP,titulo:"Mejores precios",desc:"Tarifas competitivas"},{icon:fP,titulo:"Servicio premium",desc:"Atencin personalizada"},{icon:mR,titulo:"Envos rpidos",desc:"Entrega exprs"},{icon:AP,titulo:"Ofertas exclusivas",desc:"Promociones especiales"}];return n.jsxs("div",{className:"min-h-screen bg-white overflow-hidden pt-20",children:[n.jsxs("section",{className:"relative h-[calc(100vh-5rem)] flex items-center justify-center overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0",children:[H.map((N,S)=>n.jsx("div",{className:`absolute inset-0 transition-opacity duration-1000 ${S===b?"opacity-100":"opacity-0"}`,children:n.jsx("img",{src:N.url,alt:N.nombre,className:"w-full h-full object-cover",onError:A=>{console.log("Error cargando imagen:",N.url),A.target.onerror=null,A.target.src="/images/hero1.png"}})},S)),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 via-black/30 to-black/60"})]}),n.jsx("button",{onClick:J,className:"absolute left-4 top-1/2 -translate-y-1/2 z-20 w-12 h-12 bg-white/10 backdrop-blur-md rounded-full flex items-center justify-center text-white hover:bg-white/20",children:n.jsx(I_,{className:"h-6 w-6"})}),n.jsx("button",{onClick:Y,className:"absolute right-4 top-1/2 -translate-y-1/2 z-20 w-12 h-12 bg-white/10 backdrop-blur-md rounded-full flex items-center justify-center text-white hover:bg-white/20",children:n.jsx(C_,{className:"h-6 w-6"})}),n.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 z-20 flex gap-2",children:H.map((N,S)=>n.jsx("button",{onClick:()=>{j(S),M(!1)},className:`w-2 h-2 rounded-full transition-all duration-300 ${S===b?"w-6 bg-amber-500":"bg-white/50 hover:bg-white"}`},S))}),n.jsx("button",{onClick:()=>M(!k),className:"absolute bottom-8 right-8 z-20 w-8 h-8 bg-white/10 backdrop-blur-md rounded-full flex items-center justify-center text-white hover:bg-white/20",children:k?n.jsx(aR,{className:"h-4 w-4"}):n.jsx(cR,{className:"h-4 w-4"})}),n.jsx("div",{className:"container mx-auto px-4 relative z-10",children:n.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[n.jsx("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-bold text-white mb-4",children:"Batista Global Service"}),n.jsx("p",{className:"text-xl text-white/80 max-w-2xl mx-auto",children:"Soluciones completas para tus viajes y envos en el Caribe"})]})})]}),n.jsx("section",{id:"services",ref:N=>D.current.services=N,className:"py-16 bg-white",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Nuestros Servicios"}),n.jsx("p",{className:"text-lg text-gray-600",children:"Descubre todo lo que tenemos para ti"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:u.slice(0,12).map((N,S)=>n.jsx("div",{onClick:()=>Q(N.id),className:`group cursor-pointer transform transition-all duration-500 hover:-translate-y-2 ${g.services?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,style:{transitionDelay:`${S*100}ms`},children:n.jsxs("div",{className:"relative h-64 rounded-xl overflow-hidden shadow-lg group-hover:shadow-xl",children:[n.jsx("img",{src:K(N),alt:N.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",onError:A=>{A.target.onerror=null,A.target.src="https://images.pexels.com/photos/1285625/pexels-photo-1285625.jpeg"}}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),n.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[n.jsx("h3",{className:"text-xl font-semibold text-white mb-1",children:N.title}),n.jsx("p",{className:"text-white/80 text-sm line-clamp-2",children:N.subtitle})]})]})},N.id))})]})}),n.jsx("section",{id:"stats",ref:N=>D.current.stats=N,className:"py-16 bg-gradient-to-br from-amber-50 via-white to-amber-50",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-6",children:O.map((N,S)=>{const A=N.icon;return n.jsxs("div",{className:`text-center ${g.stats?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,style:{transitionDelay:`${S*100}ms`},children:[n.jsx("div",{className:`w-16 h-16 bg-${N.color}-100 rounded-2xl flex items-center justify-center mx-auto mb-3`,children:n.jsx(A,{className:`h-8 w-8 text-${N.color}-600`})}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:N.value}),n.jsx("p",{className:"text-sm text-gray-600",children:N.label})]},S)})})})}),n.jsx("section",{id:"destinos",ref:N=>D.current.destinos=N,className:"py-16 bg-gray-50",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Destinos Populares"}),n.jsx("p",{className:"text-lg text-gray-600",children:"Los lugares ms visitados por nuestros clientes"})]}),p.length>0?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map((N,S)=>n.jsxs("div",{className:`group relative h-80 rounded-xl overflow-hidden cursor-pointer transform transition-all duration-500 hover:-translate-y-2 ${g.destinos?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,style:{transitionDelay:`${S*150}ms`},children:[n.jsx("img",{src:N.imagen||"https://images.pexels.com/photos/1285625/pexels-photo-1285625.jpeg",alt:N.nombre,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",onError:A=>{console.log("Error cargando imagen:",N.imagen),A.target.onerror=null,A.target.src="https://images.pexels.com/photos/1285625/pexels-photo-1285625.jpeg"}}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),n.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6",children:[n.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:N.nombre}),n.jsx("p",{className:"text-white/80 text-sm mb-3 line-clamp-2",children:N.descripcion}),n.jsxs("div",{className:"space-y-1",children:[(N.precioOfertaMin>0||N.precioOfertaMax>0)&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"text-gray-300 line-through text-sm",children:["$",N.precioMin," - $",N.precioMax]}),n.jsx("span",{className:"bg-red-500 text-white text-xs px-2 py-0.5 rounded-full",children:"OFERTA"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"text-2xl font-bold text-amber-400",children:["$",N.precioOfertaMin||N.precioMin]}),n.jsx("span",{className:"text-white/60",children:"-"}),n.jsxs("span",{className:"text-2xl font-bold text-amber-400",children:["$",N.precioOfertaMax||N.precioMax]})]})]})]}),N.destacado&&n.jsx("div",{className:"absolute top-4 left-4",children:n.jsx("span",{className:"px-3 py-1 bg-amber-500 text-white rounded-full text-sm font-bold shadow-lg",children:" Destacado"})}),(N.precioOfertaMin>0||N.precioOfertaMax>0)&&n.jsxs("div",{className:"absolute top-4 right-4 bg-red-500 text-white px-3 py-1 rounded-full text-sm font-bold animate-pulse",children:["-",Math.round(100-(N.precioOfertaMin||N.precioMin)/(N.precioMin||1)*100),"%"]})]},N.id))}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx(zr,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No hay destinos disponibles"}),n.jsx("p",{className:"text-gray-600",children:"Pronto agregaremos nuevos destinos para ti"})]})]})}),n.jsx("section",{id:"beneficios",ref:N=>D.current.beneficios=N,className:"py-16 bg-white",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Por qu elegirnos?"}),n.jsx("p",{className:"text-lg text-gray-600",children:"Beneficios exclusivos"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:T.map((N,S)=>{const A=N.icon;return n.jsxs("div",{className:`bg-gradient-to-br from-gray-50 to-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-500 hover:-translate-y-2 ${g.beneficios?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,style:{transitionDelay:`${S*100}ms`},children:[n.jsx("div",{className:"w-16 h-16 bg-amber-100 rounded-2xl flex items-center justify-center mb-4",children:n.jsx(A,{className:"h-8 w-8 text-amber-600"})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:N.titulo}),n.jsx("p",{className:"text-gray-600",children:N.desc})]},S)})})]})}),n.jsx("section",{id:"testimonios",ref:N=>D.current.testimonios=N,className:"py-16 bg-white",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Lo que dicen nuestros clientes"}),n.jsx("p",{className:"text-lg text-gray-600",children:"Experiencias reales"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:P.map((N,S)=>n.jsxs("div",{className:`bg-gradient-to-br from-gray-50 to-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-500 hover:-translate-y-2 ${g.testimonios?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,style:{transitionDelay:`${S*150}ms`},children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("img",{src:N.avatar,alt:N.nombre,className:"w-12 h-12 rounded-full object-cover"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-gray-900",children:N.nombre}),n.jsx("p",{className:"text-sm text-gray-500",children:N.pais})]})]}),n.jsxs("p",{className:"text-gray-700 mb-4",children:['"',N.texto,'"']}),n.jsx("div",{className:"flex items-center gap-1",children:[...Array(N.rating)].map((A,I)=>n.jsx(kr,{className:"h-5 w-5 text-yellow-500 fill-yellow-500"},I))})]},S))})]})})]})},f6=()=>{const r=Wt(),{services:e,loading:t,loadServices:s}=sh(),{t:a}=pn();R.useEffect(()=>{s()},[]);const l=g=>{r(`/servicio/${g}`)},u=g=>g?g.startsWith("http")||g.startsWith("/")||g.startsWith("data:")?g:`/images/${g}`:"https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",m=g=>{switch(g){case"shipping":return n.jsx(Br,{className:"h-5 w-5"});case"tours":return n.jsx(dn,{className:"h-5 w-5"});case"rental":return n.jsx(Fr,{className:"h-5 w-5"});case"hotels":return n.jsx(Qn,{className:"h-5 w-5"});case"flights":return n.jsx(Io,{className:"h-5 w-5"});case"visas":return n.jsx(ko,{className:"h-5 w-5"});default:return n.jsx(kr,{className:"h-5 w-5"})}},p=g=>{switch(g){case"shipping":return"bg-green-100 text-green-700";case"tours":return"bg-blue-100 text-blue-700";case"rental":return"bg-amber-100 text-amber-700";case"hotels":return"bg-purple-100 text-purple-700";case"flights":return"bg-sky-100 text-sky-700";case"visas":return"bg-emerald-100 text-emerald-700";default:return"bg-gray-100 text-gray-700"}};if(t)return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-amber-500 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 text-lg",children:a("cargando")})]})});const x=e.filter(g=>g.isActive!==!1);return n.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white",children:[n.jsx("div",{className:"bg-gradient-to-r from-amber-600 to-amber-800 text-white py-16",children:n.jsxs("div",{className:"container mx-auto px-4 sm:px-6",children:[n.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-4 text-center",children:a("nuestros_servicios")}),n.jsx("p",{className:"text-xl text-white/90 max-w-3xl mx-auto text-center",children:a("descripcion_servicios")})]})}),n.jsx("div",{className:"container mx-auto px-4 sm:px-6 py-16",children:x.length===0?n.jsxs("div",{className:"text-center py-16",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:a("proximamente")}),n.jsx("p",{className:"text-gray-600",children:a("preparando_servicios")})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:x.map(g=>n.jsxs("div",{onClick:()=>l(g.id),className:"group bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 overflow-hidden cursor-pointer",children:[n.jsxs("div",{className:"relative h-64 overflow-hidden bg-gray-100",children:[n.jsx("img",{src:u(g.mainImage),alt:g.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700",onError:w=>{w.target.onerror=null,w.target.src="https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"}}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),n.jsx("div",{className:"absolute top-4 left-4",children:n.jsxs("span",{className:`px-3 py-1.5 rounded-full text-sm font-medium shadow-lg flex items-center gap-1 ${p(g.type)}`,children:[m(g.type),g.type==="shipping"?a("paqueteria_express"):g.type==="tours"?a("paquetes_turisticos"):g.type==="rental"?a("renta_autos"):g.type==="hotels"?a("reservas_hoteles"):g.type==="flights"?a("reservas_vuelos"):g.type==="visas"?a("visas"):a("servicios")]})}),g.isFeatured&&n.jsx("div",{className:"absolute top-4 right-4",children:n.jsxs("span",{className:"px-3 py-1.5 bg-gradient-to-r from-amber-500 to-amber-600 text-white rounded-full text-sm font-medium shadow-lg flex items-center gap-1",children:[n.jsx(kr,{className:"h-4 w-4 fill-white"}),a("destacado")]})}),n.jsxs("div",{className:"absolute bottom-4 left-4 right-4",children:[n.jsx("h3",{className:"text-2xl font-bold text-white mb-1 line-clamp-2",children:g.title}),n.jsx("p",{className:"text-white/90 text-sm line-clamp-2",children:g.subtitle})]})]}),n.jsx("div",{className:"p-5 bg-white",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-amber-600 font-medium text-sm group-hover:underline",children:a("ver_detalles")}),n.jsx("span",{className:"text-amber-600 group-hover:translate-x-2 transition-transform text-xl",children:""})]})})]},g.id))})})]})},g6=({data:r,service:e})=>{const t=r||{},s=t.productosPermitidos||[],a=t.productosRestringidos||[],l=t.tarifas||[],u=t.destinos||[],m=t.rangosPrecios||{minimo:15,maximo:250},p=t.tiempos||{nacional:"2-4 das",internacional:"5-10 das",express:"24-48h"},x=t.seguros||[];return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-xl p-6 shadow-lg",children:[n.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[n.jsx(Mt,{className:"h-6 w-6"}),"Rango de Precios"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm opacity-90",children:"Desde"}),n.jsxs("p",{className:"text-3xl font-bold",children:["$",m.minimo]})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm opacity-90",children:"Hasta"}),n.jsxs("p",{className:"text-3xl font-bold",children:["$",m.maximo]})]})]})]}),s.length>0&&n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[n.jsx(Br,{className:"h-5 w-5 text-green-600"}),"Productos Permitidos"]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:s.map((g,w)=>n.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm",children:g},w))})]}),a.length>0&&n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[n.jsx(go,{className:"h-5 w-5 text-red-600"}),"Productos Restringidos"]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:a.map((g,w)=>n.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-sm",children:g},w))})]}),l.length>0&&n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[n.jsx(F_,{className:"h-5 w-5 text-amber-600"}),"Tarifas por Peso"]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Peso"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Precio"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Tiempo"})]})}),n.jsx("tbody",{className:"divide-y",children:l.map((g,w)=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3",children:g.peso||"N/A"}),n.jsxs("td",{className:"px-4 py-3 font-semibold text-green-600",children:["$",g.precioMin||g.precio||0," - $",g.precioMax||g.precio||0]}),n.jsx("td",{className:"px-4 py-3 text-gray-600",children:g.tiempo||"N/A"})]},w))})]})})]}),u.length>0&&n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[n.jsx(zr,{className:"h-5 w-5 text-blue-600"}),"Destinos"]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:u.map((g,w)=>n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[n.jsx("h4",{className:"font-bold text-lg mb-2",children:g.pais||"N/A"}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("p",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Tarifa:"}),n.jsxs("span",{className:"font-semibold text-green-600",children:["$",g.precioMin||g.tarifaBase||0," - $",g.precioMax||g.tarifaBase||0]})]}),n.jsxs("p",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Tiempo:"}),n.jsx("span",{children:g.tiempo||g.tiempoEstimado||"N/A"})]})]})]},w))})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200 shadow-sm",children:[n.jsx(xr,{className:"h-6 w-6 text-blue-500 mb-2"}),n.jsx("h4",{className:"font-semibold",children:"Nacional"}),n.jsx("p",{className:"text-lg font-bold",children:p.nacional})]}),n.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200 shadow-sm",children:[n.jsx(dn,{className:"h-6 w-6 text-green-500 mb-2"}),n.jsx("h4",{className:"font-semibold",children:"Internacional"}),n.jsx("p",{className:"text-lg font-bold",children:p.internacional})]}),n.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200 shadow-sm",children:[n.jsx(Co,{className:"h-6 w-6 text-amber-500 mb-2"}),n.jsx("h4",{className:"font-semibold",children:"Express"}),n.jsx("p",{className:"text-lg font-bold",children:p.express})]})]}),x.length>0&&n.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 border border-blue-200",children:[n.jsxs("h3",{className:"text-lg font-bold text-blue-800 mb-3 flex items-center gap-2",children:[n.jsx(gr,{className:"h-5 w-5"}),"Seguros disponibles"]}),n.jsx("div",{className:"space-y-2",children:x.map((g,w)=>n.jsxs("div",{className:"bg-white rounded-lg p-3",children:[n.jsx("p",{className:"font-medium",children:g.nombre||g}),g.descripcion&&n.jsx("p",{className:"text-sm text-gray-600",children:g.descripcion}),g.precio&&n.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["+$",g.precio]})]},w))})]})]})},x6=({data:r,service:e})=>{const t=r||{},s=t.destinos||[],a=t.paquetes||[],l=t.ofertas||[],u=t.incluye||["Transporte ida y vuelta","Gua profesional","Almuerzo tpico","Seguro de viaje"],m=t.noIncluye||["Bebidas alcohlicas","Fotografas profesionales","Propinas"],p=t.recomendaciones||["Ropa cmoda","Bloqueador solar","Cmara fotogrfica"],x=t.rangosPrecios||{minimo:79,maximo:599};return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"bg-gradient-to-r from-amber-600 to-orange-600 text-white rounded-xl p-6 shadow-lg",children:[n.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[n.jsx(Mt,{className:"h-6 w-6"}),"Rango de Precios"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm opacity-90",children:"Desde"}),n.jsxs("p",{className:"text-3xl font-bold",children:["$",x.minimo]})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm opacity-90",children:"Hasta"}),n.jsxs("p",{className:"text-3xl font-bold",children:["$",x.maximo]})]})]})]}),s.length>0&&n.jsx("div",{className:"space-y-6",children:s.map((g,w)=>n.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border border-gray-200",children:[n.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white px-6 py-4",children:[n.jsxs("h3",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(zr,{className:"h-6 w-6"}),g.nombre||"Destino"]}),g.descripcion&&n.jsx("p",{className:"text-amber-100 mt-1",children:g.descripcion})]}),g.imagen&&n.jsx("div",{className:"h-64 overflow-hidden",children:n.jsx("img",{src:g.imagen,alt:g.nombre,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"p-6",children:[n.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Paquetes disponibles"}),n.jsx("div",{className:"space-y-4",children:(g.paquetes||[]).map((b,j)=>n.jsxs("div",{className:"bg-amber-50 rounded-xl p-5 border border-amber-200",children:[n.jsxs("div",{className:"flex flex-wrap justify-between items-start gap-3 mb-3",children:[n.jsxs("div",{children:[n.jsx("h5",{className:"font-bold text-xl text-gray-800",children:b.nombre||"Paquete"}),n.jsx("p",{className:"text-sm text-gray-600",children:b.duracion})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-2xl font-bold text-green-600",children:b.precio}),b.precioRegular&&n.jsx("p",{className:"text-sm text-gray-400 line-through",children:b.precioRegular})]})]}),b.descripcion&&n.jsx("p",{className:"text-gray-700 mb-3",children:b.descripcion}),b.hotel&&n.jsxs("p",{className:"text-sm mb-2",children:[n.jsx("span",{className:"font-medium",children:"Hotel:"})," ",b.hotel]}),b.incluye&&b.incluye.length>0&&n.jsxs("div",{className:"mb-3",children:[n.jsx("p",{className:"text-sm font-medium mb-2",children:"Incluye:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:b.incluye.map((k,M)=>n.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:k},M))})]}),b.itinerario&&b.itinerario.length>0&&n.jsxs("div",{className:"mt-3 pt-3 border-t border-amber-200",children:[n.jsx("p",{className:"text-sm font-medium mb-2",children:"Itinerario:"}),n.jsx("div",{className:"space-y-2",children:b.itinerario.map((k,M)=>n.jsxs("div",{className:"flex gap-3 text-sm",children:[n.jsx("span",{className:"font-medium w-16",children:k.hora}),n.jsx("span",{className:"text-gray-700",children:k.descripcion})]},M))})]})]},j))})]})]},w))}),s.length===0&&a.length>0&&n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-200",children:[n.jsx("h3",{className:"text-xl font-bold mb-4",children:"Paquetes disponibles"}),n.jsx("div",{className:"space-y-4",children:a.map((g,w)=>n.jsxs("div",{className:"bg-amber-50 rounded-xl p-5 border border-amber-200",children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsx("h4",{className:"font-bold text-lg",children:g.nombre||"Paquete"}),n.jsx("span",{className:"text-xl font-bold text-green-600",children:g.precio})]}),n.jsx("p",{className:"text-gray-700 mb-3",children:g.descripcion}),n.jsx("p",{className:"text-sm text-gray-600",children:g.duracion})]},w))})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[n.jsx(gr,{className:"h-5 w-5 text-green-600"}),"Incluye"]}),n.jsx("ul",{className:"space-y-3",children:u.map((g,w)=>n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx(gr,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-0.5"}),n.jsx("span",{className:"text-gray-700",children:g})]},w))})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[n.jsx(go,{className:"h-5 w-5 text-red-600"}),"No incluye"]}),n.jsx("ul",{className:"space-y-3",children:m.map((g,w)=>n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx(go,{className:"h-5 w-5 text-red-500 flex-shrink-0 mt-0.5"}),n.jsx("span",{className:"text-gray-700",children:g})]},w))})]})]}),p.length>0&&n.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 border border-blue-200",children:[n.jsxs("h3",{className:"text-lg font-bold text-blue-800 mb-3 flex items-center gap-2",children:[n.jsx(ng,{className:"h-5 w-5"}),"Recomendaciones"]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:p.map((g,w)=>n.jsx("span",{className:"px-3 py-2 bg-white text-blue-700 rounded-lg text-sm shadow-sm",children:g},w))})]}),l.length>0&&n.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 rounded-xl p-6 text-white",children:[n.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[n.jsx(kr,{className:"h-5 w-5"}),"Ofertas Especiales"]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.map((g,w)=>n.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-4",children:[n.jsx("h4",{className:"font-bold text-lg",children:g.nombre||"Oferta"}),n.jsx("p",{className:"text-amber-100",children:g.descripcion||g.texto}),g.condiciones&&n.jsx("p",{className:"text-xs text-amber-200 mt-2",children:g.condiciones})]},w))})]})]})},y6=({data:r,service:e})=>{const t={sucursales:r?.sucursales||[],vehiculos:r?.vehiculos||[],tarifas:r?.tarifas||[],seguros:r?.seguros||[],requisitos:r?.requisitos||[],rangosPrecios:{economico:r?.rangosPrecios?.economico||35,intermedio:r?.rangosPrecios?.intermedio||65,premium:r?.rangosPrecios?.premium||120,lujo:r?.rangosPrecios?.lujo||250},tiposVehiculo:r?.tiposVehiculo||["Econmico","Compacto","Sedn","SUV","Camioneta","Deportivo","Lujo"],combustibles:r?.combustibles||["Gasolina","Diesel","Hbrido","Elctrico"],extras:r?.extras||["GPS","Silla para nios","Cobertura adicional","Conductor adicional"]};return n.jsxs("div",{className:"space-y-8",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-2xl p-8 shadow-xl",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold mb-2",children:e?.title||"Renta de Autos"}),n.jsx("p",{className:"text-blue-100 text-lg",children:e?.subtitle||"La mejor flota del Caribe"})]}),n.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl px-6 py-3 text-center",children:[n.jsx("p",{className:"text-sm opacity-90",children:"Desde"}),n.jsxs("p",{className:"text-3xl font-bold",children:["$",t.rangosPrecios.economico]}),n.jsxs("p",{className:"text-sm opacity-90",children:["Hasta $",t.rangosPrecios.lujo]})]})]})}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[n.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[n.jsx(Mt,{className:"h-6 w-6 text-blue-600"}),"Tarifas por categora"]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-green-50 rounded-xl p-4 text-center",children:[n.jsx(Fr,{className:"h-8 w-8 mx-auto text-green-600 mb-2"}),n.jsx("h4",{className:"font-semibold",children:"Econmico"}),n.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",t.rangosPrecios.economico]}),n.jsx("p",{className:"text-xs text-gray-500",children:"por da"})]}),n.jsxs("div",{className:"bg-amber-50 rounded-xl p-4 text-center",children:[n.jsx(Fr,{className:"h-8 w-8 mx-auto text-amber-600 mb-2"}),n.jsx("h4",{className:"font-semibold",children:"Intermedio"}),n.jsxs("p",{className:"text-2xl font-bold text-amber-600",children:["$",t.rangosPrecios.intermedio]}),n.jsx("p",{className:"text-xs text-gray-500",children:"por da"})]}),n.jsxs("div",{className:"bg-orange-50 rounded-xl p-4 text-center",children:[n.jsx(Fr,{className:"h-8 w-8 mx-auto text-orange-600 mb-2"}),n.jsx("h4",{className:"font-semibold",children:"Premium"}),n.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:["$",t.rangosPrecios.premium]}),n.jsx("p",{className:"text-xs text-gray-500",children:"por da"})]}),n.jsxs("div",{className:"bg-purple-50 rounded-xl p-4 text-center",children:[n.jsx(Fr,{className:"h-8 w-8 mx-auto text-purple-600 mb-2"}),n.jsx("h4",{className:"font-semibold",children:"Lujo"}),n.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["$",t.rangosPrecios.lujo]}),n.jsx("p",{className:"text-xs text-gray-500",children:"por da"})]})]})]}),t.vehiculos.length>0&&n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[n.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[n.jsx(Fr,{className:"h-6 w-6 text-amber-600"}),"Nuestra Flota - Modelos Disponibles"]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.vehiculos.map((s,a)=>n.jsxs("div",{className:"bg-white rounded-xl overflow-hidden border border-gray-200 hover:shadow-xl transition-shadow group",children:[n.jsxs("div",{className:"relative h-48 bg-gray-100",children:[s.imagen?n.jsx("img",{src:s.imagen,alt:s.nombre,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-100 to-gray-200",children:n.jsx(Fr,{className:"h-16 w-16 text-gray-400"})}),n.jsx("div",{className:"absolute top-3 right-3",children:s.disponible?n.jsx("span",{className:"px-3 py-1 bg-green-500 text-white text-xs font-bold rounded-full shadow-lg",children:"DISPONIBLE"}):n.jsx("span",{className:"px-3 py-1 bg-red-500 text-white text-xs font-bold rounded-full shadow-lg",children:"NO DISPONIBLE"})}),s.categoria&&n.jsx("div",{className:"absolute top-3 left-3",children:n.jsx("span",{className:"px-3 py-1 bg-blue-600 text-white text-xs font-bold rounded-full shadow-lg",children:s.categoria})})]}),n.jsxs("div",{className:"p-5",children:[n.jsx("h4",{className:"font-bold text-xl text-gray-800 mb-2",children:s.nombre}),n.jsx("div",{className:"mb-3",children:n.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",s.precioMin,s.precioMax&&s.precioMax>s.precioMin&&n.jsxs("span",{className:"text-lg text-gray-500 font-normal",children:[" - $",s.precioMax]}),n.jsx("span",{className:"text-sm text-gray-500 font-normal ml-1",children:"/da"})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4 text-sm",children:[s.transmision&&n.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[n.jsx(U_,{className:"h-4 w-4"}),n.jsx("span",{children:s.transmision})]}),s.combustible&&n.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[n.jsx(TP,{className:"h-4 w-4"}),n.jsx("span",{children:s.combustible})]}),s.pasajeros&&n.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[n.jsx(_c,{className:"h-4 w-4"}),n.jsxs("span",{children:[s.pasajeros," pasajeros"]})]}),s.aireAcondicionado&&n.jsx("div",{className:"flex items-center gap-1 text-gray-600",children:n.jsx("span",{children:" A/C"})})]}),n.jsxs("button",{className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-semibold transition-colors flex items-center justify-center gap-2",children:[n.jsx(Hi,{className:"h-4 w-4"}),"Reservar ahora"]})]})]},a))})]}),t.sucursales.length>0&&n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[n.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[n.jsx(zr,{className:"h-6 w-6 text-blue-600"}),"Nuestras Sucursales"]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.sucursales.map((s,a)=>n.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-white rounded-xl p-5 border border-gray-200 hover:shadow-md transition-shadow",children:[n.jsx("h4",{className:"font-bold text-lg text-gray-800 mb-2",children:s.ciudad}),n.jsx("p",{className:"text-gray-600 text-sm mb-3",children:s.direccion}),s.telefono&&n.jsxs("a",{href:`tel:${s.telefono}`,className:"text-blue-600 text-sm flex items-center gap-1 hover:underline",children:[n.jsx(wc,{className:"h-4 w-4"}),s.telefono]}),s.horario&&n.jsxs("p",{className:"text-xs text-gray-500 mt-2 flex items-center gap-1",children:[n.jsx(xr,{className:"h-3 w-3"}),s.horario]})]},a))})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[n.jsx(xr,{className:"h-8 w-8 text-blue-500 mb-3"}),n.jsx("h4",{className:"font-bold text-gray-800",children:"Tarifa diaria"}),n.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",t.rangosPrecios.economico," - $",t.rangosPrecios.lujo]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[n.jsx(Hi,{className:"h-8 w-8 text-green-500 mb-3"}),n.jsx("h4",{className:"font-bold text-gray-800",children:"Tarifa semanal"}),n.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",t.rangosPrecios.economico*6," - $",t.rangosPrecios.lujo*6]}),n.jsx("p",{className:"text-xs text-green-600 mt-1",children:"15% descuento"})]}),n.jsxs("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[n.jsx(Hi,{className:"h-8 w-8 text-purple-500 mb-3"}),n.jsx("h4",{className:"font-bold text-gray-800",children:"Tarifa mensual"}),n.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",t.rangosPrecios.economico*25," - $",t.rangosPrecios.lujo*25]}),n.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"30% descuento"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.seguros.length>0&&n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[n.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:[n.jsx(xo,{className:"h-5 w-5 text-blue-600"}),"Coberturas disponibles"]}),n.jsx("div",{className:"space-y-3",children:t.seguros.map((s,a)=>n.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg",children:[n.jsx(gr,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-800",children:s.nombre}),s.descripcion&&n.jsx("p",{className:"text-sm text-gray-600",children:s.descripcion}),s.precio&&n.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["+$",s.precio,"/da"]})]})]},a))})]}),t.requisitos.length>0&&n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Requisitos para rentar"}),n.jsx("ul",{className:"space-y-3",children:t.requisitos.map((s,a)=>n.jsxs("li",{className:"flex items-center gap-3 p-3 bg-amber-50 rounded-lg",children:[n.jsx(gr,{className:"h-5 w-5 text-amber-600"}),n.jsx("span",{className:"text-gray-700",children:s})]},a))})]})]}),t.extras.length>0&&n.jsxs("div",{className:"bg-amber-50 rounded-2xl p-6 border border-amber-200",children:[n.jsxs("h3",{className:"text-lg font-bold text-amber-800 mb-3 flex items-center gap-2",children:[n.jsx(QA,{className:"h-5 w-5"}),"Extras disponibles"]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:t.extras.map((s,a)=>n.jsxs("span",{className:"px-3 py-2 bg-white text-amber-700 rounded-lg text-sm shadow-sm flex items-center gap-1",children:[n.jsx(rt,{className:"h-3 w-3"}),s]},a))})]})]})},v6=({data:r,service:e})=>{const t={destinos:r?.destinos||[],hoteles:r?.hoteles||[],ofertas:r?.ofertas||[],rangosPrecios:{economico:r?.rangosPrecios?.economico||80,intermedio:r?.rangosPrecios?.intermedio||150,premium:r?.rangosPrecios?.premium||280,lujo:r?.rangosPrecios?.lujo||500},categorias:r?.categorias||["Econmico","3 Estrellas","4 Estrellas","5 Estrellas","Boutique","Todo incluido"],servicios:r?.servicios||["WiFi gratis","Desayuno incluido","Piscina","Gimnasio","Spa","Restaurante","Estacionamiento","Recepcin 24h"],politicas:{checkIn:r?.politicas?.checkIn||"15:00",checkOut:r?.politicas?.checkOut||"12:00",cancelacion:r?.politicas?.cancelacion||"24 horas antes sin cargo"}};return n.jsxs("div",{className:"space-y-8",children:[n.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-2xl p-8 shadow-xl",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold mb-2",children:e?.title||"Reservas de Hoteles"}),n.jsx("p",{className:"text-purple-100 text-lg",children:e?.subtitle||"Los mejores hoteles del Caribe"})]}),n.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl px-6 py-3 text-center",children:[n.jsx("p",{className:"text-sm opacity-90",children:"Desde"}),n.jsxs("p",{className:"text-3xl font-bold",children:["$",t.rangosPrecios.economico]}),n.jsxs("p",{className:"text-sm opacity-90",children:["Hasta $",t.rangosPrecios.lujo]})]})]})}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[n.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[n.jsx(Mt,{className:"h-6 w-6 text-purple-600"}),"Precios por noche segn categora"]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-green-50 rounded-xl p-4 text-center",children:[n.jsx(Qn,{className:"h-8 w-8 mx-auto text-green-600 mb-2"}),n.jsx("h4",{className:"font-semibold",children:"Econmico"}),n.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$$",t.rangosPrecios.economico]})]}),n.jsxs("div",{className:"bg-amber-50 rounded-xl p-4 text-center",children:[n.jsx(Qn,{className:"h-8 w-8 mx-auto text-amber-600 mb-2"}),n.jsx("h4",{className:"font-semibold",children:"3 Estrellas"}),n.jsxs("p",{className:"text-2xl font-bold text-amber-600",children:["$$",t.rangosPrecios.intermedio]})]}),n.jsxs("div",{className:"bg-orange-50 rounded-xl p-4 text-center",children:[n.jsx(Qn,{className:"h-8 w-8 mx-auto text-orange-600 mb-2"}),n.jsx("h4",{className:"font-semibold",children:"4 Estrellas"}),n.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:["$$",t.rangosPrecios.premium]})]}),n.jsxs("div",{className:"bg-purple-50 rounded-xl p-4 text-center",children:[n.jsx(Qn,{className:"h-8 w-8 mx-auto text-purple-600 mb-2"}),n.jsx("h4",{className:"font-semibold",children:"5 Estrellas"}),n.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["$$",t.rangosPrecios.lujo]})]})]})]}),t.destinos.length>0&&n.jsx("div",{className:"space-y-6",children:t.destinos.map((s,a)=>n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden border border-gray-100",children:[n.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 px-6 py-4 border-b",children:n.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[n.jsx(zr,{className:"h-5 w-5 text-purple-600"}),s.ciudad,", ",s.pais]})}),n.jsx("div",{className:"p-6",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.hoteles?.map((l,u)=>n.jsxs("div",{className:"bg-gray-50 rounded-xl p-5 border border-gray-200 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsx("h4",{className:"font-bold text-lg text-gray-800",children:l.nombre}),n.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((m,p)=>n.jsx(kr,{className:`h-4 w-4 ${p<l.estrellas?"text-yellow-500 fill-yellow-500":"text-gray-300"}`},p))})]}),n.jsxs("p",{className:"text-2xl font-bold text-green-600 mb-3",children:["$",l.precio,n.jsx("span",{className:"text-sm text-gray-500 font-normal",children:"/noche"})]}),l.precioRango&&n.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Rango: $",l.precioRango.min," - $",l.precioRango.max]}),l.servicios?.length>0&&n.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[l.servicios.slice(0,4).map((m,p)=>n.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full flex items-center gap-1",children:[m==="WiFi"&&n.jsx(Dp,{className:"h-3 w-3"}),m==="Desayuno"&&n.jsx(Rp,{className:"h-3 w-3"}),m==="Piscina"&&n.jsx(sv,{className:"h-3 w-3"}),m==="Restaurante"&&n.jsx(rv,{className:"h-3 w-3"}),m]},p)),l.servicios.length>4&&n.jsxs("span",{className:"px-2 py-1 bg-gray-200 text-gray-700 text-xs rounded-full",children:["+",l.servicios.length-4]})]}),n.jsx("button",{className:"w-full mt-2 bg-purple-600 text-white py-2 rounded-lg hover:bg-purple-700 transition-colors text-sm font-medium",children:"Ver disponibilidad"})]},u))})})]},a))}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Servicios disponibles en nuestros hoteles"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:t.servicios.map((s,a)=>n.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-50 rounded-lg",children:[s==="WiFi gratis"&&n.jsx(Dp,{className:"h-4 w-4 text-blue-500"}),s==="Desayuno incluido"&&n.jsx(Rp,{className:"h-4 w-4 text-amber-500"}),s==="Piscina"&&n.jsx(sv,{className:"h-4 w-4 text-blue-500"}),s==="Gimnasio"&&n.jsx(vP,{className:"h-4 w-4 text-green-500"}),s==="Spa"&&n.jsx(tv,{className:"h-4 w-4 text-purple-500"}),s==="Restaurante"&&n.jsx(rv,{className:"h-4 w-4 text-orange-500"}),s==="Estacionamiento"&&n.jsx(Fr,{className:"h-4 w-4 text-gray-500"}),s==="Recepcin 24h"&&n.jsx(Clock,{className:"h-4 w-4 text-blue-500"}),n.jsx("span",{className:"text-sm",children:s})]},a))})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[n.jsx(ng,{className:"h-8 w-8 text-amber-500 mb-3"}),n.jsx("h4",{className:"font-bold text-gray-800",children:"Check-in"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.politicas.checkIn})]}),n.jsxs("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[n.jsx(sR,{className:"h-8 w-8 text-indigo-500 mb-3"}),n.jsx("h4",{className:"font-bold text-gray-800",children:"Check-out"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.politicas.checkOut})]}),n.jsxs("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[n.jsx(Hi,{className:"h-8 w-8 text-red-500 mb-3"}),n.jsx("h4",{className:"font-bold text-gray-800",children:"Cancelacin"}),n.jsx("p",{className:"text-sm text-gray-900",children:t.politicas.cancelacion})]})]}),t.ofertas.length>0&&n.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 rounded-2xl p-6 text-white",children:[n.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[n.jsx(tv,{className:"h-5 w-5"}),"Ofertas Especiales"]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.ofertas.map((s,a)=>n.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-4",children:[n.jsx("h4",{className:"font-bold text-lg",children:s.titulo}),n.jsx("p",{className:"text-amber-100 text-sm",children:s.descripcion}),s.vigencia&&n.jsxs("p",{className:"text-xs text-amber-200 mt-2",children:["Vlido: ",s.vigencia]})]},a))})]})]})},b6=({data:r,service:e})=>{const t=r||{},s=t.rutas||[],a=t.clases||[],l=t.aerolineas||[],u=t.ofertas||[],m=t.destinosPopulares||[{ciudad:"Miami",precio:"$250 - $450",vuelos:12},{ciudad:"Madrid",precio:"$650 - $950",vuelos:8},{ciudad:"Cancn",precio:"$320 - $550",vuelos:15}],p=t.rangosPrecios||{minimo:150,maximo:950},x=t.equipaje||{cabina:"10 kg",bodega:"23 kg",precioExtra:35};return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"bg-gradient-to-r from-sky-600 to-blue-600 text-white rounded-xl p-6 shadow-lg",children:[n.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[n.jsx(Mt,{className:"h-6 w-6"}),"Rango de Precios"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm opacity-90",children:"Desde"}),n.jsxs("p",{className:"text-3xl font-bold",children:["$",p.minimo]})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm opacity-90",children:"Hasta"}),n.jsxs("p",{className:"text-3xl font-bold",children:["$",p.maximo]})]})]})]}),s.length>0&&n.jsx("div",{className:"space-y-6",children:s.map((g,w)=>n.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border border-gray-200",children:[n.jsxs("div",{className:"bg-gradient-to-r from-sky-600 to-blue-600 text-white px-6 py-4",children:[n.jsxs("h3",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(Io,{className:"h-6 w-6"}),g.origen||"Origen","  ",g.destino||"Destino"]}),g.duracion&&n.jsxs("p",{className:"text-sky-100 mt-1 flex items-center gap-2",children:[n.jsx(xr,{className:"h-4 w-4"}),"Duracin: ",g.duracion]})]}),n.jsxs("div",{className:"p-6",children:[n.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Vuelos disponibles"}),n.jsx("div",{className:"space-y-4",children:(g.vuelos||[]).map((b,j)=>n.jsxs("div",{className:"bg-sky-50 rounded-xl p-5 border border-sky-200 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex flex-wrap justify-between items-start gap-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("h5",{className:"font-bold text-xl text-gray-800",children:b.aerolinea}),n.jsx("span",{className:"px-3 py-1 bg-blue-600 text-white rounded-full text-xs font-bold",children:b.clase||"Econmica"})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[b.horario&&n.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[n.jsx(xr,{className:"h-4 w-4"}),n.jsx("span",{children:b.horario})]}),n.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[n.jsx(GP,{className:"h-4 w-4"}),n.jsx("span",{children:b.equipaje||x.bodega})]}),n.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[n.jsx(Rp,{className:"h-4 w-4"}),n.jsx("span",{children:b.comida||"Incluida"})]}),b.escalas&&n.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Escalas:"}),n.jsx("span",{children:b.escalas})]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",b.precioMin||b.precio||0]}),b.precioMax&&n.jsxs("p",{className:"text-sm text-gray-500",children:["hasta $",b.precioMax]})]})]}),b.beneficios&&b.beneficios.length>0&&n.jsx("div",{className:"mt-3 pt-3 border-t border-sky-200",children:n.jsx("div",{className:"flex flex-wrap gap-2",children:b.beneficios.map((k,M)=>n.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:k},M))})})]},j))})]})]},w))}),a.length>0&&n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-200",children:[n.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[n.jsx(rg,{className:"h-6 w-6 text-amber-600"}),"Clases y Tarifas"]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:a.map((g,w)=>n.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 rounded-xl p-5 border border-amber-200",children:[n.jsx("h4",{className:"font-bold text-lg text-gray-800 mb-2",children:g.nombre}),n.jsx("p",{className:"text-2xl font-bold text-green-600 mb-2",children:g.precio}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:g.descripcion}),g.beneficios&&g.beneficios.length>0&&n.jsx("ul",{className:"space-y-2 text-sm",children:g.beneficios.map((b,j)=>n.jsxs("li",{className:"flex items-center gap-2",children:[n.jsx(gr,{className:"h-4 w-4 text-green-500"}),n.jsx("span",{children:b})]},j))})]},w))})]}),m.length>0&&n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-200",children:[n.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[n.jsx(dn,{className:"h-6 w-6 text-amber-600"}),"Destinos Populares"]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:m.map((g,w)=>n.jsxs("div",{className:"bg-gradient-to-br from-sky-50 to-blue-50 rounded-xl p-4 border border-sky-200",children:[n.jsx("h4",{className:"font-bold text-lg text-gray-800 mb-1",children:g.ciudad}),n.jsx("p",{className:"text-green-600 font-bold",children:g.precio}),g.vuelos&&n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[g.vuelos," vuelos diarios"]})]},w))})]}),l.length>0&&n.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[n.jsx("h3",{className:"text-lg font-bold mb-3",children:"Aerolneas disponibles"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:l.map((g,w)=>n.jsx("span",{className:"px-4 py-2 bg-sky-100 text-sky-700 rounded-full text-sm font-medium",children:g},w))})]}),n.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 border border-blue-200",children:[n.jsxs("h3",{className:"text-lg font-bold text-blue-800 mb-3 flex items-center gap-2",children:[n.jsx(ko,{className:"h-5 w-5"}),"Poltica de Equipaje"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-xl p-4",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Equipaje de cabina"}),n.jsx("p",{className:"text-xl font-bold",children:x.cabina})]}),n.jsxs("div",{className:"bg-white rounded-xl p-4",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Equipaje en bodega"}),n.jsx("p",{className:"text-xl font-bold",children:x.bodega})]}),n.jsxs("div",{className:"bg-white rounded-xl p-4",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Kg extra"}),n.jsxs("p",{className:"text-xl font-bold",children:["$",x.precioExtra]})]})]})]}),u.length>0&&n.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 rounded-xl p-6 text-white",children:[n.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[n.jsx(kr,{className:"h-5 w-5"}),"Ofertas Especiales"]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.map((g,w)=>n.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-4",children:[n.jsx("h4",{className:"font-bold text-lg",children:g.nombre||"Oferta"}),n.jsx("p",{className:"text-amber-100",children:g.descripcion}),g.vigencia&&n.jsxs("p",{className:"text-xs text-amber-200 mt-2",children:["Vlido: ",g.vigencia]})]},w))})]})]})},w6=({data:r,service:e})=>{const t={paises:r?.paises||[],tiposVisa:r?.tiposVisa||[],requisitos:r?.requisitos||[],documentos:r?.documentos||[],tiempos:r?.tiempos||{minimo:"5 das",promedio:"15 das",maximo:"30 das"},rangosPrecios:{minima:r?.rangosPrecios?.minima||120,promedio:r?.rangosPrecios?.promedio||185,maxima:r?.rangosPrecios?.maxima||350},procesos:r?.procesos||["Completar formulario en lnea","Pagar arancel consular","Agendar cita","Entrevista personal","Esperar aprobacin"],advertencias:r?.advertencias||["Los tiempos pueden variar segn la temporada","No se garantiza la aprobacin de la visa","Recomendamos iniciar con 2 meses de anticipacin"]};return n.jsxs("div",{className:"space-y-8",children:[n.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-2xl p-8 shadow-xl",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold mb-2",children:e?.title||"Trmites de Visas"}),n.jsx("p",{className:"text-indigo-100 text-lg",children:e?.subtitle||"Asesora profesional"})]}),n.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl px-6 py-3 text-center",children:[n.jsx("p",{className:"text-sm opacity-90",children:"Desde"}),n.jsxs("p",{className:"text-3xl font-bold",children:["$",t.rangosPrecios.minima]}),n.jsxs("p",{className:"text-sm opacity-90",children:["Hasta $",t.rangosPrecios.maxima]})]})]})}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[n.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[n.jsx(Mt,{className:"h-6 w-6 text-indigo-600"}),"Rangos de precios por tipo de visa"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-green-50 rounded-xl p-5 text-center",children:[n.jsx("h4",{className:"font-bold text-lg mb-2",children:"Turista"}),n.jsxs("p",{className:"text-3xl font-bold text-green-600 mb-2",children:["$",t.rangosPrecios.minima]}),n.jsx("p",{className:"text-sm text-gray-600",children:"Estada corta"})]}),n.jsxs("div",{className:"bg-amber-50 rounded-xl p-5 text-center",children:[n.jsx("h4",{className:"font-bold text-lg mb-2",children:"Negocios"}),n.jsxs("p",{className:"text-3xl font-bold text-amber-600 mb-2",children:["$",t.rangosPrecios.promedio]}),n.jsx("p",{className:"text-sm text-gray-600",children:"Mltiples entradas"})]}),n.jsxs("div",{className:"bg-purple-50 rounded-xl p-5 text-center",children:[n.jsx("h4",{className:"font-bold text-lg mb-2",children:"Residencia"}),n.jsxs("p",{className:"text-3xl font-bold text-purple-600 mb-2",children:["$",t.rangosPrecios.maxima]}),n.jsx("p",{className:"text-sm text-gray-600",children:"Largo plazo"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[n.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[n.jsx(dn,{className:"h-6 w-6 text-indigo-600"}),"Pases con trmite disponible"]}),t.paises.length>0?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.paises.map((s,a)=>{const l=typeof s=="string"?s:s.nombre||"Pas",u=typeof s=="object"&&s.precio?s.precio:130,m=typeof s=="object"&&s.tipo?s.tipo:"Turista";return n.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-white rounded-xl p-5 border border-indigo-100 hover:shadow-md transition-shadow",children:[n.jsx("h4",{className:"font-bold text-xl text-gray-800 mb-3",children:l}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-600",children:"Precio:"}),n.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["$",u]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-600",children:"Tipo:"}),n.jsx("span",{className:"bg-indigo-100 text-indigo-700 px-3 py-1 rounded-full text-sm",children:m})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-600",children:"Tiempo:"}),n.jsx("span",{className:"text-gray-800",children:"15-20 das"})]})]})]},a)})}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(dn,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500",children:"No hay pases configurados"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[n.jsx(xr,{className:"h-8 w-8 text-green-500 mb-3"}),n.jsx("h4",{className:"font-bold text-gray-800",children:"Mnimo"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.tiempos.minimo})]}),n.jsxs("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[n.jsx(Hi,{className:"h-8 w-8 text-amber-500 mb-3"}),n.jsx("h4",{className:"font-bold text-gray-800",children:"Promedio"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.tiempos.promedio})]}),n.jsxs("div",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[n.jsx(Pp,{className:"h-8 w-8 text-red-500 mb-3"}),n.jsx("h4",{className:"font-bold text-gray-800",children:"Mximo"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.tiempos.maximo})]})]}),t.requisitos.length>0&&n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[n.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:[n.jsx(gr,{className:"h-5 w-5 text-green-600"}),"Requisitos generales"]}),n.jsx("ul",{className:"space-y-3",children:t.requisitos.map((s,a)=>n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx(gr,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-0.5"}),n.jsx("span",{className:"text-gray-700",children:s})]},a))})]}),t.procesos.length>0&&n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-gray-100",children:[n.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[n.jsx(ko,{className:"h-6 w-6 text-amber-600"}),"Proceso de solicitud"]}),n.jsx("div",{className:"space-y-4",children:t.procesos.map((s,a)=>n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"w-8 h-8 bg-amber-100 text-amber-700 rounded-full flex items-center justify-center font-bold",children:a+1}),n.jsx("div",{className:"flex-1 p-4 bg-gray-50 rounded-lg",children:n.jsx("p",{className:"text-gray-800",children:s})})]},a))})]}),t.advertencias.length>0&&n.jsxs("div",{className:"bg-amber-50 rounded-2xl p-6 border border-amber-200",children:[n.jsxs("h3",{className:"text-lg font-bold text-amber-800 mb-3 flex items-center gap-2",children:[n.jsx(Pp,{className:"h-5 w-5"}),"Informacin importante"]}),n.jsx("ul",{className:"space-y-2",children:t.advertencias.map((s,a)=>n.jsxs("li",{className:"flex items-start gap-2 text-amber-700",children:[n.jsx("span",{className:"text-lg font-bold",children:""}),n.jsx("span",{children:s})]},a))})]})]})},_6=()=>{const{id:r}=wv(),e=Wt(),{services:t,loadServices:s}=sh(),[a,l]=R.useState(null),[u,m]=R.useState(!0),[p,x]=R.useState(0),[g,w]=R.useState(!1);R.useEffect(()=>{(async()=>(m(!0),await s(),m(!1)))()},[]),R.useEffect(()=>{if(t.length>0){const K=t.find(Y=>Y.id===r);console.log(" Servicio encontrado:",K),l(K||null)}},[t,r]);const b=K=>K?K.startsWith("http")||K.startsWith("/")||K.startsWith("data:")?K:`/images/${K}`:"https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",j=a?.gallery?.length>0?a.gallery:a?.mainImage?[a.mainImage]:a?.imageUrl?[a.imageUrl]:[],k=()=>{navigator.share?navigator.share({title:a.title,text:a.subtitle,url:window.location.href}):w(!g)},M=()=>{navigator.clipboard.writeText(window.location.href),alert(" Enlace copiado al portapapeles"),w(!1)},D=()=>{const K=`Hola, estoy interesado en el servicio: ${a.title} - ${window.location.href}`;window.open(`https://wa.me/17866583567?text=${encodeURIComponent(K)}`,"_blank")},W=()=>{switch(a?.type){case"shipping":return n.jsx(Co,{className:"h-8 w-8"});case"tours":return n.jsx(dn,{className:"h-8 w-8"});case"rental":return n.jsx(Fr,{className:"h-8 w-8"});case"hotels":return n.jsx(Qn,{className:"h-8 w-8"});case"flights":return n.jsx(Io,{className:"h-8 w-8"});case"visas":return n.jsx(ko,{className:"h-8 w-8"});default:return n.jsx(kr,{className:"h-8 w-8"})}},H=()=>{switch(a?.type){case"shipping":return"from-green-600 to-emerald-600";case"tours":return"from-amber-600 to-orange-600";case"rental":return"from-blue-600 to-indigo-600";case"hotels":return"from-purple-600 to-pink-600";case"flights":return"from-sky-600 to-blue-600";case"visas":return"from-indigo-600 to-purple-600";default:return"from-amber-600 to-amber-800"}},Q=()=>{if(!a||!a.type)return console.log(" No hay servicio o tipo"),null;switch(console.log(" Renderizando detalle para tipo:",a.type),console.log(" Datos del servicio:",a.content),a.type){case"shipping":return n.jsx(g6,{data:a.content||{},service:a});case"tours":return n.jsx(x6,{data:a.content||{},service:a});case"rental":return n.jsx(y6,{data:a.content||{},service:a});case"hotels":return n.jsx(v6,{data:a.content||{},service:a});case"flights":return n.jsx(b6,{data:a.content||{},service:a});case"visas":return n.jsx(w6,{data:a.content||{},service:a});default:return n.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-gray-200",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Informacin del Servicio"}),n.jsx("p",{className:"text-gray-600 text-lg leading-relaxed",children:a.description})]})}};return u?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-amber-500 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 text-lg",children:"Cargando detalles del servicio..."})]})}):a?n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white border-b sticky top-0 z-10 shadow-sm",children:n.jsx("div",{className:"container mx-auto px-4 sm:px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("button",{onClick:()=>e("/servicios"),className:"flex items-center gap-2 text-gray-600 hover:text-amber-500 transition-colors",children:[n.jsx(un,{className:"h-5 w-5"}),n.jsx("span",{className:"hidden sm:inline",children:"Volver a servicios"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:n.jsx(bc,{className:"h-5 w-5 text-gray-600"})}),n.jsxs("div",{className:"relative",children:[n.jsx("button",{onClick:k,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:n.jsx(wR,{className:"h-5 w-5 text-gray-600"})}),g&&n.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-xl border py-2 z-20",children:[n.jsx("button",{onClick:M,className:"w-full text-left px-4 py-2 hover:bg-gray-50 transition-colors",children:"Copiar enlace"}),n.jsx("button",{onClick:D,className:"w-full text-left px-4 py-2 hover:bg-gray-50 transition-colors text-green-600",children:"Compartir por WhatsApp"})]})]})]})]})})}),n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-8",children:[n.jsx("div",{className:`bg-gradient-to-r ${H()} text-white rounded-2xl p-8 mb-8 shadow-xl`,children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-4 bg-white/20 backdrop-blur-sm rounded-2xl",children:W()}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl lg:text-5xl font-bold mb-2",children:a.title}),n.jsx("p",{className:"text-white/90 text-xl",children:a.subtitle})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:n.jsxs("div",{className:"relative aspect-square lg:aspect-auto lg:h-[500px] bg-gray-100",children:[n.jsx("img",{src:b(j[p]),alt:a.title,className:"w-full h-full object-contain lg:object-cover",onError:K=>{K.target.onerror=null,K.target.src="https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"}}),a.isFeatured&&n.jsx("div",{className:"absolute top-4 left-4",children:n.jsxs("span",{className:"px-3 py-1.5 bg-gradient-to-r from-amber-500 to-amber-600 text-white rounded-full text-sm font-medium shadow-lg flex items-center gap-1",children:[n.jsx(kr,{className:"h-4 w-4 fill-white"}),"Destacado"]})})]})}),j.length>1&&n.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:j.map((K,Y)=>n.jsx("button",{onClick:()=>x(Y),className:`flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 transition-all ${p===Y?"border-amber-500 scale-105":"border-transparent opacity-70 hover:opacity-100"}`,children:n.jsx("img",{src:b(K),alt:`${a.title} ${Y+1}`,className:"w-full h-full object-cover",onError:J=>{J.target.onerror=null,J.target.src="https://via.placeholder.com/100x100?text=Imagen"}})},Y))})]}),n.jsxs("div",{className:"space-y-6",children:[Q(),n.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-200 sticky bottom-6",children:[n.jsx("h3",{className:"font-semibold text-xl mb-4 text-gray-800",children:"Necesitas ayuda?"}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[n.jsxs("button",{onClick:D,className:"flex-1 flex items-center justify-center gap-2 bg-green-600 text-white py-4 rounded-xl font-medium hover:bg-green-700 transition-all transform hover:scale-105 shadow-lg",children:[n.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12.04 2C6.58 2 2.13 6.45 2.13 11.91C2.13 14.12 2.91 16.2 4.3 17.82L2.44 21.94L6.7 20.11C8.24 20.93 10 21.4 11.82 21.4H11.84C17.3 21.4 21.75 16.95 21.75 11.49C21.75 6.03 17.3 2 12.04 2ZM12.05 19.56C10.54 19.56 9.07 19.15 7.79 18.38L7.47 18.19L4.96 19.07L5.86 16.64L5.65 16.31C4.78 14.97 4.31 13.44 4.31 11.86C4.31 7.54 7.79 4.06 12.11 4.06C16.43 4.06 19.91 7.54 19.91 11.86C19.91 16.18 16.43 19.56 12.05 19.56Z"})}),"WhatsApp"]}),n.jsxs("a",{href:"tel:+17866583567",className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 text-white py-4 rounded-xl font-medium hover:bg-blue-700 transition-all transform hover:scale-105 shadow-lg",children:[n.jsx(wc,{className:"h-5 w-5"}),"Llamar ahora"]})]}),n.jsxs("p",{className:"text-center text-sm text-gray-500 mt-4 flex items-center justify-center gap-2",children:[n.jsx(Zi,{className:"h-4 w-4"}),"batistaglobalservice25@gmail.com"]})]})]})]})]})]}):n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Servicio no encontrado"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"El servicio que buscas no existe o ha sido eliminado"}),n.jsxs("button",{onClick:()=>e("/servicios"),className:"inline-flex items-center gap-2 px-6 py-3 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors",children:[n.jsx(un,{className:"h-4 w-4"}),"Volver a servicios"]})]})})},mv=()=>{const[r,e]=R.useState([]),[t,s]=R.useState([]),[a,l]=R.useState(!0),[u,m]=R.useState(""),[p,x]=R.useState("todas"),[g,w]=R.useState([]),[b,j]=R.useState(null),[k,M]=R.useState(!1),[D,W]=R.useState(1),[H,Q]=R.useState([]),[K,Y]=R.useState("recomendados"),{addToCart:J}=th(),{t:O,language:P}=pn(),T=ii();R.useEffect(()=>{N(),S()},[]),R.useEffect(()=>{const X=new URLSearchParams(T.search).get("buscar");X&&m(X)},[T]);const N=async()=>{l(!0);const te=await og();if(te.success){const X=te.data.filter(ue=>ue.status==="active"||!ue.status);e(X),s(X);const ge=["todas",...new Set(X.map(ue=>ue.category).filter(Boolean))];w(ge)}else de.error(O("error_cargar_productos"));l(!1)},S=()=>{const te=localStorage.getItem("batistaFavorites");if(te)try{Q(JSON.parse(te))}catch(X){console.error("Error loading favorites:",X)}},A=te=>{const X=H.includes(te)?H.filter(ge=>ge!==te):[...H,te];Q(X),localStorage.setItem("batistaFavorites",JSON.stringify(X)),de.success(H.includes(te)?"Eliminado de favoritos":"Aadido a favoritos",{icon:H.includes(te)?"":""})};R.useEffect(()=>{let te=[...r];switch(u&&(te=te.filter(X=>X.name?.toLowerCase().includes(u.toLowerCase())||X.description?.toLowerCase().includes(u.toLowerCase())||X.category?.toLowerCase().includes(u.toLowerCase()))),p&&p!=="todas"&&(te=te.filter(X=>X.category===p)),K){case"precio-asc":te.sort((X,ge)=>(X.price||0)-(ge.price||0));break;case"precio-desc":te.sort((X,ge)=>(ge.price||0)-(X.price||0));break;case"nombre":te.sort((X,ge)=>(X.name||"").localeCompare(ge.name||""));break}s(te)},[u,p,r,K]);const I=te=>{J({id:te.id,name:te.name,price:te.price,imageUrl:te.imageUrl,category:te.category})},oe=te=>{j(te),W(1),M(!0),document.body.style.overflow="hidden"},we=()=>{M(!1),j(null),W(1),document.body.style.overflow="auto"},Ue=te=>new Intl.NumberFormat(P==="es"?"es-CU":"en-US",{style:"currency",currency:P==="es"?"CUP":"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(te||0);return a?n.jsxs("div",{className:"flex flex-col items-center justify-center h-96",children:[n.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-[#00A8B5] mb-4"}),n.jsx("p",{className:"text-gray-600",children:O("cargando_productos")})]}):n.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 lg:py-8 pb-20 lg:pb-8",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900 mb-1",children:O("nuestra_tienda")}),n.jsxs("p",{className:"text-gray-500 text-sm lg:text-base",children:[t.length," ",t.length===1?"producto":"productos"," disponibles"]})]}),n.jsxs("div",{className:"hidden lg:flex items-center gap-2 mt-3 lg:mt-0",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Ordenar por:"}),n.jsxs("select",{value:K,onChange:te=>Y(te.target.value),className:"text-sm border border-gray-200 rounded-lg px-3 py-2 focus:border-[#00A8B5] focus:ring-1 focus:ring-[#00A8B5] outline-none",children:[n.jsx("option",{value:"recomendados",children:"Recomendados"}),n.jsx("option",{value:"precio-asc",children:"Precio: menor a mayor"}),n.jsx("option",{value:"precio-desc",children:"Precio: mayor a menor"}),n.jsx("option",{value:"nombre",children:"Nombre"})]})]}),n.jsx("div",{className:"lg:hidden mt-2",children:n.jsxs("select",{value:K,onChange:te=>Y(te.target.value),className:"w-full text-sm border border-gray-200 rounded-lg px-3 py-2 focus:border-[#00A8B5] focus:ring-1 focus:ring-[#00A8B5] outline-none bg-white",children:[n.jsx("option",{value:"recomendados",children:"Recomendados"}),n.jsx("option",{value:"precio-asc",children:"Precio: menor a mayor"}),n.jsx("option",{value:"precio-desc",children:"Precio: mayor a menor"}),n.jsx("option",{value:"nombre",children:"Nombre"})]})})]}),n.jsxs("div",{className:"flex flex-col lg:flex-row gap-3 mb-6",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(hn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:O("buscar_productos"),value:u,onChange:te=>m(te.target.value),className:"w-full pl-9 pr-8 py-2.5 border border-gray-200 rounded-lg focus:border-[#00A8B5] focus:ring-1 focus:ring-[#00A8B5] transition-all outline-none text-sm"}),u&&n.jsx("button",{onClick:()=>m(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n.jsx(Ze,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"lg:w-48 relative",children:[n.jsx(R_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("select",{value:p,onChange:te=>x(te.target.value),className:"w-full pl-9 pr-4 py-2.5 border border-gray-200 rounded-lg focus:border-[#00A8B5] focus:ring-1 focus:ring-[#00A8B5] transition-all outline-none appearance-none bg-white text-sm",children:g.map(te=>n.jsx("option",{value:te,children:te==="todas"?O("todas_categorias"):te},te))})]})]}),t.length===0?n.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[n.jsx(yo,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:O("no_productos")}),n.jsx("p",{className:"text-sm text-gray-500 mb-4",children:O("intentar_otros_filtros")}),n.jsx("button",{onClick:()=>{m(""),x("todas")},className:"px-4 py-2 bg-[#00A8B5] text-white rounded-lg text-sm hover:bg-[#00909B] transition-colors",children:O("ver_todos")})]}):n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3 lg:gap-4",children:t.map(te=>n.jsxs("div",{className:"group bg-white rounded-lg shadow-sm hover:shadow-lg transition-all duration-300 overflow-hidden border border-gray-100 hover:border-[#00A8B5]/30 relative",children:[n.jsx("button",{onClick:()=>A(te.id),className:"absolute top-2 right-2 z-10 w-7 h-7 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center shadow-md hover:scale-110 transition-transform",children:n.jsx(bc,{className:`w-3.5 h-3.5 ${H.includes(te.id)?"fill-red-500 text-red-500":"text-gray-400"}`})}),n.jsxs("div",{className:"relative aspect-square overflow-hidden bg-gray-100 cursor-pointer",onClick:()=>oe(te),children:[n.jsx("img",{src:te.imageUrl||"https://via.placeholder.com/300x300?text=Sin+imagen",alt:te.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:X=>{X.target.onerror=null,X.target.src="https://via.placeholder.com/300x300?text=Sin+imagen"}}),n.jsxs("div",{className:"absolute top-2 left-2 flex flex-col gap-1",children:[te.discount>0&&n.jsxs("div",{className:"bg-red-500 text-white text-[10px] font-bold px-1.5 py-0.5 rounded",children:["-",te.discount,"%"]}),te.isNew&&n.jsx("div",{className:"bg-[#00A8B5] text-white text-[10px] font-bold px-1.5 py-0.5 rounded",children:"NUEVO"})]})]}),n.jsxs("div",{className:"p-2 lg:p-3",children:[n.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[n.jsx("div",{className:"flex",children:[1,2,3,4,5].map(X=>n.jsx(kr,{className:`w-3 h-3 ${X<=4?"text-yellow-400 fill-yellow-400":"text-gray-200"}`},X))}),n.jsx("span",{className:"text-[10px] text-gray-400",children:"(128)"})]}),n.jsx("h3",{className:"font-medium text-gray-900 text-xs lg:text-sm mb-1 line-clamp-2 h-8 lg:h-10",children:te.name}),n.jsxs("div",{className:"mb-2",children:[n.jsx("span",{className:"text-sm lg:text-base font-bold text-[#00A8B5]",children:Ue(te.price)}),te.originalPrice>te.price&&n.jsx("span",{className:"text-[10px] lg:text-xs text-gray-400 line-through ml-1",children:Ue(te.originalPrice)})]}),te.stock<=5&&te.stock>0&&n.jsxs("p",{className:"text-[10px] text-orange-600 mb-2",children:["Solo ",te.stock," uds!"]}),n.jsx("button",{onClick:()=>I(te),disabled:te.stock===0,className:`w-full bg-[#00A8B5] hover:bg-[#00909B] text-white py-1.5 lg:py-2 rounded text-xs lg:text-sm font-medium transition-all hover:scale-[1.02] ${te.stock===0?"opacity-50 cursor-not-allowed":""}`,children:te.stock===0?O("agotado"):O("agregar")})]})]},te.id))}),k&&b&&n.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:n.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 py-4",children:[n.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm",onClick:we}),n.jsxs("div",{className:"relative bg-white rounded-xl max-w-5xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"sticky top-0 bg-white border-b px-4 py-3 flex items-center justify-between z-10",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate pr-4",children:b.name}),n.jsx("button",{onClick:we,className:"p-1.5 hover:bg-gray-100 rounded-full transition-colors",children:n.jsx(Ze,{className:"w-5 h-5"})})]}),n.jsx("div",{className:"p-4 lg:p-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx("div",{className:"space-y-3",children:n.jsxs("div",{className:"relative aspect-square bg-gray-100 rounded-lg overflow-hidden",children:[n.jsx("div",{className:"w-full h-full transition-transform duration-300 cursor-zoom-in",style:{transform:`scale(${D})`},onClick:()=>W(D===1?2:1),children:n.jsx("img",{src:b.imageUrl||"https://via.placeholder.com/600x600?text=Sin+imagen",alt:b.name,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"absolute bottom-3 right-3 flex gap-2",children:[n.jsx("button",{onClick:()=>W(te=>Math.max(te-.5,1)),className:"p-1.5 bg-white/90 backdrop-blur-sm rounded shadow hover:bg-white",children:n.jsx(I_,{className:"w-4 h-4"})}),n.jsxs("span",{className:"px-2 py-1.5 bg-white/90 backdrop-blur-sm rounded text-xs font-medium",children:[Math.round(D*100),"%"]}),n.jsx("button",{onClick:()=>W(te=>Math.min(te+.5,3)),className:"p-1.5 bg-white/90 backdrop-blur-sm rounded shadow hover:bg-white",children:n.jsx(C_,{className:"w-4 h-4"})})]})]})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-baseline gap-2",children:[n.jsx("span",{className:"text-2xl lg:text-3xl font-bold text-[#00A8B5]",children:Ue(b.price)}),b.originalPrice>b.price&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-base text-gray-400 line-through",children:Ue(b.originalPrice)}),n.jsxs("span",{className:"bg-red-500 text-white text-xs font-bold px-2 py-1 rounded",children:["-",b.discount||Math.round((1-b.price/b.originalPrice)*100),"%"]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"flex",children:[1,2,3,4,5].map(te=>n.jsx(kr,{className:`w-4 h-4 ${te<=4?"text-yellow-400 fill-yellow-400":"text-gray-200"}`},te))}),n.jsx("span",{className:"text-sm text-gray-500",children:"128 opiniones"})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Descripcin"}),n.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:b.description})]}),b.specifications&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Especificaciones"}),n.jsx("p",{className:"text-sm text-gray-600 whitespace-pre-line",children:b.specifications})]}),n.jsxs("div",{className:"flex items-center gap-4 pt-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Categora:"}),n.jsx("span",{className:"text-xs font-medium px-2 py-1 bg-gray-100 rounded",children:b.category||"General"})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Stock:"}),n.jsx("span",{className:`text-xs font-medium ${b.stock>10?"text-green-600":b.stock>0?"text-orange-600":"text-red-600"}`,children:b.stock>10?"Disponible":b.stock>0?`ltimas ${b.stock}`:"Agotado"})]})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsxs("button",{onClick:()=>{I(b),we()},disabled:b.stock===0,className:`flex-1 bg-[#00A8B5] hover:bg-[#00909B] text-white py-3 px-4 rounded-lg font-medium transition-all hover:scale-[1.02] flex items-center justify-center gap-2 ${b.stock===0?"opacity-50 cursor-not-allowed":""}`,children:[n.jsx(yo,{className:"w-4 h-4"}),b.stock===0?O("agotado"):O("agregar_carrito")]}),n.jsx("button",{onClick:we,className:"px-4 py-3 border border-gray-200 rounded-lg font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Seguir comprando"})]})]})]})})]})]})})]})},N6=()=>{const{cart:r,cartTotal:e,cartCount:t,removeFromCart:s,updateQuantity:a,clearCart:l}=th();return r.length===0?n.jsxs("div",{className:"min-h-[60vh] flex flex-col items-center justify-center py-16 px-4",children:[n.jsx(oo,{className:"w-24 h-24 text-gray-300 mb-6"}),n.jsx("h2",{className:"text-2xl lg:text-3xl font-bold text-gray-900 mb-3",children:"Tu carrito est vaco"}),n.jsx("p",{className:"text-gray-600 mb-8 text-center max-w-md",children:"Parece que an no has agregado productos a tu carrito."}),n.jsxs(lt,{to:"/tienda",className:"inline-flex items-center gap-2 px-6 py-3 bg-[#00A8B5] text-white font-medium rounded-lg hover:bg-[#00909B] transition-colors",children:[n.jsx(un,{className:"w-4 h-4"}),"Ir a la tienda"]})]}):n.jsxs("div",{className:"max-w-7xl mx-auto py-8 lg:py-12 px-4",children:[n.jsxs("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900 mb-8 flex items-center gap-3",children:[n.jsx(oo,{className:"w-6 h-6 lg:w-8 lg:h-8"}),"Carrito de Compras (",t," ",t===1?"producto":"productos",")"]}),n.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 lg:gap-12",children:[n.jsxs("div",{className:"flex-1 space-y-4",children:[r.map(u=>n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 p-4 bg-white rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:[n.jsx("div",{className:"w-20 h-20 lg:w-24 lg:h-24 flex-shrink-0 bg-gray-100 rounded-lg overflow-hidden",children:u.imageUrl?n.jsx("img",{src:u.imageUrl,alt:u.name,className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-200 to-gray-300",children:n.jsx(oo,{className:"w-8 h-8 text-gray-400"})})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"text-base lg:text-lg font-semibold text-gray-900 mb-1 line-clamp-1",children:u.name}),n.jsx("p",{className:"text-sm text-gray-500 mb-2 line-clamp-1",children:u.category||"Sin categora"}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("span",{className:"text-lg lg:text-xl font-bold text-[#00A8B5]",children:["$",(u.price*u.quantity).toFixed(2)]}),n.jsxs("span",{className:"text-sm text-gray-500",children:["$",u.price," c/u"]})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{onClick:()=>a(u.id,u.quantity-1),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Disminuir cantidad",children:n.jsx(tR,{className:"w-4 h-4 text-gray-600"})}),n.jsx("span",{className:"w-10 text-center font-medium text-gray-900",children:u.quantity}),n.jsx("button",{onClick:()=>a(u.id,u.quantity+1),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Aumentar cantidad",children:n.jsx(rt,{className:"w-4 h-4 text-gray-600"})}),n.jsx("button",{onClick:()=>s(u.id),className:"p-2 ml-2 text-red-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors","aria-label":"Eliminar producto",children:n.jsx($r,{className:"w-4 h-4"})})]})]},u.id)),n.jsx("div",{className:"flex justify-end pt-4",children:n.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-4 py-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors text-sm font-medium",children:[n.jsx($r,{className:"w-4 h-4"}),"Vaciar carrito"]})})]}),n.jsx("div",{className:"lg:w-80 xl:w-96",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 lg:p-8 sticky top-24",children:[n.jsx("h2",{className:"text-xl lg:text-2xl font-bold text-gray-900 mb-6",children:"Resumen de compra"}),n.jsxs("div",{className:"space-y-4 mb-6",children:[n.jsxs("div",{className:"flex justify-between text-gray-600",children:[n.jsxs("span",{children:["Subtotal (",t," productos)"]}),n.jsxs("span",{className:"font-medium",children:["$",e.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between text-gray-600",children:[n.jsx("span",{children:"Envo"}),n.jsx("span",{className:"text-green-600",children:"Gratis"})]}),n.jsx("div",{className:"border-t border-gray-200 pt-4 mt-4",children:n.jsxs("div",{className:"flex justify-between text-lg font-bold text-gray-900",children:[n.jsx("span",{children:"Total"}),n.jsxs("span",{className:"text-[#00A8B5]",children:["$",e.toFixed(2)]})]})})]}),n.jsx("button",{className:"w-full bg-gradient-to-r from-[#00A8B5] to-[#00909B] text-white font-semibold py-4 px-6 rounded-xl hover:shadow-lg hover:scale-105 transition-all duration-300 mb-3",children:"Proceder al pago"}),n.jsx(lt,{to:"/tienda",className:"block text-center text-sm text-gray-500 hover:text-gray-700 hover:underline",children:"Seguir comprando"})]})})]})]})},j6=()=>{const[r,e]=R.useState(""),[t,s]=R.useState(""),[a,l]=R.useState(""),[u,m]=R.useState(""),[p,x]=R.useState(!0),[g,w]=R.useState(""),[b,j]=R.useState(!1),{register:k,login:M}=ui(),D=Wt(),W=async H=>{H.preventDefault(),w(""),j(!0);try{p?(await M(r,t)).success&&D("/tienda"):(await k(r,t,{name:a,phone:u})).necesitaVerificacion&&D("/verificacion-codigo",{state:{email:r,userData:{name:a,phone:u}}})}catch{w("Error al procesar la solicitud")}finally{j(!1)}};return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-lg w-full max-w-sm p-6",children:[n.jsxs("button",{onClick:()=>D("/"),className:"flex items-center gap-1 text-gray-600 hover:text-amber-500 mb-4 text-sm",children:[n.jsx(un,{className:"h-4 w-4"}),n.jsx("span",{children:"Volver"})]}),n.jsx("h1",{className:"text-xl font-bold text-gray-800 text-center mb-2",children:p?"Iniciar Sesin":"Crear Cuenta"}),n.jsxs("form",{onSubmit:W,className:"space-y-3",children:[!p&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"relative",children:[n.jsx(vo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx("input",{type:"text",value:a,onChange:H=>l(H.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 text-sm",placeholder:"Nombre completo",required:!0})]}),n.jsxs("div",{className:"relative",children:[n.jsx(wc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx("input",{type:"tel",value:u,onChange:H=>m(H.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 text-sm",placeholder:"Telfono"})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx(Zi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx("input",{type:"email",value:r,onChange:H=>e(H.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 text-sm",placeholder:"Email",required:!0})]}),n.jsxs("div",{className:"relative",children:[n.jsx(sg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx("input",{type:"password",value:t,onChange:H=>s(H.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 text-sm",placeholder:"Contrasea",required:!0})]}),g&&n.jsx("div",{className:"bg-red-50 text-red-600 p-2 rounded-lg text-xs",children:g}),n.jsx("button",{type:"submit",disabled:b,className:"w-full bg-amber-500 text-white py-2 rounded-lg font-medium hover:bg-amber-600 transition-colors text-sm disabled:opacity-50",children:b?"Procesando...":p?"Iniciar Sesin":"Registrarme"})]}),n.jsx("div",{className:"mt-4 text-center",children:n.jsx("button",{onClick:()=>x(!p),className:"text-amber-500 hover:text-amber-600 text-sm",children:p?"No tienes cuenta? Regstrate":"Ya tienes cuenta? Inicia sesin"})})]})})},E6=()=>{const{user:r,userData:e,logout:t}=ui(),{t:s,language:a}=pn(),l=Wt(),[u,m]=R.useState("resumen"),[p,x]=R.useState(!1),[g,w]=R.useState({ordersCount:0,favoritesCount:0,daysAsMember:0,addressesCount:0}),[b,j]=R.useState([]);R.useEffect(()=>{(async()=>{if(!r){console.log(" No hay usuario autenticado");return}try{console.log(" Cargando datos para usuario:",r.uid);const W=e?.createdAt?Math.floor((new Date-new Date(e.createdAt))/(1e3*60*60*24)):0;let H=0,Q=[];try{const J=Ff(ln(Dt,"orders"),lI("userId","==",r.uid)),O=await So(J);H=O.size,Q=O.docs.map(P=>({id:P.id,...P.data()})).sort((P,T)=>new Date(T.createdAt)-new Date(P.createdAt)).slice(0,3)}catch(J){console.log(" No se pudieron cargar pedidos:",J.message)}const K=e?.favorites?.length||0,Y=e?.addresses?.length||0;w({ordersCount:H,favoritesCount:K,daysAsMember:W,addressesCount:Y}),j(Q)}catch(W){console.error("Error loading user stats:",W)}})()},[r,e]);const k=()=>{l("/tienda")};if(!r)return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 flex items-center justify-center",children:n.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-8 text-center border border-white/20",children:[n.jsx(vo,{className:"h-16 w-16 text-amber-400 mx-auto mb-4"}),n.jsx("p",{className:"text-white text-lg mb-6",children:s("no_sesion")}),n.jsx("button",{onClick:()=>l("/cliente/login"),className:"px-8 py-3 bg-gradient-to-r from-amber-500 to-amber-600 text-white rounded-xl font-semibold hover:from-amber-600 hover:to-amber-700 transition-all shadow-lg",children:s("iniciar_sesion")})]})});const M=[{label:s("pedidos_realizados"),value:g.ordersCount,icon:Br,color:"blue",description:g.ordersCount===0?s("sin_pedidos"):`${g.ordersCount} ${s("pedidos")}`},{label:s("productos_favoritos"),value:g.favoritesCount,icon:bc,color:"red",description:g.favoritesCount===0?s("sin_favoritos"):`${g.favoritesCount} ${s("productos")}`},{label:s("dias_como_miembro"),value:g.daysAsMember,icon:Hi,color:"green",description:`${s("miembro_desde")} ${new Date(e?.createdAt).toLocaleDateString(a==="es"?"es-ES":"en-US")}`},{label:s("direcciones_guardadas"),value:g.addressesCount,icon:zr,color:"amber",description:g.addressesCount===0?s("sin_direcciones"):`${g.addressesCount} ${s("direcciones")}`}];return n.jsx("div",{className:`min-h-screen transition-colors duration-300 ${p?"bg-gray-900":"bg-gray-50"}`,children:n.jsx("div",{className:"container mx-auto px-4 py-8",children:u==="resumen"&&n.jsxs("div",{className:"space-y-8",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:M.map((D,W)=>{const H=D.icon;return n.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-shadow border-l-4 border-${D.color}-500`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:`p-3 bg-${D.color}-100 dark:bg-${D.color}-900/20 rounded-xl`,children:n.jsx(H,{className:`h-6 w-6 text-${D.color}-600 dark:text-${D.color}-400`})}),n.jsx("span",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:D.value})]}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium",children:D.label}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500 mt-1",children:D.description})]},W)})}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6",children:[n.jsxs("h2",{className:"text-xl font-bold text-gray-800 dark:text-white mb-6 flex items-center gap-2",children:[n.jsx(Br,{className:"h-5 w-5 text-amber-500"}),s("pedidos_recientes")]}),b.length>0?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[n.jsx("th",{className:"text-left py-3 text-gray-600 dark:text-gray-400",children:s("id_pedido")}),n.jsx("th",{className:"text-left py-3 text-gray-600 dark:text-gray-400",children:s("fecha")}),n.jsx("th",{className:"text-left py-3 text-gray-600 dark:text-gray-400",children:s("total")}),n.jsx("th",{className:"text-left py-3 text-gray-600 dark:text-gray-400",children:s("estado")})]})}),n.jsx("tbody",{children:b.map((D,W)=>n.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[n.jsx("td",{className:"py-3 font-medium text-gray-800 dark:text-white",children:D.id}),n.jsx("td",{className:"py-3 text-gray-600 dark:text-gray-400",children:new Date(D.createdAt).toLocaleDateString(a==="es"?"es-ES":"en-US")}),n.jsxs("td",{className:"py-3 font-semibold text-green-600",children:["$",D.total]}),n.jsx("td",{className:"py-3",children:n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${D.status==="entregado"?"bg-green-100 text-green-700":D.status==="en_camino"?"bg-blue-100 text-blue-700":"bg-amber-100 text-amber-700"}`,children:s(D.status)})})]},W))})]})}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Br,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-500",children:s("sin_pedidos")}),n.jsx("button",{onClick:k,className:"mt-4 px-4 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600",children:s("comprar_ahora")})]})]})]})})})},T6=({variant:r="default",onClose:e})=>{const[t,s]=R.useState(""),[a,l]=R.useState([]),[u,m]=R.useState(!1),[p,x]=R.useState(!1),g=R.useRef(null),w=R.useRef(null),{getSuggestions:b,recentSearches:j,popularSearches:k,addRecentSearch:M}=X_(),{t:D}=pn(),W=Wt();R.useEffect(()=>{const Y=setTimeout(()=>{if(t.length>=2){m(!0);const J=b?b(t):[];l(J),m(!1)}else l([])},300);return()=>clearTimeout(Y)},[t,b]),R.useEffect(()=>{const Y=J=>{w.current&&!w.current.contains(J.target)&&x(!1)};return document.addEventListener("mousedown",Y),()=>document.removeEventListener("mousedown",Y)},[]);const H=Y=>{Y.preventDefault(),t.trim()&&(M&&M(t),W(`/buscar?q=${encodeURIComponent(t)}`),x(!1),e&&e())},Q=Y=>{M&&M(Y.name),W(`/producto/${Y.id}`),x(!1),e&&e()},K=()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const Y=window.SpeechRecognition||window.webkitSpeechRecognition,J=new Y;J.lang="es-ES",J.start(),J.onresult=O=>{const P=O.results[0][0].transcript;s(P)}}else alert(D("voice_search_not_supported"))};return n.jsxs("div",{className:"relative w-full",ref:w,children:[n.jsxs("form",{onSubmit:H,className:"relative",children:[n.jsx("input",{ref:g,type:"text",value:t,onChange:Y=>s(Y.target.value),onFocus:()=>x(!0),placeholder:D("search_placeholder"),className:`
            w-full px-4 py-3 pl-12 pr-24 
            border border-gray-300 rounded-full 
            focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent
            ${r==="hero"?"text-lg py-4":""}
          `}),n.jsx(hn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsxs("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 flex items-center gap-1",children:[n.jsx("button",{type:"button",onClick:K,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",title:D("voice_search"),children:n.jsx(L_,{className:"h-4 w-4 text-gray-500"})}),n.jsx("button",{type:"submit",className:"px-4 py-1.5 bg-amber-500 text-white rounded-full text-sm font-medium hover:bg-amber-600 transition-colors",children:D("search")})]})]}),p&&(a.length>0||j&&j.length>0||k&&k.length>0)&&n.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-2xl border border-gray-200 z-50 max-h-96 overflow-y-auto",children:[u&&n.jsx("div",{className:"p-4 text-center text-gray-500",children:n.jsx(Ed,{className:"h-5 w-5 animate-spin mx-auto"})}),a.length>0&&n.jsxs("div",{className:"p-2",children:[n.jsx("h4",{className:"text-xs font-semibold text-gray-500 px-3 py-2",children:D("suggestions")}),a.map((Y,J)=>n.jsxs("button",{onClick:()=>Q(Y),className:"w-full flex items-center gap-3 px-3 py-2 hover:bg-gray-50 rounded-lg transition-colors",children:[Y.image?n.jsx("img",{src:Y.image,alt:Y.name,className:"w-10 h-10 object-cover rounded"}):n.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded flex items-center justify-center",children:n.jsx(hn,{className:"h-4 w-4 text-gray-400"})}),n.jsxs("div",{className:"flex-1 text-left",children:[n.jsx("p",{className:"text-sm font-medium text-gray-800",children:Y.name}),n.jsxs("p",{className:"text-xs text-gray-500",children:["$",Y.price]})]})]},Y.id||J))]}),j&&j.length>0&&n.jsxs("div",{className:"p-2 border-t",children:[n.jsxs("h4",{className:"text-xs font-semibold text-gray-500 px-3 py-2 flex items-center gap-1",children:[n.jsx(xr,{className:"h-3 w-3"}),D("recent_searches")]}),j.map((Y,J)=>n.jsxs("button",{onClick:()=>{s(Y),H(new Event("submit"))},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-gray-50 rounded-lg transition-colors text-left",children:[n.jsx(xr,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{className:"text-sm text-gray-700",children:Y})]},J))]}),k&&k.length>0&&n.jsxs("div",{className:"p-2 border-t",children:[n.jsxs("h4",{className:"text-xs font-semibold text-gray-500 px-3 py-2 flex items-center gap-1",children:[n.jsx(Mt,{className:"h-3 w-3"}),D("popular_searches")]}),n.jsx("div",{className:"flex flex-wrap gap-2 px-3",children:k.map((Y,J)=>n.jsx("button",{onClick:()=>{s(Y),H(new Event("submit"))},className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-full text-sm hover:bg-gray-200 transition-colors",children:Y},J))})]})]})]})},S6=()=>{const[r,e]=R.useState(""),[t,s]=R.useState(""),[a,l]=R.useState(!1),[u,m]=R.useState(!1),{resetPassword:p}=ui(),x=Wt(),g=async w=>{w.preventDefault(),s(""),l(!0);try{const b=await p(r);b.success?m(!0):s(b.error||"Error al enviar el email")}catch{s("Error al procesar la solicitud")}finally{l(!1)}};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8",children:[n.jsxs("button",{onClick:()=>x("/cliente/login"),className:"flex items-center gap-2 text-gray-600 hover:text-amber-500 mb-6 transition-colors",children:[n.jsx(un,{className:"h-4 w-4"}),n.jsx("span",{children:"Volver al login"})]}),u?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"bg-green-100 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:n.jsx(gr,{className:"h-10 w-10 text-green-600"})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-800 text-center mb-4",children:"Email enviado!"}),n.jsxs("p",{className:"text-gray-600 text-center mb-6",children:["Hemos enviado un enlace de recuperacin a ",n.jsx("strong",{children:r})]}),n.jsx("p",{className:"text-sm text-gray-500 text-center mb-8",children:"Revisa tu correo y haz clic en el enlace para restablecer tu contrasea."}),n.jsx("div",{className:"space-y-4",children:n.jsx("button",{onClick:()=>x("/cliente/login"),className:"w-full px-6 py-3 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors",children:"Ir a iniciar sesin"})})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"bg-amber-100 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:n.jsx(Zi,{className:"h-10 w-10 text-amber-600"})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-800 text-center mb-2",children:"Recuperar contrasea"}),n.jsx("p",{className:"text-gray-600 text-center mb-8",children:"Ingresa tu correo electrnico y te enviaremos un enlace para restablecer tu contrasea."}),n.jsxs("form",{onSubmit:g,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo electrnico"}),n.jsxs("div",{className:"relative",children:[n.jsx(Zi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"email",value:r,onChange:w=>e(w.target.value),required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500",placeholder:"tu@email.com"})]})]}),t&&n.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg text-sm",children:t}),n.jsx("button",{type:"submit",disabled:a,className:"w-full bg-gradient-to-r from-amber-500 to-amber-600 text-white py-3 rounded-lg font-medium hover:from-amber-600 hover:to-amber-700 transition-all duration-300 disabled:opacity-50 flex items-center justify-center gap-2",children:a?"Enviando...":n.jsxs(n.Fragment,{children:[n.jsx(yR,{className:"h-5 w-5"}),"Enviar enlace de recuperacin"]})})]}),n.jsx("div",{className:"mt-6 text-center",children:n.jsx(lt,{to:"/cliente/login",className:"text-sm text-gray-500 hover:text-amber-500 transition-colors",children:" Volver a iniciar sesin"})})]})]})})},k6=()=>{const[r,e]=R.useState(""),[t,s]=R.useState(!1),[a,l]=R.useState(!1),u=Wt(),m=async p=>{p.preventDefault(),s(!0);try{const x=CA();AA(r,x),(await PA(r,x)).success?(l(!0),de.success(" Cdigo enviado a tu correo"),setTimeout(()=>{u("/registro/paso2",{state:{email:r}})},2e3)):de.error(" Error al enviar el cdigo. Intenta de nuevo.")}catch(x){console.error("Error:",x),de.error("Error al procesar la solicitud")}finally{s(!1)}};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 to-orange-100 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-amber-600 to-orange-600 bg-clip-text text-transparent",children:"Batista Global Service"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Verifica tu correo electrnico"})]}),a?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(gr,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),n.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Cdigo enviado!"}),n.jsxs("p",{className:"text-gray-600 mb-4",children:["Revisa tu correo ",n.jsx("span",{className:"font-semibold",children:r})]}),n.jsx("p",{className:"text-sm text-gray-500",children:"Sers redirigido automticamente..."})]}):n.jsxs("form",{onSubmit:m,className:"space-y-6",children:[n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex gap-3",children:[n.jsx(Zi,{className:"h-5 w-5 text-blue-600 flex-shrink-0"}),n.jsx("p",{className:"text-sm text-blue-800",children:"Te enviaremos un cdigo de 6 dgitos para verificar tu correo."})]})}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Correo electrnico"}),n.jsx("input",{type:"email",value:r,onChange:p=>e(p.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"tu@email.com",required:!0,disabled:t})]}),n.jsx("button",{type:"submit",disabled:t||!r,className:"w-full bg-gradient-to-r from-amber-500 to-orange-500 text-white py-3 rounded-lg font-medium hover:from-amber-600 hover:to-orange-600 transition-all duration-300 disabled:opacity-50 flex items-center justify-center gap-2",children:t?n.jsxs(n.Fragment,{children:[n.jsx(D_,{className:"h-5 w-5 animate-spin"}),n.jsx("span",{children:"Enviando cdigo..."})]}):"Enviar cdigo de verificacin"})]}),n.jsx("p",{className:"text-xs text-gray-400 text-center mt-4",children:"El cdigo expirar en 10 minutos"})]})})},I6=()=>{const[r,e]=R.useState(["","","","","",""]),[t,s]=R.useState(""),[a,l]=R.useState(""),[u,m]=R.useState(""),[p,x]=R.useState(""),[g,w]=R.useState(!1),[b,j]=R.useState(!1),{register:k}=ui(),M=Wt(),W=ii().state?.email||"";R.useEffect(()=>{W||(de.error("No hay email pendiente de verificacin"),M("/registro"))},[W,M]);const H=(J,O)=>{if(O.length>1)return;const P=[...r];P[J]=O.replace(/[^0-9]/g,""),e(P),O&&J<5&&document.getElementById(`codigo-${J+1}`)?.focus(),j(!1)},Q=(J,O)=>{O.key==="Backspace"&&!r[J]&&J>0&&document.getElementById(`codigo-${J-1}`)?.focus()},K=async()=>{const J=r.join("");if(J.length!==6)return x("Ingresa el cdigo completo de 6 dgitos"),!1;const O=RA(W,J);return O.valido?(j(!0),x(""),de.success(" Cdigo verificado correctamente"),!0):(x(O.error),!1)},Y=async J=>{if(J.preventDefault(),!(!b&&!await K())){if(!t){x("Ingresa una contrasea");return}if(t.length<6){x("La contrasea debe tener al menos 6 caracteres");return}if(!a){x("Ingresa tu nombre");return}w(!0),x("");try{const O=await k(W,t,{name:a,phone:u,emailVerified:!0});O.success?M("/cliente/login",{state:{message:" Cuenta creada exitosamente. Ya puedes iniciar sesin."}}):x(O.error||"Error al crear la cuenta")}catch{x("Error al crear la cuenta")}finally{w(!1)}}};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 to-orange-100 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8",children:[n.jsxs("button",{onClick:()=>M("/registro"),className:"flex items-center gap-2 text-gray-600 hover:text-amber-500 mb-6 transition-colors",children:[n.jsx(un,{className:"h-4 w-4"}),n.jsx("span",{children:"Volver"})]}),n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:b?"Completa tu registro":"Verifica tu cdigo"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:b?"Ingresa tus datos para crear la cuenta":n.jsxs(n.Fragment,{children:["Ingresa el cdigo de 6 dgitos enviado a:",n.jsx("br",{}),n.jsx("span",{className:"font-semibold text-amber-600",children:W})]})})]}),n.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[n.jsxs("div",{className:b?"opacity-50 pointer-events-none":"",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-center",children:"Cdigo de verificacin"}),n.jsx("div",{className:"flex justify-center gap-1 mb-3",children:r.map((J,O)=>n.jsx("input",{id:`codigo-${O}`,type:"text",inputMode:"numeric",maxLength:1,value:J,onChange:P=>H(O,P.target.value),onKeyDown:P=>Q(O,P),className:"w-12 h-12 text-center text-xl font-bold border-2 border-gray-300 rounded-lg focus:border-amber-500 focus:ring-2 focus:ring-amber-200 outline-none",autoFocus:O===0,disabled:g||b},O))}),!b&&n.jsx("button",{type:"button",onClick:K,disabled:g||r.join("").length!==6,className:"w-full bg-gray-100 text-gray-700 py-2 rounded-lg font-medium hover:bg-gray-200 transition-colors disabled:opacity-50 text-sm mb-4",children:"Verificar cdigo"}),b&&n.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-700 p-3 rounded-lg mb-4 flex items-center gap-2",children:[n.jsx(gr,{className:"h-5 w-5"}),n.jsx("span",{className:"text-sm",children:" Cdigo verificado"})]})]}),b&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre completo"}),n.jsxs("div",{className:"relative",children:[n.jsx(vo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"text",value:a,onChange:J=>l(J.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500",placeholder:"Juan Prez",required:!0,disabled:g})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telfono (opcional)"}),n.jsxs("div",{className:"relative",children:[n.jsx(wc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"tel",value:u,onChange:J=>m(J.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500",placeholder:"+1 234 567 890",disabled:g})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contrasea"}),n.jsxs("div",{className:"relative",children:[n.jsx(sg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"password",value:t,onChange:J=>s(J.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500",placeholder:"",required:!0,disabled:g})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Mnimo 6 caracteres"})]})]}),p&&n.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-600 p-3 rounded-lg flex items-start gap-2",children:[n.jsx(Pp,{className:"h-5 w-5 flex-shrink-0"}),n.jsx("p",{className:"text-sm",children:p})]}),b&&n.jsx("button",{type:"submit",disabled:g,className:"w-full bg-gradient-to-r from-amber-500 to-orange-500 text-white py-3 rounded-lg font-medium hover:from-amber-600 hover:to-orange-600 transition-all duration-300 disabled:opacity-50 flex items-center justify-center gap-2",children:g?n.jsxs(n.Fragment,{children:[n.jsx(D_,{className:"h-5 w-5 animate-spin"}),n.jsx("span",{children:"Creando cuenta..."})]}):"Crear cuenta"})]}),!b&&n.jsxs("p",{className:"text-xs text-gray-400 text-center mt-4",children:["No recibiste el cdigo?"," ",n.jsx("button",{onClick:()=>M("/registro"),className:"text-amber-600 hover:text-amber-700",children:"Solicitar nuevo cdigo"})]})]})})},C6=()=>n.jsx("div",{className:"flex justify-center items-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-500"})}),A6=({children:r})=>{const{isAuthenticated:e}=ag();return e?r:n.jsx(Gp,{to:"/admin-login"})},Zm=({children:r})=>{const{isAuthenticated:e}=ui();return e?r:n.jsx(Gp,{to:"/cliente/login"})},P6=()=>n.jsxs(R.Suspense,{fallback:n.jsx(C6,{}),children:[n.jsxs(u2,{children:[n.jsx(Qe,{path:"/",element:n.jsx(is,{children:n.jsx(p6,{})})}),n.jsx(Qe,{path:"/servicios",element:n.jsx(is,{children:n.jsx(f6,{})})}),n.jsx(Qe,{path:"/servicio/:id",element:n.jsx(is,{children:n.jsx(_6,{})})}),n.jsx(Qe,{path:"/tienda",element:n.jsx(is,{children:n.jsx(mv,{})})}),n.jsx(Qe,{path:"/cart",element:n.jsx(is,{children:n.jsx(N6,{})})}),n.jsx(Qe,{path:"/categoria/:category",element:n.jsx(is,{children:n.jsx(mv,{})})}),n.jsx(Qe,{path:"/buscar",element:n.jsx(is,{children:n.jsx(T6,{})})}),n.jsx(Qe,{path:"/registro",element:n.jsx(k6,{})}),n.jsx(Qe,{path:"/registro/paso2",element:n.jsx(I6,{})}),n.jsx(Qe,{path:"/admin-login",element:n.jsx(m6,{})}),n.jsx(Qe,{path:"/cliente/login",element:n.jsx(j6,{})}),n.jsx(Qe,{path:"/recuperar-password",element:n.jsx(S6,{})}),n.jsx(Qe,{path:"/cliente/perfil",element:n.jsx(Zm,{children:n.jsx(is,{children:n.jsx(E6,{})})})}),n.jsx(Qe,{path:"/cliente/pedidos",element:n.jsx(Zm,{children:n.jsx(is,{children:n.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Mis Pedidos"}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center",children:[n.jsx("p",{className:"text-gray-500",children:"No tienes pedidos an"}),n.jsx("a",{href:"/tienda",className:"inline-block mt-4 text-amber-500 hover:text-amber-600",children:"Ir a la tienda"})]})]})})})})}),n.jsx(Qe,{path:"/cliente/favoritos",element:n.jsx(Zm,{children:n.jsx(is,{children:n.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Mis Favoritos"}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center",children:[n.jsx("p",{className:"text-gray-500",children:"No tienes favoritos guardados"}),n.jsx("a",{href:"/tienda",className:"inline-block mt-4 text-amber-500 hover:text-amber-600",children:"Explorar productos"})]})]})})})})}),n.jsxs(Qe,{path:"/admin",element:n.jsx(A6,{children:n.jsx(M5,{})}),children:[n.jsx(Qe,{index:!0,element:n.jsx(Gp,{to:"dashboard",replace:!0})}),n.jsx(Qe,{path:"dashboard",element:n.jsx($5,{})}),n.jsx(Qe,{path:"products",element:n.jsx(z5,{})}),n.jsx(Qe,{path:"products/edit/:id",element:n.jsx(hv,{})}),n.jsx(Qe,{path:"products/new",element:n.jsx(hv,{})}),n.jsx(Qe,{path:"services",element:n.jsx(s6,{})}),n.jsx(Qe,{path:"destinos",element:n.jsx(d6,{})}),n.jsx(Qe,{path:"orders",element:n.jsx(q5,{})}),n.jsx(Qe,{path:"analytics",element:n.jsx(H5,{})})]}),n.jsx(Qe,{path:"*",element:n.jsx(is,{children:n.jsxs("div",{className:"text-center py-20",children:[n.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),n.jsx("p",{className:"text-xl mb-8",children:"Pgina no encontrada"}),n.jsx("a",{href:"/",className:"bg-amber-500 text-white px-6 py-2 rounded-lg hover:bg-amber-600",children:"Volver al inicio"})]})})})]}),n.jsx(D5,{})]}),R6=()=>n.jsx(UA,{children:n.jsx(MA,{children:n.jsx(A5,{children:n.jsx(P5,{children:n.jsx(R5,{children:n.jsx(S5,{children:n.jsx(FA,{children:n.jsx(P6,{})})})})})})})});fN.createRoot(document.getElementById("root")).render(n.jsx(id.StrictMode,{children:n.jsx(x2,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:n.jsx(R6,{})})}));
